{"version":3,"file":"extension.js","mappings":"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hI,GAItCiI,GAA8ChI,GAI9CiI,GAAuDhI,GAIvDiI,GAA4BhI,GAI5BiI,GAAiChI,GAIjCiI,GAAsChI,GAItCiI,GAAsChI,GAItCiI,GAA8BhI,GAI9BiI,GAAsChI,GAItCiI,GAAyBhI,GAIzBiI,GAAgChI,GAIhCiI,GAAqChI,GAIrCiI,GAAgDhI,GAIhDiI,GAA2DhI,GAI3DiI,GAA+BhI,GAI/BiI,GAAiChI,GAIjCiI,GAA0ChI,GAM1CiI,GAAuChI,GAIvCiI,GAA0ChI,GAI1CiI,GAAqChI,GAIrCiI,GAAqChI,GAIrCiI,GAAqChI,GAIrCiI,GAAsBhI,GAMtBiI,GAAuBhI,GAMvBiI,GAAsBhI,GAItBiI,GAAgChI,GAIhCiI,GAA+BhI,GAI/BiI,GAAkChI,GAIlCiI,GAAkChI,GAIlCiI,GAAqChI,GAIrCiI,GAAwBhI,GAMxBiI,GAAsBhI,GAItBiI,GAAmChI,GAInCiI,GAAqChI,GAKrCiI,IACG,OAAe,CACzBhQ,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,G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","sources":["webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/pipeline.js","webpack://debugpy/external node-commonjs \"node:os\"","webpack://debugpy/external node-commonjs \"node:util\"","webpack://debugpy/external node-commonjs \"node:process\"","webpack://debugpy/./node_modules/@azure/logger/dist/esm/debug.js","webpack://debugpy/./node_modules/@azure/logger/dist/esm/log.js","webpack://debugpy/./node_modules/@azure/logger/dist/esm/index.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/log.js","webpack://debugpy/./node_modules/@azure/core-util/dist-esm/src/object.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/util/sanitizer.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/logPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/redirectPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/constants.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/util/userAgent.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/util/userAgentPlatform.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/userAgentPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/decompressResponsePolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/node_modules/@azure/abort-controller/dist-esm/src/AbortSignal.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/node_modules/@azure/abort-controller/dist-esm/src/AbortController.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/util/helpers.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/retryStrategies/throttlingRetryStrategy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/retryStrategies/exponentialRetryStrategy.js","webpack://debugpy/./node_modules/@azure/core-util/dist-esm/src/random.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/retryPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/defaultRetryPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/formDataPolicy.js","webpack://debugpy/./node_modules/@azure/core-util/dist-esm/src/isNode.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/proxyPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/setClientRequestIdPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/tlsPolicy.js","webpack://debugpy/./node_modules/@azure/core-tracing/dist/esm/tracingContext.js","webpack://debugpy/./node_modules/@azure/core-tracing/dist/esm/state.js","webpack://debugpy/./node_modules/@azure/core-tracing/dist/esm/instrumenter.js","webpack://debugpy/./node_modules/@azure/core-util/dist-esm/src/error.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/util/inspect.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/restError.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/tracingPolicy.js","webpack://debugpy/./node_modules/@azure/core-tracing/dist/esm/tracingClient.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/createPipelineFromOptions.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/httpHeaders.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/nodeHttpClient.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/defaultHttpClient.js","webpack://debugpy/./node_modules/uuid/dist/esm-node/rng.js","webpack://debugpy/./node_modules/uuid/dist/esm-node/regex.js","webpack://debugpy/./node_modules/uuid/dist/esm-node/stringify.js","webpack://debugpy/./node_modules/uuid/dist/esm-node/validate.js","webpack://debugpy/./node_modules/uuid/dist/esm-node/v4.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/pipelineRequest.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/util/uuid.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/exponentialRetryPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/systemErrorRetryPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/throttlingRetryPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/util/tokenCycler.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/bearerTokenAuthenticationPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/ndJsonPolicy.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/node_modules/@tootallnate/once/dist/index.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/node_modules/http-proxy-agent/dist/agent.js","webpack://debugpy/./node_modules/@azure/core-rest-pipeline/node_modules/http-proxy-agent/dist/index.js","webpack://debugpy/./node_modules/@microsoft/applicationinsights-web-snippet/dist/esm/applicationinsights-web-snippet.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/api/context.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/api/diag.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/baggage/internal/baggage-impl.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/baggage/internal/symbol.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/baggage/utils.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/context-api.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/context/context.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/diag-api.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/diag/types.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/metrics/NoopMeter.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/metrics/Metric.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/diag/consoleLogger.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/internal/tracestate-validators.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/internal/tracestate-impl.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/internal/utils.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/metrics/NoopMeterProvider.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/api/metrics.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/metrics-api.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/index.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/platform/node/globalThis.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/version.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/internal/semver.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/internal/global-utils.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/propagation/NoopTextMapPropagator.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/baggage/context-helpers.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/api/propagation.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/propagation-api.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/propagation/TextMapPropagator.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/api/trace.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace-api.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/SamplingResult.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/context-utils.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/span_kind.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/status.js","webpack://debugpy/./node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/ExportResult.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/baggage/constants.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/baggage/propagation/W3CBaggagePropagator.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/baggage/utils.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/common/attributes.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/common/logging-error-handler.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/common/time.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/common/anchored-clock.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/common/hex-to-binary.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/platform/node/globalThis.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/platform/node/hex-to-base64.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/platform/node/RandomIdGenerator.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/trace/rpc-metadata.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/utils/timeout.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOffSampler.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOnSampler.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/trace/sampler/ParentBasedSampler.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/trace/sampler/TraceIdRatioBasedSampler.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/utils/url.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/utils/wrap.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/index.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/internal/exporter.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/platform/node/environment.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/platform/node/performance.js","webpack://debugpy/external node-commonjs \"perf_hooks\"","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/platform/node/sdk-info.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/platform/node/timer-util.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/propagation/composite.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/internal/validators.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/trace/TraceState.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/trace/W3CTraceContextPropagator.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/utils/promise.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/utils/callback.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/utils/environment.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/utils/lodash.merge.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/utils/merge.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/utils/sampling.js","webpack://debugpy/./node_modules/@opentelemetry/core/build/esm/version.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/Span.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/enums.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOffSampler.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOnSampler.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/ParentBasedSampler.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/TraceIdRatioBasedSampler.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/config.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/node/RandomIdGenerator.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/Tracer.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/node/export/BatchSpanProcessor.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/BasicTracerProvider.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/utility.js","webpack://debugpy/./node_modules/@opentelemetry/resources/build/esm/Resource.js","webpack://debugpy/./node_modules/@opentelemetry/resources/build/esm/platform/node/default-service-name.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/MultiSpanProcessor.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/export/NoopSpanProcessor.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/export/BatchSpanProcessorBase.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/export/ConsoleSpanExporter.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/export/InMemorySpanExporter.js","webpack://debugpy/./node_modules/@opentelemetry/sdk-trace-base/build/esm/export/SimpleSpanProcessor.js","webpack://debugpy/./node_modules/@opentelemetry/semantic-conventions/build/esm/internal/utils.js","webpack://debugpy/./node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js","webpack://debugpy/./node_modules/@opentelemetry/semantic-conventions/build/esm/trace/SemanticAttributes.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/dist/node/common/1dsClientFactory.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/dist/node/common/baseTelemetryReporter.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/dist/node/common/baseTelemetrySender.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/dist/node/common/util.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/dist/node/node/telemetryReporter.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-core-js/dist-esm/src/Enums.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ChannelController.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/TelemetryInitializerPlugin.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseCore.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/NotificationManager.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/AppInsightsCore.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-core-js/dist-esm/src/AppInsightsCore.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-core-js/dist-esm/src/BaseCore.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-core-js/dist-esm/src/ESPromise.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-core-js/dist-esm/src/ESPromiseScheduler.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-core-js/dist-esm/src/ValueSanitizer.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Interfaces/IChannelControls.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-core-js/dist-esm/src/InternalConstants.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-core-js/dist-esm/src/Utils.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-post-js/dist-esm/src/DataModels.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-post-js/dist-esm/src/InternalConstants.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-post-js/dist-esm/src/EventBatch.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-post-js/dist-esm/src/ClockSkewManager.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-post-js/dist-esm/src/KillSwitch.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-post-js/dist-esm/src/RetryPolicy.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-post-js/dist-esm/src/Serializer.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-post-js/dist-esm/src/HttpManager.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-post-js/dist-esm/src/TimeoutOverrideWrapper.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/1ds-post-js/dist-esm/src/PostChannel.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EnumHelperFuncs.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EventsDiscardedReason.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseTelemetryPlugin.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CookieMgr.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DataCacheHelper.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DbgExtensionUtils.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DiagnosticLogger.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/EnvUtils.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/EventHelpers.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/HelperFuncs.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/InternalConstants.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/PerfManager.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ProcessTelemetryContext.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/RandomHelper.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/TelemetryHelpers.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/UnloadHandlerContainer.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/W3cTraceParent.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-core-js/dist-esm/__DynamicConstants.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-shims/dist-esm/Constants.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-shims/dist-esm/Helpers.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/applicationinsights-shims/dist-esm/TsLibShims.js","webpack://debugpy/./node_modules/@vscode/extension-telemetry/node_modules/@microsoft/dynamicproto-js/lib/dist/esm/dynamicproto-js.js","webpack://debugpy/./node_modules/@vscode/python-extension/out/main.js","webpack://debugpy/./node_modules/agent-base/dist/src/index.js","webpack://debugpy/./node_modules/agent-base/dist/src/promisify.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/AsyncHooksScopeManager.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/AzureFunctionsHook.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/Console.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/Exceptions.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/HeartBeat.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/HttpRequests.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/NativePerformance.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/NetworkStatsbeat.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/Performance.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/PreAggregatedMetrics.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/RequestParser.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/Statsbeat.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/WebSnippet.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/Azure/EventHub.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/SpanParser.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/azure-coretracing.sub.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js","webpack://debugpy/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Constants.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Constants.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/DependencyDocumentQuickPulse.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/DocumentQuickPulse.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/EnvelopeQuickPulse.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/EventDocumentQuickPulse.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/ExceptionDocumentQuickPulse.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/MessageDocumentQuickPulse.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/MetricQuickPulse.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/RequestDocumentQuickPulse.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/index.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/AvailabilityTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/DependencyTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/EnvelopeTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/EventTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/ExceptionTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/MetricTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/NodeHttpDependencyTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/NodeHttpRequestTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/PageViewTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/RequestTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/Telemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TraceTelemetry.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Contracts/index.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Metrics/AggregatedMetricCounters.js","webpack://debugpy/./node_modules/applicationinsights/out/Declarations/Metrics/AggregatedMetricDimensions.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/AuthorizationHandler.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/AzureVirtualMachine.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/Channel.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/Config.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/ConnectionStringParser.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/Context.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/CorrelationIdManager.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/EnvelopeFactory.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/FileAccessControl.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/FileSystemHelper.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/Functions.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/InternalAzureLogger.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/JsonConfig.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/Logging.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/NodeClient.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/PrefixHelper.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/QuickPulseSender.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/QuickPulseStateManager.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/QuickPulseUtil.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/RequestResponseHeaders.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/Sender.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/SnippetInjectionHelper.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/TelemetryClient.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/Traceparent.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/Tracestate.js","webpack://debugpy/./node_modules/applicationinsights/out/Library/Util.js","webpack://debugpy/./node_modules/applicationinsights/out/TelemetryProcessors/AzureRoleEnvironmentTelemetryInitializer.js","webpack://debugpy/./node_modules/applicationinsights/out/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.js","webpack://debugpy/./node_modules/applicationinsights/out/TelemetryProcessors/PreAggregatedMetricsTelemetryProcessor.js","webpack://debugpy/./node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js","webpack://debugpy/./node_modules/applicationinsights/out/TelemetryProcessors/index.js","webpack://debugpy/./node_modules/applicationinsights/out/applicationinsights.js","webpack://debugpy/./node_modules/async-hook-jl/async-hook.js","webpack://debugpy/./node_modules/async-hook-jl/index.js","webpack://debugpy/./node_modules/async-hook-jl/patches/next-tick.js","webpack://debugpy/./node_modules/async-hook-jl/patches/promise.js","webpack://debugpy/./node_modules/async-hook-jl/patches/timers.js","webpack://debugpy/./node_modules/async-listener/es6-wrapped-promise.js","webpack://debugpy/./node_modules/async-listener/glue.js","webpack://debugpy/./node_modules/async-listener/index.js","webpack://debugpy/./node_modules/async-listener/node_modules/semver/semver.js","webpack://debugpy/./node_modules/asynckit/index.js","webpack://debugpy/./node_modules/asynckit/lib/abort.js","webpack://debugpy/./node_modules/asynckit/lib/async.js","webpack://debugpy/./node_modules/asynckit/lib/defer.js","webpack://debugpy/./node_modules/asynckit/lib/iterate.js","webpack://debugpy/./node_modules/asynckit/lib/state.js","webpack://debugpy/./node_modules/asynckit/lib/terminator.js","webpack://debugpy/./node_modules/asynckit/parallel.js","webpack://debugpy/./node_modules/asynckit/serial.js","webpack://debugpy/./node_modules/asynckit/serialOrdered.js","webpack://debugpy/./node_modules/cls-hooked/context-legacy.js","webpack://debugpy/./node_modules/cls-hooked/context.js","webpack://debugpy/./node_modules/cls-hooked/index.js","webpack://debugpy/./node_modules/cls-hooked/node_modules/semver/semver.js","webpack://debugpy/./node_modules/combined-stream/lib/combined_stream.js","webpack://debugpy/./node_modules/continuation-local-storage/context.js","webpack://debugpy/./node_modules/debug/src/browser.js","webpack://debugpy/./node_modules/debug/src/common.js","webpack://debugpy/./node_modules/debug/src/index.js","webpack://debugpy/./node_modules/debug/src/node.js","webpack://debugpy/./node_modules/delayed-stream/lib/delayed_stream.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/console.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/index.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/ sync ^.*\\/lib\\/Connection$","webpack://debugpy/./node_modules/diagnostic-channel-publishers/dist/src/ sync ^.*\\/lib\\/Pool$","webpack://debugpy/./node_modules/diagnostic-channel/dist/src/channel.js","webpack://debugpy/./node_modules/diagnostic-channel/dist/src/patchRequire.js","webpack://debugpy/./node_modules/emitter-listener/listener.js","webpack://debugpy/./node_modules/form-data/lib/form_data.js","webpack://debugpy/./node_modules/form-data/lib/populate.js","webpack://debugpy/./node_modules/fs-extra/lib/copy/copy-sync.js","webpack://debugpy/./node_modules/fs-extra/lib/copy/copy.js","webpack://debugpy/./node_modules/fs-extra/lib/copy/index.js","webpack://debugpy/./node_modules/fs-extra/lib/empty/index.js","webpack://debugpy/./node_modules/fs-extra/lib/ensure/file.js","webpack://debugpy/./node_modules/fs-extra/lib/ensure/index.js","webpack://debugpy/./node_modules/fs-extra/lib/ensure/link.js","webpack://debugpy/./node_modules/fs-extra/lib/ensure/symlink-paths.js","webpack://debugpy/./node_modules/fs-extra/lib/ensure/symlink-type.js","webpack://debugpy/./node_modules/fs-extra/lib/ensure/symlink.js","webpack://debugpy/./node_modules/fs-extra/lib/fs/index.js","webpack://debugpy/./node_modules/fs-extra/lib/index.js","webpack://debugpy/./node_modules/fs-extra/lib/json/index.js","webpack://debugpy/./node_modules/fs-extra/lib/json/jsonfile.js","webpack://debugpy/./node_modules/fs-extra/lib/json/output-json-sync.js","webpack://debugpy/./node_modules/fs-extra/lib/json/output-json.js","webpack://debugpy/./node_modules/fs-extra/lib/mkdirs/index.js","webpack://debugpy/./node_modules/fs-extra/lib/mkdirs/make-dir.js","webpack://debugpy/./node_modules/fs-extra/lib/mkdirs/utils.js","webpack://debugpy/./node_modules/fs-extra/lib/move/index.js","webpack://debugpy/./node_modules/fs-extra/lib/move/move-sync.js","webpack://debugpy/./node_modules/fs-extra/lib/move/move.js","webpack://debugpy/./node_modules/fs-extra/lib/output-file/index.js","webpack://debugpy/./node_modules/fs-extra/lib/path-exists/index.js","webpack://debugpy/./node_modules/fs-extra/lib/remove/index.js","webpack://debugpy/./node_modules/fs-extra/lib/util/stat.js","webpack://debugpy/./node_modules/fs-extra/lib/util/utimes.js","webpack://debugpy/./node_modules/graceful-fs/clone.js","webpack://debugpy/./node_modules/graceful-fs/graceful-fs.js","webpack://debugpy/./node_modules/graceful-fs/legacy-streams.js","webpack://debugpy/./node_modules/graceful-fs/polyfills.js","webpack://debugpy/./node_modules/has-flag/index.js","webpack://debugpy/./node_modules/https-proxy-agent/dist/agent.js","webpack://debugpy/./node_modules/https-proxy-agent/dist/index.js","webpack://debugpy/./node_modules/https-proxy-agent/dist/parse-proxy-response.js","webpack://debugpy/./node_modules/iconv-lite/encodings/dbcs-codec.js","webpack://debugpy/./node_modules/iconv-lite/encodings/dbcs-data.js","webpack://debugpy/./node_modules/iconv-lite/encodings/index.js","webpack://debugpy/./node_modules/iconv-lite/encodings/internal.js","webpack://debugpy/./node_modules/iconv-lite/encodings/sbcs-codec.js","webpack://debugpy/./node_modules/iconv-lite/encodings/sbcs-data-generated.js","webpack://debugpy/./node_modules/iconv-lite/encodings/sbcs-data.js","webpack://debugpy/./node_modules/iconv-lite/encodings/utf16.js","webpack://debugpy/./node_modules/iconv-lite/encodings/utf32.js","webpack://debugpy/./node_modules/iconv-lite/encodings/utf7.js","webpack://debugpy/./node_modules/iconv-lite/lib/bom-handling.js","webpack://debugpy/./node_modules/iconv-lite/lib/index.js","webpack://debugpy/./node_modules/iconv-lite/lib/streams.js","webpack://debugpy/./node_modules/jsonc-parser/lib/esm/impl/scanner.js","webpack://debugpy/./node_modules/jsonc-parser/lib/esm/impl/parser.js","webpack://debugpy/./node_modules/jsonc-parser/lib/esm/impl/format.js","webpack://debugpy/./node_modules/jsonc-parser/lib/esm/impl/edit.js","webpack://debugpy/./node_modules/jsonc-parser/lib/esm/main.js","webpack://debugpy/./node_modules/jsonfile/index.js","webpack://debugpy/./node_modules/jsonfile/utils.js","webpack://debugpy/./node_modules/lodash/lodash.js","webpack://debugpy/./node_modules/lru-cache/index.js","webpack://debugpy/./node_modules/mime-db/index.js","webpack://debugpy/./node_modules/mime-types/index.js","webpack://debugpy/./node_modules/ms/index.js","webpack://debugpy/./node_modules/safer-buffer/safer.js","webpack://debugpy/./node_modules/semver/classes/comparator.js","webpack://debugpy/./node_modules/semver/classes/range.js","webpack://debugpy/./node_modules/semver/classes/semver.js","webpack://debugpy/./node_modules/semver/functions/clean.js","webpack://debugpy/./node_modules/semver/functions/cmp.js","webpack://debugpy/./node_modules/semver/functions/coerce.js","webpack://debugpy/./node_modules/semver/functions/compare-build.js","webpack://debugpy/./node_modules/semver/functions/compare-loose.js","webpack://debugpy/./node_modules/semver/functions/compare.js","webpack://debugpy/./node_modules/semver/functions/diff.js","webpack://debugpy/./node_modules/semver/functions/eq.js","webpack://debugpy/./node_modules/semver/functions/gt.js","webpack://debugpy/./node_modules/semver/functions/gte.js","webpack://debugpy/./node_modules/semver/functions/inc.js","webpack://debugpy/./node_modules/semver/functions/lt.js","webpack://debugpy/./node_modules/semver/functions/lte.js","webpack://debugpy/./node_modules/semver/functions/major.js","webpack://debugpy/./node_modules/semver/functions/minor.js","webpack://debugpy/./node_modules/semver/functions/neq.js","webpack://debugpy/./node_modules/semver/functions/parse.js","webpack://debugpy/./node_modules/semver/functions/patch.js","webpack://debugpy/./node_modules/semver/functions/prerelease.js","webpack://debugpy/./node_modules/semver/functions/rcompare.js","webpack://debugpy/./node_modules/semver/functions/rsort.js","webpack://debugpy/./node_modules/semver/functions/satisfies.js","webpack://debugpy/./node_modules/semver/functions/sort.js","webpack://debugpy/./node_modules/semver/functions/valid.js","webpack://debugpy/./node_modules/semver/index.js","webpack://debugpy/./node_modules/semver/internal/constants.js","webpack://debugpy/./node_modules/semver/internal/debug.js","webpack://debugpy/./node_modules/semver/internal/identifiers.js","webpack://debugpy/./node_modules/semver/internal/parse-options.js","webpack://debugpy/./node_modules/semver/internal/re.js","webpack://debugpy/./node_modules/semver/ranges/gtr.js","webpack://debugpy/./node_modules/semver/ranges/intersects.js","webpack://debugpy/./node_modules/semver/ranges/ltr.js","webpack://debugpy/./node_modules/semver/ranges/max-satisfying.js","webpack://debugpy/./node_modules/semver/ranges/min-satisfying.js","webpack://debugpy/./node_modules/semver/ranges/min-version.js","webpack://debugpy/./node_modules/semver/ranges/outside.js","webpack://debugpy/./node_modules/semver/ranges/simplify.js","webpack://debugpy/./node_modules/semver/ranges/subset.js","webpack://debugpy/./node_modules/semver/ranges/to-comparators.js","webpack://debugpy/./node_modules/semver/ranges/valid.js","webpack://debugpy/./node_modules/shimmer/index.js","webpack://debugpy/./node_modules/stack-chain/format.js","webpack://debugpy/./node_modules/stack-chain/index.js","webpack://debugpy/./node_modules/stack-chain/stack-chain.js","webpack://debugpy/./node_modules/supports-color/index.js","webpack://debugpy/./src/extension/api.ts","webpack://debugpy/./src/extension/common/application/commands/reportIssueCommand.ts","webpack://debugpy/./src/extension/common/application/debugSessionTelemetry.ts","webpack://debugpy/./src/extension/common/constants.ts","webpack://debugpy/./src/extension/common/log/logging.ts","webpack://debugpy/./src/extension/common/multiStepInput.ts","webpack://debugpy/./src/extension/common/persistentState.ts","webpack://debugpy/./src/extension/common/platform.ts","webpack://debugpy/./src/extension/common/process/constants.ts","webpack://debugpy/./src/extension/common/process/decoder.ts","webpack://debugpy/./src/extension/common/process/logger.ts","webpack://debugpy/./src/extension/common/process/rawProcessApis.ts","webpack://debugpy/./src/extension/common/process/types.ts","webpack://debugpy/./src/extension/common/promiseUtils.ts","webpack://debugpy/./src/extension/common/python.ts","webpack://debugpy/./src/extension/common/settings.ts","webpack://debugpy/./src/extension/common/stringUtils.ts","webpack://debugpy/./src/extension/common/utilities.ts","webpack://debugpy/./src/extension/common/utils/async.ts","webpack://debugpy/./src/extension/common/utils/cacheUtils.ts","webpack://debugpy/./src/extension/common/utils/decorators.ts","webpack://debugpy/./src/extension/common/utils/exec.ts","webpack://debugpy/./src/extension/common/utils/localize.ts","webpack://debugpy/./src/extension/common/utils/misc.ts","webpack://debugpy/./src/extension/common/utils/stopWatch.ts","webpack://debugpy/./src/extension/common/variables/environment.ts","webpack://debugpy/./src/extension/common/vscodeapi.ts","webpack://debugpy/./src/extension/constants.ts","webpack://debugpy/./src/extension/debugger/adapter/factory.ts","webpack://debugpy/./src/extension/debugger/adapter/logging.ts","webpack://debugpy/./src/extension/debugger/adapter/outdatedDebuggerPrompt.ts","webpack://debugpy/./src/extension/debugger/adapter/remoteLaunchers.ts","webpack://debugpy/./src/extension/debugger/attachQuickPick/picker.ts","webpack://debugpy/./src/extension/debugger/attachQuickPick/provider.ts","webpack://debugpy/./src/extension/debugger/attachQuickPick/psProcessParser.ts","webpack://debugpy/./src/extension/debugger/attachQuickPick/wmicProcessParser.ts","webpack://debugpy/./src/extension/debugger/configuration/debugConfigurationService.ts","webpack://debugpy/./src/extension/debugger/configuration/dynamicdebugConfigurationService.ts","webpack://debugpy/./src/extension/debugger/configuration/launch.json/completionProvider.ts","webpack://debugpy/./src/extension/debugger/configuration/launch.json/launchJsonReader.ts","webpack://debugpy/./src/extension/debugger/configuration/launch.json/updaterServiceHelper.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/djangoLaunch.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/fastapiLaunch.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/fileLaunch.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/fileLaunchWithArgs.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/flaskLaunch.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/moduleLaunch.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/pidAttach.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/providerQuickPick/djangoProviderQuickPick.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/providerQuickPick/flaskProviderQuickPick.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/providerQuickPick/providerQuickPick.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/pyramidLaunch.ts","webpack://debugpy/./src/extension/debugger/configuration/providers/remoteAttach.ts","webpack://debugpy/./src/extension/debugger/configuration/resolvers/attach.ts","webpack://debugpy/./src/extension/debugger/configuration/resolvers/base.ts","webpack://debugpy/./src/extension/debugger/configuration/resolvers/helper.ts","webpack://debugpy/./src/extension/debugger/configuration/resolvers/launch.ts","webpack://debugpy/./src/extension/debugger/configuration/utils/common.ts","webpack://debugpy/./src/extension/debugger/configuration/utils/configuration.ts","webpack://debugpy/./src/extension/debugger/debugCommands.ts","webpack://debugpy/./src/extension/debugger/debugPort/portAttributesProvider.ts","webpack://debugpy/./src/extension/debugger/hooks/childProcessAttachHandler.ts","webpack://debugpy/./src/extension/debugger/hooks/childProcessAttachService.ts","webpack://debugpy/./src/extension/debugger/hooks/constants.ts","webpack://debugpy/./src/extension/debugger/hooks/debugpySocketsHandler.ts","webpack://debugpy/./src/extension/debugger/inlineValue/pythonInlineValueProvider.ts","webpack://debugpy/./src/extension/debugger/types.ts","webpack://debugpy/./src/extension/debugger/visualizers/inlineHexDecoder.ts","webpack://debugpy/./src/extension/extensionInit.ts","webpack://debugpy/./src/extension/noConfigDebugInit.ts","webpack://debugpy/./src/extension/telemetry/constants.ts","webpack://debugpy/./src/extension/telemetry/index.ts","webpack://debugpy/./src/extension/telemetry/reporter.ts","webpack://debugpy/./src/extension/types.ts","webpack://debugpy/./src/extension/utils.ts","webpack://debugpy/./node_modules/universalify/index.js","webpack://debugpy/./node_modules/yallist/iterator.js","webpack://debugpy/./node_modules/yallist/yallist.js","webpack://debugpy/external commonjs \"@azure/opentelemetry-instrumentation-azure-sdk\"","webpack://debugpy/external commonjs \"@opentelemetry/instrumentation\"","webpack://debugpy/external commonjs \"applicationinsights-native-metrics\"","webpack://debugpy/external commonjs \"vscode\"","webpack://debugpy/external commonjs2 \"@azure/functions-core\"","webpack://debugpy/external node-commonjs \"assert\"","webpack://debugpy/external node-commonjs \"async_hooks\"","webpack://debugpy/external node-commonjs \"buffer\"","webpack://debugpy/external node-commonjs \"child_process\"","webpack://debugpy/external node-commonjs \"console\"","webpack://debugpy/external node-commonjs \"constants\"","webpack://debugpy/external node-commonjs \"crypto\"","webpack://debugpy/external node-commonjs \"dns\"","webpack://debugpy/external node-commonjs \"events\"","webpack://debugpy/external node-commonjs \"fs\"","webpack://debugpy/external node-commonjs \"http\"","webpack://debugpy/external node-commonjs \"https\"","webpack://debugpy/external node-commonjs \"module\"","webpack://debugpy/external node-commonjs \"net\"","webpack://debugpy/external node-commonjs \"os\"","webpack://debugpy/external node-commonjs \"path\"","webpack://debugpy/external node-commonjs \"stream\"","webpack://debugpy/external node-commonjs \"string_decoder\"","webpack://debugpy/external node-commonjs \"timers\"","webpack://debugpy/external node-commonjs \"tls\"","webpack://debugpy/external node-commonjs \"tty\"","webpack://debugpy/external node-commonjs \"url\"","webpack://debugpy/external node-commonjs \"util\"","webpack://debugpy/external node-commonjs \"zlib\"","webpack://debugpy/./node_modules/@azure/core-tracing/dist/commonjs/state.js","webpack://debugpy/webpack/bootstrap","webpack://debugpy/webpack/runtime/compat get default export","webpack://debugpy/webpack/runtime/define property getters","webpack://debugpy/webpack/runtime/hasOwnProperty shorthand","webpack://debugpy/webpack/runtime/make namespace object","webpack://debugpy/webpack/runtime/node module decorator","webpack://debugpy/./src/extension/extension.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nconst ValidPhaseNames = new Set([\"Deserialize\", \"Serialize\", \"Retry\", \"Sign\"]);\n/**\n * A private implementation of Pipeline.\n * Do not export this class from the package.\n * @internal\n */\nclass HttpPipeline {\n    constructor(policies) {\n        var _a;\n        this._policies = [];\n        this._policies = (_a = policies === null || policies === void 0 ? void 0 : policies.slice(0)) !== null && _a !== void 0 ? _a : [];\n        this._orderedPolicies = undefined;\n    }\n    addPolicy(policy, options = {}) {\n        if (options.phase && options.afterPhase) {\n            throw new Error(\"Policies inside a phase cannot specify afterPhase.\");\n        }\n        if (options.phase && !ValidPhaseNames.has(options.phase)) {\n            throw new Error(`Invalid phase name: ${options.phase}`);\n        }\n        if (options.afterPhase && !ValidPhaseNames.has(options.afterPhase)) {\n            throw new Error(`Invalid afterPhase name: ${options.afterPhase}`);\n        }\n        this._policies.push({\n            policy,\n            options,\n        });\n        this._orderedPolicies = undefined;\n    }\n    removePolicy(options) {\n        const removedPolicies = [];\n        this._policies = this._policies.filter((policyDescriptor) => {\n            if ((options.name && policyDescriptor.policy.name === options.name) ||\n                (options.phase && policyDescriptor.options.phase === options.phase)) {\n                removedPolicies.push(policyDescriptor.policy);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n        this._orderedPolicies = undefined;\n        return removedPolicies;\n    }\n    sendRequest(httpClient, request) {\n        const policies = this.getOrderedPolicies();\n        const pipeline = policies.reduceRight((next, policy) => {\n            return (req) => {\n                return policy.sendRequest(req, next);\n            };\n        }, (req) => httpClient.sendRequest(req));\n        return pipeline(request);\n    }\n    getOrderedPolicies() {\n        if (!this._orderedPolicies) {\n            this._orderedPolicies = this.orderPolicies();\n        }\n        return this._orderedPolicies;\n    }\n    clone() {\n        return new HttpPipeline(this._policies);\n    }\n    static create() {\n        return new HttpPipeline();\n    }\n    orderPolicies() {\n        /**\n         * The goal of this method is to reliably order pipeline policies\n         * based on their declared requirements when they were added.\n         *\n         * Order is first determined by phase:\n         *\n         * 1. Serialize Phase\n         * 2. Policies not in a phase\n         * 3. Deserialize Phase\n         * 4. Retry Phase\n         * 5. Sign Phase\n         *\n         * Within each phase, policies are executed in the order\n         * they were added unless they were specified to execute\n         * before/after other policies or after a particular phase.\n         *\n         * To determine the final order, we will walk the policy list\n         * in phase order multiple times until all dependencies are\n         * satisfied.\n         *\n         * `afterPolicies` are the set of policies that must be\n         * executed before a given policy. This requirement is\n         * considered satisfied when each of the listed policies\n         * have been scheduled.\n         *\n         * `beforePolicies` are the set of policies that must be\n         * executed after a given policy. Since this dependency\n         * can be expressed by converting it into a equivalent\n         * `afterPolicies` declarations, they are normalized\n         * into that form for simplicity.\n         *\n         * An `afterPhase` dependency is considered satisfied when all\n         * policies in that phase have scheduled.\n         *\n         */\n        const result = [];\n        // Track all policies we know about.\n        const policyMap = new Map();\n        function createPhase(name) {\n            return {\n                name,\n                policies: new Set(),\n                hasRun: false,\n                hasAfterPolicies: false,\n            };\n        }\n        // Track policies for each phase.\n        const serializePhase = createPhase(\"Serialize\");\n        const noPhase = createPhase(\"None\");\n        const deserializePhase = createPhase(\"Deserialize\");\n        const retryPhase = createPhase(\"Retry\");\n        const signPhase = createPhase(\"Sign\");\n        // a list of phases in order\n        const orderedPhases = [serializePhase, noPhase, deserializePhase, retryPhase, signPhase];\n        // Small helper function to map phase name to each Phase\n        function getPhase(phase) {\n            if (phase === \"Retry\") {\n                return retryPhase;\n            }\n            else if (phase === \"Serialize\") {\n                return serializePhase;\n            }\n            else if (phase === \"Deserialize\") {\n                return deserializePhase;\n            }\n            else if (phase === \"Sign\") {\n                return signPhase;\n            }\n            else {\n                return noPhase;\n            }\n        }\n        // First walk each policy and create a node to track metadata.\n        for (const descriptor of this._policies) {\n            const policy = descriptor.policy;\n            const options = descriptor.options;\n            const policyName = policy.name;\n            if (policyMap.has(policyName)) {\n                throw new Error(\"Duplicate policy names not allowed in pipeline\");\n            }\n            const node = {\n                policy,\n                dependsOn: new Set(),\n                dependants: new Set(),\n            };\n            if (options.afterPhase) {\n                node.afterPhase = getPhase(options.afterPhase);\n                node.afterPhase.hasAfterPolicies = true;\n            }\n            policyMap.set(policyName, node);\n            const phase = getPhase(options.phase);\n            phase.policies.add(node);\n        }\n        // Now that each policy has a node, connect dependency references.\n        for (const descriptor of this._policies) {\n            const { policy, options } = descriptor;\n            const policyName = policy.name;\n            const node = policyMap.get(policyName);\n            if (!node) {\n                throw new Error(`Missing node for policy ${policyName}`);\n            }\n            if (options.afterPolicies) {\n                for (const afterPolicyName of options.afterPolicies) {\n                    const afterNode = policyMap.get(afterPolicyName);\n                    if (afterNode) {\n                        // Linking in both directions helps later\n                        // when we want to notify dependants.\n                        node.dependsOn.add(afterNode);\n                        afterNode.dependants.add(node);\n                    }\n                }\n            }\n            if (options.beforePolicies) {\n                for (const beforePolicyName of options.beforePolicies) {\n                    const beforeNode = policyMap.get(beforePolicyName);\n                    if (beforeNode) {\n                        // To execute before another node, make it\n                        // depend on the current node.\n                        beforeNode.dependsOn.add(node);\n                        node.dependants.add(beforeNode);\n                    }\n                }\n            }\n        }\n        function walkPhase(phase) {\n            phase.hasRun = true;\n            // Sets iterate in insertion order\n            for (const node of phase.policies) {\n                if (node.afterPhase && (!node.afterPhase.hasRun || node.afterPhase.policies.size)) {\n                    // If this node is waiting on a phase to complete,\n                    // we need to skip it for now.\n                    // Even if the phase is empty, we should wait for it\n                    // to be walked to avoid re-ordering policies.\n                    continue;\n                }\n                if (node.dependsOn.size === 0) {\n                    // If there's nothing else we're waiting for, we can\n                    // add this policy to the result list.\n                    result.push(node.policy);\n                    // Notify anything that depends on this policy that\n                    // the policy has been scheduled.\n                    for (const dependant of node.dependants) {\n                        dependant.dependsOn.delete(node);\n                    }\n                    policyMap.delete(node.policy.name);\n                    phase.policies.delete(node);\n                }\n            }\n        }\n        function walkPhases() {\n            for (const phase of orderedPhases) {\n                walkPhase(phase);\n                // if the phase isn't complete\n                if (phase.policies.size > 0 && phase !== noPhase) {\n                    if (!noPhase.hasRun) {\n                        // Try running noPhase to see if that unblocks this phase next tick.\n                        // This can happen if a phase that happens before noPhase\n                        // is waiting on a noPhase policy to complete.\n                        walkPhase(noPhase);\n                    }\n                    // Don't proceed to the next phase until this phase finishes.\n                    return;\n                }\n                if (phase.hasAfterPolicies) {\n                    // Run any policies unblocked by this phase\n                    walkPhase(noPhase);\n                }\n            }\n        }\n        // Iterate until we've put every node in the result list.\n        let iteration = 0;\n        while (policyMap.size > 0) {\n            iteration++;\n            const initialResultLength = result.length;\n            // Keep walking each phase in order until we can order every node.\n            walkPhases();\n            // The result list *should* get at least one larger each time\n            // after the first full pass.\n            // Otherwise, we're going to loop forever.\n            if (result.length <= initialResultLength && iteration > 1) {\n                throw new Error(\"Cannot satisfy policy dependencies due to requirements cycle.\");\n            }\n        }\n        return result;\n    }\n}\n/**\n * Creates a totally empty pipeline.\n * Useful for testing or creating a custom one.\n */\nexport function createEmptyPipeline() {\n    return HttpPipeline.create();\n}\n//# sourceMappingURL=pipeline.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:os\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:util\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:process\");","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { log } from \"./log.js\";\nconst debugEnvVariable = (typeof process !== \"undefined\" && process.env && process.env.DEBUG) || undefined;\nlet enabledString;\nlet enabledNamespaces = [];\nlet skippedNamespaces = [];\nconst debuggers = [];\nif (debugEnvVariable) {\n    enable(debugEnvVariable);\n}\nconst debugObj = Object.assign((namespace) => {\n    return createDebugger(namespace);\n}, {\n    enable,\n    enabled,\n    disable,\n    log,\n});\nfunction enable(namespaces) {\n    enabledString = namespaces;\n    enabledNamespaces = [];\n    skippedNamespaces = [];\n    const wildcard = /\\*/g;\n    const namespaceList = namespaces.split(\",\").map((ns) => ns.trim().replace(wildcard, \".*?\"));\n    for (const ns of namespaceList) {\n        if (ns.startsWith(\"-\")) {\n            skippedNamespaces.push(new RegExp(`^${ns.substr(1)}$`));\n        }\n        else {\n            enabledNamespaces.push(new RegExp(`^${ns}$`));\n        }\n    }\n    for (const instance of debuggers) {\n        instance.enabled = enabled(instance.namespace);\n    }\n}\nfunction enabled(namespace) {\n    if (namespace.endsWith(\"*\")) {\n        return true;\n    }\n    for (const skipped of skippedNamespaces) {\n        if (skipped.test(namespace)) {\n            return false;\n        }\n    }\n    for (const enabledNamespace of enabledNamespaces) {\n        if (enabledNamespace.test(namespace)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction disable() {\n    const result = enabledString || \"\";\n    enable(\"\");\n    return result;\n}\nfunction createDebugger(namespace) {\n    const newDebugger = Object.assign(debug, {\n        enabled: enabled(namespace),\n        destroy,\n        log: debugObj.log,\n        namespace,\n        extend,\n    });\n    function debug(...args) {\n        if (!newDebugger.enabled) {\n            return;\n        }\n        if (args.length > 0) {\n            args[0] = `${namespace} ${args[0]}`;\n        }\n        newDebugger.log(...args);\n    }\n    debuggers.push(newDebugger);\n    return newDebugger;\n}\nfunction destroy() {\n    const index = debuggers.indexOf(this);\n    if (index >= 0) {\n        debuggers.splice(index, 1);\n        return true;\n    }\n    return false;\n}\nfunction extend(namespace) {\n    const newDebugger = createDebugger(`${this.namespace}:${namespace}`);\n    newDebugger.log = this.log;\n    return newDebugger;\n}\nexport default debugObj;\n//# sourceMappingURL=debug.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { EOL } from \"node:os\";\nimport util from \"node:util\";\nimport * as process from \"node:process\";\nexport function log(message, ...args) {\n    process.stderr.write(`${util.format(message, ...args)}${EOL}`);\n}\n//# sourceMappingURL=log.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport debug from \"./debug.js\";\nconst registeredLoggers = new Set();\nconst logLevelFromEnv = (typeof process !== \"undefined\" && process.env && process.env.AZURE_LOG_LEVEL) || undefined;\nlet azureLogLevel;\n/**\n * The AzureLogger provides a mechanism for overriding where logs are output to.\n * By default, logs are sent to stderr.\n * Override the `log` method to redirect logs to another location.\n */\nexport const AzureLogger = debug(\"azure\");\nAzureLogger.log = (...args) => {\n    debug.log(...args);\n};\nconst AZURE_LOG_LEVELS = [\"verbose\", \"info\", \"warning\", \"error\"];\nif (logLevelFromEnv) {\n    // avoid calling setLogLevel because we don't want a mis-set environment variable to crash\n    if (isAzureLogLevel(logLevelFromEnv)) {\n        setLogLevel(logLevelFromEnv);\n    }\n    else {\n        console.error(`AZURE_LOG_LEVEL set to unknown log level '${logLevelFromEnv}'; logging is not enabled. Acceptable values: ${AZURE_LOG_LEVELS.join(\", \")}.`);\n    }\n}\n/**\n * Immediately enables logging at the specified log level. If no level is specified, logging is disabled.\n * @param level - The log level to enable for logging.\n * Options from most verbose to least verbose are:\n * - verbose\n * - info\n * - warning\n * - error\n */\nexport function setLogLevel(level) {\n    if (level && !isAzureLogLevel(level)) {\n        throw new Error(`Unknown log level '${level}'. Acceptable values: ${AZURE_LOG_LEVELS.join(\",\")}`);\n    }\n    azureLogLevel = level;\n    const enabledNamespaces = [];\n    for (const logger of registeredLoggers) {\n        if (shouldEnable(logger)) {\n            enabledNamespaces.push(logger.namespace);\n        }\n    }\n    debug.enable(enabledNamespaces.join(\",\"));\n}\n/**\n * Retrieves the currently specified log level.\n */\nexport function getLogLevel() {\n    return azureLogLevel;\n}\nconst levelMap = {\n    verbose: 400,\n    info: 300,\n    warning: 200,\n    error: 100,\n};\n/**\n * Creates a logger for use by the Azure SDKs that inherits from `AzureLogger`.\n * @param namespace - The name of the SDK package.\n * @hidden\n */\nexport function createClientLogger(namespace) {\n    const clientRootLogger = AzureLogger.extend(namespace);\n    patchLogMethod(AzureLogger, clientRootLogger);\n    return {\n        error: createLogger(clientRootLogger, \"error\"),\n        warning: createLogger(clientRootLogger, \"warning\"),\n        info: createLogger(clientRootLogger, \"info\"),\n        verbose: createLogger(clientRootLogger, \"verbose\"),\n    };\n}\nfunction patchLogMethod(parent, child) {\n    child.log = (...args) => {\n        parent.log(...args);\n    };\n}\nfunction createLogger(parent, level) {\n    const logger = Object.assign(parent.extend(level), {\n        level,\n    });\n    patchLogMethod(parent, logger);\n    if (shouldEnable(logger)) {\n        const enabledNamespaces = debug.disable();\n        debug.enable(enabledNamespaces + \",\" + logger.namespace);\n    }\n    registeredLoggers.add(logger);\n    return logger;\n}\nfunction shouldEnable(logger) {\n    return Boolean(azureLogLevel && levelMap[logger.level] <= levelMap[azureLogLevel]);\n}\nfunction isAzureLogLevel(logLevel) {\n    return AZURE_LOG_LEVELS.includes(logLevel);\n}\n//# sourceMappingURL=index.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createClientLogger } from \"@azure/logger\";\nexport const logger = createClientLogger(\"core-rest-pipeline\");\n//# sourceMappingURL=log.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Helper to determine when an input is a generic JS object.\n * @returns true when input is an object type that is not null, Array, RegExp, or Date.\n */\nexport function isObject(input) {\n    return (typeof input === \"object\" &&\n        input !== null &&\n        !Array.isArray(input) &&\n        !(input instanceof RegExp) &&\n        !(input instanceof Date));\n}\n//# sourceMappingURL=object.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isObject } from \"@azure/core-util\";\nconst RedactedString = \"REDACTED\";\n// Make sure this list is up-to-date with the one under core/logger/Readme#Keyconcepts\nconst defaultAllowedHeaderNames = [\n    \"x-ms-client-request-id\",\n    \"x-ms-return-client-request-id\",\n    \"x-ms-useragent\",\n    \"x-ms-correlation-request-id\",\n    \"x-ms-request-id\",\n    \"client-request-id\",\n    \"ms-cv\",\n    \"return-client-request-id\",\n    \"traceparent\",\n    \"Access-Control-Allow-Credentials\",\n    \"Access-Control-Allow-Headers\",\n    \"Access-Control-Allow-Methods\",\n    \"Access-Control-Allow-Origin\",\n    \"Access-Control-Expose-Headers\",\n    \"Access-Control-Max-Age\",\n    \"Access-Control-Request-Headers\",\n    \"Access-Control-Request-Method\",\n    \"Origin\",\n    \"Accept\",\n    \"Accept-Encoding\",\n    \"Cache-Control\",\n    \"Connection\",\n    \"Content-Length\",\n    \"Content-Type\",\n    \"Date\",\n    \"ETag\",\n    \"Expires\",\n    \"If-Match\",\n    \"If-Modified-Since\",\n    \"If-None-Match\",\n    \"If-Unmodified-Since\",\n    \"Last-Modified\",\n    \"Pragma\",\n    \"Request-Id\",\n    \"Retry-After\",\n    \"Server\",\n    \"Transfer-Encoding\",\n    \"User-Agent\",\n    \"WWW-Authenticate\",\n];\nconst defaultAllowedQueryParameters = [\"api-version\"];\n/**\n * @internal\n */\nexport class Sanitizer {\n    constructor({ additionalAllowedHeaderNames: allowedHeaderNames = [], additionalAllowedQueryParameters: allowedQueryParameters = [], } = {}) {\n        allowedHeaderNames = defaultAllowedHeaderNames.concat(allowedHeaderNames);\n        allowedQueryParameters = defaultAllowedQueryParameters.concat(allowedQueryParameters);\n        this.allowedHeaderNames = new Set(allowedHeaderNames.map((n) => n.toLowerCase()));\n        this.allowedQueryParameters = new Set(allowedQueryParameters.map((p) => p.toLowerCase()));\n    }\n    sanitize(obj) {\n        const seen = new Set();\n        return JSON.stringify(obj, (key, value) => {\n            // Ensure Errors include their interesting non-enumerable members\n            if (value instanceof Error) {\n                return Object.assign(Object.assign({}, value), { name: value.name, message: value.message });\n            }\n            if (key === \"headers\") {\n                return this.sanitizeHeaders(value);\n            }\n            else if (key === \"url\") {\n                return this.sanitizeUrl(value);\n            }\n            else if (key === \"query\") {\n                return this.sanitizeQuery(value);\n            }\n            else if (key === \"body\") {\n                // Don't log the request body\n                return undefined;\n            }\n            else if (key === \"response\") {\n                // Don't log response again\n                return undefined;\n            }\n            else if (key === \"operationSpec\") {\n                // When using sendOperationRequest, the request carries a massive\n                // field with the autorest spec. No need to log it.\n                return undefined;\n            }\n            else if (Array.isArray(value) || isObject(value)) {\n                if (seen.has(value)) {\n                    return \"[Circular]\";\n                }\n                seen.add(value);\n            }\n            return value;\n        }, 2);\n    }\n    sanitizeHeaders(obj) {\n        const sanitized = {};\n        for (const key of Object.keys(obj)) {\n            if (this.allowedHeaderNames.has(key.toLowerCase())) {\n                sanitized[key] = obj[key];\n            }\n            else {\n                sanitized[key] = RedactedString;\n            }\n        }\n        return sanitized;\n    }\n    sanitizeQuery(value) {\n        if (typeof value !== \"object\" || value === null) {\n            return value;\n        }\n        const sanitized = {};\n        for (const k of Object.keys(value)) {\n            if (this.allowedQueryParameters.has(k.toLowerCase())) {\n                sanitized[k] = value[k];\n            }\n            else {\n                sanitized[k] = RedactedString;\n            }\n        }\n        return sanitized;\n    }\n    sanitizeUrl(value) {\n        if (typeof value !== \"string\" || value === null) {\n            return value;\n        }\n        const url = new URL(value);\n        if (!url.search) {\n            return value;\n        }\n        for (const [key] of url.searchParams) {\n            if (!this.allowedQueryParameters.has(key.toLowerCase())) {\n                url.searchParams.set(key, RedactedString);\n            }\n        }\n        return url.toString();\n    }\n}\n//# sourceMappingURL=sanitizer.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { logger as coreLogger } from \"../log\";\nimport { Sanitizer } from \"../util/sanitizer\";\n/**\n * The programmatic identifier of the logPolicy.\n */\nexport const logPolicyName = \"logPolicy\";\n/**\n * A policy that logs all requests and responses.\n * @param options - Options to configure logPolicy.\n */\nexport function logPolicy(options = {}) {\n    var _a;\n    const logger = (_a = options.logger) !== null && _a !== void 0 ? _a : coreLogger.info;\n    const sanitizer = new Sanitizer({\n        additionalAllowedHeaderNames: options.additionalAllowedHeaderNames,\n        additionalAllowedQueryParameters: options.additionalAllowedQueryParameters,\n    });\n    return {\n        name: logPolicyName,\n        async sendRequest(request, next) {\n            if (!logger.enabled) {\n                return next(request);\n            }\n            logger(`Request: ${sanitizer.sanitize(request)}`);\n            const response = await next(request);\n            logger(`Response status code: ${response.status}`);\n            logger(`Headers: ${sanitizer.sanitize(response.headers)}`);\n            return response;\n        },\n    };\n}\n//# sourceMappingURL=logPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the redirectPolicy.\n */\nexport const redirectPolicyName = \"redirectPolicy\";\n/**\n * Methods that are allowed to follow redirects 301 and 302\n */\nconst allowedRedirect = [\"GET\", \"HEAD\"];\n/**\n * A policy to follow Location headers from the server in order\n * to support server-side redirection.\n * In the browser, this policy is not used.\n * @param options - Options to control policy behavior.\n */\nexport function redirectPolicy(options = {}) {\n    const { maxRetries = 20 } = options;\n    return {\n        name: redirectPolicyName,\n        async sendRequest(request, next) {\n            const response = await next(request);\n            return handleRedirect(next, response, maxRetries);\n        },\n    };\n}\nasync function handleRedirect(next, response, maxRetries, currentRetries = 0) {\n    const { request, status, headers } = response;\n    const locationHeader = headers.get(\"location\");\n    if (locationHeader &&\n        (status === 300 ||\n            (status === 301 && allowedRedirect.includes(request.method)) ||\n            (status === 302 && allowedRedirect.includes(request.method)) ||\n            (status === 303 && request.method === \"POST\") ||\n            status === 307) &&\n        currentRetries < maxRetries) {\n        const url = new URL(locationHeader, request.url);\n        request.url = url.toString();\n        // POST request with Status code 303 should be converted into a\n        // redirected GET request if the redirect url is present in the location header\n        if (status === 303) {\n            request.method = \"GET\";\n            request.headers.delete(\"Content-Length\");\n            delete request.body;\n        }\n        request.headers.delete(\"Authorization\");\n        const res = await next(request);\n        return handleRedirect(next, res, maxRetries, currentRetries + 1);\n    }\n    return response;\n}\n//# sourceMappingURL=redirectPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport const SDK_VERSION = \"1.10.1\";\nexport const DEFAULT_RETRY_POLICY_COUNT = 3;\n//# sourceMappingURL=constants.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getHeaderName, setPlatformSpecificData } from \"./userAgentPlatform\";\nimport { SDK_VERSION } from \"../constants\";\nfunction getUserAgentString(telemetryInfo) {\n    const parts = [];\n    for (const [key, value] of telemetryInfo) {\n        const token = value ? `${key}/${value}` : key;\n        parts.push(token);\n    }\n    return parts.join(\" \");\n}\n/**\n * @internal\n */\nexport function getUserAgentHeaderName() {\n    return getHeaderName();\n}\n/**\n * @internal\n */\nexport function getUserAgentValue(prefix) {\n    const runtimeInfo = new Map();\n    runtimeInfo.set(\"core-rest-pipeline\", SDK_VERSION);\n    setPlatformSpecificData(runtimeInfo);\n    const defaultAgent = getUserAgentString(runtimeInfo);\n    const userAgentValue = prefix ? `${prefix} ${defaultAgent}` : defaultAgent;\n    return userAgentValue;\n}\n//# sourceMappingURL=userAgent.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport * as os from \"os\";\n/**\n * @internal\n */\nexport function getHeaderName() {\n    return \"User-Agent\";\n}\n/**\n * @internal\n */\nexport function setPlatformSpecificData(map) {\n    map.set(\"Node\", process.version);\n    map.set(\"OS\", `(${os.arch()}-${os.type()}-${os.release()})`);\n}\n//# sourceMappingURL=userAgentPlatform.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getUserAgentHeaderName, getUserAgentValue } from \"../util/userAgent\";\nconst UserAgentHeaderName = getUserAgentHeaderName();\n/**\n * The programmatic identifier of the userAgentPolicy.\n */\nexport const userAgentPolicyName = \"userAgentPolicy\";\n/**\n * A policy that sets the User-Agent header (or equivalent) to reflect\n * the library version.\n * @param options - Options to customize the user agent value.\n */\nexport function userAgentPolicy(options = {}) {\n    const userAgentValue = getUserAgentValue(options.userAgentPrefix);\n    return {\n        name: userAgentPolicyName,\n        async sendRequest(request, next) {\n            if (!request.headers.has(UserAgentHeaderName)) {\n                request.headers.set(UserAgentHeaderName, userAgentValue);\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=userAgentPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the decompressResponsePolicy.\n */\nexport const decompressResponsePolicyName = \"decompressResponsePolicy\";\n/**\n * A policy to enable response decompression according to Accept-Encoding header\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding\n */\nexport function decompressResponsePolicy() {\n    return {\n        name: decompressResponsePolicyName,\n        async sendRequest(request, next) {\n            // HEAD requests have no body\n            if (request.method !== \"HEAD\") {\n                request.headers.set(\"Accept-Encoding\", \"gzip,deflate\");\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=decompressResponsePolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/// <reference path=\"../shims-public.d.ts\" />\nconst listenersMap = new WeakMap();\nconst abortedMap = new WeakMap();\n/**\n * An aborter instance implements AbortSignal interface, can abort HTTP requests.\n *\n * - Call AbortSignal.none to create a new AbortSignal instance that cannot be cancelled.\n * Use `AbortSignal.none` when you are required to pass a cancellation token but the operation\n * cannot or will not ever be cancelled.\n *\n * @example\n * Abort without timeout\n * ```ts\n * await doAsyncWork(AbortSignal.none);\n * ```\n */\nexport class AbortSignal {\n    constructor() {\n        /**\n         * onabort event listener.\n         */\n        this.onabort = null;\n        listenersMap.set(this, []);\n        abortedMap.set(this, false);\n    }\n    /**\n     * Status of whether aborted or not.\n     *\n     * @readonly\n     */\n    get aborted() {\n        if (!abortedMap.has(this)) {\n            throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n        }\n        return abortedMap.get(this);\n    }\n    /**\n     * Creates a new AbortSignal instance that will never be aborted.\n     *\n     * @readonly\n     */\n    static get none() {\n        return new AbortSignal();\n    }\n    /**\n     * Added new \"abort\" event listener, only support \"abort\" event.\n     *\n     * @param _type - Only support \"abort\" event\n     * @param listener - The listener to be added\n     */\n    addEventListener(\n    // tslint:disable-next-line:variable-name\n    _type, listener) {\n        if (!listenersMap.has(this)) {\n            throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n        }\n        const listeners = listenersMap.get(this);\n        listeners.push(listener);\n    }\n    /**\n     * Remove \"abort\" event listener, only support \"abort\" event.\n     *\n     * @param _type - Only support \"abort\" event\n     * @param listener - The listener to be removed\n     */\n    removeEventListener(\n    // tslint:disable-next-line:variable-name\n    _type, listener) {\n        if (!listenersMap.has(this)) {\n            throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n        }\n        const listeners = listenersMap.get(this);\n        const index = listeners.indexOf(listener);\n        if (index > -1) {\n            listeners.splice(index, 1);\n        }\n    }\n    /**\n     * Dispatches a synthetic event to the AbortSignal.\n     */\n    dispatchEvent(_event) {\n        throw new Error(\"This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.\");\n    }\n}\n/**\n * Helper to trigger an abort event immediately, the onabort and all abort event listeners will be triggered.\n * Will try to trigger abort event for all linked AbortSignal nodes.\n *\n * - If there is a timeout, the timer will be cancelled.\n * - If aborted is true, nothing will happen.\n *\n * @internal\n */\n// eslint-disable-next-line @azure/azure-sdk/ts-use-interface-parameters\nexport function abortSignal(signal) {\n    if (signal.aborted) {\n        return;\n    }\n    if (signal.onabort) {\n        signal.onabort.call(signal);\n    }\n    const listeners = listenersMap.get(signal);\n    if (listeners) {\n        // Create a copy of listeners so mutations to the array\n        // (e.g. via removeListener calls) don't affect the listeners\n        // we invoke.\n        listeners.slice().forEach((listener) => {\n            listener.call(signal, { type: \"abort\" });\n        });\n    }\n    abortedMap.set(signal, true);\n}\n//# sourceMappingURL=AbortSignal.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortSignal, abortSignal } from \"./AbortSignal\";\n/**\n * This error is thrown when an asynchronous operation has been aborted.\n * Check for this error by testing the `name` that the name property of the\n * error matches `\"AbortError\"`.\n *\n * @example\n * ```ts\n * const controller = new AbortController();\n * controller.abort();\n * try {\n *   doAsyncWork(controller.signal)\n * } catch (e) {\n *   if (e.name === 'AbortError') {\n *     // handle abort error here.\n *   }\n * }\n * ```\n */\nexport class AbortError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"AbortError\";\n    }\n}\n/**\n * An AbortController provides an AbortSignal and the associated controls to signal\n * that an asynchronous operation should be aborted.\n *\n * @example\n * Abort an operation when another event fires\n * ```ts\n * const controller = new AbortController();\n * const signal = controller.signal;\n * doAsyncWork(signal);\n * button.addEventListener('click', () => controller.abort());\n * ```\n *\n * @example\n * Share aborter cross multiple operations in 30s\n * ```ts\n * // Upload the same data to 2 different data centers at the same time,\n * // abort another when any of them is finished\n * const controller = AbortController.withTimeout(30 * 1000);\n * doAsyncWork(controller.signal).then(controller.abort);\n * doAsyncWork(controller.signal).then(controller.abort);\n *```\n *\n * @example\n * Cascaded aborting\n * ```ts\n * // All operations can't take more than 30 seconds\n * const aborter = Aborter.timeout(30 * 1000);\n *\n * // Following 2 operations can't take more than 25 seconds\n * await doAsyncWork(aborter.withTimeout(25 * 1000));\n * await doAsyncWork(aborter.withTimeout(25 * 1000));\n * ```\n */\nexport class AbortController {\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    constructor(parentSignals) {\n        this._signal = new AbortSignal();\n        if (!parentSignals) {\n            return;\n        }\n        // coerce parentSignals into an array\n        if (!Array.isArray(parentSignals)) {\n            // eslint-disable-next-line prefer-rest-params\n            parentSignals = arguments;\n        }\n        for (const parentSignal of parentSignals) {\n            // if the parent signal has already had abort() called,\n            // then call abort on this signal as well.\n            if (parentSignal.aborted) {\n                this.abort();\n            }\n            else {\n                // when the parent signal aborts, this signal should as well.\n                parentSignal.addEventListener(\"abort\", () => {\n                    this.abort();\n                });\n            }\n        }\n    }\n    /**\n     * The AbortSignal associated with this controller that will signal aborted\n     * when the abort method is called on this controller.\n     *\n     * @readonly\n     */\n    get signal() {\n        return this._signal;\n    }\n    /**\n     * Signal that any operations passed this controller's associated abort signal\n     * to cancel any remaining work and throw an `AbortError`.\n     */\n    abort() {\n        abortSignal(this._signal);\n    }\n    /**\n     * Creates a new AbortSignal instance that will abort after the provided ms.\n     * @param ms - Elapsed time in milliseconds to trigger an abort.\n     */\n    static timeout(ms) {\n        const signal = new AbortSignal();\n        const timer = setTimeout(abortSignal, ms, signal);\n        // Prevent the active Timer from keeping the Node.js event loop active.\n        if (typeof timer.unref === \"function\") {\n            timer.unref();\n        }\n        return signal;\n    }\n}\n//# sourceMappingURL=AbortController.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortError } from \"@azure/abort-controller\";\nconst StandardAbortMessage = \"The operation was aborted.\";\n/**\n * A wrapper for setTimeout that resolves a promise after delayInMs milliseconds.\n * @param delayInMs - The number of milliseconds to be delayed.\n * @param value - The value to be resolved with after a timeout of t milliseconds.\n * @param options - The options for delay - currently abort options\n *                  - abortSignal - The abortSignal associated with containing operation.\n *                  - abortErrorMsg - The abort error message associated with containing operation.\n * @returns Resolved promise\n */\nexport function delay(delayInMs, value, options) {\n    return new Promise((resolve, reject) => {\n        let timer = undefined;\n        let onAborted = undefined;\n        const rejectOnAbort = () => {\n            return reject(new AbortError((options === null || options === void 0 ? void 0 : options.abortErrorMsg) ? options === null || options === void 0 ? void 0 : options.abortErrorMsg : StandardAbortMessage));\n        };\n        const removeListeners = () => {\n            if ((options === null || options === void 0 ? void 0 : options.abortSignal) && onAborted) {\n                options.abortSignal.removeEventListener(\"abort\", onAborted);\n            }\n        };\n        onAborted = () => {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            removeListeners();\n            return rejectOnAbort();\n        };\n        if ((options === null || options === void 0 ? void 0 : options.abortSignal) && options.abortSignal.aborted) {\n            return rejectOnAbort();\n        }\n        timer = setTimeout(() => {\n            removeListeners();\n            resolve(value);\n        }, delayInMs);\n        if (options === null || options === void 0 ? void 0 : options.abortSignal) {\n            options.abortSignal.addEventListener(\"abort\", onAborted);\n        }\n    });\n}\n/**\n * @internal\n * @returns the parsed value or undefined if the parsed value is invalid.\n */\nexport function parseHeaderValueAsNumber(response, headerName) {\n    const value = response.headers.get(headerName);\n    if (!value)\n        return;\n    const valueAsNum = Number(value);\n    if (Number.isNaN(valueAsNum))\n        return;\n    return valueAsNum;\n}\n//# sourceMappingURL=helpers.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { parseHeaderValueAsNumber } from \"../util/helpers\";\n/**\n * The header that comes back from Azure services representing\n * the amount of time (minimum) to wait to retry (in seconds or timestamp after which we can retry).\n */\nconst RetryAfterHeader = \"Retry-After\";\n/**\n * The headers that come back from Azure services representing\n * the amount of time (minimum) to wait to retry.\n *\n * \"retry-after-ms\", \"x-ms-retry-after-ms\" : milliseconds\n * \"Retry-After\" : seconds or timestamp\n */\nconst AllRetryAfterHeaders = [\"retry-after-ms\", \"x-ms-retry-after-ms\", RetryAfterHeader];\n/**\n * A response is a throttling retry response if it has a throttling status code (429 or 503),\n * as long as one of the [ \"Retry-After\" or \"retry-after-ms\" or \"x-ms-retry-after-ms\" ] headers has a valid value.\n *\n * Returns the `retryAfterInMs` value if the response is a throttling retry response.\n * If not throttling retry response, returns `undefined`.\n *\n * @internal\n */\nfunction getRetryAfterInMs(response) {\n    if (!(response && [429, 503].includes(response.status)))\n        return undefined;\n    try {\n        // Headers: \"retry-after-ms\", \"x-ms-retry-after-ms\", \"Retry-After\"\n        for (const header of AllRetryAfterHeaders) {\n            const retryAfterValue = parseHeaderValueAsNumber(response, header);\n            if (retryAfterValue === 0 || retryAfterValue) {\n                // \"Retry-After\" header ==> seconds\n                // \"retry-after-ms\", \"x-ms-retry-after-ms\" headers ==> milli-seconds\n                const multiplyingFactor = header === RetryAfterHeader ? 1000 : 1;\n                return retryAfterValue * multiplyingFactor; // in milli-seconds\n            }\n        }\n        // RetryAfterHeader (\"Retry-After\") has a special case where it might be formatted as a date instead of a number of seconds\n        const retryAfterHeader = response.headers.get(RetryAfterHeader);\n        if (!retryAfterHeader)\n            return;\n        const date = Date.parse(retryAfterHeader);\n        const diff = date - Date.now();\n        // negative diff would mean a date in the past, so retry asap with 0 milliseconds\n        return Number.isFinite(diff) ? Math.max(0, diff) : undefined;\n    }\n    catch (e) {\n        return undefined;\n    }\n}\n/**\n * A response is a retry response if it has a throttling status code (429 or 503),\n * as long as one of the [ \"Retry-After\" or \"retry-after-ms\" or \"x-ms-retry-after-ms\" ] headers has a valid value.\n */\nexport function isThrottlingRetryResponse(response) {\n    return Number.isFinite(getRetryAfterInMs(response));\n}\nexport function throttlingRetryStrategy() {\n    return {\n        name: \"throttlingRetryStrategy\",\n        retry({ response }) {\n            const retryAfterInMs = getRetryAfterInMs(response);\n            if (!Number.isFinite(retryAfterInMs)) {\n                return { skipStrategy: true };\n            }\n            return {\n                retryAfterInMs,\n            };\n        },\n    };\n}\n//# sourceMappingURL=throttlingRetryStrategy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getRandomIntegerInclusive } from \"@azure/core-util\";\nimport { isThrottlingRetryResponse } from \"./throttlingRetryStrategy\";\n// intervals are in milliseconds\nconst DEFAULT_CLIENT_RETRY_INTERVAL = 1000;\nconst DEFAULT_CLIENT_MAX_RETRY_INTERVAL = 1000 * 64;\n/**\n * A retry strategy that retries with an exponentially increasing delay in these two cases:\n * - When there are errors in the underlying transport layer (e.g. DNS lookup failures).\n * - Or otherwise if the outgoing request fails (408, greater or equal than 500, except for 501 and 505).\n */\nexport function exponentialRetryStrategy(options = {}) {\n    var _a, _b;\n    const retryInterval = (_a = options.retryDelayInMs) !== null && _a !== void 0 ? _a : DEFAULT_CLIENT_RETRY_INTERVAL;\n    const maxRetryInterval = (_b = options.maxRetryDelayInMs) !== null && _b !== void 0 ? _b : DEFAULT_CLIENT_MAX_RETRY_INTERVAL;\n    let retryAfterInMs = retryInterval;\n    return {\n        name: \"exponentialRetryStrategy\",\n        retry({ retryCount, response, responseError }) {\n            const matchedSystemError = isSystemError(responseError);\n            const ignoreSystemErrors = matchedSystemError && options.ignoreSystemErrors;\n            const isExponential = isExponentialRetryResponse(response);\n            const ignoreExponentialResponse = isExponential && options.ignoreHttpStatusCodes;\n            const unknownResponse = response && (isThrottlingRetryResponse(response) || !isExponential);\n            if (unknownResponse || ignoreExponentialResponse || ignoreSystemErrors) {\n                return { skipStrategy: true };\n            }\n            if (responseError && !matchedSystemError && !isExponential) {\n                return { errorToThrow: responseError };\n            }\n            // Exponentially increase the delay each time\n            const exponentialDelay = retryAfterInMs * Math.pow(2, retryCount);\n            // Don't let the delay exceed the maximum\n            const clampedExponentialDelay = Math.min(maxRetryInterval, exponentialDelay);\n            // Allow the final value to have some \"jitter\" (within 50% of the delay size) so\n            // that retries across multiple clients don't occur simultaneously.\n            retryAfterInMs =\n                clampedExponentialDelay / 2 + getRandomIntegerInclusive(0, clampedExponentialDelay / 2);\n            return { retryAfterInMs };\n        },\n    };\n}\n/**\n * A response is a retry response if it has status codes:\n * - 408, or\n * - Greater or equal than 500, except for 501 and 505.\n */\nexport function isExponentialRetryResponse(response) {\n    return Boolean(response &&\n        response.status !== undefined &&\n        (response.status >= 500 || response.status === 408) &&\n        response.status !== 501 &&\n        response.status !== 505);\n}\n/**\n * Determines whether an error from a pipeline response was triggered in the network layer.\n */\nexport function isSystemError(err) {\n    if (!err) {\n        return false;\n    }\n    return (err.code === \"ETIMEDOUT\" ||\n        err.code === \"ESOCKETTIMEDOUT\" ||\n        err.code === \"ECONNREFUSED\" ||\n        err.code === \"ECONNRESET\" ||\n        err.code === \"ENOENT\");\n}\n//# sourceMappingURL=exponentialRetryStrategy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Returns a random integer value between a lower and upper bound,\n * inclusive of both bounds.\n * Note that this uses Math.random and isn't secure. If you need to use\n * this for any kind of security purpose, find a better source of random.\n * @param min - The smallest integer value allowed.\n * @param max - The largest integer value allowed.\n */\nexport function getRandomIntegerInclusive(min, max) {\n    // Make sure inputs are integers.\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    // Pick a random offset from zero to the size of the range.\n    // Since Math.random() can never return 1, we have to make the range one larger\n    // in order to be inclusive of the maximum value after we take the floor.\n    const offset = Math.floor(Math.random() * (max - min + 1));\n    return offset + min;\n}\n//# sourceMappingURL=random.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { delay } from \"../util/helpers\";\nimport { createClientLogger } from \"@azure/logger\";\nimport { AbortError } from \"@azure/abort-controller\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\nconst retryPolicyLogger = createClientLogger(\"core-rest-pipeline retryPolicy\");\n/**\n * The programmatic identifier of the retryPolicy.\n */\nconst retryPolicyName = \"retryPolicy\";\n/**\n * retryPolicy is a generic policy to enable retrying requests when certain conditions are met\n */\nexport function retryPolicy(strategies, options = { maxRetries: DEFAULT_RETRY_POLICY_COUNT }) {\n    const logger = options.logger || retryPolicyLogger;\n    return {\n        name: retryPolicyName,\n        async sendRequest(request, next) {\n            var _a, _b;\n            let response;\n            let responseError;\n            let retryCount = -1;\n            // eslint-disable-next-line no-constant-condition\n            retryRequest: while (true) {\n                retryCount += 1;\n                response = undefined;\n                responseError = undefined;\n                try {\n                    logger.info(`Retry ${retryCount}: Attempting to send request`, request.requestId);\n                    response = await next(request);\n                    logger.info(`Retry ${retryCount}: Received a response from request`, request.requestId);\n                }\n                catch (e) {\n                    logger.error(`Retry ${retryCount}: Received an error from request`, request.requestId);\n                    // RestErrors are valid targets for the retry strategies.\n                    // If none of the retry strategies can work with them, they will be thrown later in this policy.\n                    // If the received error is not a RestError, it is immediately thrown.\n                    responseError = e;\n                    if (!e || responseError.name !== \"RestError\") {\n                        throw e;\n                    }\n                    response = responseError.response;\n                }\n                if ((_a = request.abortSignal) === null || _a === void 0 ? void 0 : _a.aborted) {\n                    logger.error(`Retry ${retryCount}: Request aborted.`);\n                    const abortError = new AbortError();\n                    throw abortError;\n                }\n                if (retryCount >= ((_b = options.maxRetries) !== null && _b !== void 0 ? _b : DEFAULT_RETRY_POLICY_COUNT)) {\n                    logger.info(`Retry ${retryCount}: Maximum retries reached. Returning the last received response, or throwing the last received error.`);\n                    if (responseError) {\n                        throw responseError;\n                    }\n                    else if (response) {\n                        return response;\n                    }\n                    else {\n                        throw new Error(\"Maximum retries reached with no response or error to throw\");\n                    }\n                }\n                logger.info(`Retry ${retryCount}: Processing ${strategies.length} retry strategies.`);\n                strategiesLoop: for (const strategy of strategies) {\n                    const strategyLogger = strategy.logger || retryPolicyLogger;\n                    strategyLogger.info(`Retry ${retryCount}: Processing retry strategy ${strategy.name}.`);\n                    const modifiers = strategy.retry({\n                        retryCount,\n                        response,\n                        responseError,\n                    });\n                    if (modifiers.skipStrategy) {\n                        strategyLogger.info(`Retry ${retryCount}: Skipped.`);\n                        continue strategiesLoop;\n                    }\n                    const { errorToThrow, retryAfterInMs, redirectTo } = modifiers;\n                    if (errorToThrow) {\n                        strategyLogger.error(`Retry ${retryCount}: Retry strategy ${strategy.name} throws error:`, errorToThrow);\n                        throw errorToThrow;\n                    }\n                    if (retryAfterInMs || retryAfterInMs === 0) {\n                        strategyLogger.info(`Retry ${retryCount}: Retry strategy ${strategy.name} retries after ${retryAfterInMs}`);\n                        await delay(retryAfterInMs, undefined, { abortSignal: request.abortSignal });\n                        continue retryRequest;\n                    }\n                    if (redirectTo) {\n                        strategyLogger.info(`Retry ${retryCount}: Retry strategy ${strategy.name} redirects to ${redirectTo}`);\n                        request.url = redirectTo;\n                        continue retryRequest;\n                    }\n                }\n                if (responseError) {\n                    logger.info(`None of the retry strategies could work with the received error. Throwing it.`);\n                    throw responseError;\n                }\n                if (response) {\n                    logger.info(`None of the retry strategies could work with the received response. Returning it.`);\n                    return response;\n                }\n                // If all the retries skip and there's no response,\n                // we're still in the retry loop, so a new request will be sent\n                // until `maxRetries` is reached.\n            }\n        },\n    };\n}\n//# sourceMappingURL=retryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy\";\nimport { throttlingRetryStrategy } from \"../retryStrategies/throttlingRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n/**\n * Name of the {@link defaultRetryPolicy}\n */\nexport const defaultRetryPolicyName = \"defaultRetryPolicy\";\n/**\n * A policy that retries according to three strategies:\n * - When the server sends a 429 response with a Retry-After header.\n * - When there are errors in the underlying transport layer (e.g. DNS lookup failures).\n * - Or otherwise if the outgoing request fails, it will retry with an exponentially increasing delay.\n */\nexport function defaultRetryPolicy(options = {}) {\n    var _a;\n    return {\n        name: defaultRetryPolicyName,\n        sendRequest: retryPolicy([throttlingRetryStrategy(), exponentialRetryStrategy(options)], {\n            maxRetries: (_a = options.maxRetries) !== null && _a !== void 0 ? _a : DEFAULT_RETRY_POLICY_COUNT,\n        }).sendRequest,\n    };\n}\n//# sourceMappingURL=defaultRetryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport FormData from \"form-data\";\n/**\n * The programmatic identifier of the formDataPolicy.\n */\nexport const formDataPolicyName = \"formDataPolicy\";\n/**\n * A policy that encodes FormData on the request into the body.\n */\nexport function formDataPolicy() {\n    return {\n        name: formDataPolicyName,\n        async sendRequest(request, next) {\n            if (request.formData) {\n                const contentType = request.headers.get(\"Content-Type\");\n                if (contentType && contentType.indexOf(\"application/x-www-form-urlencoded\") !== -1) {\n                    request.body = wwwFormUrlEncode(request.formData);\n                    request.formData = undefined;\n                }\n                else {\n                    await prepareFormData(request.formData, request);\n                }\n            }\n            return next(request);\n        },\n    };\n}\nfunction wwwFormUrlEncode(formData) {\n    const urlSearchParams = new URLSearchParams();\n    for (const [key, value] of Object.entries(formData)) {\n        if (Array.isArray(value)) {\n            for (const subValue of value) {\n                urlSearchParams.append(key, subValue.toString());\n            }\n        }\n        else {\n            urlSearchParams.append(key, value.toString());\n        }\n    }\n    return urlSearchParams.toString();\n}\nasync function prepareFormData(formData, request) {\n    const requestForm = new FormData();\n    for (const formKey of Object.keys(formData)) {\n        const formValue = formData[formKey];\n        if (Array.isArray(formValue)) {\n            for (const subValue of formValue) {\n                requestForm.append(formKey, subValue);\n            }\n        }\n        else {\n            requestForm.append(formKey, formValue);\n        }\n    }\n    request.body = requestForm;\n    request.formData = undefined;\n    const contentType = request.headers.get(\"Content-Type\");\n    if (contentType && contentType.indexOf(\"multipart/form-data\") !== -1) {\n        request.headers.set(\"Content-Type\", `multipart/form-data; boundary=${requestForm.getBoundary()}`);\n    }\n    try {\n        const contentLength = await new Promise((resolve, reject) => {\n            requestForm.getLength((err, length) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(length);\n                }\n            });\n        });\n        request.headers.set(\"Content-Length\", contentLength);\n    }\n    catch (e) {\n        // ignore setting the length if this fails\n    }\n}\n//# sourceMappingURL=formDataPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar _a;\n/**\n * A constant that indicates whether the environment the code is running is Node.JS.\n */\nexport const isNode = typeof process !== \"undefined\" && Boolean(process.version) && Boolean((_a = process.versions) === null || _a === void 0 ? void 0 : _a.node);\n//# sourceMappingURL=isNode.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { HttpsProxyAgent } from \"https-proxy-agent\";\nimport { HttpProxyAgent } from \"http-proxy-agent\";\nimport { logger } from \"../log\";\nconst HTTPS_PROXY = \"HTTPS_PROXY\";\nconst HTTP_PROXY = \"HTTP_PROXY\";\nconst ALL_PROXY = \"ALL_PROXY\";\nconst NO_PROXY = \"NO_PROXY\";\n/**\n * The programmatic identifier of the proxyPolicy.\n */\nexport const proxyPolicyName = \"proxyPolicy\";\n/**\n * Stores the patterns specified in NO_PROXY environment variable.\n * @internal\n */\nexport const globalNoProxyList = [];\nlet noProxyListLoaded = false;\n/** A cache of whether a host should bypass the proxy. */\nconst globalBypassedMap = new Map();\nfunction getEnvironmentValue(name) {\n    if (process.env[name]) {\n        return process.env[name];\n    }\n    else if (process.env[name.toLowerCase()]) {\n        return process.env[name.toLowerCase()];\n    }\n    return undefined;\n}\nfunction loadEnvironmentProxyValue() {\n    if (!process) {\n        return undefined;\n    }\n    const httpsProxy = getEnvironmentValue(HTTPS_PROXY);\n    const allProxy = getEnvironmentValue(ALL_PROXY);\n    const httpProxy = getEnvironmentValue(HTTP_PROXY);\n    return httpsProxy || allProxy || httpProxy;\n}\n/**\n * Check whether the host of a given `uri` matches any pattern in the no proxy list.\n * If there's a match, any request sent to the same host shouldn't have the proxy settings set.\n * This implementation is a port of https://github.com/Azure/azure-sdk-for-net/blob/8cca811371159e527159c7eb65602477898683e2/sdk/core/Azure.Core/src/Pipeline/Internal/HttpEnvironmentProxy.cs#L210\n */\nfunction isBypassed(uri, noProxyList, bypassedMap) {\n    if (noProxyList.length === 0) {\n        return false;\n    }\n    const host = new URL(uri).hostname;\n    if (bypassedMap === null || bypassedMap === void 0 ? void 0 : bypassedMap.has(host)) {\n        return bypassedMap.get(host);\n    }\n    let isBypassedFlag = false;\n    for (const pattern of noProxyList) {\n        if (pattern[0] === \".\") {\n            // This should match either domain it self or any subdomain or host\n            // .foo.com will match foo.com it self or *.foo.com\n            if (host.endsWith(pattern)) {\n                isBypassedFlag = true;\n            }\n            else {\n                if (host.length === pattern.length - 1 && host === pattern.slice(1)) {\n                    isBypassedFlag = true;\n                }\n            }\n        }\n        else {\n            if (host === pattern) {\n                isBypassedFlag = true;\n            }\n        }\n    }\n    bypassedMap === null || bypassedMap === void 0 ? void 0 : bypassedMap.set(host, isBypassedFlag);\n    return isBypassedFlag;\n}\nexport function loadNoProxy() {\n    const noProxy = getEnvironmentValue(NO_PROXY);\n    noProxyListLoaded = true;\n    if (noProxy) {\n        return noProxy\n            .split(\",\")\n            .map((item) => item.trim())\n            .filter((item) => item.length);\n    }\n    return [];\n}\n/**\n * This method converts a proxy url into `ProxySettings` for use with ProxyPolicy.\n * If no argument is given, it attempts to parse a proxy URL from the environment\n * variables `HTTPS_PROXY` or `HTTP_PROXY`.\n * @param proxyUrl - The url of the proxy to use. May contain authentication information.\n */\nexport function getDefaultProxySettings(proxyUrl) {\n    if (!proxyUrl) {\n        proxyUrl = loadEnvironmentProxyValue();\n        if (!proxyUrl) {\n            return undefined;\n        }\n    }\n    const parsedUrl = new URL(proxyUrl);\n    const schema = parsedUrl.protocol ? parsedUrl.protocol + \"//\" : \"\";\n    return {\n        host: schema + parsedUrl.hostname,\n        port: Number.parseInt(parsedUrl.port || \"80\"),\n        username: parsedUrl.username,\n        password: parsedUrl.password,\n    };\n}\n/**\n * @internal\n */\nexport function getProxyAgentOptions(proxySettings, { headers, tlsSettings }) {\n    let parsedProxyUrl;\n    try {\n        parsedProxyUrl = new URL(proxySettings.host);\n    }\n    catch (_error) {\n        throw new Error(`Expecting a valid host string in proxy settings, but found \"${proxySettings.host}\".`);\n    }\n    if (tlsSettings) {\n        logger.warning(\"TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.\");\n    }\n    const proxyAgentOptions = {\n        hostname: parsedProxyUrl.hostname,\n        port: proxySettings.port,\n        protocol: parsedProxyUrl.protocol,\n        headers: headers.toJSON(),\n    };\n    if (proxySettings.username && proxySettings.password) {\n        proxyAgentOptions.auth = `${proxySettings.username}:${proxySettings.password}`;\n    }\n    else if (proxySettings.username) {\n        proxyAgentOptions.auth = `${proxySettings.username}`;\n    }\n    return proxyAgentOptions;\n}\nfunction setProxyAgentOnRequest(request, cachedAgents) {\n    // Custom Agent should take precedence so if one is present\n    // we should skip to avoid overwriting it.\n    if (request.agent) {\n        return;\n    }\n    const url = new URL(request.url);\n    const isInsecure = url.protocol !== \"https:\";\n    const proxySettings = request.proxySettings;\n    if (proxySettings) {\n        if (isInsecure) {\n            if (!cachedAgents.httpProxyAgent) {\n                const proxyAgentOptions = getProxyAgentOptions(proxySettings, request);\n                cachedAgents.httpProxyAgent = new HttpProxyAgent(proxyAgentOptions);\n            }\n            request.agent = cachedAgents.httpProxyAgent;\n        }\n        else {\n            if (!cachedAgents.httpsProxyAgent) {\n                const proxyAgentOptions = getProxyAgentOptions(proxySettings, request);\n                cachedAgents.httpsProxyAgent = new HttpsProxyAgent(proxyAgentOptions);\n            }\n            request.agent = cachedAgents.httpsProxyAgent;\n        }\n    }\n}\n/**\n * A policy that allows one to apply proxy settings to all requests.\n * If not passed static settings, they will be retrieved from the HTTPS_PROXY\n * or HTTP_PROXY environment variables.\n * @param proxySettings - ProxySettings to use on each request.\n * @param options - additional settings, for example, custom NO_PROXY patterns\n */\nexport function proxyPolicy(proxySettings = getDefaultProxySettings(), options) {\n    if (!noProxyListLoaded) {\n        globalNoProxyList.push(...loadNoProxy());\n    }\n    const cachedAgents = {};\n    return {\n        name: proxyPolicyName,\n        async sendRequest(request, next) {\n            var _a;\n            if (!request.proxySettings &&\n                !isBypassed(request.url, (_a = options === null || options === void 0 ? void 0 : options.customNoProxyList) !== null && _a !== void 0 ? _a : globalNoProxyList, (options === null || options === void 0 ? void 0 : options.customNoProxyList) ? undefined : globalBypassedMap)) {\n                request.proxySettings = proxySettings;\n            }\n            if (request.proxySettings) {\n                setProxyAgentOnRequest(request, cachedAgents);\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=proxyPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the setClientRequestIdPolicy.\n */\nexport const setClientRequestIdPolicyName = \"setClientRequestIdPolicy\";\n/**\n * Each PipelineRequest gets a unique id upon creation.\n * This policy passes that unique id along via an HTTP header to enable better\n * telemetry and tracing.\n * @param requestIdHeaderName - The name of the header to pass the request ID to.\n */\nexport function setClientRequestIdPolicy(requestIdHeaderName = \"x-ms-client-request-id\") {\n    return {\n        name: setClientRequestIdPolicyName,\n        async sendRequest(request, next) {\n            if (!request.headers.has(requestIdHeaderName)) {\n                request.headers.set(requestIdHeaderName, request.requestId);\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=setClientRequestIdPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Name of the TLS Policy\n */\nexport const tlsPolicyName = \"tlsPolicy\";\n/**\n * Gets a pipeline policy that adds the client certificate to the HttpClient agent for authentication.\n */\nexport function tlsPolicy(tlsSettings) {\n    return {\n        name: tlsPolicyName,\n        sendRequest: async (req, next) => {\n            // Users may define a request tlsSettings, honor those over the client level one\n            if (!req.tlsSettings) {\n                req.tlsSettings = tlsSettings;\n            }\n            return next(req);\n        },\n    };\n}\n//# sourceMappingURL=tlsPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/** @internal */\nexport const knownContextKeys = {\n    span: Symbol.for(\"@azure/core-tracing span\"),\n    namespace: Symbol.for(\"@azure/core-tracing namespace\"),\n};\n/**\n * Creates a new {@link TracingContext} with the given options.\n * @param options - A set of known keys that may be set on the context.\n * @returns A new {@link TracingContext} with the given options.\n *\n * @internal\n */\nexport function createTracingContext(options = {}) {\n    let context = new TracingContextImpl(options.parentContext);\n    if (options.span) {\n        context = context.setValue(knownContextKeys.span, options.span);\n    }\n    if (options.namespace) {\n        context = context.setValue(knownContextKeys.namespace, options.namespace);\n    }\n    return context;\n}\n/** @internal */\nexport class TracingContextImpl {\n    constructor(initialContext) {\n        this._contextMap =\n            initialContext instanceof TracingContextImpl\n                ? new Map(initialContext._contextMap)\n                : new Map();\n    }\n    setValue(key, value) {\n        const newContext = new TracingContextImpl(this);\n        newContext._contextMap.set(key, value);\n        return newContext;\n    }\n    getValue(key) {\n        return this._contextMap.get(key);\n    }\n    deleteValue(key) {\n        const newContext = new TracingContextImpl(this);\n        newContext._contextMap.delete(key);\n        return newContext;\n    }\n}\n//# sourceMappingURL=tracingContext.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n// @ts-expect-error The recommended approach to sharing module state between ESM and CJS.\n// See https://github.com/isaacs/tshy/blob/main/README.md#module-local-state for additional information.\nimport { state as cjsState } from \"../commonjs/state.js\";\n/**\n * Defines the shared state between CJS and ESM by re-exporting the CJS state.\n */\nexport const state = cjsState;\n//# sourceMappingURL=state.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTracingContext } from \"./tracingContext.js\";\nimport { state } from \"./state.js\";\nexport function createDefaultTracingSpan() {\n    return {\n        end: () => {\n            // noop\n        },\n        isRecording: () => false,\n        recordException: () => {\n            // noop\n        },\n        setAttribute: () => {\n            // noop\n        },\n        setStatus: () => {\n            // noop\n        },\n    };\n}\nexport function createDefaultInstrumenter() {\n    return {\n        createRequestHeaders: () => {\n            return {};\n        },\n        parseTraceparentHeader: () => {\n            return undefined;\n        },\n        startSpan: (_name, spanOptions) => {\n            return {\n                span: createDefaultTracingSpan(),\n                tracingContext: createTracingContext({ parentContext: spanOptions.tracingContext }),\n            };\n        },\n        withContext(_context, callback, ...callbackArgs) {\n            return callback(...callbackArgs);\n        },\n    };\n}\n/**\n * Extends the Azure SDK with support for a given instrumenter implementation.\n *\n * @param instrumenter - The instrumenter implementation to use.\n */\nexport function useInstrumenter(instrumenter) {\n    state.instrumenterImplementation = instrumenter;\n}\n/**\n * Gets the currently set instrumenter, a No-Op instrumenter by default.\n *\n * @returns The currently set instrumenter\n */\nexport function getInstrumenter() {\n    if (!state.instrumenterImplementation) {\n        state.instrumenterImplementation = createDefaultInstrumenter();\n    }\n    return state.instrumenterImplementation;\n}\n//# sourceMappingURL=instrumenter.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isObject } from \"./object\";\n/**\n * Typeguard for an error object shape (has name and message)\n * @param e - Something caught by a catch clause.\n */\nexport function isError(e) {\n    if (isObject(e)) {\n        const hasName = typeof e.name === \"string\";\n        const hasMessage = typeof e.message === \"string\";\n        return hasName && hasMessage;\n    }\n    return false;\n}\n/**\n * Given what is thought to be an error object, return the message if possible.\n * If the message is missing, returns a stringified version of the input.\n * @param e - Something thrown from a try block\n * @returns The error message or a string of the input\n */\nexport function getErrorMessage(e) {\n    if (isError(e)) {\n        return e.message;\n    }\n    else {\n        let stringified;\n        try {\n            if (typeof e === \"object\" && e) {\n                stringified = JSON.stringify(e);\n            }\n            else {\n                stringified = String(e);\n            }\n        }\n        catch (err) {\n            stringified = \"[unable to stringify input]\";\n        }\n        return `Unknown error ${stringified}`;\n    }\n}\n//# sourceMappingURL=error.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { inspect } from \"util\";\nexport const custom = inspect.custom;\n//# sourceMappingURL=inspect.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isError } from \"@azure/core-util\";\nimport { custom } from \"./util/inspect\";\nimport { Sanitizer } from \"./util/sanitizer\";\nconst errorSanitizer = new Sanitizer();\n/**\n * A custom error type for failed pipeline requests.\n */\nexport class RestError extends Error {\n    constructor(message, options = {}) {\n        super(message);\n        this.name = \"RestError\";\n        this.code = options.code;\n        this.statusCode = options.statusCode;\n        this.request = options.request;\n        this.response = options.response;\n        Object.setPrototypeOf(this, RestError.prototype);\n    }\n    /**\n     * Logging method for util.inspect in Node\n     */\n    [custom]() {\n        return `RestError: ${this.message} \\n ${errorSanitizer.sanitize(this)}`;\n    }\n}\n/**\n * Something went wrong when making the request.\n * This means the actual request failed for some reason,\n * such as a DNS issue or the connection being lost.\n */\nRestError.REQUEST_SEND_ERROR = \"REQUEST_SEND_ERROR\";\n/**\n * This means that parsing the response from the server failed.\n * It may have been malformed.\n */\nRestError.PARSE_ERROR = \"PARSE_ERROR\";\n/**\n * Typeguard for RestError\n * @param e - Something caught by a catch clause.\n */\nexport function isRestError(e) {\n    if (e instanceof RestError) {\n        return true;\n    }\n    return isError(e) && e.name === \"RestError\";\n}\n//# sourceMappingURL=restError.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTracingClient, } from \"@azure/core-tracing\";\nimport { SDK_VERSION } from \"../constants\";\nimport { getUserAgentValue } from \"../util/userAgent\";\nimport { logger } from \"../log\";\nimport { getErrorMessage, isError } from \"@azure/core-util\";\nimport { isRestError } from \"../restError\";\n/**\n * The programmatic identifier of the tracingPolicy.\n */\nexport const tracingPolicyName = \"tracingPolicy\";\n/**\n * A simple policy to create OpenTelemetry Spans for each request made by the pipeline\n * that has SpanOptions with a parent.\n * Requests made without a parent Span will not be recorded.\n * @param options - Options to configure the telemetry logged by the tracing policy.\n */\nexport function tracingPolicy(options = {}) {\n    const userAgent = getUserAgentValue(options.userAgentPrefix);\n    const tracingClient = tryCreateTracingClient();\n    return {\n        name: tracingPolicyName,\n        async sendRequest(request, next) {\n            var _a, _b;\n            if (!tracingClient || !((_a = request.tracingOptions) === null || _a === void 0 ? void 0 : _a.tracingContext)) {\n                return next(request);\n            }\n            const { span, tracingContext } = (_b = tryCreateSpan(tracingClient, request, userAgent)) !== null && _b !== void 0 ? _b : {};\n            if (!span || !tracingContext) {\n                return next(request);\n            }\n            try {\n                const response = await tracingClient.withContext(tracingContext, next, request);\n                tryProcessResponse(span, response);\n                return response;\n            }\n            catch (err) {\n                tryProcessError(span, err);\n                throw err;\n            }\n        },\n    };\n}\nfunction tryCreateTracingClient() {\n    try {\n        return createTracingClient({\n            namespace: \"\",\n            packageName: \"@azure/core-rest-pipeline\",\n            packageVersion: SDK_VERSION,\n        });\n    }\n    catch (e) {\n        logger.warning(`Error when creating the TracingClient: ${getErrorMessage(e)}`);\n        return undefined;\n    }\n}\nfunction tryCreateSpan(tracingClient, request, userAgent) {\n    try {\n        // As per spec, we do not need to differentiate between HTTP and HTTPS in span name.\n        const { span, updatedOptions } = tracingClient.startSpan(`HTTP ${request.method}`, { tracingOptions: request.tracingOptions }, {\n            spanKind: \"client\",\n            spanAttributes: {\n                \"http.method\": request.method,\n                \"http.url\": request.url,\n                requestId: request.requestId,\n            },\n        });\n        // If the span is not recording, don't do any more work.\n        if (!span.isRecording()) {\n            span.end();\n            return undefined;\n        }\n        if (userAgent) {\n            span.setAttribute(\"http.user_agent\", userAgent);\n        }\n        // set headers\n        const headers = tracingClient.createRequestHeaders(updatedOptions.tracingOptions.tracingContext);\n        for (const [key, value] of Object.entries(headers)) {\n            request.headers.set(key, value);\n        }\n        return { span, tracingContext: updatedOptions.tracingOptions.tracingContext };\n    }\n    catch (e) {\n        logger.warning(`Skipping creating a tracing span due to an error: ${getErrorMessage(e)}`);\n        return undefined;\n    }\n}\nfunction tryProcessError(span, error) {\n    try {\n        span.setStatus({\n            status: \"error\",\n            error: isError(error) ? error : undefined,\n        });\n        if (isRestError(error) && error.statusCode) {\n            span.setAttribute(\"http.status_code\", error.statusCode);\n        }\n        span.end();\n    }\n    catch (e) {\n        logger.warning(`Skipping tracing span processing due to an error: ${getErrorMessage(e)}`);\n    }\n}\nfunction tryProcessResponse(span, response) {\n    try {\n        span.setAttribute(\"http.status_code\", response.status);\n        const serviceRequestId = response.headers.get(\"x-ms-request-id\");\n        if (serviceRequestId) {\n            span.setAttribute(\"serviceRequestId\", serviceRequestId);\n        }\n        span.setStatus({\n            status: \"success\",\n        });\n        span.end();\n    }\n    catch (e) {\n        logger.warning(`Skipping tracing span processing due to an error: ${getErrorMessage(e)}`);\n    }\n}\n//# sourceMappingURL=tracingPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getInstrumenter } from \"./instrumenter.js\";\nimport { knownContextKeys } from \"./tracingContext.js\";\n/**\n * Creates a new tracing client.\n *\n * @param options - Options used to configure the tracing client.\n * @returns - An instance of {@link TracingClient}.\n */\nexport function createTracingClient(options) {\n    const { namespace, packageName, packageVersion } = options;\n    function startSpan(name, operationOptions, spanOptions) {\n        var _a;\n        const startSpanResult = getInstrumenter().startSpan(name, Object.assign(Object.assign({}, spanOptions), { packageName: packageName, packageVersion: packageVersion, tracingContext: (_a = operationOptions === null || operationOptions === void 0 ? void 0 : operationOptions.tracingOptions) === null || _a === void 0 ? void 0 : _a.tracingContext }));\n        let tracingContext = startSpanResult.tracingContext;\n        const span = startSpanResult.span;\n        if (!tracingContext.getValue(knownContextKeys.namespace)) {\n            tracingContext = tracingContext.setValue(knownContextKeys.namespace, namespace);\n        }\n        span.setAttribute(\"az.namespace\", tracingContext.getValue(knownContextKeys.namespace));\n        const updatedOptions = Object.assign({}, operationOptions, {\n            tracingOptions: Object.assign(Object.assign({}, operationOptions === null || operationOptions === void 0 ? void 0 : operationOptions.tracingOptions), { tracingContext }),\n        });\n        return {\n            span,\n            updatedOptions,\n        };\n    }\n    async function withSpan(name, operationOptions, callback, spanOptions) {\n        const { span, updatedOptions } = startSpan(name, operationOptions, spanOptions);\n        try {\n            const result = await withContext(updatedOptions.tracingOptions.tracingContext, () => Promise.resolve(callback(updatedOptions, span)));\n            span.setStatus({ status: \"success\" });\n            return result;\n        }\n        catch (err) {\n            span.setStatus({ status: \"error\", error: err });\n            throw err;\n        }\n        finally {\n            span.end();\n        }\n    }\n    function withContext(context, callback, ...callbackArgs) {\n        return getInstrumenter().withContext(context, callback, ...callbackArgs);\n    }\n    /**\n     * Parses a traceparent header value into a span identifier.\n     *\n     * @param traceparentHeader - The traceparent header to parse.\n     * @returns An implementation-specific identifier for the span.\n     */\n    function parseTraceparentHeader(traceparentHeader) {\n        return getInstrumenter().parseTraceparentHeader(traceparentHeader);\n    }\n    /**\n     * Creates a set of request headers to propagate tracing information to a backend.\n     *\n     * @param tracingContext - The context containing the span to serialize.\n     * @returns The set of headers to add to a request.\n     */\n    function createRequestHeaders(tracingContext) {\n        return getInstrumenter().createRequestHeaders(tracingContext);\n    }\n    return {\n        startSpan,\n        withSpan,\n        withContext,\n        parseTraceparentHeader,\n        createRequestHeaders,\n    };\n}\n//# sourceMappingURL=tracingClient.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { logPolicy } from \"./policies/logPolicy\";\nimport { createEmptyPipeline } from \"./pipeline\";\nimport { redirectPolicy } from \"./policies/redirectPolicy\";\nimport { userAgentPolicy } from \"./policies/userAgentPolicy\";\nimport { decompressResponsePolicy } from \"./policies/decompressResponsePolicy\";\nimport { defaultRetryPolicy } from \"./policies/defaultRetryPolicy\";\nimport { formDataPolicy } from \"./policies/formDataPolicy\";\nimport { isNode } from \"@azure/core-util\";\nimport { proxyPolicy } from \"./policies/proxyPolicy\";\nimport { setClientRequestIdPolicy } from \"./policies/setClientRequestIdPolicy\";\nimport { tlsPolicy } from \"./policies/tlsPolicy\";\nimport { tracingPolicy } from \"./policies/tracingPolicy\";\n/**\n * Create a new pipeline with a default set of customizable policies.\n * @param options - Options to configure a custom pipeline.\n */\nexport function createPipelineFromOptions(options) {\n    const pipeline = createEmptyPipeline();\n    if (isNode) {\n        if (options.tlsOptions) {\n            pipeline.addPolicy(tlsPolicy(options.tlsOptions));\n        }\n        pipeline.addPolicy(proxyPolicy(options.proxyOptions));\n        pipeline.addPolicy(decompressResponsePolicy());\n    }\n    pipeline.addPolicy(formDataPolicy());\n    pipeline.addPolicy(userAgentPolicy(options.userAgentOptions));\n    pipeline.addPolicy(setClientRequestIdPolicy());\n    pipeline.addPolicy(defaultRetryPolicy(options.retryOptions), { phase: \"Retry\" });\n    pipeline.addPolicy(tracingPolicy(options.userAgentOptions), { afterPhase: \"Retry\" });\n    if (isNode) {\n        // Both XHR and Fetch expect to handle redirects automatically,\n        // so only include this policy when we're in Node.\n        pipeline.addPolicy(redirectPolicy(options.redirectOptions), { afterPhase: \"Retry\" });\n    }\n    pipeline.addPolicy(logPolicy(options.loggingOptions), { afterPhase: \"Sign\" });\n    return pipeline;\n}\n//# sourceMappingURL=createPipelineFromOptions.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nfunction normalizeName(name) {\n    return name.toLowerCase();\n}\nfunction* headerIterator(map) {\n    for (const entry of map.values()) {\n        yield [entry.name, entry.value];\n    }\n}\nclass HttpHeadersImpl {\n    constructor(rawHeaders) {\n        this._headersMap = new Map();\n        if (rawHeaders) {\n            for (const headerName of Object.keys(rawHeaders)) {\n                this.set(headerName, rawHeaders[headerName]);\n            }\n        }\n    }\n    /**\n     * Set a header in this collection with the provided name and value. The name is\n     * case-insensitive.\n     * @param name - The name of the header to set. This value is case-insensitive.\n     * @param value - The value of the header to set.\n     */\n    set(name, value) {\n        this._headersMap.set(normalizeName(name), { name, value: String(value) });\n    }\n    /**\n     * Get the header value for the provided header name, or undefined if no header exists in this\n     * collection with the provided name.\n     * @param name - The name of the header. This value is case-insensitive.\n     */\n    get(name) {\n        var _a;\n        return (_a = this._headersMap.get(normalizeName(name))) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    /**\n     * Get whether or not this header collection contains a header entry for the provided header name.\n     * @param name - The name of the header to set. This value is case-insensitive.\n     */\n    has(name) {\n        return this._headersMap.has(normalizeName(name));\n    }\n    /**\n     * Remove the header with the provided headerName.\n     * @param name - The name of the header to remove.\n     */\n    delete(name) {\n        this._headersMap.delete(normalizeName(name));\n    }\n    /**\n     * Get the JSON object representation of this HTTP header collection.\n     */\n    toJSON(options = {}) {\n        const result = {};\n        if (options.preserveCase) {\n            for (const entry of this._headersMap.values()) {\n                result[entry.name] = entry.value;\n            }\n        }\n        else {\n            for (const [normalizedName, entry] of this._headersMap) {\n                result[normalizedName] = entry.value;\n            }\n        }\n        return result;\n    }\n    /**\n     * Get the string representation of this HTTP header collection.\n     */\n    toString() {\n        return JSON.stringify(this.toJSON({ preserveCase: true }));\n    }\n    /**\n     * Iterate over tuples of header [name, value] pairs.\n     */\n    [Symbol.iterator]() {\n        return headerIterator(this._headersMap);\n    }\n}\n/**\n * Creates an object that satisfies the `HttpHeaders` interface.\n * @param rawHeaders - A simple object representing initial headers\n */\nexport function createHttpHeaders(rawHeaders) {\n    return new HttpHeadersImpl(rawHeaders);\n}\n//# sourceMappingURL=httpHeaders.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport * as http from \"http\";\nimport * as https from \"https\";\nimport * as zlib from \"zlib\";\nimport { Transform } from \"stream\";\nimport { AbortController, AbortError } from \"@azure/abort-controller\";\nimport { createHttpHeaders } from \"./httpHeaders\";\nimport { RestError } from \"./restError\";\nimport { logger } from \"./log\";\nconst DEFAULT_TLS_SETTINGS = {};\nfunction isReadableStream(body) {\n    return body && typeof body.pipe === \"function\";\n}\nfunction isStreamComplete(stream) {\n    return new Promise((resolve) => {\n        stream.on(\"close\", resolve);\n        stream.on(\"end\", resolve);\n        stream.on(\"error\", resolve);\n    });\n}\nfunction isArrayBuffer(body) {\n    return body && typeof body.byteLength === \"number\";\n}\nclass ReportTransform extends Transform {\n    constructor(progressCallback) {\n        super();\n        this.loadedBytes = 0;\n        this.progressCallback = progressCallback;\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    _transform(chunk, _encoding, callback) {\n        this.push(chunk);\n        this.loadedBytes += chunk.length;\n        try {\n            this.progressCallback({ loadedBytes: this.loadedBytes });\n            callback();\n        }\n        catch (e) {\n            callback(e);\n        }\n    }\n}\n/**\n * A HttpClient implementation that uses Node's \"https\" module to send HTTPS requests.\n * @internal\n */\nclass NodeHttpClient {\n    constructor() {\n        this.cachedHttpsAgents = new WeakMap();\n    }\n    /**\n     * Makes a request over an underlying transport layer and returns the response.\n     * @param request - The request to be made.\n     */\n    async sendRequest(request) {\n        var _a, _b, _c;\n        const abortController = new AbortController();\n        let abortListener;\n        if (request.abortSignal) {\n            if (request.abortSignal.aborted) {\n                throw new AbortError(\"The operation was aborted.\");\n            }\n            abortListener = (event) => {\n                if (event.type === \"abort\") {\n                    abortController.abort();\n                }\n            };\n            request.abortSignal.addEventListener(\"abort\", abortListener);\n        }\n        if (request.timeout > 0) {\n            setTimeout(() => {\n                abortController.abort();\n            }, request.timeout);\n        }\n        const acceptEncoding = request.headers.get(\"Accept-Encoding\");\n        const shouldDecompress = (acceptEncoding === null || acceptEncoding === void 0 ? void 0 : acceptEncoding.includes(\"gzip\")) || (acceptEncoding === null || acceptEncoding === void 0 ? void 0 : acceptEncoding.includes(\"deflate\"));\n        let body = typeof request.body === \"function\" ? request.body() : request.body;\n        if (body && !request.headers.has(\"Content-Length\")) {\n            const bodyLength = getBodyLength(body);\n            if (bodyLength !== null) {\n                request.headers.set(\"Content-Length\", bodyLength);\n            }\n        }\n        let responseStream;\n        try {\n            if (body && request.onUploadProgress) {\n                const onUploadProgress = request.onUploadProgress;\n                const uploadReportStream = new ReportTransform(onUploadProgress);\n                uploadReportStream.on(\"error\", (e) => {\n                    logger.error(\"Error in upload progress\", e);\n                });\n                if (isReadableStream(body)) {\n                    body.pipe(uploadReportStream);\n                }\n                else {\n                    uploadReportStream.end(body);\n                }\n                body = uploadReportStream;\n            }\n            const res = await this.makeRequest(request, abortController, body);\n            const headers = getResponseHeaders(res);\n            const status = (_a = res.statusCode) !== null && _a !== void 0 ? _a : 0;\n            const response = {\n                status,\n                headers,\n                request,\n            };\n            // Responses to HEAD must not have a body.\n            // If they do return a body, that body must be ignored.\n            if (request.method === \"HEAD\") {\n                // call resume() and not destroy() to avoid closing the socket\n                // and losing keep alive\n                res.resume();\n                return response;\n            }\n            responseStream = shouldDecompress ? getDecodedResponseStream(res, headers) : res;\n            const onDownloadProgress = request.onDownloadProgress;\n            if (onDownloadProgress) {\n                const downloadReportStream = new ReportTransform(onDownloadProgress);\n                downloadReportStream.on(\"error\", (e) => {\n                    logger.error(\"Error in download progress\", e);\n                });\n                responseStream.pipe(downloadReportStream);\n                responseStream = downloadReportStream;\n            }\n            if (\n            // Value of POSITIVE_INFINITY in streamResponseStatusCodes is considered as any status code\n            ((_b = request.streamResponseStatusCodes) === null || _b === void 0 ? void 0 : _b.has(Number.POSITIVE_INFINITY)) ||\n                ((_c = request.streamResponseStatusCodes) === null || _c === void 0 ? void 0 : _c.has(response.status))) {\n                response.readableStreamBody = responseStream;\n            }\n            else {\n                response.bodyAsText = await streamToText(responseStream);\n            }\n            return response;\n        }\n        finally {\n            // clean up event listener\n            if (request.abortSignal && abortListener) {\n                let uploadStreamDone = Promise.resolve();\n                if (isReadableStream(body)) {\n                    uploadStreamDone = isStreamComplete(body);\n                }\n                let downloadStreamDone = Promise.resolve();\n                if (isReadableStream(responseStream)) {\n                    downloadStreamDone = isStreamComplete(responseStream);\n                }\n                Promise.all([uploadStreamDone, downloadStreamDone])\n                    .then(() => {\n                    var _a;\n                    // eslint-disable-next-line promise/always-return\n                    if (abortListener) {\n                        (_a = request.abortSignal) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"abort\", abortListener);\n                    }\n                })\n                    .catch((e) => {\n                    logger.warning(\"Error when cleaning up abortListener on httpRequest\", e);\n                });\n            }\n        }\n    }\n    makeRequest(request, abortController, body) {\n        var _a;\n        const url = new URL(request.url);\n        const isInsecure = url.protocol !== \"https:\";\n        if (isInsecure && !request.allowInsecureConnection) {\n            throw new Error(`Cannot connect to ${request.url} while allowInsecureConnection is false.`);\n        }\n        const agent = (_a = request.agent) !== null && _a !== void 0 ? _a : this.getOrCreateAgent(request, isInsecure);\n        const options = {\n            agent,\n            hostname: url.hostname,\n            path: `${url.pathname}${url.search}`,\n            port: url.port,\n            method: request.method,\n            headers: request.headers.toJSON({ preserveCase: true }),\n        };\n        return new Promise((resolve, reject) => {\n            const req = isInsecure ? http.request(options, resolve) : https.request(options, resolve);\n            req.once(\"error\", (err) => {\n                var _a;\n                reject(new RestError(err.message, { code: (_a = err.code) !== null && _a !== void 0 ? _a : RestError.REQUEST_SEND_ERROR, request }));\n            });\n            abortController.signal.addEventListener(\"abort\", () => {\n                const abortError = new AbortError(\"The operation was aborted.\");\n                req.destroy(abortError);\n                reject(abortError);\n            });\n            if (body && isReadableStream(body)) {\n                body.pipe(req);\n            }\n            else if (body) {\n                if (typeof body === \"string\" || Buffer.isBuffer(body)) {\n                    req.end(body);\n                }\n                else if (isArrayBuffer(body)) {\n                    req.end(ArrayBuffer.isView(body) ? Buffer.from(body.buffer) : Buffer.from(body));\n                }\n                else {\n                    logger.error(\"Unrecognized body type\", body);\n                    reject(new RestError(\"Unrecognized body type\"));\n                }\n            }\n            else {\n                // streams don't like \"undefined\" being passed as data\n                req.end();\n            }\n        });\n    }\n    getOrCreateAgent(request, isInsecure) {\n        var _a;\n        const disableKeepAlive = request.disableKeepAlive;\n        // Handle Insecure requests first\n        if (isInsecure) {\n            if (disableKeepAlive) {\n                // keepAlive:false is the default so we don't need a custom Agent\n                return http.globalAgent;\n            }\n            if (!this.cachedHttpAgent) {\n                // If there is no cached agent create a new one and cache it.\n                this.cachedHttpAgent = new http.Agent({ keepAlive: true });\n            }\n            return this.cachedHttpAgent;\n        }\n        else {\n            if (disableKeepAlive && !request.tlsSettings) {\n                // When there are no tlsSettings and keepAlive is false\n                // we don't need a custom agent\n                return https.globalAgent;\n            }\n            // We use the tlsSettings to index cached clients\n            const tlsSettings = (_a = request.tlsSettings) !== null && _a !== void 0 ? _a : DEFAULT_TLS_SETTINGS;\n            // Get the cached agent or create a new one with the\n            // provided values for keepAlive and tlsSettings\n            let agent = this.cachedHttpsAgents.get(tlsSettings);\n            if (agent && agent.options.keepAlive === !disableKeepAlive) {\n                return agent;\n            }\n            logger.info(\"No cached TLS Agent exist, creating a new Agent\");\n            agent = new https.Agent(Object.assign({ \n                // keepAlive is true if disableKeepAlive is false.\n                keepAlive: !disableKeepAlive }, tlsSettings));\n            this.cachedHttpsAgents.set(tlsSettings, agent);\n            return agent;\n        }\n    }\n}\nfunction getResponseHeaders(res) {\n    const headers = createHttpHeaders();\n    for (const header of Object.keys(res.headers)) {\n        const value = res.headers[header];\n        if (Array.isArray(value)) {\n            if (value.length > 0) {\n                headers.set(header, value[0]);\n            }\n        }\n        else if (value) {\n            headers.set(header, value);\n        }\n    }\n    return headers;\n}\nfunction getDecodedResponseStream(stream, headers) {\n    const contentEncoding = headers.get(\"Content-Encoding\");\n    if (contentEncoding === \"gzip\") {\n        const unzip = zlib.createGunzip();\n        stream.pipe(unzip);\n        return unzip;\n    }\n    else if (contentEncoding === \"deflate\") {\n        const inflate = zlib.createInflate();\n        stream.pipe(inflate);\n        return inflate;\n    }\n    return stream;\n}\nfunction streamToText(stream) {\n    return new Promise((resolve, reject) => {\n        const buffer = [];\n        stream.on(\"data\", (chunk) => {\n            if (Buffer.isBuffer(chunk)) {\n                buffer.push(chunk);\n            }\n            else {\n                buffer.push(Buffer.from(chunk));\n            }\n        });\n        stream.on(\"end\", () => {\n            resolve(Buffer.concat(buffer).toString(\"utf8\"));\n        });\n        stream.on(\"error\", (e) => {\n            if (e && (e === null || e === void 0 ? void 0 : e.name) === \"AbortError\") {\n                reject(e);\n            }\n            else {\n                reject(new RestError(`Error reading response as text: ${e.message}`, {\n                    code: RestError.PARSE_ERROR,\n                }));\n            }\n        });\n    });\n}\n/** @internal */\nexport function getBodyLength(body) {\n    if (!body) {\n        return 0;\n    }\n    else if (Buffer.isBuffer(body)) {\n        return body.length;\n    }\n    else if (isReadableStream(body)) {\n        return null;\n    }\n    else if (isArrayBuffer(body)) {\n        return body.byteLength;\n    }\n    else if (typeof body === \"string\") {\n        return Buffer.from(body).length;\n    }\n    else {\n        return null;\n    }\n}\n/**\n * Create a new HttpClient instance for the NodeJS environment.\n * @internal\n */\nexport function createNodeHttpClient() {\n    return new NodeHttpClient();\n}\n//# sourceMappingURL=nodeHttpClient.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createNodeHttpClient } from \"./nodeHttpClient\";\n/**\n * Create the correct HttpClient for the current environment.\n */\nexport function createDefaultHttpClient() {\n    return createNodeHttpClient();\n}\n//# sourceMappingURL=defaultHttpClient.js.map","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createHttpHeaders } from \"./httpHeaders\";\nimport { generateUuid } from \"./util/uuid\";\nclass PipelineRequestImpl {\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        this.url = options.url;\n        this.body = options.body;\n        this.headers = (_a = options.headers) !== null && _a !== void 0 ? _a : createHttpHeaders();\n        this.method = (_b = options.method) !== null && _b !== void 0 ? _b : \"GET\";\n        this.timeout = (_c = options.timeout) !== null && _c !== void 0 ? _c : 0;\n        this.formData = options.formData;\n        this.disableKeepAlive = (_d = options.disableKeepAlive) !== null && _d !== void 0 ? _d : false;\n        this.proxySettings = options.proxySettings;\n        this.streamResponseStatusCodes = options.streamResponseStatusCodes;\n        this.withCredentials = (_e = options.withCredentials) !== null && _e !== void 0 ? _e : false;\n        this.abortSignal = options.abortSignal;\n        this.tracingOptions = options.tracingOptions;\n        this.onUploadProgress = options.onUploadProgress;\n        this.onDownloadProgress = options.onDownloadProgress;\n        this.requestId = options.requestId || generateUuid();\n        this.allowInsecureConnection = (_f = options.allowInsecureConnection) !== null && _f !== void 0 ? _f : false;\n        this.enableBrowserStreams = (_g = options.enableBrowserStreams) !== null && _g !== void 0 ? _g : false;\n    }\n}\n/**\n * Creates a new pipeline request with the given options.\n * This method is to allow for the easy setting of default values and not required.\n * @param options - The options to create the request with.\n */\nexport function createPipelineRequest(options) {\n    return new PipelineRequestImpl(options);\n}\n//# sourceMappingURL=pipelineRequest.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { v4 as uuidv4 } from \"uuid\";\n/**\n * Generated Universally Unique Identifier\n *\n * @returns RFC4122 v4 UUID.\n * @internal\n */\nexport function generateUuid() {\n    return uuidv4();\n}\n//# sourceMappingURL=uuid.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n/**\n * The programmatic identifier of the exponentialRetryPolicy.\n */\nexport const exponentialRetryPolicyName = \"exponentialRetryPolicy\";\n/**\n * A policy that attempts to retry requests while introducing an exponentially increasing delay.\n * @param options - Options that configure retry logic.\n */\nexport function exponentialRetryPolicy(options = {}) {\n    var _a;\n    return retryPolicy([\n        exponentialRetryStrategy(Object.assign(Object.assign({}, options), { ignoreSystemErrors: true })),\n    ], {\n        maxRetries: (_a = options.maxRetries) !== null && _a !== void 0 ? _a : DEFAULT_RETRY_POLICY_COUNT,\n    });\n}\n//# sourceMappingURL=exponentialRetryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n/**\n * Name of the {@link systemErrorRetryPolicy}\n */\nexport const systemErrorRetryPolicyName = \"systemErrorRetryPolicy\";\n/**\n * A retry policy that specifically seeks to handle errors in the\n * underlying transport layer (e.g. DNS lookup failures) rather than\n * retryable error codes from the server itself.\n * @param options - Options that customize the policy.\n */\nexport function systemErrorRetryPolicy(options = {}) {\n    var _a;\n    return {\n        name: systemErrorRetryPolicyName,\n        sendRequest: retryPolicy([\n            exponentialRetryStrategy(Object.assign(Object.assign({}, options), { ignoreHttpStatusCodes: true })),\n        ], {\n            maxRetries: (_a = options.maxRetries) !== null && _a !== void 0 ? _a : DEFAULT_RETRY_POLICY_COUNT,\n        }).sendRequest,\n    };\n}\n//# sourceMappingURL=systemErrorRetryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { throttlingRetryStrategy } from \"../retryStrategies/throttlingRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n/**\n * Name of the {@link throttlingRetryPolicy}\n */\nexport const throttlingRetryPolicyName = \"throttlingRetryPolicy\";\n/**\n * A policy that retries when the server sends a 429 response with a Retry-After header.\n *\n * To learn more, please refer to\n * https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-request-limits,\n * https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits and\n * https://docs.microsoft.com/en-us/azure/virtual-machines/troubleshooting/troubleshooting-throttling-errors\n *\n * @param options - Options that configure retry logic.\n */\nexport function throttlingRetryPolicy(options = {}) {\n    var _a;\n    return {\n        name: throttlingRetryPolicyName,\n        sendRequest: retryPolicy([throttlingRetryStrategy()], {\n            maxRetries: (_a = options.maxRetries) !== null && _a !== void 0 ? _a : DEFAULT_RETRY_POLICY_COUNT,\n        }).sendRequest,\n    };\n}\n//# sourceMappingURL=throttlingRetryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { delay } from \"./helpers\";\n// Default options for the cycler if none are provided\nexport const DEFAULT_CYCLER_OPTIONS = {\n    forcedRefreshWindowInMs: 1000,\n    retryIntervalInMs: 3000,\n    refreshWindowInMs: 1000 * 60 * 2, // Start refreshing 2m before expiry\n};\n/**\n * Converts an an unreliable access token getter (which may resolve with null)\n * into an AccessTokenGetter by retrying the unreliable getter in a regular\n * interval.\n *\n * @param getAccessToken - A function that produces a promise of an access token that may fail by returning null.\n * @param retryIntervalInMs - The time (in milliseconds) to wait between retry attempts.\n * @param refreshTimeout - The timestamp after which the refresh attempt will fail, throwing an exception.\n * @returns - A promise that, if it resolves, will resolve with an access token.\n */\nasync function beginRefresh(getAccessToken, retryIntervalInMs, refreshTimeout) {\n    // This wrapper handles exceptions gracefully as long as we haven't exceeded\n    // the timeout.\n    async function tryGetAccessToken() {\n        if (Date.now() < refreshTimeout) {\n            try {\n                return await getAccessToken();\n            }\n            catch (_a) {\n                return null;\n            }\n        }\n        else {\n            const finalToken = await getAccessToken();\n            // Timeout is up, so throw if it's still null\n            if (finalToken === null) {\n                throw new Error(\"Failed to refresh access token.\");\n            }\n            return finalToken;\n        }\n    }\n    let token = await tryGetAccessToken();\n    while (token === null) {\n        await delay(retryIntervalInMs);\n        token = await tryGetAccessToken();\n    }\n    return token;\n}\n/**\n * Creates a token cycler from a credential, scopes, and optional settings.\n *\n * A token cycler represents a way to reliably retrieve a valid access token\n * from a TokenCredential. It will handle initializing the token, refreshing it\n * when it nears expiration, and synchronizes refresh attempts to avoid\n * concurrency hazards.\n *\n * @param credential - the underlying TokenCredential that provides the access\n * token\n * @param tokenCyclerOptions - optionally override default settings for the cycler\n *\n * @returns - a function that reliably produces a valid access token\n */\nexport function createTokenCycler(credential, tokenCyclerOptions) {\n    let refreshWorker = null;\n    let token = null;\n    let tenantId;\n    const options = Object.assign(Object.assign({}, DEFAULT_CYCLER_OPTIONS), tokenCyclerOptions);\n    /**\n     * This little holder defines several predicates that we use to construct\n     * the rules of refreshing the token.\n     */\n    const cycler = {\n        /**\n         * Produces true if a refresh job is currently in progress.\n         */\n        get isRefreshing() {\n            return refreshWorker !== null;\n        },\n        /**\n         * Produces true if the cycler SHOULD refresh (we are within the refresh\n         * window and not already refreshing)\n         */\n        get shouldRefresh() {\n            var _a;\n            return (!cycler.isRefreshing &&\n                ((_a = token === null || token === void 0 ? void 0 : token.expiresOnTimestamp) !== null && _a !== void 0 ? _a : 0) - options.refreshWindowInMs < Date.now());\n        },\n        /**\n         * Produces true if the cycler MUST refresh (null or nearly-expired\n         * token).\n         */\n        get mustRefresh() {\n            return (token === null || token.expiresOnTimestamp - options.forcedRefreshWindowInMs < Date.now());\n        },\n    };\n    /**\n     * Starts a refresh job or returns the existing job if one is already\n     * running.\n     */\n    function refresh(scopes, getTokenOptions) {\n        var _a;\n        if (!cycler.isRefreshing) {\n            // We bind `scopes` here to avoid passing it around a lot\n            const tryGetAccessToken = () => credential.getToken(scopes, getTokenOptions);\n            // Take advantage of promise chaining to insert an assignment to `token`\n            // before the refresh can be considered done.\n            refreshWorker = beginRefresh(tryGetAccessToken, options.retryIntervalInMs, \n            // If we don't have a token, then we should timeout immediately\n            (_a = token === null || token === void 0 ? void 0 : token.expiresOnTimestamp) !== null && _a !== void 0 ? _a : Date.now())\n                .then((_token) => {\n                refreshWorker = null;\n                token = _token;\n                tenantId = getTokenOptions.tenantId;\n                return token;\n            })\n                .catch((reason) => {\n                // We also should reset the refresher if we enter a failed state.  All\n                // existing awaiters will throw, but subsequent requests will start a\n                // new retry chain.\n                refreshWorker = null;\n                token = null;\n                tenantId = undefined;\n                throw reason;\n            });\n        }\n        return refreshWorker;\n    }\n    return async (scopes, tokenOptions) => {\n        //\n        // Simple rules:\n        // - If we MUST refresh, then return the refresh task, blocking\n        //   the pipeline until a token is available.\n        // - If we SHOULD refresh, then run refresh but don't return it\n        //   (we can still use the cached token).\n        // - Return the token, since it's fine if we didn't return in\n        //   step 1.\n        //\n        // If the tenantId passed in token options is different to the one we have\n        // Or if we are in claim challenge and the token was rejected and a new access token need to be issued, we need to\n        // refresh the token with the new tenantId or token.\n        const mustRefresh = tenantId !== tokenOptions.tenantId || Boolean(tokenOptions.claims) || cycler.mustRefresh;\n        if (mustRefresh)\n            return refresh(scopes, tokenOptions);\n        if (cycler.shouldRefresh) {\n            refresh(scopes, tokenOptions);\n        }\n        return token;\n    };\n}\n//# sourceMappingURL=tokenCycler.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTokenCycler } from \"../util/tokenCycler\";\nimport { logger as coreLogger } from \"../log\";\n/**\n * The programmatic identifier of the bearerTokenAuthenticationPolicy.\n */\nexport const bearerTokenAuthenticationPolicyName = \"bearerTokenAuthenticationPolicy\";\n/**\n * Default authorize request handler\n */\nasync function defaultAuthorizeRequest(options) {\n    const { scopes, getAccessToken, request } = options;\n    const getTokenOptions = {\n        abortSignal: request.abortSignal,\n        tracingOptions: request.tracingOptions,\n    };\n    const accessToken = await getAccessToken(scopes, getTokenOptions);\n    if (accessToken) {\n        options.request.headers.set(\"Authorization\", `Bearer ${accessToken.token}`);\n    }\n}\n/**\n * We will retrieve the challenge only if the response status code was 401,\n * and if the response contained the header \"WWW-Authenticate\" with a non-empty value.\n */\nfunction getChallenge(response) {\n    const challenge = response.headers.get(\"WWW-Authenticate\");\n    if (response.status === 401 && challenge) {\n        return challenge;\n    }\n    return;\n}\n/**\n * A policy that can request a token from a TokenCredential implementation and\n * then apply it to the Authorization header of a request as a Bearer token.\n */\nexport function bearerTokenAuthenticationPolicy(options) {\n    var _a;\n    const { credential, scopes, challengeCallbacks } = options;\n    const logger = options.logger || coreLogger;\n    const callbacks = Object.assign({ authorizeRequest: (_a = challengeCallbacks === null || challengeCallbacks === void 0 ? void 0 : challengeCallbacks.authorizeRequest) !== null && _a !== void 0 ? _a : defaultAuthorizeRequest, authorizeRequestOnChallenge: challengeCallbacks === null || challengeCallbacks === void 0 ? void 0 : challengeCallbacks.authorizeRequestOnChallenge }, challengeCallbacks);\n    // This function encapsulates the entire process of reliably retrieving the token\n    // The options are left out of the public API until there's demand to configure this.\n    // Remember to extend `BearerTokenAuthenticationPolicyOptions` with `TokenCyclerOptions`\n    // in order to pass through the `options` object.\n    const getAccessToken = credential\n        ? createTokenCycler(credential /* , options */)\n        : () => Promise.resolve(null);\n    return {\n        name: bearerTokenAuthenticationPolicyName,\n        /**\n         * If there's no challenge parameter:\n         * - It will try to retrieve the token using the cache, or the credential's getToken.\n         * - Then it will try the next policy with or without the retrieved token.\n         *\n         * It uses the challenge parameters to:\n         * - Skip a first attempt to get the token from the credential if there's no cached token,\n         *   since it expects the token to be retrievable only after the challenge.\n         * - Prepare the outgoing request if the `prepareRequest` method has been provided.\n         * - Send an initial request to receive the challenge if it fails.\n         * - Process a challenge if the response contains it.\n         * - Retrieve a token with the challenge information, then re-send the request.\n         */\n        async sendRequest(request, next) {\n            if (!request.url.toLowerCase().startsWith(\"https://\")) {\n                throw new Error(\"Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.\");\n            }\n            await callbacks.authorizeRequest({\n                scopes: Array.isArray(scopes) ? scopes : [scopes],\n                request,\n                getAccessToken,\n                logger,\n            });\n            let response;\n            let error;\n            try {\n                response = await next(request);\n            }\n            catch (err) {\n                error = err;\n                response = err.response;\n            }\n            if (callbacks.authorizeRequestOnChallenge &&\n                (response === null || response === void 0 ? void 0 : response.status) === 401 &&\n                getChallenge(response)) {\n                // processes challenge\n                const shouldSendRequest = await callbacks.authorizeRequestOnChallenge({\n                    scopes: Array.isArray(scopes) ? scopes : [scopes],\n                    request,\n                    response,\n                    getAccessToken,\n                    logger,\n                });\n                if (shouldSendRequest) {\n                    return next(request);\n                }\n            }\n            if (error) {\n                throw error;\n            }\n            else {\n                return response;\n            }\n        },\n    };\n}\n//# sourceMappingURL=bearerTokenAuthenticationPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the ndJsonPolicy.\n */\nexport const ndJsonPolicyName = \"ndJsonPolicy\";\n/**\n * ndJsonPolicy is a policy used to control keep alive settings for every request.\n */\nexport function ndJsonPolicy() {\n    return {\n        name: ndJsonPolicyName,\n        async sendRequest(request, next) {\n            // There currently isn't a good way to bypass the serializer\n            if (typeof request.body === \"string\" && request.body.startsWith(\"[\")) {\n                const body = JSON.parse(request.body);\n                if (Array.isArray(body)) {\n                    request.body = body.map((item) => JSON.stringify(item) + \"\\n\").join(\"\");\n                }\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=ndJsonPolicy.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction once(emitter, name, { signal } = {}) {\n    return new Promise((resolve, reject) => {\n        function cleanup() {\n            signal === null || signal === void 0 ? void 0 : signal.removeEventListener('abort', cleanup);\n            emitter.removeListener(name, onEvent);\n            emitter.removeListener('error', onError);\n        }\n        function onEvent(...args) {\n            cleanup();\n            resolve(args);\n        }\n        function onError(err) {\n            cleanup();\n            reject(err);\n        }\n        signal === null || signal === void 0 ? void 0 : signal.addEventListener('abort', cleanup);\n        emitter.on(name, onEvent);\n        emitter.on('error', onError);\n    });\n}\nexports.default = once;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst net_1 = __importDefault(require(\"net\"));\nconst tls_1 = __importDefault(require(\"tls\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst once_1 = __importDefault(require(\"@tootallnate/once\"));\nconst agent_base_1 = require(\"agent-base\");\nconst debug = (0, debug_1.default)('http-proxy-agent');\nfunction isHTTPS(protocol) {\n    return typeof protocol === 'string' ? /^https:?$/i.test(protocol) : false;\n}\n/**\n * The `HttpProxyAgent` implements an HTTP Agent subclass that connects\n * to the specified \"HTTP proxy server\" in order to proxy HTTP requests.\n *\n * @api public\n */\nclass HttpProxyAgent extends agent_base_1.Agent {\n    constructor(_opts) {\n        let opts;\n        if (typeof _opts === 'string') {\n            opts = url_1.default.parse(_opts);\n        }\n        else {\n            opts = _opts;\n        }\n        if (!opts) {\n            throw new Error('an HTTP(S) proxy server `host` and `port` must be specified!');\n        }\n        debug('Creating new HttpProxyAgent instance: %o', opts);\n        super(opts);\n        const proxy = Object.assign({}, opts);\n        // If `true`, then connect to the proxy server over TLS.\n        // Defaults to `false`.\n        this.secureProxy = opts.secureProxy || isHTTPS(proxy.protocol);\n        // Prefer `hostname` over `host`, and set the `port` if needed.\n        proxy.host = proxy.hostname || proxy.host;\n        if (typeof proxy.port === 'string') {\n            proxy.port = parseInt(proxy.port, 10);\n        }\n        if (!proxy.port && proxy.host) {\n            proxy.port = this.secureProxy ? 443 : 80;\n        }\n        if (proxy.host && proxy.path) {\n            // If both a `host` and `path` are specified then it's most likely\n            // the result of a `url.parse()` call... we need to remove the\n            // `path` portion so that `net.connect()` doesn't attempt to open\n            // that as a Unix socket file.\n            delete proxy.path;\n            delete proxy.pathname;\n        }\n        this.proxy = proxy;\n    }\n    /**\n     * Called when the node-core HTTP client library is creating a\n     * new HTTP request.\n     *\n     * @api protected\n     */\n    callback(req, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { proxy, secureProxy } = this;\n            const parsed = url_1.default.parse(req.path);\n            if (!parsed.protocol) {\n                parsed.protocol = 'http:';\n            }\n            if (!parsed.hostname) {\n                parsed.hostname = opts.hostname || opts.host || null;\n            }\n            if (parsed.port == null && typeof opts.port) {\n                parsed.port = String(opts.port);\n            }\n            if (parsed.port === '80') {\n                // if port is 80, then we can remove the port so that the\n                // \":80\" portion is not on the produced URL\n                parsed.port = '';\n            }\n            // Change the `http.ClientRequest` instance's \"path\" field\n            // to the absolute path of the URL that will be requested.\n            req.path = url_1.default.format(parsed);\n            // Inject the `Proxy-Authorization` header if necessary.\n            if (proxy.auth) {\n                req.setHeader('Proxy-Authorization', `Basic ${Buffer.from(proxy.auth).toString('base64')}`);\n            }\n            // Create a socket connection to the proxy server.\n            let socket;\n            if (secureProxy) {\n                debug('Creating `tls.Socket`: %o', proxy);\n                socket = tls_1.default.connect(proxy);\n            }\n            else {\n                debug('Creating `net.Socket`: %o', proxy);\n                socket = net_1.default.connect(proxy);\n            }\n            // At this point, the http ClientRequest's internal `_header` field\n            // might have already been set. If this is the case then we'll need\n            // to re-generate the string since we just changed the `req.path`.\n            if (req._header) {\n                let first;\n                let endOfHeaders;\n                debug('Regenerating stored HTTP header string for request');\n                req._header = null;\n                req._implicitHeader();\n                if (req.output && req.output.length > 0) {\n                    // Node < 12\n                    debug('Patching connection write() output buffer with updated header');\n                    first = req.output[0];\n                    endOfHeaders = first.indexOf('\\r\\n\\r\\n') + 4;\n                    req.output[0] = req._header + first.substring(endOfHeaders);\n                    debug('Output buffer: %o', req.output);\n                }\n                else if (req.outputData && req.outputData.length > 0) {\n                    // Node >= 12\n                    debug('Patching connection write() output buffer with updated header');\n                    first = req.outputData[0].data;\n                    endOfHeaders = first.indexOf('\\r\\n\\r\\n') + 4;\n                    req.outputData[0].data =\n                        req._header + first.substring(endOfHeaders);\n                    debug('Output buffer: %o', req.outputData[0].data);\n                }\n            }\n            // Wait for the socket's `connect` event, so that this `callback()`\n            // function throws instead of the `http` request machinery. This is\n            // important for i.e. `PacProxyAgent` which determines a failed proxy\n            // connection via the `callback()` function throwing.\n            yield (0, once_1.default)(socket, 'connect');\n            return socket;\n        });\n    }\n}\nexports.default = HttpProxyAgent;\n//# sourceMappingURL=agent.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst agent_1 = __importDefault(require(\"./agent\"));\nfunction createHttpProxyAgent(opts) {\n    return new agent_1.default(opts);\n}\n(function (createHttpProxyAgent) {\n    createHttpProxyAgent.HttpProxyAgent = agent_1.default;\n    createHttpProxyAgent.prototype = agent_1.default.prototype;\n})(createHttpProxyAgent || (createHttpProxyAgent = {}));\nmodule.exports = createHttpProxyAgent;\n//# sourceMappingURL=index.js.map","/*!\n * Application Insights JavaScript SDK - Web Snippet, 1.0.1\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nvar webSnippet = \"!function(T,l,y){var S=T.location,k=\\\"script\\\",D=\\\"instrumentationKey\\\",C=\\\"ingestionendpoint\\\",I=\\\"disableExceptionTracking\\\",E=\\\"ai.device.\\\",b=\\\"toLowerCase\\\",w=\\\"crossOrigin\\\",N=\\\"POST\\\",e=\\\"appInsightsSDK\\\",t=y.name||\\\"appInsights\\\";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:\\\"5\\\",version:2,config:d};function v(e,t){var n={},a=\\\"Browser\\\";return n[E+\\\"id\\\"]=a[b](),n[E+\\\"type\\\"]=a,n[\\\"ai.operation.name\\\"]=S&&S.pathname||\\\"_unknown_\\\",n[\\\"ai.internal.sdkVersion\\\"]=\\\"javascript:snippet_\\\"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=\\\"\\\"+e;return 1===t.length&&(t=\\\"0\\\"+t),t}return e.getUTCFullYear()+\\\"-\\\"+t(1+e.getUTCMonth())+\\\"-\\\"+t(e.getUTCDate())+\\\"T\\\"+t(e.getUTCHours())+\\\":\\\"+t(e.getUTCMinutes())+\\\":\\\"+t(e.getUTCSeconds())+\\\".\\\"+((e.getUTCMilliseconds()/1e3).toFixed(3)+\\\"\\\").slice(2,5)+\\\"Z\\\"}(),iKey:e,name:\\\"Microsoft.ApplicationInsights.\\\"+e.replace(/-/g,\\\"\\\")+\\\".\\\"+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(\\\";\\\"),a=0;a<n.length;a++){var i=n[a].split(\\\"=\\\");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]=\\\"https://\\\"+(o?o+\\\".\\\":\\\"\\\")+\\\"dc.\\\"+(r||\\\"services.visualstudio.com\\\")}return e}(),c=s[D]||d[D]||\\\"\\\",u=s[C],p=u?u+\\\"/v2/track\\\":d.endpointUrl,(l=[]).push((n=\\\"SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)\\\",a=t,i=p,(o=(r=v(c,\\\"Exception\\\")).data).baseType=\\\"ExceptionData\\\",o.baseData.exceptions=[{typeName:\\\"SDKLoadFailed\\\",message:n.replace(/\\\\./g,\\\"-\\\"),hasFullStack:!1,stack:n+\\\"\\\\nSnippet failed to load [\\\"+a+\\\"] -- Telemetry is disabled\\\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\\\nHost: \\\"+(S&&S.pathname||\\\"_unknown_\\\")+\\\"\\\\nEndpoint: \\\"+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,\\\"Message\\\"),r=i.data;r.baseType=\\\"MessageData\\\";var o=r.baseData;return o.message=\\'AI (Internal): 99 message:\\\"\\'+(\\\"SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) (\\\"+n+\\\")\\\").replace(/\\\\\\\"/g,\\\"\\\")+\\'\\\"\\',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:\\\"cors\\\"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader(\\\"Content-type\\\",\\\"application/json\\\"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&\\\"\\\"!==e||\\\"undefined\\\"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){\\\"loaded\\\"!==n.readyState&&\\\"complete\\\"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName(\\\"head\\\")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n=\\\"track\\\",r=\\\"TrackPage\\\",o=\\\"TrackEvent\\\";t([n+\\\"Event\\\",n+\\\"PageView\\\",n+\\\"Exception\\\",n+\\\"Trace\\\",n+\\\"DependencyData\\\",n+\\\"Metric\\\",n+\\\"PageViewPerformance\\\",\\\"start\\\"+r,\\\"stop\\\"+r,\\\"start\\\"+o,\\\"stop\\\"+o,\\\"addTelemetryInitializer\\\",\\\"setAuthenticatedUserContext\\\",\\\"clearAuthenticatedUserContext\\\",\\\"flush\\\"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c=\\\"onerror\\\";t([\\\"_\\\"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m[\\\"_\\\"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{\\r\\nsrc: \\\"https://js.monitor.azure.com/scripts/b/ai.2.min.js\\\", // The SDK URL Source\\r\\n// name: \\\"appInsights\\\", // Global SDK Instance name defaults to \\\"appInsights\\\" when not supplied\\r\\n// ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\\r\\n// useXhr: 1, // Use XHR instead of fetch to report failures (if available),\\r\\n// crossOrigin: \\\"anonymous\\\", // When supplied this will add the provided value as the cross origin attribute on the script tag\\r\\n// onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won\\'t get called)\\r\\ncfg: { // Application Insights Configuration\\r\\n    instrumentationKey: \\\"INSTRUMENTATION_KEY\\\"\\r\\n}});\";\n\nexport { webSnippet };\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { ROOT_CONTEXT } from './context';\nvar NoopContextManager = /** @class */ (function () {\n    function NoopContextManager() {\n    }\n    NoopContextManager.prototype.active = function () {\n        return ROOT_CONTEXT;\n    };\n    NoopContextManager.prototype.with = function (_context, fn, thisArg) {\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        return fn.call.apply(fn, __spreadArray([thisArg], __read(args), false));\n    };\n    NoopContextManager.prototype.bind = function (_context, target) {\n        return target;\n    };\n    NoopContextManager.prototype.enable = function () {\n        return this;\n    };\n    NoopContextManager.prototype.disable = function () {\n        return this;\n    };\n    return NoopContextManager;\n}());\nexport { NoopContextManager };\n//# sourceMappingURL=NoopContextManager.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { NoopContextManager } from '../context/NoopContextManager';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'context';\nvar NOOP_CONTEXT_MANAGER = new NoopContextManager();\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Context API\n */\nvar ContextAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function ContextAPI() {\n    }\n    /** Get the singleton instance of the Context API */\n    ContextAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new ContextAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current context manager.\n     *\n     * @returns true if the context manager was successfully registered, else false\n     */\n    ContextAPI.prototype.setGlobalContextManager = function (contextManager) {\n        return registerGlobal(API_NAME, contextManager, DiagAPI.instance());\n    };\n    /**\n     * Get the currently active context\n     */\n    ContextAPI.prototype.active = function () {\n        return this._getContextManager().active();\n    };\n    /**\n     * Execute a function with an active context\n     *\n     * @param context context to be active during function execution\n     * @param fn function to execute in a context\n     * @param thisArg optional receiver to be used for calling fn\n     * @param args optional arguments forwarded to fn\n     */\n    ContextAPI.prototype.with = function (context, fn, thisArg) {\n        var _a;\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        return (_a = this._getContextManager()).with.apply(_a, __spreadArray([context, fn, thisArg], __read(args), false));\n    };\n    /**\n     * Bind a context to a target function or event emitter\n     *\n     * @param context context to bind to the event emitter or function. Defaults to the currently active context\n     * @param target function or event emitter to bind\n     */\n    ContextAPI.prototype.bind = function (context, target) {\n        return this._getContextManager().bind(context, target);\n    };\n    ContextAPI.prototype._getContextManager = function () {\n        return getGlobal(API_NAME) || NOOP_CONTEXT_MANAGER;\n    };\n    /** Disable and remove the global context manager */\n    ContextAPI.prototype.disable = function () {\n        this._getContextManager().disable();\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n    };\n    return ContextAPI;\n}());\nexport { ContextAPI };\n//# sourceMappingURL=context.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { getGlobal } from '../internal/global-utils';\n/**\n * Component Logger which is meant to be used as part of any component which\n * will add automatically additional namespace in front of the log message.\n * It will then forward all message to global diag logger\n * @example\n * const cLogger = diag.createComponentLogger({ namespace: '@opentelemetry/instrumentation-http' });\n * cLogger.debug('test');\n * // @opentelemetry/instrumentation-http test\n */\nvar DiagComponentLogger = /** @class */ (function () {\n    function DiagComponentLogger(props) {\n        this._namespace = props.namespace || 'DiagComponentLogger';\n    }\n    DiagComponentLogger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('debug', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('error', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('info', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('warn', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.verbose = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('verbose', this._namespace, args);\n    };\n    return DiagComponentLogger;\n}());\nexport { DiagComponentLogger };\nfunction logProxy(funcName, namespace, args) {\n    var logger = getGlobal('diag');\n    // shortcut if logger not set\n    if (!logger) {\n        return;\n    }\n    args.unshift(namespace);\n    return logger[funcName].apply(logger, __spreadArray([], __read(args), false));\n}\n//# sourceMappingURL=ComponentLogger.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { DiagComponentLogger } from '../diag/ComponentLogger';\nimport { createLogLevelDiagLogger } from '../diag/internal/logLevelLogger';\nimport { DiagLogLevel, } from '../diag/types';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nvar API_NAME = 'diag';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry internal\n * diagnostic API\n */\nvar DiagAPI = /** @class */ (function () {\n    /**\n     * Private internal constructor\n     * @private\n     */\n    function DiagAPI() {\n        function _logProxy(funcName) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var logger = getGlobal('diag');\n                // shortcut if logger not set\n                if (!logger)\n                    return;\n                return logger[funcName].apply(logger, __spreadArray([], __read(args), false));\n            };\n        }\n        // Using self local variable for minification purposes as 'this' cannot be minified\n        var self = this;\n        // DiagAPI specific functions\n        var setLogger = function (logger, optionsOrLogLevel) {\n            var _a, _b, _c;\n            if (optionsOrLogLevel === void 0) { optionsOrLogLevel = { logLevel: DiagLogLevel.INFO }; }\n            if (logger === self) {\n                // There isn't much we can do here.\n                // Logging to the console might break the user application.\n                // Try to log to self. If a logger was previously registered it will receive the log.\n                var err = new Error('Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation');\n                self.error((_a = err.stack) !== null && _a !== void 0 ? _a : err.message);\n                return false;\n            }\n            if (typeof optionsOrLogLevel === 'number') {\n                optionsOrLogLevel = {\n                    logLevel: optionsOrLogLevel,\n                };\n            }\n            var oldLogger = getGlobal('diag');\n            var newLogger = createLogLevelDiagLogger((_b = optionsOrLogLevel.logLevel) !== null && _b !== void 0 ? _b : DiagLogLevel.INFO, logger);\n            // There already is an logger registered. We'll let it know before overwriting it.\n            if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {\n                var stack = (_c = new Error().stack) !== null && _c !== void 0 ? _c : '<failed to generate stacktrace>';\n                oldLogger.warn(\"Current logger will be overwritten from \" + stack);\n                newLogger.warn(\"Current logger will overwrite one already registered from \" + stack);\n            }\n            return registerGlobal('diag', newLogger, self, true);\n        };\n        self.setLogger = setLogger;\n        self.disable = function () {\n            unregisterGlobal(API_NAME, self);\n        };\n        self.createComponentLogger = function (options) {\n            return new DiagComponentLogger(options);\n        };\n        self.verbose = _logProxy('verbose');\n        self.debug = _logProxy('debug');\n        self.info = _logProxy('info');\n        self.warn = _logProxy('warn');\n        self.error = _logProxy('error');\n    }\n    /** Get the singleton instance of the DiagAPI API */\n    DiagAPI.instance = function () {\n        if (!this._instance) {\n            this._instance = new DiagAPI();\n        }\n        return this._instance;\n    };\n    return DiagAPI;\n}());\nexport { DiagAPI };\n//# sourceMappingURL=diag.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DiagLogLevel } from '../types';\nexport function createLogLevelDiagLogger(maxLevel, logger) {\n    if (maxLevel < DiagLogLevel.NONE) {\n        maxLevel = DiagLogLevel.NONE;\n    }\n    else if (maxLevel > DiagLogLevel.ALL) {\n        maxLevel = DiagLogLevel.ALL;\n    }\n    // In case the logger is null or undefined\n    logger = logger || {};\n    function _filterFunc(funcName, theLevel) {\n        var theFunc = logger[funcName];\n        if (typeof theFunc === 'function' && maxLevel >= theLevel) {\n            return theFunc.bind(logger);\n        }\n        return function () { };\n    }\n    return {\n        error: _filterFunc('error', DiagLogLevel.ERROR),\n        warn: _filterFunc('warn', DiagLogLevel.WARN),\n        info: _filterFunc('info', DiagLogLevel.INFO),\n        debug: _filterFunc('debug', DiagLogLevel.DEBUG),\n        verbose: _filterFunc('verbose', DiagLogLevel.VERBOSE),\n    };\n}\n//# sourceMappingURL=logLevelLogger.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar BaggageImpl = /** @class */ (function () {\n    function BaggageImpl(entries) {\n        this._entries = entries ? new Map(entries) : new Map();\n    }\n    BaggageImpl.prototype.getEntry = function (key) {\n        var entry = this._entries.get(key);\n        if (!entry) {\n            return undefined;\n        }\n        return Object.assign({}, entry);\n    };\n    BaggageImpl.prototype.getAllEntries = function () {\n        return Array.from(this._entries.entries()).map(function (_a) {\n            var _b = __read(_a, 2), k = _b[0], v = _b[1];\n            return [k, v];\n        });\n    };\n    BaggageImpl.prototype.setEntry = function (key, entry) {\n        var newBaggage = new BaggageImpl(this._entries);\n        newBaggage._entries.set(key, entry);\n        return newBaggage;\n    };\n    BaggageImpl.prototype.removeEntry = function (key) {\n        var newBaggage = new BaggageImpl(this._entries);\n        newBaggage._entries.delete(key);\n        return newBaggage;\n    };\n    BaggageImpl.prototype.removeEntries = function () {\n        var e_1, _a;\n        var keys = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            keys[_i] = arguments[_i];\n        }\n        var newBaggage = new BaggageImpl(this._entries);\n        try {\n            for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {\n                var key = keys_1_1.value;\n                newBaggage._entries.delete(key);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return newBaggage;\n    };\n    BaggageImpl.prototype.clear = function () {\n        return new BaggageImpl();\n    };\n    return BaggageImpl;\n}());\nexport { BaggageImpl };\n//# sourceMappingURL=baggage-impl.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Symbol used to make BaggageEntryMetadata an opaque type\n */\nexport var baggageEntryMetadataSymbol = Symbol('BaggageEntryMetadata');\n//# sourceMappingURL=symbol.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DiagAPI } from '../api/diag';\nimport { BaggageImpl } from './internal/baggage-impl';\nimport { baggageEntryMetadataSymbol } from './internal/symbol';\nvar diag = DiagAPI.instance();\n/**\n * Create a new Baggage with optional entries\n *\n * @param entries An array of baggage entries the new baggage should contain\n */\nexport function createBaggage(entries) {\n    if (entries === void 0) { entries = {}; }\n    return new BaggageImpl(new Map(Object.entries(entries)));\n}\n/**\n * Create a serializable BaggageEntryMetadata object from a string.\n *\n * @param str string metadata. Format is currently not defined by the spec and has no special meaning.\n *\n */\nexport function baggageEntryMetadataFromString(str) {\n    if (typeof str !== 'string') {\n        diag.error(\"Cannot create baggage metadata from unknown type: \" + typeof str);\n        str = '';\n    }\n    return {\n        __TYPE__: baggageEntryMetadataSymbol,\n        toString: function () {\n            return str;\n        },\n    };\n}\n//# sourceMappingURL=utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { ContextAPI } from './api/context';\n/** Entrypoint for context API */\nexport var context = ContextAPI.getInstance();\n//# sourceMappingURL=context-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Get a key to uniquely identify a context value */\nexport function createContextKey(description) {\n    // The specification states that for the same input, multiple calls should\n    // return different keys. Due to the nature of the JS dependency management\n    // system, this creates problems where multiple versions of some package\n    // could hold different keys for the same property.\n    //\n    // Therefore, we use Symbol.for which returns the same key for the same input.\n    return Symbol.for(description);\n}\nvar BaseContext = /** @class */ (function () {\n    /**\n     * Construct a new context which inherits values from an optional parent context.\n     *\n     * @param parentContext a context from which to inherit values\n     */\n    function BaseContext(parentContext) {\n        // for minification\n        var self = this;\n        self._currentContext = parentContext ? new Map(parentContext) : new Map();\n        self.getValue = function (key) { return self._currentContext.get(key); };\n        self.setValue = function (key, value) {\n            var context = new BaseContext(self._currentContext);\n            context._currentContext.set(key, value);\n            return context;\n        };\n        self.deleteValue = function (key) {\n            var context = new BaseContext(self._currentContext);\n            context._currentContext.delete(key);\n            return context;\n        };\n    }\n    return BaseContext;\n}());\n/** The root context is used as the default parent context when there is no active context */\nexport var ROOT_CONTEXT = new BaseContext();\n//# sourceMappingURL=context.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { DiagAPI } from './api/diag';\n/**\n * Entrypoint for Diag API.\n * Defines Diagnostic handler used for internal diagnostic logging operations.\n * The default provides a Noop DiagLogger implementation which may be changed via the\n * diag.setLogger(logger: DiagLogger) function.\n */\nexport var diag = DiagAPI.instance();\n//# sourceMappingURL=diag-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Defines the available internal logging levels for the diagnostic logger, the numeric values\n * of the levels are defined to match the original values from the initial LogLevel to avoid\n * compatibility/migration issues for any implementation that assume the numeric ordering.\n */\nexport var DiagLogLevel;\n(function (DiagLogLevel) {\n    /** Diagnostic Logging level setting to disable all logging (except and forced logs) */\n    DiagLogLevel[DiagLogLevel[\"NONE\"] = 0] = \"NONE\";\n    /** Identifies an error scenario */\n    DiagLogLevel[DiagLogLevel[\"ERROR\"] = 30] = \"ERROR\";\n    /** Identifies a warning scenario */\n    DiagLogLevel[DiagLogLevel[\"WARN\"] = 50] = \"WARN\";\n    /** General informational log message */\n    DiagLogLevel[DiagLogLevel[\"INFO\"] = 60] = \"INFO\";\n    /** General debug log message */\n    DiagLogLevel[DiagLogLevel[\"DEBUG\"] = 70] = \"DEBUG\";\n    /**\n     * Detailed trace level logging should only be used for development, should only be set\n     * in a development environment.\n     */\n    DiagLogLevel[DiagLogLevel[\"VERBOSE\"] = 80] = \"VERBOSE\";\n    /** Used to set the logging level to include all logging */\n    DiagLogLevel[DiagLogLevel[\"ALL\"] = 9999] = \"ALL\";\n})(DiagLogLevel || (DiagLogLevel = {}));\n//# sourceMappingURL=types.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * NoopMeter is a noop implementation of the {@link Meter} interface. It reuses\n * constant NoopMetrics for all of its methods.\n */\nvar NoopMeter = /** @class */ (function () {\n    function NoopMeter() {\n    }\n    /**\n     * @see {@link Meter.createGauge}\n     */\n    NoopMeter.prototype.createGauge = function (_name, _options) {\n        return NOOP_GAUGE_METRIC;\n    };\n    /**\n     * @see {@link Meter.createHistogram}\n     */\n    NoopMeter.prototype.createHistogram = function (_name, _options) {\n        return NOOP_HISTOGRAM_METRIC;\n    };\n    /**\n     * @see {@link Meter.createCounter}\n     */\n    NoopMeter.prototype.createCounter = function (_name, _options) {\n        return NOOP_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.createUpDownCounter}\n     */\n    NoopMeter.prototype.createUpDownCounter = function (_name, _options) {\n        return NOOP_UP_DOWN_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.createObservableGauge}\n     */\n    NoopMeter.prototype.createObservableGauge = function (_name, _options) {\n        return NOOP_OBSERVABLE_GAUGE_METRIC;\n    };\n    /**\n     * @see {@link Meter.createObservableCounter}\n     */\n    NoopMeter.prototype.createObservableCounter = function (_name, _options) {\n        return NOOP_OBSERVABLE_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.createObservableUpDownCounter}\n     */\n    NoopMeter.prototype.createObservableUpDownCounter = function (_name, _options) {\n        return NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.addBatchObservableCallback}\n     */\n    NoopMeter.prototype.addBatchObservableCallback = function (_callback, _observables) { };\n    /**\n     * @see {@link Meter.removeBatchObservableCallback}\n     */\n    NoopMeter.prototype.removeBatchObservableCallback = function (_callback) { };\n    return NoopMeter;\n}());\nexport { NoopMeter };\nvar NoopMetric = /** @class */ (function () {\n    function NoopMetric() {\n    }\n    return NoopMetric;\n}());\nexport { NoopMetric };\nvar NoopCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopCounterMetric, _super);\n    function NoopCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopCounterMetric.prototype.add = function (_value, _attributes) { };\n    return NoopCounterMetric;\n}(NoopMetric));\nexport { NoopCounterMetric };\nvar NoopUpDownCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopUpDownCounterMetric, _super);\n    function NoopUpDownCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopUpDownCounterMetric.prototype.add = function (_value, _attributes) { };\n    return NoopUpDownCounterMetric;\n}(NoopMetric));\nexport { NoopUpDownCounterMetric };\nvar NoopGaugeMetric = /** @class */ (function (_super) {\n    __extends(NoopGaugeMetric, _super);\n    function NoopGaugeMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopGaugeMetric.prototype.record = function (_value, _attributes) { };\n    return NoopGaugeMetric;\n}(NoopMetric));\nexport { NoopGaugeMetric };\nvar NoopHistogramMetric = /** @class */ (function (_super) {\n    __extends(NoopHistogramMetric, _super);\n    function NoopHistogramMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopHistogramMetric.prototype.record = function (_value, _attributes) { };\n    return NoopHistogramMetric;\n}(NoopMetric));\nexport { NoopHistogramMetric };\nvar NoopObservableMetric = /** @class */ (function () {\n    function NoopObservableMetric() {\n    }\n    NoopObservableMetric.prototype.addCallback = function (_callback) { };\n    NoopObservableMetric.prototype.removeCallback = function (_callback) { };\n    return NoopObservableMetric;\n}());\nexport { NoopObservableMetric };\nvar NoopObservableCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopObservableCounterMetric, _super);\n    function NoopObservableCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NoopObservableCounterMetric;\n}(NoopObservableMetric));\nexport { NoopObservableCounterMetric };\nvar NoopObservableGaugeMetric = /** @class */ (function (_super) {\n    __extends(NoopObservableGaugeMetric, _super);\n    function NoopObservableGaugeMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NoopObservableGaugeMetric;\n}(NoopObservableMetric));\nexport { NoopObservableGaugeMetric };\nvar NoopObservableUpDownCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopObservableUpDownCounterMetric, _super);\n    function NoopObservableUpDownCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NoopObservableUpDownCounterMetric;\n}(NoopObservableMetric));\nexport { NoopObservableUpDownCounterMetric };\nexport var NOOP_METER = new NoopMeter();\n// Synchronous instruments\nexport var NOOP_COUNTER_METRIC = new NoopCounterMetric();\nexport var NOOP_GAUGE_METRIC = new NoopGaugeMetric();\nexport var NOOP_HISTOGRAM_METRIC = new NoopHistogramMetric();\nexport var NOOP_UP_DOWN_COUNTER_METRIC = new NoopUpDownCounterMetric();\n// Asynchronous instruments\nexport var NOOP_OBSERVABLE_COUNTER_METRIC = new NoopObservableCounterMetric();\nexport var NOOP_OBSERVABLE_GAUGE_METRIC = new NoopObservableGaugeMetric();\nexport var NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC = new NoopObservableUpDownCounterMetric();\n/**\n * Create a no-op Meter\n */\nexport function createNoopMeter() {\n    return NOOP_METER;\n}\n//# sourceMappingURL=NoopMeter.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** The Type of value. It describes how the data is reported. */\nexport var ValueType;\n(function (ValueType) {\n    ValueType[ValueType[\"INT\"] = 0] = \"INT\";\n    ValueType[ValueType[\"DOUBLE\"] = 1] = \"DOUBLE\";\n})(ValueType || (ValueType = {}));\n//# sourceMappingURL=Metric.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar consoleMap = [\n    { n: 'error', c: 'error' },\n    { n: 'warn', c: 'warn' },\n    { n: 'info', c: 'info' },\n    { n: 'debug', c: 'debug' },\n    { n: 'verbose', c: 'trace' },\n];\n/**\n * A simple Immutable Console based diagnostic logger which will output any messages to the Console.\n * If you want to limit the amount of logging to a specific level or lower use the\n * {@link createLogLevelDiagLogger}\n */\nvar DiagConsoleLogger = /** @class */ (function () {\n    function DiagConsoleLogger() {\n        function _consoleFunc(funcName) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                if (console) {\n                    // Some environments only expose the console when the F12 developer console is open\n                    // eslint-disable-next-line no-console\n                    var theFunc = console[funcName];\n                    if (typeof theFunc !== 'function') {\n                        // Not all environments support all functions\n                        // eslint-disable-next-line no-console\n                        theFunc = console.log;\n                    }\n                    // One last final check\n                    if (typeof theFunc === 'function') {\n                        return theFunc.apply(console, args);\n                    }\n                }\n            };\n        }\n        for (var i = 0; i < consoleMap.length; i++) {\n            this[consoleMap[i].n] = _consoleFunc(consoleMap[i].c);\n        }\n    }\n    return DiagConsoleLogger;\n}());\nexport { DiagConsoleLogger };\n//# sourceMappingURL=consoleLogger.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar VALID_KEY_CHAR_RANGE = '[_0-9a-z-*/]';\nvar VALID_KEY = \"[a-z]\" + VALID_KEY_CHAR_RANGE + \"{0,255}\";\nvar VALID_VENDOR_KEY = \"[a-z0-9]\" + VALID_KEY_CHAR_RANGE + \"{0,240}@[a-z]\" + VALID_KEY_CHAR_RANGE + \"{0,13}\";\nvar VALID_KEY_REGEX = new RegExp(\"^(?:\" + VALID_KEY + \"|\" + VALID_VENDOR_KEY + \")$\");\nvar VALID_VALUE_BASE_REGEX = /^[ -~]{0,255}[!-~]$/;\nvar INVALID_VALUE_COMMA_EQUAL_REGEX = /,|=/;\n/**\n * Key is opaque string up to 256 characters printable. It MUST begin with a\n * lowercase letter, and can only contain lowercase letters a-z, digits 0-9,\n * underscores _, dashes -, asterisks *, and forward slashes /.\n * For multi-tenant vendor scenarios, an at sign (@) can be used to prefix the\n * vendor name. Vendors SHOULD set the tenant ID at the beginning of the key.\n * see https://www.w3.org/TR/trace-context/#key\n */\nexport function validateKey(key) {\n    return VALID_KEY_REGEX.test(key);\n}\n/**\n * Value is opaque string up to 256 characters printable ASCII RFC0020\n * characters (i.e., the range 0x20 to 0x7E) except comma , and =.\n */\nexport function validateValue(value) {\n    return (VALID_VALUE_BASE_REGEX.test(value) &&\n        !INVALID_VALUE_COMMA_EQUAL_REGEX.test(value));\n}\n//# sourceMappingURL=tracestate-validators.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { validateKey, validateValue } from './tracestate-validators';\nvar MAX_TRACE_STATE_ITEMS = 32;\nvar MAX_TRACE_STATE_LEN = 512;\nvar LIST_MEMBERS_SEPARATOR = ',';\nvar LIST_MEMBER_KEY_VALUE_SPLITTER = '=';\n/**\n * TraceState must be a class and not a simple object type because of the spec\n * requirement (https://www.w3.org/TR/trace-context/#tracestate-field).\n *\n * Here is the list of allowed mutations:\n * - New key-value pair should be added into the beginning of the list\n * - The value of any key can be updated. Modified keys MUST be moved to the\n * beginning of the list.\n */\nvar TraceStateImpl = /** @class */ (function () {\n    function TraceStateImpl(rawTraceState) {\n        this._internalState = new Map();\n        if (rawTraceState)\n            this._parse(rawTraceState);\n    }\n    TraceStateImpl.prototype.set = function (key, value) {\n        // TODO: Benchmark the different approaches(map vs list) and\n        // use the faster one.\n        var traceState = this._clone();\n        if (traceState._internalState.has(key)) {\n            traceState._internalState.delete(key);\n        }\n        traceState._internalState.set(key, value);\n        return traceState;\n    };\n    TraceStateImpl.prototype.unset = function (key) {\n        var traceState = this._clone();\n        traceState._internalState.delete(key);\n        return traceState;\n    };\n    TraceStateImpl.prototype.get = function (key) {\n        return this._internalState.get(key);\n    };\n    TraceStateImpl.prototype.serialize = function () {\n        var _this = this;\n        return this._keys()\n            .reduce(function (agg, key) {\n            agg.push(key + LIST_MEMBER_KEY_VALUE_SPLITTER + _this.get(key));\n            return agg;\n        }, [])\n            .join(LIST_MEMBERS_SEPARATOR);\n    };\n    TraceStateImpl.prototype._parse = function (rawTraceState) {\n        if (rawTraceState.length > MAX_TRACE_STATE_LEN)\n            return;\n        this._internalState = rawTraceState\n            .split(LIST_MEMBERS_SEPARATOR)\n            .reverse() // Store in reverse so new keys (.set(...)) will be placed at the beginning\n            .reduce(function (agg, part) {\n            var listMember = part.trim(); // Optional Whitespace (OWS) handling\n            var i = listMember.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);\n            if (i !== -1) {\n                var key = listMember.slice(0, i);\n                var value = listMember.slice(i + 1, part.length);\n                if (validateKey(key) && validateValue(value)) {\n                    agg.set(key, value);\n                }\n                else {\n                    // TODO: Consider to add warning log\n                }\n            }\n            return agg;\n        }, new Map());\n        // Because of the reverse() requirement, trunc must be done after map is created\n        if (this._internalState.size > MAX_TRACE_STATE_ITEMS) {\n            this._internalState = new Map(Array.from(this._internalState.entries())\n                .reverse() // Use reverse same as original tracestate parse chain\n                .slice(0, MAX_TRACE_STATE_ITEMS));\n        }\n    };\n    TraceStateImpl.prototype._keys = function () {\n        return Array.from(this._internalState.keys()).reverse();\n    };\n    TraceStateImpl.prototype._clone = function () {\n        var traceState = new TraceStateImpl();\n        traceState._internalState = new Map(this._internalState);\n        return traceState;\n    };\n    return TraceStateImpl;\n}());\nexport { TraceStateImpl };\n//# sourceMappingURL=tracestate-impl.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { TraceStateImpl } from './tracestate-impl';\nexport function createTraceState(rawTraceState) {\n    return new TraceStateImpl(rawTraceState);\n}\n//# sourceMappingURL=utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NOOP_METER } from './NoopMeter';\n/**\n * An implementation of the {@link MeterProvider} which returns an impotent Meter\n * for all calls to `getMeter`\n */\nvar NoopMeterProvider = /** @class */ (function () {\n    function NoopMeterProvider() {\n    }\n    NoopMeterProvider.prototype.getMeter = function (_name, _version, _options) {\n        return NOOP_METER;\n    };\n    return NoopMeterProvider;\n}());\nexport { NoopMeterProvider };\nexport var NOOP_METER_PROVIDER = new NoopMeterProvider();\n//# sourceMappingURL=NoopMeterProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NOOP_METER_PROVIDER } from '../metrics/NoopMeterProvider';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'metrics';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Metrics API\n */\nvar MetricsAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function MetricsAPI() {\n    }\n    /** Get the singleton instance of the Metrics API */\n    MetricsAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new MetricsAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current global meter provider.\n     * Returns true if the meter provider was successfully registered, else false.\n     */\n    MetricsAPI.prototype.setGlobalMeterProvider = function (provider) {\n        return registerGlobal(API_NAME, provider, DiagAPI.instance());\n    };\n    /**\n     * Returns the global meter provider.\n     */\n    MetricsAPI.prototype.getMeterProvider = function () {\n        return getGlobal(API_NAME) || NOOP_METER_PROVIDER;\n    };\n    /**\n     * Returns a meter from the global meter provider.\n     */\n    MetricsAPI.prototype.getMeter = function (name, version, options) {\n        return this.getMeterProvider().getMeter(name, version, options);\n    };\n    /** Remove the global meter provider */\n    MetricsAPI.prototype.disable = function () {\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n    };\n    return MetricsAPI;\n}());\nexport { MetricsAPI };\n//# sourceMappingURL=metrics.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { MetricsAPI } from './api/metrics';\n/** Entrypoint for metrics API */\nexport var metrics = MetricsAPI.getInstance();\n//# sourceMappingURL=metrics-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { baggageEntryMetadataFromString } from './baggage/utils';\n// Context APIs\nexport { createContextKey, ROOT_CONTEXT } from './context/context';\n// Diag APIs\nexport { DiagConsoleLogger } from './diag/consoleLogger';\nexport { DiagLogLevel, } from './diag/types';\n// Metrics APIs\nexport { createNoopMeter } from './metrics/NoopMeter';\nexport { ValueType, } from './metrics/Metric';\n// Propagation APIs\nexport { defaultTextMapGetter, defaultTextMapSetter, } from './propagation/TextMapPropagator';\nexport { ProxyTracer } from './trace/ProxyTracer';\nexport { ProxyTracerProvider } from './trace/ProxyTracerProvider';\nexport { SamplingDecision } from './trace/SamplingResult';\nexport { SpanKind } from './trace/span_kind';\nexport { SpanStatusCode } from './trace/status';\nexport { TraceFlags } from './trace/trace_flags';\nexport { createTraceState } from './trace/internal/utils';\nexport { isSpanContextValid, isValidTraceId, isValidSpanId, } from './trace/spancontext-utils';\nexport { INVALID_SPANID, INVALID_TRACEID, INVALID_SPAN_CONTEXT, } from './trace/invalid-span-constants';\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { context } from './context-api';\nimport { diag } from './diag-api';\nimport { metrics } from './metrics-api';\nimport { propagation } from './propagation-api';\nimport { trace } from './trace-api';\n// Named export.\nexport { context, diag, metrics, propagation, trace };\n// Default export.\nexport default {\n    context: context,\n    diag: diag,\n    metrics: metrics,\n    propagation: propagation,\n    trace: trace,\n};\n//# sourceMappingURL=index.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins\nexport var _globalThis = typeof globalThis === 'object' ? globalThis : global;\n//# sourceMappingURL=globalThis.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// this is autogenerated file, see scripts/version-update.js\nexport var VERSION = '1.9.0';\n//# sourceMappingURL=version.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { VERSION } from '../version';\nvar re = /^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;\n/**\n * Create a function to test an API version to see if it is compatible with the provided ownVersion.\n *\n * The returned function has the following semantics:\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param ownVersion version which should be checked against\n */\nexport function _makeCompatibilityCheck(ownVersion) {\n    var acceptedVersions = new Set([ownVersion]);\n    var rejectedVersions = new Set();\n    var myVersionMatch = ownVersion.match(re);\n    if (!myVersionMatch) {\n        // we cannot guarantee compatibility so we always return noop\n        return function () { return false; };\n    }\n    var ownVersionParsed = {\n        major: +myVersionMatch[1],\n        minor: +myVersionMatch[2],\n        patch: +myVersionMatch[3],\n        prerelease: myVersionMatch[4],\n    };\n    // if ownVersion has a prerelease tag, versions must match exactly\n    if (ownVersionParsed.prerelease != null) {\n        return function isExactmatch(globalVersion) {\n            return globalVersion === ownVersion;\n        };\n    }\n    function _reject(v) {\n        rejectedVersions.add(v);\n        return false;\n    }\n    function _accept(v) {\n        acceptedVersions.add(v);\n        return true;\n    }\n    return function isCompatible(globalVersion) {\n        if (acceptedVersions.has(globalVersion)) {\n            return true;\n        }\n        if (rejectedVersions.has(globalVersion)) {\n            return false;\n        }\n        var globalVersionMatch = globalVersion.match(re);\n        if (!globalVersionMatch) {\n            // cannot parse other version\n            // we cannot guarantee compatibility so we always noop\n            return _reject(globalVersion);\n        }\n        var globalVersionParsed = {\n            major: +globalVersionMatch[1],\n            minor: +globalVersionMatch[2],\n            patch: +globalVersionMatch[3],\n            prerelease: globalVersionMatch[4],\n        };\n        // if globalVersion has a prerelease tag, versions must match exactly\n        if (globalVersionParsed.prerelease != null) {\n            return _reject(globalVersion);\n        }\n        // major versions must match\n        if (ownVersionParsed.major !== globalVersionParsed.major) {\n            return _reject(globalVersion);\n        }\n        if (ownVersionParsed.major === 0) {\n            if (ownVersionParsed.minor === globalVersionParsed.minor &&\n                ownVersionParsed.patch <= globalVersionParsed.patch) {\n                return _accept(globalVersion);\n            }\n            return _reject(globalVersion);\n        }\n        if (ownVersionParsed.minor <= globalVersionParsed.minor) {\n            return _accept(globalVersion);\n        }\n        return _reject(globalVersion);\n    };\n}\n/**\n * Test an API version to see if it is compatible with this API.\n *\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param version version of the API requesting an instance of the global API\n */\nexport var isCompatible = _makeCompatibilityCheck(VERSION);\n//# sourceMappingURL=semver.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { _globalThis } from '../platform';\nimport { VERSION } from '../version';\nimport { isCompatible } from './semver';\nvar major = VERSION.split('.')[0];\nvar GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for(\"opentelemetry.js.api.\" + major);\nvar _global = _globalThis;\nexport function registerGlobal(type, instance, diag, allowOverride) {\n    var _a;\n    if (allowOverride === void 0) { allowOverride = false; }\n    var api = (_global[GLOBAL_OPENTELEMETRY_API_KEY] = (_a = _global[GLOBAL_OPENTELEMETRY_API_KEY]) !== null && _a !== void 0 ? _a : {\n        version: VERSION,\n    });\n    if (!allowOverride && api[type]) {\n        // already registered an API of this type\n        var err = new Error(\"@opentelemetry/api: Attempted duplicate registration of API: \" + type);\n        diag.error(err.stack || err.message);\n        return false;\n    }\n    if (api.version !== VERSION) {\n        // All registered APIs must be of the same version exactly\n        var err = new Error(\"@opentelemetry/api: Registration of version v\" + api.version + \" for \" + type + \" does not match previously registered API v\" + VERSION);\n        diag.error(err.stack || err.message);\n        return false;\n    }\n    api[type] = instance;\n    diag.debug(\"@opentelemetry/api: Registered a global for \" + type + \" v\" + VERSION + \".\");\n    return true;\n}\nexport function getGlobal(type) {\n    var _a, _b;\n    var globalVersion = (_a = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _a === void 0 ? void 0 : _a.version;\n    if (!globalVersion || !isCompatible(globalVersion)) {\n        return;\n    }\n    return (_b = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _b === void 0 ? void 0 : _b[type];\n}\nexport function unregisterGlobal(type, diag) {\n    diag.debug(\"@opentelemetry/api: Unregistering a global for \" + type + \" v\" + VERSION + \".\");\n    var api = _global[GLOBAL_OPENTELEMETRY_API_KEY];\n    if (api) {\n        delete api[type];\n    }\n}\n//# sourceMappingURL=global-utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * No-op implementations of {@link TextMapPropagator}.\n */\nvar NoopTextMapPropagator = /** @class */ (function () {\n    function NoopTextMapPropagator() {\n    }\n    /** Noop inject function does nothing */\n    NoopTextMapPropagator.prototype.inject = function (_context, _carrier) { };\n    /** Noop extract function does nothing and returns the input context */\n    NoopTextMapPropagator.prototype.extract = function (context, _carrier) {\n        return context;\n    };\n    NoopTextMapPropagator.prototype.fields = function () {\n        return [];\n    };\n    return NoopTextMapPropagator;\n}());\nexport { NoopTextMapPropagator };\n//# sourceMappingURL=NoopTextMapPropagator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ContextAPI } from '../api/context';\nimport { createContextKey } from '../context/context';\n/**\n * Baggage key\n */\nvar BAGGAGE_KEY = createContextKey('OpenTelemetry Baggage Key');\n/**\n * Retrieve the current baggage from the given context\n *\n * @param {Context} Context that manage all context values\n * @returns {Baggage} Extracted baggage from the context\n */\nexport function getBaggage(context) {\n    return context.getValue(BAGGAGE_KEY) || undefined;\n}\n/**\n * Retrieve the current baggage from the active/current context\n *\n * @returns {Baggage} Extracted baggage from the context\n */\nexport function getActiveBaggage() {\n    return getBaggage(ContextAPI.getInstance().active());\n}\n/**\n * Store a baggage in the given context\n *\n * @param {Context} Context that manage all context values\n * @param {Baggage} baggage that will be set in the actual context\n */\nexport function setBaggage(context, baggage) {\n    return context.setValue(BAGGAGE_KEY, baggage);\n}\n/**\n * Delete the baggage stored in the given context\n *\n * @param {Context} Context that manage all context values\n */\nexport function deleteBaggage(context) {\n    return context.deleteValue(BAGGAGE_KEY);\n}\n//# sourceMappingURL=context-helpers.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { NoopTextMapPropagator } from '../propagation/NoopTextMapPropagator';\nimport { defaultTextMapGetter, defaultTextMapSetter, } from '../propagation/TextMapPropagator';\nimport { getBaggage, getActiveBaggage, setBaggage, deleteBaggage, } from '../baggage/context-helpers';\nimport { createBaggage } from '../baggage/utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'propagation';\nvar NOOP_TEXT_MAP_PROPAGATOR = new NoopTextMapPropagator();\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Propagation API\n */\nvar PropagationAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function PropagationAPI() {\n        this.createBaggage = createBaggage;\n        this.getBaggage = getBaggage;\n        this.getActiveBaggage = getActiveBaggage;\n        this.setBaggage = setBaggage;\n        this.deleteBaggage = deleteBaggage;\n    }\n    /** Get the singleton instance of the Propagator API */\n    PropagationAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new PropagationAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current propagator.\n     *\n     * @returns true if the propagator was successfully registered, else false\n     */\n    PropagationAPI.prototype.setGlobalPropagator = function (propagator) {\n        return registerGlobal(API_NAME, propagator, DiagAPI.instance());\n    };\n    /**\n     * Inject context into a carrier to be propagated inter-process\n     *\n     * @param context Context carrying tracing data to inject\n     * @param carrier carrier to inject context into\n     * @param setter Function used to set values on the carrier\n     */\n    PropagationAPI.prototype.inject = function (context, carrier, setter) {\n        if (setter === void 0) { setter = defaultTextMapSetter; }\n        return this._getGlobalPropagator().inject(context, carrier, setter);\n    };\n    /**\n     * Extract context from a carrier\n     *\n     * @param context Context which the newly created context will inherit from\n     * @param carrier Carrier to extract context from\n     * @param getter Function used to extract keys from a carrier\n     */\n    PropagationAPI.prototype.extract = function (context, carrier, getter) {\n        if (getter === void 0) { getter = defaultTextMapGetter; }\n        return this._getGlobalPropagator().extract(context, carrier, getter);\n    };\n    /**\n     * Return a list of all fields which may be used by the propagator.\n     */\n    PropagationAPI.prototype.fields = function () {\n        return this._getGlobalPropagator().fields();\n    };\n    /** Remove the global propagator */\n    PropagationAPI.prototype.disable = function () {\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n    };\n    PropagationAPI.prototype._getGlobalPropagator = function () {\n        return getGlobal(API_NAME) || NOOP_TEXT_MAP_PROPAGATOR;\n    };\n    return PropagationAPI;\n}());\nexport { PropagationAPI };\n//# sourceMappingURL=propagation.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { PropagationAPI } from './api/propagation';\n/** Entrypoint for propagation API */\nexport var propagation = PropagationAPI.getInstance();\n//# sourceMappingURL=propagation-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var defaultTextMapGetter = {\n    get: function (carrier, key) {\n        if (carrier == null) {\n            return undefined;\n        }\n        return carrier[key];\n    },\n    keys: function (carrier) {\n        if (carrier == null) {\n            return [];\n        }\n        return Object.keys(carrier);\n    },\n};\nexport var defaultTextMapSetter = {\n    set: function (carrier, key, value) {\n        if (carrier == null) {\n            return;\n        }\n        carrier[key] = value;\n    },\n};\n//# sourceMappingURL=TextMapPropagator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { ProxyTracerProvider } from '../trace/ProxyTracerProvider';\nimport { isSpanContextValid, wrapSpanContext, } from '../trace/spancontext-utils';\nimport { deleteSpan, getActiveSpan, getSpan, getSpanContext, setSpan, setSpanContext, } from '../trace/context-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'trace';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Tracing API\n */\nvar TraceAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function TraceAPI() {\n        this._proxyTracerProvider = new ProxyTracerProvider();\n        this.wrapSpanContext = wrapSpanContext;\n        this.isSpanContextValid = isSpanContextValid;\n        this.deleteSpan = deleteSpan;\n        this.getSpan = getSpan;\n        this.getActiveSpan = getActiveSpan;\n        this.getSpanContext = getSpanContext;\n        this.setSpan = setSpan;\n        this.setSpanContext = setSpanContext;\n    }\n    /** Get the singleton instance of the Trace API */\n    TraceAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new TraceAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current global tracer.\n     *\n     * @returns true if the tracer provider was successfully registered, else false\n     */\n    TraceAPI.prototype.setGlobalTracerProvider = function (provider) {\n        var success = registerGlobal(API_NAME, this._proxyTracerProvider, DiagAPI.instance());\n        if (success) {\n            this._proxyTracerProvider.setDelegate(provider);\n        }\n        return success;\n    };\n    /**\n     * Returns the global tracer provider.\n     */\n    TraceAPI.prototype.getTracerProvider = function () {\n        return getGlobal(API_NAME) || this._proxyTracerProvider;\n    };\n    /**\n     * Returns a tracer from the global tracer provider.\n     */\n    TraceAPI.prototype.getTracer = function (name, version) {\n        return this.getTracerProvider().getTracer(name, version);\n    };\n    /** Remove the global tracer provider */\n    TraceAPI.prototype.disable = function () {\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n        this._proxyTracerProvider = new ProxyTracerProvider();\n    };\n    return TraceAPI;\n}());\nexport { TraceAPI };\n//# sourceMappingURL=trace.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { TraceAPI } from './api/trace';\n/** Entrypoint for trace API */\nexport var trace = TraceAPI.getInstance();\n//# sourceMappingURL=trace-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPAN_CONTEXT } from './invalid-span-constants';\n/**\n * The NonRecordingSpan is the default {@link Span} that is used when no Span\n * implementation is available. All operations are no-op including context\n * propagation.\n */\nvar NonRecordingSpan = /** @class */ (function () {\n    function NonRecordingSpan(_spanContext) {\n        if (_spanContext === void 0) { _spanContext = INVALID_SPAN_CONTEXT; }\n        this._spanContext = _spanContext;\n    }\n    // Returns a SpanContext.\n    NonRecordingSpan.prototype.spanContext = function () {\n        return this._spanContext;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setAttribute = function (_key, _value) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setAttributes = function (_attributes) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.addEvent = function (_name, _attributes) {\n        return this;\n    };\n    NonRecordingSpan.prototype.addLink = function (_link) {\n        return this;\n    };\n    NonRecordingSpan.prototype.addLinks = function (_links) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setStatus = function (_status) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.updateName = function (_name) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.end = function (_endTime) { };\n    // isRecording always returns false for NonRecordingSpan.\n    NonRecordingSpan.prototype.isRecording = function () {\n        return false;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.recordException = function (_exception, _time) { };\n    return NonRecordingSpan;\n}());\nexport { NonRecordingSpan };\n//# sourceMappingURL=NonRecordingSpan.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ContextAPI } from '../api/context';\nimport { getSpanContext, setSpan } from '../trace/context-utils';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { isSpanContextValid } from './spancontext-utils';\nvar contextApi = ContextAPI.getInstance();\n/**\n * No-op implementations of {@link Tracer}.\n */\nvar NoopTracer = /** @class */ (function () {\n    function NoopTracer() {\n    }\n    // startSpan starts a noop span.\n    NoopTracer.prototype.startSpan = function (name, options, context) {\n        if (context === void 0) { context = contextApi.active(); }\n        var root = Boolean(options === null || options === void 0 ? void 0 : options.root);\n        if (root) {\n            return new NonRecordingSpan();\n        }\n        var parentFromContext = context && getSpanContext(context);\n        if (isSpanContext(parentFromContext) &&\n            isSpanContextValid(parentFromContext)) {\n            return new NonRecordingSpan(parentFromContext);\n        }\n        else {\n            return new NonRecordingSpan();\n        }\n    };\n    NoopTracer.prototype.startActiveSpan = function (name, arg2, arg3, arg4) {\n        var opts;\n        var ctx;\n        var fn;\n        if (arguments.length < 2) {\n            return;\n        }\n        else if (arguments.length === 2) {\n            fn = arg2;\n        }\n        else if (arguments.length === 3) {\n            opts = arg2;\n            fn = arg3;\n        }\n        else {\n            opts = arg2;\n            ctx = arg3;\n            fn = arg4;\n        }\n        var parentContext = ctx !== null && ctx !== void 0 ? ctx : contextApi.active();\n        var span = this.startSpan(name, opts, parentContext);\n        var contextWithSpanSet = setSpan(parentContext, span);\n        return contextApi.with(contextWithSpanSet, fn, undefined, span);\n    };\n    return NoopTracer;\n}());\nexport { NoopTracer };\nfunction isSpanContext(spanContext) {\n    return (typeof spanContext === 'object' &&\n        typeof spanContext['spanId'] === 'string' &&\n        typeof spanContext['traceId'] === 'string' &&\n        typeof spanContext['traceFlags'] === 'number');\n}\n//# sourceMappingURL=NoopTracer.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NoopTracer } from './NoopTracer';\nvar NOOP_TRACER = new NoopTracer();\n/**\n * Proxy tracer provided by the proxy tracer provider\n */\nvar ProxyTracer = /** @class */ (function () {\n    function ProxyTracer(_provider, name, version, options) {\n        this._provider = _provider;\n        this.name = name;\n        this.version = version;\n        this.options = options;\n    }\n    ProxyTracer.prototype.startSpan = function (name, options, context) {\n        return this._getTracer().startSpan(name, options, context);\n    };\n    ProxyTracer.prototype.startActiveSpan = function (_name, _options, _context, _fn) {\n        var tracer = this._getTracer();\n        return Reflect.apply(tracer.startActiveSpan, tracer, arguments);\n    };\n    /**\n     * Try to get a tracer from the proxy tracer provider.\n     * If the proxy tracer provider has no delegate, return a noop tracer.\n     */\n    ProxyTracer.prototype._getTracer = function () {\n        if (this._delegate) {\n            return this._delegate;\n        }\n        var tracer = this._provider.getDelegateTracer(this.name, this.version, this.options);\n        if (!tracer) {\n            return NOOP_TRACER;\n        }\n        this._delegate = tracer;\n        return this._delegate;\n    };\n    return ProxyTracer;\n}());\nexport { ProxyTracer };\n//# sourceMappingURL=ProxyTracer.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ProxyTracer } from './ProxyTracer';\nimport { NoopTracerProvider } from './NoopTracerProvider';\nvar NOOP_TRACER_PROVIDER = new NoopTracerProvider();\n/**\n * Tracer provider which provides {@link ProxyTracer}s.\n *\n * Before a delegate is set, tracers provided are NoOp.\n *   When a delegate is set, traces are provided from the delegate.\n *   When a delegate is set after tracers have already been provided,\n *   all tracers already provided will use the provided delegate implementation.\n */\nvar ProxyTracerProvider = /** @class */ (function () {\n    function ProxyTracerProvider() {\n    }\n    /**\n     * Get a {@link ProxyTracer}\n     */\n    ProxyTracerProvider.prototype.getTracer = function (name, version, options) {\n        var _a;\n        return ((_a = this.getDelegateTracer(name, version, options)) !== null && _a !== void 0 ? _a : new ProxyTracer(this, name, version, options));\n    };\n    ProxyTracerProvider.prototype.getDelegate = function () {\n        var _a;\n        return (_a = this._delegate) !== null && _a !== void 0 ? _a : NOOP_TRACER_PROVIDER;\n    };\n    /**\n     * Set the delegate tracer provider\n     */\n    ProxyTracerProvider.prototype.setDelegate = function (delegate) {\n        this._delegate = delegate;\n    };\n    ProxyTracerProvider.prototype.getDelegateTracer = function (name, version, options) {\n        var _a;\n        return (_a = this._delegate) === null || _a === void 0 ? void 0 : _a.getTracer(name, version, options);\n    };\n    return ProxyTracerProvider;\n}());\nexport { ProxyTracerProvider };\n//# sourceMappingURL=ProxyTracerProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NoopTracer } from './NoopTracer';\n/**\n * An implementation of the {@link TracerProvider} which returns an impotent\n * Tracer for all calls to `getTracer`.\n *\n * All operations are no-op.\n */\nvar NoopTracerProvider = /** @class */ (function () {\n    function NoopTracerProvider() {\n    }\n    NoopTracerProvider.prototype.getTracer = function (_name, _version, _options) {\n        return new NoopTracer();\n    };\n    return NoopTracerProvider;\n}());\nexport { NoopTracerProvider };\n//# sourceMappingURL=NoopTracerProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @deprecated use the one declared in @opentelemetry/sdk-trace-base instead.\n * A sampling decision that determines how a {@link Span} will be recorded\n * and collected.\n */\nexport var SamplingDecision;\n(function (SamplingDecision) {\n    /**\n     * `Span.isRecording() === false`, span will not be recorded and all events\n     * and attributes will be dropped.\n     */\n    SamplingDecision[SamplingDecision[\"NOT_RECORD\"] = 0] = \"NOT_RECORD\";\n    /**\n     * `Span.isRecording() === true`, but `Sampled` flag in {@link TraceFlags}\n     * MUST NOT be set.\n     */\n    SamplingDecision[SamplingDecision[\"RECORD\"] = 1] = \"RECORD\";\n    /**\n     * `Span.isRecording() === true` AND `Sampled` flag in {@link TraceFlags}\n     * MUST be set.\n     */\n    SamplingDecision[SamplingDecision[\"RECORD_AND_SAMPLED\"] = 2] = \"RECORD_AND_SAMPLED\";\n})(SamplingDecision || (SamplingDecision = {}));\n//# sourceMappingURL=SamplingResult.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createContextKey } from '../context/context';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { ContextAPI } from '../api/context';\n/**\n * span key\n */\nvar SPAN_KEY = createContextKey('OpenTelemetry Context Key SPAN');\n/**\n * Return the span if one exists\n *\n * @param context context to get span from\n */\nexport function getSpan(context) {\n    return context.getValue(SPAN_KEY) || undefined;\n}\n/**\n * Gets the span from the current context, if one exists.\n */\nexport function getActiveSpan() {\n    return getSpan(ContextAPI.getInstance().active());\n}\n/**\n * Set the span on a context\n *\n * @param context context to use as parent\n * @param span span to set active\n */\nexport function setSpan(context, span) {\n    return context.setValue(SPAN_KEY, span);\n}\n/**\n * Remove current span stored in the context\n *\n * @param context context to delete span from\n */\nexport function deleteSpan(context) {\n    return context.deleteValue(SPAN_KEY);\n}\n/**\n * Wrap span context in a NoopSpan and set as span in a new\n * context\n *\n * @param context context to set active span on\n * @param spanContext span context to be wrapped\n */\nexport function setSpanContext(context, spanContext) {\n    return setSpan(context, new NonRecordingSpan(spanContext));\n}\n/**\n * Get the span context of the span if it exists.\n *\n * @param context context to get values from\n */\nexport function getSpanContext(context) {\n    var _a;\n    return (_a = getSpan(context)) === null || _a === void 0 ? void 0 : _a.spanContext();\n}\n//# sourceMappingURL=context-utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { TraceFlags } from './trace_flags';\nexport var INVALID_SPANID = '0000000000000000';\nexport var INVALID_TRACEID = '00000000000000000000000000000000';\nexport var INVALID_SPAN_CONTEXT = {\n    traceId: INVALID_TRACEID,\n    spanId: INVALID_SPANID,\n    traceFlags: TraceFlags.NONE,\n};\n//# sourceMappingURL=invalid-span-constants.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var SpanKind;\n(function (SpanKind) {\n    /** Default value. Indicates that the span is used internally. */\n    SpanKind[SpanKind[\"INTERNAL\"] = 0] = \"INTERNAL\";\n    /**\n     * Indicates that the span covers server-side handling of an RPC or other\n     * remote request.\n     */\n    SpanKind[SpanKind[\"SERVER\"] = 1] = \"SERVER\";\n    /**\n     * Indicates that the span covers the client-side wrapper around an RPC or\n     * other remote request.\n     */\n    SpanKind[SpanKind[\"CLIENT\"] = 2] = \"CLIENT\";\n    /**\n     * Indicates that the span describes producer sending a message to a\n     * broker. Unlike client and server, there is no direct critical path latency\n     * relationship between producer and consumer spans.\n     */\n    SpanKind[SpanKind[\"PRODUCER\"] = 3] = \"PRODUCER\";\n    /**\n     * Indicates that the span describes consumer receiving a message from a\n     * broker. Unlike client and server, there is no direct critical path latency\n     * relationship between producer and consumer spans.\n     */\n    SpanKind[SpanKind[\"CONSUMER\"] = 4] = \"CONSUMER\";\n})(SpanKind || (SpanKind = {}));\n//# sourceMappingURL=span_kind.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPANID, INVALID_TRACEID } from './invalid-span-constants';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nvar VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;\nvar VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;\nexport function isValidTraceId(traceId) {\n    return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;\n}\nexport function isValidSpanId(spanId) {\n    return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;\n}\n/**\n * Returns true if this {@link SpanContext} is valid.\n * @return true if this {@link SpanContext} is valid.\n */\nexport function isSpanContextValid(spanContext) {\n    return (isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId));\n}\n/**\n * Wrap the given {@link SpanContext} in a new non-recording {@link Span}\n *\n * @param spanContext span context to be wrapped\n * @returns a new non-recording {@link Span} with the provided context\n */\nexport function wrapSpanContext(spanContext) {\n    return new NonRecordingSpan(spanContext);\n}\n//# sourceMappingURL=spancontext-utils.js.map","/**\n * An enumeration of status codes.\n */\nexport var SpanStatusCode;\n(function (SpanStatusCode) {\n    /**\n     * The default status.\n     */\n    SpanStatusCode[SpanStatusCode[\"UNSET\"] = 0] = \"UNSET\";\n    /**\n     * The operation has been validated by an Application developer or\n     * Operator to have completed successfully.\n     */\n    SpanStatusCode[SpanStatusCode[\"OK\"] = 1] = \"OK\";\n    /**\n     * The operation contains an error.\n     */\n    SpanStatusCode[SpanStatusCode[\"ERROR\"] = 2] = \"ERROR\";\n})(SpanStatusCode || (SpanStatusCode = {}));\n//# sourceMappingURL=status.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var TraceFlags;\n(function (TraceFlags) {\n    /** Represents no flag set. */\n    TraceFlags[TraceFlags[\"NONE\"] = 0] = \"NONE\";\n    /** Bit to represent whether trace is sampled in trace flags. */\n    TraceFlags[TraceFlags[\"SAMPLED\"] = 1] = \"SAMPLED\";\n})(TraceFlags || (TraceFlags = {}));\n//# sourceMappingURL=trace_flags.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var ExportResultCode;\n(function (ExportResultCode) {\n    ExportResultCode[ExportResultCode[\"SUCCESS\"] = 0] = \"SUCCESS\";\n    ExportResultCode[ExportResultCode[\"FAILED\"] = 1] = \"FAILED\";\n})(ExportResultCode || (ExportResultCode = {}));\n//# sourceMappingURL=ExportResult.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var BAGGAGE_KEY_PAIR_SEPARATOR = '=';\nexport var BAGGAGE_PROPERTIES_SEPARATOR = ';';\nexport var BAGGAGE_ITEMS_SEPARATOR = ',';\n// Name of the http header used to propagate the baggage\nexport var BAGGAGE_HEADER = 'baggage';\n// Maximum number of name-value pairs allowed by w3c spec\nexport var BAGGAGE_MAX_NAME_VALUE_PAIRS = 180;\n// Maximum number of bytes per a single name-value pair allowed by w3c spec\nexport var BAGGAGE_MAX_PER_NAME_VALUE_PAIRS = 4096;\n// Maximum total length of all name-value pairs allowed by w3c spec\nexport var BAGGAGE_MAX_TOTAL_LENGTH = 8192;\n//# sourceMappingURL=constants.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { propagation, } from '@opentelemetry/api';\nimport { isTracingSuppressed } from '../../trace/suppress-tracing';\nimport { BAGGAGE_HEADER, BAGGAGE_ITEMS_SEPARATOR, BAGGAGE_MAX_NAME_VALUE_PAIRS, BAGGAGE_MAX_PER_NAME_VALUE_PAIRS, } from '../constants';\nimport { getKeyPairs, parsePairKeyValue, serializeKeyPairs } from '../utils';\n/**\n * Propagates {@link Baggage} through Context format propagation.\n *\n * Based on the Baggage specification:\n * https://w3c.github.io/baggage/\n */\nvar W3CBaggagePropagator = /** @class */ (function () {\n    function W3CBaggagePropagator() {\n    }\n    W3CBaggagePropagator.prototype.inject = function (context, carrier, setter) {\n        var baggage = propagation.getBaggage(context);\n        if (!baggage || isTracingSuppressed(context))\n            return;\n        var keyPairs = getKeyPairs(baggage)\n            .filter(function (pair) {\n            return pair.length <= BAGGAGE_MAX_PER_NAME_VALUE_PAIRS;\n        })\n            .slice(0, BAGGAGE_MAX_NAME_VALUE_PAIRS);\n        var headerValue = serializeKeyPairs(keyPairs);\n        if (headerValue.length > 0) {\n            setter.set(carrier, BAGGAGE_HEADER, headerValue);\n        }\n    };\n    W3CBaggagePropagator.prototype.extract = function (context, carrier, getter) {\n        var headerValue = getter.get(carrier, BAGGAGE_HEADER);\n        var baggageString = Array.isArray(headerValue)\n            ? headerValue.join(BAGGAGE_ITEMS_SEPARATOR)\n            : headerValue;\n        if (!baggageString)\n            return context;\n        var baggage = {};\n        if (baggageString.length === 0) {\n            return context;\n        }\n        var pairs = baggageString.split(BAGGAGE_ITEMS_SEPARATOR);\n        pairs.forEach(function (entry) {\n            var keyPair = parsePairKeyValue(entry);\n            if (keyPair) {\n                var baggageEntry = { value: keyPair.value };\n                if (keyPair.metadata) {\n                    baggageEntry.metadata = keyPair.metadata;\n                }\n                baggage[keyPair.key] = baggageEntry;\n            }\n        });\n        if (Object.entries(baggage).length === 0) {\n            return context;\n        }\n        return propagation.setBaggage(context, propagation.createBaggage(baggage));\n    };\n    W3CBaggagePropagator.prototype.fields = function () {\n        return [BAGGAGE_HEADER];\n    };\n    return W3CBaggagePropagator;\n}());\nexport { W3CBaggagePropagator };\n//# sourceMappingURL=W3CBaggagePropagator.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\n/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { baggageEntryMetadataFromString, } from '@opentelemetry/api';\nimport { BAGGAGE_ITEMS_SEPARATOR, BAGGAGE_PROPERTIES_SEPARATOR, BAGGAGE_KEY_PAIR_SEPARATOR, BAGGAGE_MAX_TOTAL_LENGTH, } from './constants';\nexport function serializeKeyPairs(keyPairs) {\n    return keyPairs.reduce(function (hValue, current) {\n        var value = \"\" + hValue + (hValue !== '' ? BAGGAGE_ITEMS_SEPARATOR : '') + current;\n        return value.length > BAGGAGE_MAX_TOTAL_LENGTH ? hValue : value;\n    }, '');\n}\nexport function getKeyPairs(baggage) {\n    return baggage.getAllEntries().map(function (_a) {\n        var _b = __read(_a, 2), key = _b[0], value = _b[1];\n        var entry = encodeURIComponent(key) + \"=\" + encodeURIComponent(value.value);\n        // include opaque metadata if provided\n        // NOTE: we intentionally don't URI-encode the metadata - that responsibility falls on the metadata implementation\n        if (value.metadata !== undefined) {\n            entry += BAGGAGE_PROPERTIES_SEPARATOR + value.metadata.toString();\n        }\n        return entry;\n    });\n}\nexport function parsePairKeyValue(entry) {\n    var valueProps = entry.split(BAGGAGE_PROPERTIES_SEPARATOR);\n    if (valueProps.length <= 0)\n        return;\n    var keyPairPart = valueProps.shift();\n    if (!keyPairPart)\n        return;\n    var separatorIndex = keyPairPart.indexOf(BAGGAGE_KEY_PAIR_SEPARATOR);\n    if (separatorIndex <= 0)\n        return;\n    var key = decodeURIComponent(keyPairPart.substring(0, separatorIndex).trim());\n    var value = decodeURIComponent(keyPairPart.substring(separatorIndex + 1).trim());\n    var metadata;\n    if (valueProps.length > 0) {\n        metadata = baggageEntryMetadataFromString(valueProps.join(BAGGAGE_PROPERTIES_SEPARATOR));\n    }\n    return { key: key, value: value, metadata: metadata };\n}\n/**\n * Parse a string serialized in the baggage HTTP Format (without metadata):\n * https://github.com/w3c/baggage/blob/master/baggage/HTTP_HEADER_FORMAT.md\n */\nexport function parseKeyPairsIntoRecord(value) {\n    if (typeof value !== 'string' || value.length === 0)\n        return {};\n    return value\n        .split(BAGGAGE_ITEMS_SEPARATOR)\n        .map(function (entry) {\n        return parsePairKeyValue(entry);\n    })\n        .filter(function (keyPair) { return keyPair !== undefined && keyPair.value.length > 0; })\n        .reduce(function (headers, keyPair) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        headers[keyPair.key] = keyPair.value;\n        return headers;\n    }, {});\n}\n//# sourceMappingURL=utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { diag } from '@opentelemetry/api';\nexport function sanitizeAttributes(attributes) {\n    var e_1, _a;\n    var out = {};\n    if (typeof attributes !== 'object' || attributes == null) {\n        return out;\n    }\n    try {\n        for (var _b = __values(Object.entries(attributes)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var _d = __read(_c.value, 2), key = _d[0], val = _d[1];\n            if (!isAttributeKey(key)) {\n                diag.warn(\"Invalid attribute key: \" + key);\n                continue;\n            }\n            if (!isAttributeValue(val)) {\n                diag.warn(\"Invalid attribute value set for key: \" + key);\n                continue;\n            }\n            if (Array.isArray(val)) {\n                out[key] = val.slice();\n            }\n            else {\n                out[key] = val;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return out;\n}\nexport function isAttributeKey(key) {\n    return typeof key === 'string' && key.length > 0;\n}\nexport function isAttributeValue(val) {\n    if (val == null) {\n        return true;\n    }\n    if (Array.isArray(val)) {\n        return isHomogeneousAttributeValueArray(val);\n    }\n    return isValidPrimitiveAttributeValue(val);\n}\nfunction isHomogeneousAttributeValueArray(arr) {\n    var e_2, _a;\n    var type;\n    try {\n        for (var arr_1 = __values(arr), arr_1_1 = arr_1.next(); !arr_1_1.done; arr_1_1 = arr_1.next()) {\n            var element = arr_1_1.value;\n            // null/undefined elements are allowed\n            if (element == null)\n                continue;\n            if (!type) {\n                if (isValidPrimitiveAttributeValue(element)) {\n                    type = typeof element;\n                    continue;\n                }\n                // encountered an invalid primitive\n                return false;\n            }\n            if (typeof element === type) {\n                continue;\n            }\n            return false;\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (arr_1_1 && !arr_1_1.done && (_a = arr_1.return)) _a.call(arr_1);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return true;\n}\nfunction isValidPrimitiveAttributeValue(val) {\n    switch (typeof val) {\n        case 'number':\n        case 'boolean':\n        case 'string':\n            return true;\n    }\n    return false;\n}\n//# sourceMappingURL=attributes.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { loggingErrorHandler } from './logging-error-handler';\n/** The global error handler delegate */\nvar delegateHandler = loggingErrorHandler();\n/**\n * Set the global error handler\n * @param {ErrorHandler} handler\n */\nexport function setGlobalErrorHandler(handler) {\n    delegateHandler = handler;\n}\n/**\n * Return the global error handler\n * @param {Exception} ex\n */\nexport function globalErrorHandler(ex) {\n    try {\n        delegateHandler(ex);\n    }\n    catch (_a) { } // eslint-disable-line no-empty\n}\n//# sourceMappingURL=global-error-handler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { diag } from '@opentelemetry/api';\n/**\n * Returns a function that logs an error using the provided logger, or a\n * console logger if one was not provided.\n */\nexport function loggingErrorHandler() {\n    return function (ex) {\n        diag.error(stringifyException(ex));\n    };\n}\n/**\n * Converts an exception into a string representation\n * @param {Exception} ex\n */\nfunction stringifyException(ex) {\n    if (typeof ex === 'string') {\n        return ex;\n    }\n    else {\n        return JSON.stringify(flattenException(ex));\n    }\n}\n/**\n * Flattens an exception into key-value pairs by traversing the prototype chain\n * and coercing values to strings. Duplicate properties will not be overwritten;\n * the first insert wins.\n */\nfunction flattenException(ex) {\n    var result = {};\n    var current = ex;\n    while (current !== null) {\n        Object.getOwnPropertyNames(current).forEach(function (propertyName) {\n            if (result[propertyName])\n                return;\n            var value = current[propertyName];\n            if (value) {\n                result[propertyName] = String(value);\n            }\n        });\n        current = Object.getPrototypeOf(current);\n    }\n    return result;\n}\n//# sourceMappingURL=logging-error-handler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { otperformance as performance } from '../platform';\nvar NANOSECOND_DIGITS = 9;\nvar NANOSECOND_DIGITS_IN_MILLIS = 6;\nvar MILLISECONDS_TO_NANOSECONDS = Math.pow(10, NANOSECOND_DIGITS_IN_MILLIS);\nvar SECOND_TO_NANOSECONDS = Math.pow(10, NANOSECOND_DIGITS);\n/**\n * Converts a number of milliseconds from epoch to HrTime([seconds, remainder in nanoseconds]).\n * @param epochMillis\n */\nexport function millisToHrTime(epochMillis) {\n    var epochSeconds = epochMillis / 1000;\n    // Decimals only.\n    var seconds = Math.trunc(epochSeconds);\n    // Round sub-nanosecond accuracy to nanosecond.\n    var nanos = Math.round((epochMillis % 1000) * MILLISECONDS_TO_NANOSECONDS);\n    return [seconds, nanos];\n}\nexport function getTimeOrigin() {\n    var timeOrigin = performance.timeOrigin;\n    if (typeof timeOrigin !== 'number') {\n        var perf = performance;\n        timeOrigin = perf.timing && perf.timing.fetchStart;\n    }\n    return timeOrigin;\n}\n/**\n * Returns an hrtime calculated via performance component.\n * @param performanceNow\n */\nexport function hrTime(performanceNow) {\n    var timeOrigin = millisToHrTime(getTimeOrigin());\n    var now = millisToHrTime(typeof performanceNow === 'number' ? performanceNow : performance.now());\n    return addHrTimes(timeOrigin, now);\n}\n/**\n *\n * Converts a TimeInput to an HrTime, defaults to _hrtime().\n * @param time\n */\nexport function timeInputToHrTime(time) {\n    // process.hrtime\n    if (isTimeInputHrTime(time)) {\n        return time;\n    }\n    else if (typeof time === 'number') {\n        // Must be a performance.now() if it's smaller than process start time.\n        if (time < getTimeOrigin()) {\n            return hrTime(time);\n        }\n        else {\n            // epoch milliseconds or performance.timeOrigin\n            return millisToHrTime(time);\n        }\n    }\n    else if (time instanceof Date) {\n        return millisToHrTime(time.getTime());\n    }\n    else {\n        throw TypeError('Invalid input type');\n    }\n}\n/**\n * Returns a duration of two hrTime.\n * @param startTime\n * @param endTime\n */\nexport function hrTimeDuration(startTime, endTime) {\n    var seconds = endTime[0] - startTime[0];\n    var nanos = endTime[1] - startTime[1];\n    // overflow\n    if (nanos < 0) {\n        seconds -= 1;\n        // negate\n        nanos += SECOND_TO_NANOSECONDS;\n    }\n    return [seconds, nanos];\n}\n/**\n * Convert hrTime to timestamp, for example \"2019-05-14T17:00:00.000123456Z\"\n * @param time\n */\nexport function hrTimeToTimeStamp(time) {\n    var precision = NANOSECOND_DIGITS;\n    var tmp = \"\" + '0'.repeat(precision) + time[1] + \"Z\";\n    var nanoString = tmp.substr(tmp.length - precision - 1);\n    var date = new Date(time[0] * 1000).toISOString();\n    return date.replace('000Z', nanoString);\n}\n/**\n * Convert hrTime to nanoseconds.\n * @param time\n */\nexport function hrTimeToNanoseconds(time) {\n    return time[0] * SECOND_TO_NANOSECONDS + time[1];\n}\n/**\n * Convert hrTime to milliseconds.\n * @param time\n */\nexport function hrTimeToMilliseconds(time) {\n    return time[0] * 1e3 + time[1] / 1e6;\n}\n/**\n * Convert hrTime to microseconds.\n * @param time\n */\nexport function hrTimeToMicroseconds(time) {\n    return time[0] * 1e6 + time[1] / 1e3;\n}\n/**\n * check if time is HrTime\n * @param value\n */\nexport function isTimeInputHrTime(value) {\n    return (Array.isArray(value) &&\n        value.length === 2 &&\n        typeof value[0] === 'number' &&\n        typeof value[1] === 'number');\n}\n/**\n * check if input value is a correct types.TimeInput\n * @param value\n */\nexport function isTimeInput(value) {\n    return (isTimeInputHrTime(value) ||\n        typeof value === 'number' ||\n        value instanceof Date);\n}\n/**\n * Given 2 HrTime formatted times, return their sum as an HrTime.\n */\nexport function addHrTimes(time1, time2) {\n    var out = [time1[0] + time2[0], time1[1] + time2[1]];\n    // Nanoseconds\n    if (out[1] >= SECOND_TO_NANOSECONDS) {\n        out[1] -= SECOND_TO_NANOSECONDS;\n        out[0] += 1;\n    }\n    return out;\n}\n//# sourceMappingURL=time.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A utility for returning wall times anchored to a given point in time. Wall time measurements will\n * not be taken from the system, but instead are computed by adding a monotonic clock time\n * to the anchor point.\n *\n * This is needed because the system time can change and result in unexpected situations like\n * spans ending before they are started. Creating an anchored clock for each local root span\n * ensures that span timings and durations are accurate while preventing span times from drifting\n * too far from the system clock.\n *\n * Only creating an anchored clock once per local trace ensures span times are correct relative\n * to each other. For example, a child span will never have a start time before its parent even\n * if the system clock is corrected during the local trace.\n *\n * Heavily inspired by the OTel Java anchored clock\n * https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk/trace/src/main/java/io/opentelemetry/sdk/trace/AnchoredClock.java\n */\nvar AnchoredClock = /** @class */ (function () {\n    /**\n     * Create a new AnchoredClock anchored to the current time returned by systemClock.\n     *\n     * @param systemClock should be a clock that returns the number of milliseconds since January 1 1970 such as Date\n     * @param monotonicClock should be a clock that counts milliseconds monotonically such as window.performance or perf_hooks.performance\n     */\n    function AnchoredClock(systemClock, monotonicClock) {\n        this._monotonicClock = monotonicClock;\n        this._epochMillis = systemClock.now();\n        this._performanceMillis = monotonicClock.now();\n    }\n    /**\n     * Returns the current time by adding the number of milliseconds since the\n     * AnchoredClock was created to the creation epoch time\n     */\n    AnchoredClock.prototype.now = function () {\n        var delta = this._monotonicClock.now() - this._performanceMillis;\n        return this._epochMillis + delta;\n    };\n    return AnchoredClock;\n}());\nexport { AnchoredClock };\n//# sourceMappingURL=anchored-clock.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction intValue(charCode) {\n    // 0-9\n    if (charCode >= 48 && charCode <= 57) {\n        return charCode - 48;\n    }\n    // a-f\n    if (charCode >= 97 && charCode <= 102) {\n        return charCode - 87;\n    }\n    // A-F\n    return charCode - 55;\n}\nexport function hexToBinary(hexStr) {\n    var buf = new Uint8Array(hexStr.length / 2);\n    var offset = 0;\n    for (var i = 0; i < hexStr.length; i += 2) {\n        var hi = intValue(hexStr.charCodeAt(i));\n        var lo = intValue(hexStr.charCodeAt(i + 1));\n        buf[offset++] = (hi << 4) | lo;\n    }\n    return buf;\n}\n//# sourceMappingURL=hex-to-binary.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins\nexport var _globalThis = typeof globalThis === 'object' ? globalThis : global;\n//# sourceMappingURL=globalThis.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { hexToBinary } from '../../common/hex-to-binary';\nexport function hexToBase64(hexStr) {\n    return Buffer.from(hexToBinary(hexStr)).toString('base64');\n}\n//# sourceMappingURL=hex-to-base64.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar SPAN_ID_BYTES = 8;\nvar TRACE_ID_BYTES = 16;\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n */\nvar RandomIdGenerator = /** @class */ (function () {\n    function RandomIdGenerator() {\n        /**\n         * Returns a random 16-byte trace ID formatted/encoded as a 32 lowercase hex\n         * characters corresponding to 128 bits.\n         */\n        this.generateTraceId = getIdGenerator(TRACE_ID_BYTES);\n        /**\n         * Returns a random 8-byte span ID formatted/encoded as a 16 lowercase hex\n         * characters corresponding to 64 bits.\n         */\n        this.generateSpanId = getIdGenerator(SPAN_ID_BYTES);\n    }\n    return RandomIdGenerator;\n}());\nexport { RandomIdGenerator };\nvar SHARED_BUFFER = Buffer.allocUnsafe(TRACE_ID_BYTES);\nfunction getIdGenerator(bytes) {\n    return function generateId() {\n        for (var i = 0; i < bytes / 4; i++) {\n            // unsigned right shift drops decimal part of the number\n            // it is required because if a number between 2**32 and 2**32 - 1 is generated, an out of range error is thrown by writeUInt32BE\n            SHARED_BUFFER.writeUInt32BE((Math.random() * Math.pow(2, 32)) >>> 0, i * 4);\n        }\n        // If buffer is all 0, set the last byte to 1 to guarantee a valid w3c id is generated\n        for (var i = 0; i < bytes; i++) {\n            if (SHARED_BUFFER[i] > 0) {\n                break;\n            }\n            else if (i === bytes - 1) {\n                SHARED_BUFFER[bytes - 1] = 1;\n            }\n        }\n        return SHARED_BUFFER.toString('hex', 0, bytes);\n    };\n}\n//# sourceMappingURL=RandomIdGenerator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createContextKey } from '@opentelemetry/api';\nvar RPC_METADATA_KEY = createContextKey('OpenTelemetry SDK Context Key RPC_METADATA');\nexport var RPCType;\n(function (RPCType) {\n    RPCType[\"HTTP\"] = \"http\";\n})(RPCType || (RPCType = {}));\nexport function setRPCMetadata(context, meta) {\n    return context.setValue(RPC_METADATA_KEY, meta);\n}\nexport function deleteRPCMetadata(context) {\n    return context.deleteValue(RPC_METADATA_KEY);\n}\nexport function getRPCMetadata(context) {\n    return context.getValue(RPC_METADATA_KEY);\n}\n//# sourceMappingURL=rpc-metadata.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Error that is thrown on timeouts.\n */\nvar TimeoutError = /** @class */ (function (_super) {\n    __extends(TimeoutError, _super);\n    function TimeoutError(message) {\n        var _this = _super.call(this, message) || this;\n        // manually adjust prototype to retain `instanceof` functionality when targeting ES5, see:\n        // https://github.com/Microsoft/TypeScript-wiki/blob/main/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(_this, TimeoutError.prototype);\n        return _this;\n    }\n    return TimeoutError;\n}(Error));\nexport { TimeoutError };\n/**\n * Adds a timeout to a promise and rejects if the specified timeout has elapsed. Also rejects if the specified promise\n * rejects, and resolves if the specified promise resolves.\n *\n * <p> NOTE: this operation will continue even after it throws a {@link TimeoutError}.\n *\n * @param promise promise to use with timeout.\n * @param timeout the timeout in milliseconds until the returned promise is rejected.\n */\nexport function callWithTimeout(promise, timeout) {\n    var timeoutHandle;\n    var timeoutPromise = new Promise(function timeoutFunction(_resolve, reject) {\n        timeoutHandle = setTimeout(function timeoutHandler() {\n            reject(new TimeoutError('Operation timed out.'));\n        }, timeout);\n    });\n    return Promise.race([promise, timeoutPromise]).then(function (result) {\n        clearTimeout(timeoutHandle);\n        return result;\n    }, function (reason) {\n        clearTimeout(timeoutHandle);\n        throw reason;\n    });\n}\n//# sourceMappingURL=timeout.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SamplingDecision } from '@opentelemetry/api';\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * Sampler that samples no traces.\n */\nvar AlwaysOffSampler = /** @class */ (function () {\n    function AlwaysOffSampler() {\n    }\n    AlwaysOffSampler.prototype.shouldSample = function () {\n        return {\n            decision: SamplingDecision.NOT_RECORD,\n        };\n    };\n    AlwaysOffSampler.prototype.toString = function () {\n        return 'AlwaysOffSampler';\n    };\n    return AlwaysOffSampler;\n}());\nexport { AlwaysOffSampler };\n//# sourceMappingURL=AlwaysOffSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SamplingDecision } from '@opentelemetry/api';\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * Sampler that samples all traces.\n */\nvar AlwaysOnSampler = /** @class */ (function () {\n    function AlwaysOnSampler() {\n    }\n    AlwaysOnSampler.prototype.shouldSample = function () {\n        return {\n            decision: SamplingDecision.RECORD_AND_SAMPLED,\n        };\n    };\n    AlwaysOnSampler.prototype.toString = function () {\n        return 'AlwaysOnSampler';\n    };\n    return AlwaysOnSampler;\n}());\nexport { AlwaysOnSampler };\n//# sourceMappingURL=AlwaysOnSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isSpanContextValid, TraceFlags, trace, } from '@opentelemetry/api';\nimport { globalErrorHandler } from '../../common/global-error-handler';\nimport { AlwaysOffSampler } from './AlwaysOffSampler';\nimport { AlwaysOnSampler } from './AlwaysOnSampler';\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * A composite sampler that either respects the parent span's sampling decision\n * or delegates to `delegateSampler` for root spans.\n */\nvar ParentBasedSampler = /** @class */ (function () {\n    function ParentBasedSampler(config) {\n        var _a, _b, _c, _d;\n        this._root = config.root;\n        if (!this._root) {\n            globalErrorHandler(new Error('ParentBasedSampler must have a root sampler configured'));\n            this._root = new AlwaysOnSampler();\n        }\n        this._remoteParentSampled =\n            (_a = config.remoteParentSampled) !== null && _a !== void 0 ? _a : new AlwaysOnSampler();\n        this._remoteParentNotSampled =\n            (_b = config.remoteParentNotSampled) !== null && _b !== void 0 ? _b : new AlwaysOffSampler();\n        this._localParentSampled =\n            (_c = config.localParentSampled) !== null && _c !== void 0 ? _c : new AlwaysOnSampler();\n        this._localParentNotSampled =\n            (_d = config.localParentNotSampled) !== null && _d !== void 0 ? _d : new AlwaysOffSampler();\n    }\n    ParentBasedSampler.prototype.shouldSample = function (context, traceId, spanName, spanKind, attributes, links) {\n        var parentContext = trace.getSpanContext(context);\n        if (!parentContext || !isSpanContextValid(parentContext)) {\n            return this._root.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        if (parentContext.isRemote) {\n            if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n                return this._remoteParentSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n            }\n            return this._remoteParentNotSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n            return this._localParentSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        return this._localParentNotSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n    };\n    ParentBasedSampler.prototype.toString = function () {\n        return \"ParentBased{root=\" + this._root.toString() + \", remoteParentSampled=\" + this._remoteParentSampled.toString() + \", remoteParentNotSampled=\" + this._remoteParentNotSampled.toString() + \", localParentSampled=\" + this._localParentSampled.toString() + \", localParentNotSampled=\" + this._localParentNotSampled.toString() + \"}\";\n    };\n    return ParentBasedSampler;\n}());\nexport { ParentBasedSampler };\n//# sourceMappingURL=ParentBasedSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SamplingDecision, isValidTraceId, } from '@opentelemetry/api';\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * Sampler that samples a given fraction of traces based of trace id deterministically.\n */\nvar TraceIdRatioBasedSampler = /** @class */ (function () {\n    function TraceIdRatioBasedSampler(_ratio) {\n        if (_ratio === void 0) { _ratio = 0; }\n        this._ratio = _ratio;\n        this._ratio = this._normalize(_ratio);\n        this._upperBound = Math.floor(this._ratio * 0xffffffff);\n    }\n    TraceIdRatioBasedSampler.prototype.shouldSample = function (context, traceId) {\n        return {\n            decision: isValidTraceId(traceId) && this._accumulate(traceId) < this._upperBound\n                ? SamplingDecision.RECORD_AND_SAMPLED\n                : SamplingDecision.NOT_RECORD,\n        };\n    };\n    TraceIdRatioBasedSampler.prototype.toString = function () {\n        return \"TraceIdRatioBased{\" + this._ratio + \"}\";\n    };\n    TraceIdRatioBasedSampler.prototype._normalize = function (ratio) {\n        if (typeof ratio !== 'number' || isNaN(ratio))\n            return 0;\n        return ratio >= 1 ? 1 : ratio <= 0 ? 0 : ratio;\n    };\n    TraceIdRatioBasedSampler.prototype._accumulate = function (traceId) {\n        var accumulation = 0;\n        for (var i = 0; i < traceId.length / 8; i++) {\n            var pos = i * 8;\n            var part = parseInt(traceId.slice(pos, pos + 8), 16);\n            accumulation = (accumulation ^ part) >>> 0;\n        }\n        return accumulation;\n    };\n    return TraceIdRatioBasedSampler;\n}());\nexport { TraceIdRatioBasedSampler };\n//# sourceMappingURL=TraceIdRatioBasedSampler.js.map","var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function urlMatches(url, urlToMatch) {\n    if (typeof urlToMatch === 'string') {\n        return url === urlToMatch;\n    }\n    else {\n        return !!url.match(urlToMatch);\n    }\n}\n/**\n * Check if {@param url} should be ignored when comparing against {@param ignoredUrls}\n * @param url\n * @param ignoredUrls\n */\nexport function isUrlIgnored(url, ignoredUrls) {\n    var e_1, _a;\n    if (!ignoredUrls) {\n        return false;\n    }\n    try {\n        for (var ignoredUrls_1 = __values(ignoredUrls), ignoredUrls_1_1 = ignoredUrls_1.next(); !ignoredUrls_1_1.done; ignoredUrls_1_1 = ignoredUrls_1.next()) {\n            var ignoreUrl = ignoredUrls_1_1.value;\n            if (urlMatches(url, ignoreUrl)) {\n                return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (ignoredUrls_1_1 && !ignoredUrls_1_1.done && (_a = ignoredUrls_1.return)) _a.call(ignoredUrls_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\n//# sourceMappingURL=url.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Checks if certain function has been already wrapped\n * @param func\n */\nexport function isWrapped(func) {\n    return (typeof func === 'function' &&\n        typeof func.__original === 'function' &&\n        typeof func.__unwrap === 'function' &&\n        func.__wrapped === true);\n}\n//# sourceMappingURL=wrap.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport * from './baggage/propagation/W3CBaggagePropagator';\nexport * from './common/anchored-clock';\nexport * from './common/attributes';\nexport * from './common/global-error-handler';\nexport * from './common/logging-error-handler';\nexport * from './common/time';\nexport * from './common/types';\nexport * from './common/hex-to-binary';\nexport * from './ExportResult';\nimport * as baggageUtils_1 from './baggage/utils';\nexport { baggageUtils_1 as baggageUtils };\nexport * from './platform';\nexport * from './propagation/composite';\nexport * from './trace/W3CTraceContextPropagator';\nexport * from './trace/IdGenerator';\nexport * from './trace/rpc-metadata';\nexport * from './trace/sampler/AlwaysOffSampler';\nexport * from './trace/sampler/AlwaysOnSampler';\nexport * from './trace/sampler/ParentBasedSampler';\nexport * from './trace/sampler/TraceIdRatioBasedSampler';\nexport * from './trace/suppress-tracing';\nexport * from './trace/TraceState';\nexport * from './utils/environment';\nexport * from './utils/merge';\nexport * from './utils/sampling';\nexport * from './utils/timeout';\nexport * from './utils/url';\nexport * from './utils/wrap';\nexport * from './utils/callback';\nexport * from './version';\nimport { _export } from './internal/exporter';\nexport var internal = {\n    _export: _export,\n};\n//# sourceMappingURL=index.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { context } from '@opentelemetry/api';\nimport { suppressTracing } from '../trace/suppress-tracing';\n/**\n * @internal\n * Shared functionality used by Exporters while exporting data, including suppression of Traces.\n */\nexport function _export(exporter, arg) {\n    return new Promise(function (resolve) {\n        // prevent downstream exporter calls from generating spans\n        context.with(suppressTracing(context.active()), function () {\n            exporter.export(arg, function (result) {\n                resolve(result);\n            });\n        });\n    });\n}\n//# sourceMappingURL=exporter.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DEFAULT_ENVIRONMENT, parseEnvironment, } from '../../utils/environment';\n/**\n * Gets the environment variables\n */\nexport function getEnv() {\n    var processEnv = parseEnvironment(process.env);\n    return Object.assign({}, DEFAULT_ENVIRONMENT, processEnv);\n}\nexport function getEnvWithoutDefaults() {\n    return parseEnvironment(process.env);\n}\n//# sourceMappingURL=environment.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { performance } from 'perf_hooks';\nexport var otperformance = performance;\n//# sourceMappingURL=performance.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"perf_hooks\");","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a;\nimport { VERSION } from '../../version';\nimport { SEMRESATTRS_TELEMETRY_SDK_NAME, SEMRESATTRS_PROCESS_RUNTIME_NAME, SEMRESATTRS_TELEMETRY_SDK_LANGUAGE, TELEMETRYSDKLANGUAGEVALUES_NODEJS, SEMRESATTRS_TELEMETRY_SDK_VERSION, } from '@opentelemetry/semantic-conventions';\n/** Constants describing the SDK in use */\nexport var SDK_INFO = (_a = {},\n    _a[SEMRESATTRS_TELEMETRY_SDK_NAME] = 'opentelemetry',\n    _a[SEMRESATTRS_PROCESS_RUNTIME_NAME] = 'node',\n    _a[SEMRESATTRS_TELEMETRY_SDK_LANGUAGE] = TELEMETRYSDKLANGUAGEVALUES_NODEJS,\n    _a[SEMRESATTRS_TELEMETRY_SDK_VERSION] = VERSION,\n    _a);\n//# sourceMappingURL=sdk-info.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function unrefTimer(timer) {\n    timer.unref();\n}\n//# sourceMappingURL=timer-util.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { diag, } from '@opentelemetry/api';\n/** Combines multiple propagators into a single propagator. */\nvar CompositePropagator = /** @class */ (function () {\n    /**\n     * Construct a composite propagator from a list of propagators.\n     *\n     * @param [config] Configuration object for composite propagator\n     */\n    function CompositePropagator(config) {\n        if (config === void 0) { config = {}; }\n        var _a;\n        this._propagators = (_a = config.propagators) !== null && _a !== void 0 ? _a : [];\n        this._fields = Array.from(new Set(this._propagators\n            // older propagators may not have fields function, null check to be sure\n            .map(function (p) { return (typeof p.fields === 'function' ? p.fields() : []); })\n            .reduce(function (x, y) { return x.concat(y); }, [])));\n    }\n    /**\n     * Run each of the configured propagators with the given context and carrier.\n     * Propagators are run in the order they are configured, so if multiple\n     * propagators write the same carrier key, the propagator later in the list\n     * will \"win\".\n     *\n     * @param context Context to inject\n     * @param carrier Carrier into which context will be injected\n     */\n    CompositePropagator.prototype.inject = function (context, carrier, setter) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this._propagators), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var propagator = _c.value;\n                try {\n                    propagator.inject(context, carrier, setter);\n                }\n                catch (err) {\n                    diag.warn(\"Failed to inject with \" + propagator.constructor.name + \". Err: \" + err.message);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    /**\n     * Run each of the configured propagators with the given context and carrier.\n     * Propagators are run in the order they are configured, so if multiple\n     * propagators write the same context key, the propagator later in the list\n     * will \"win\".\n     *\n     * @param context Context to add values to\n     * @param carrier Carrier from which to extract context\n     */\n    CompositePropagator.prototype.extract = function (context, carrier, getter) {\n        return this._propagators.reduce(function (ctx, propagator) {\n            try {\n                return propagator.extract(ctx, carrier, getter);\n            }\n            catch (err) {\n                diag.warn(\"Failed to inject with \" + propagator.constructor.name + \". Err: \" + err.message);\n            }\n            return ctx;\n        }, context);\n    };\n    CompositePropagator.prototype.fields = function () {\n        // return a new array so our fields cannot be modified\n        return this._fields.slice();\n    };\n    return CompositePropagator;\n}());\nexport { CompositePropagator };\n//# sourceMappingURL=composite.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar VALID_KEY_CHAR_RANGE = '[_0-9a-z-*/]';\nvar VALID_KEY = \"[a-z]\" + VALID_KEY_CHAR_RANGE + \"{0,255}\";\nvar VALID_VENDOR_KEY = \"[a-z0-9]\" + VALID_KEY_CHAR_RANGE + \"{0,240}@[a-z]\" + VALID_KEY_CHAR_RANGE + \"{0,13}\";\nvar VALID_KEY_REGEX = new RegExp(\"^(?:\" + VALID_KEY + \"|\" + VALID_VENDOR_KEY + \")$\");\nvar VALID_VALUE_BASE_REGEX = /^[ -~]{0,255}[!-~]$/;\nvar INVALID_VALUE_COMMA_EQUAL_REGEX = /,|=/;\n/**\n * Key is opaque string up to 256 characters printable. It MUST begin with a\n * lowercase letter, and can only contain lowercase letters a-z, digits 0-9,\n * underscores _, dashes -, asterisks *, and forward slashes /.\n * For multi-tenant vendor scenarios, an at sign (@) can be used to prefix the\n * vendor name. Vendors SHOULD set the tenant ID at the beginning of the key.\n * see https://www.w3.org/TR/trace-context/#key\n */\nexport function validateKey(key) {\n    return VALID_KEY_REGEX.test(key);\n}\n/**\n * Value is opaque string up to 256 characters printable ASCII RFC0020\n * characters (i.e., the range 0x20 to 0x7E) except comma , and =.\n */\nexport function validateValue(value) {\n    return (VALID_VALUE_BASE_REGEX.test(value) &&\n        !INVALID_VALUE_COMMA_EQUAL_REGEX.test(value));\n}\n//# sourceMappingURL=validators.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { validateKey, validateValue } from '../internal/validators';\nvar MAX_TRACE_STATE_ITEMS = 32;\nvar MAX_TRACE_STATE_LEN = 512;\nvar LIST_MEMBERS_SEPARATOR = ',';\nvar LIST_MEMBER_KEY_VALUE_SPLITTER = '=';\n/**\n * TraceState must be a class and not a simple object type because of the spec\n * requirement (https://www.w3.org/TR/trace-context/#tracestate-field).\n *\n * Here is the list of allowed mutations:\n * - New key-value pair should be added into the beginning of the list\n * - The value of any key can be updated. Modified keys MUST be moved to the\n * beginning of the list.\n */\nvar TraceState = /** @class */ (function () {\n    function TraceState(rawTraceState) {\n        this._internalState = new Map();\n        if (rawTraceState)\n            this._parse(rawTraceState);\n    }\n    TraceState.prototype.set = function (key, value) {\n        // TODO: Benchmark the different approaches(map vs list) and\n        // use the faster one.\n        var traceState = this._clone();\n        if (traceState._internalState.has(key)) {\n            traceState._internalState.delete(key);\n        }\n        traceState._internalState.set(key, value);\n        return traceState;\n    };\n    TraceState.prototype.unset = function (key) {\n        var traceState = this._clone();\n        traceState._internalState.delete(key);\n        return traceState;\n    };\n    TraceState.prototype.get = function (key) {\n        return this._internalState.get(key);\n    };\n    TraceState.prototype.serialize = function () {\n        var _this = this;\n        return this._keys()\n            .reduce(function (agg, key) {\n            agg.push(key + LIST_MEMBER_KEY_VALUE_SPLITTER + _this.get(key));\n            return agg;\n        }, [])\n            .join(LIST_MEMBERS_SEPARATOR);\n    };\n    TraceState.prototype._parse = function (rawTraceState) {\n        if (rawTraceState.length > MAX_TRACE_STATE_LEN)\n            return;\n        this._internalState = rawTraceState\n            .split(LIST_MEMBERS_SEPARATOR)\n            .reverse() // Store in reverse so new keys (.set(...)) will be placed at the beginning\n            .reduce(function (agg, part) {\n            var listMember = part.trim(); // Optional Whitespace (OWS) handling\n            var i = listMember.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);\n            if (i !== -1) {\n                var key = listMember.slice(0, i);\n                var value = listMember.slice(i + 1, part.length);\n                if (validateKey(key) && validateValue(value)) {\n                    agg.set(key, value);\n                }\n                else {\n                    // TODO: Consider to add warning log\n                }\n            }\n            return agg;\n        }, new Map());\n        // Because of the reverse() requirement, trunc must be done after map is created\n        if (this._internalState.size > MAX_TRACE_STATE_ITEMS) {\n            this._internalState = new Map(Array.from(this._internalState.entries())\n                .reverse() // Use reverse same as original tracestate parse chain\n                .slice(0, MAX_TRACE_STATE_ITEMS));\n        }\n    };\n    TraceState.prototype._keys = function () {\n        return Array.from(this._internalState.keys()).reverse();\n    };\n    TraceState.prototype._clone = function () {\n        var traceState = new TraceState();\n        traceState._internalState = new Map(this._internalState);\n        return traceState;\n    };\n    return TraceState;\n}());\nexport { TraceState };\n//# sourceMappingURL=TraceState.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isSpanContextValid, trace, TraceFlags, } from '@opentelemetry/api';\nimport { isTracingSuppressed } from './suppress-tracing';\nimport { TraceState } from './TraceState';\nexport var TRACE_PARENT_HEADER = 'traceparent';\nexport var TRACE_STATE_HEADER = 'tracestate';\nvar VERSION = '00';\nvar VERSION_PART = '(?!ff)[\\\\da-f]{2}';\nvar TRACE_ID_PART = '(?![0]{32})[\\\\da-f]{32}';\nvar PARENT_ID_PART = '(?![0]{16})[\\\\da-f]{16}';\nvar FLAGS_PART = '[\\\\da-f]{2}';\nvar TRACE_PARENT_REGEX = new RegExp(\"^\\\\s?(\" + VERSION_PART + \")-(\" + TRACE_ID_PART + \")-(\" + PARENT_ID_PART + \")-(\" + FLAGS_PART + \")(-.*)?\\\\s?$\");\n/**\n * Parses information from the [traceparent] span tag and converts it into {@link SpanContext}\n * @param traceParent - A meta property that comes from server.\n *     It should be dynamically generated server side to have the server's request trace Id,\n *     a parent span Id that was set on the server's request span,\n *     and the trace flags to indicate the server's sampling decision\n *     (01 = sampled, 00 = not sampled).\n *     for example: '{version}-{traceId}-{spanId}-{sampleDecision}'\n *     For more information see {@link https://www.w3.org/TR/trace-context/}\n */\nexport function parseTraceParent(traceParent) {\n    var match = TRACE_PARENT_REGEX.exec(traceParent);\n    if (!match)\n        return null;\n    // According to the specification the implementation should be compatible\n    // with future versions. If there are more parts, we only reject it if it's using version 00\n    // See https://www.w3.org/TR/trace-context/#versioning-of-traceparent\n    if (match[1] === '00' && match[5])\n        return null;\n    return {\n        traceId: match[2],\n        spanId: match[3],\n        traceFlags: parseInt(match[4], 16),\n    };\n}\n/**\n * Propagates {@link SpanContext} through Trace Context format propagation.\n *\n * Based on the Trace Context specification:\n * https://www.w3.org/TR/trace-context/\n */\nvar W3CTraceContextPropagator = /** @class */ (function () {\n    function W3CTraceContextPropagator() {\n    }\n    W3CTraceContextPropagator.prototype.inject = function (context, carrier, setter) {\n        var spanContext = trace.getSpanContext(context);\n        if (!spanContext ||\n            isTracingSuppressed(context) ||\n            !isSpanContextValid(spanContext))\n            return;\n        var traceParent = VERSION + \"-\" + spanContext.traceId + \"-\" + spanContext.spanId + \"-0\" + Number(spanContext.traceFlags || TraceFlags.NONE).toString(16);\n        setter.set(carrier, TRACE_PARENT_HEADER, traceParent);\n        if (spanContext.traceState) {\n            setter.set(carrier, TRACE_STATE_HEADER, spanContext.traceState.serialize());\n        }\n    };\n    W3CTraceContextPropagator.prototype.extract = function (context, carrier, getter) {\n        var traceParentHeader = getter.get(carrier, TRACE_PARENT_HEADER);\n        if (!traceParentHeader)\n            return context;\n        var traceParent = Array.isArray(traceParentHeader)\n            ? traceParentHeader[0]\n            : traceParentHeader;\n        if (typeof traceParent !== 'string')\n            return context;\n        var spanContext = parseTraceParent(traceParent);\n        if (!spanContext)\n            return context;\n        spanContext.isRemote = true;\n        var traceStateHeader = getter.get(carrier, TRACE_STATE_HEADER);\n        if (traceStateHeader) {\n            // If more than one `tracestate` header is found, we merge them into a\n            // single header.\n            var state = Array.isArray(traceStateHeader)\n                ? traceStateHeader.join(',')\n                : traceStateHeader;\n            spanContext.traceState = new TraceState(typeof state === 'string' ? state : undefined);\n        }\n        return trace.setSpanContext(context, spanContext);\n    };\n    W3CTraceContextPropagator.prototype.fields = function () {\n        return [TRACE_PARENT_HEADER, TRACE_STATE_HEADER];\n    };\n    return W3CTraceContextPropagator;\n}());\nexport { W3CTraceContextPropagator };\n//# sourceMappingURL=W3CTraceContextPropagator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createContextKey } from '@opentelemetry/api';\nvar SUPPRESS_TRACING_KEY = createContextKey('OpenTelemetry SDK Context Key SUPPRESS_TRACING');\nexport function suppressTracing(context) {\n    return context.setValue(SUPPRESS_TRACING_KEY, true);\n}\nexport function unsuppressTracing(context) {\n    return context.deleteValue(SUPPRESS_TRACING_KEY);\n}\nexport function isTracingSuppressed(context) {\n    return context.getValue(SUPPRESS_TRACING_KEY) === true;\n}\n//# sourceMappingURL=suppress-tracing.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        this._promise = new Promise(function (resolve, reject) {\n            _this._resolve = resolve;\n            _this._reject = reject;\n        });\n    }\n    Object.defineProperty(Deferred.prototype, \"promise\", {\n        get: function () {\n            return this._promise;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Deferred.prototype.resolve = function (val) {\n        this._resolve(val);\n    };\n    Deferred.prototype.reject = function (err) {\n        this._reject(err);\n    };\n    return Deferred;\n}());\nexport { Deferred };\n//# sourceMappingURL=promise.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { Deferred } from './promise';\n/**\n * Bind the callback and only invoke the callback once regardless how many times `BindOnceFuture.call` is invoked.\n */\nvar BindOnceFuture = /** @class */ (function () {\n    function BindOnceFuture(_callback, _that) {\n        this._callback = _callback;\n        this._that = _that;\n        this._isCalled = false;\n        this._deferred = new Deferred();\n    }\n    Object.defineProperty(BindOnceFuture.prototype, \"isCalled\", {\n        get: function () {\n            return this._isCalled;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BindOnceFuture.prototype, \"promise\", {\n        get: function () {\n            return this._deferred.promise;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BindOnceFuture.prototype.call = function () {\n        var _a;\n        var _this = this;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._isCalled) {\n            this._isCalled = true;\n            try {\n                Promise.resolve((_a = this._callback).call.apply(_a, __spreadArray([this._that], __read(args), false))).then(function (val) { return _this._deferred.resolve(val); }, function (err) { return _this._deferred.reject(err); });\n            }\n            catch (err) {\n                this._deferred.reject(err);\n            }\n        }\n        return this._deferred.promise;\n    };\n    return BindOnceFuture;\n}());\nexport { BindOnceFuture };\n//# sourceMappingURL=callback.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DiagLogLevel } from '@opentelemetry/api';\nimport { TracesSamplerValues } from './sampling';\nvar DEFAULT_LIST_SEPARATOR = ',';\n/**\n * Environment interface to define all names\n */\nvar ENVIRONMENT_BOOLEAN_KEYS = ['OTEL_SDK_DISABLED'];\nfunction isEnvVarABoolean(key) {\n    return (ENVIRONMENT_BOOLEAN_KEYS.indexOf(key) > -1);\n}\nvar ENVIRONMENT_NUMBERS_KEYS = [\n    'OTEL_BSP_EXPORT_TIMEOUT',\n    'OTEL_BSP_MAX_EXPORT_BATCH_SIZE',\n    'OTEL_BSP_MAX_QUEUE_SIZE',\n    'OTEL_BSP_SCHEDULE_DELAY',\n    'OTEL_BLRP_EXPORT_TIMEOUT',\n    'OTEL_BLRP_MAX_EXPORT_BATCH_SIZE',\n    'OTEL_BLRP_MAX_QUEUE_SIZE',\n    'OTEL_BLRP_SCHEDULE_DELAY',\n    'OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT',\n    'OTEL_ATTRIBUTE_COUNT_LIMIT',\n    'OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT',\n    'OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT',\n    'OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT',\n    'OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT',\n    'OTEL_SPAN_EVENT_COUNT_LIMIT',\n    'OTEL_SPAN_LINK_COUNT_LIMIT',\n    'OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT',\n    'OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT',\n    'OTEL_EXPORTER_OTLP_TIMEOUT',\n    'OTEL_EXPORTER_OTLP_TRACES_TIMEOUT',\n    'OTEL_EXPORTER_OTLP_METRICS_TIMEOUT',\n    'OTEL_EXPORTER_OTLP_LOGS_TIMEOUT',\n    'OTEL_EXPORTER_JAEGER_AGENT_PORT',\n];\nfunction isEnvVarANumber(key) {\n    return (ENVIRONMENT_NUMBERS_KEYS.indexOf(key) > -1);\n}\nvar ENVIRONMENT_LISTS_KEYS = [\n    'OTEL_NO_PATCH_MODULES',\n    'OTEL_PROPAGATORS',\n];\nfunction isEnvVarAList(key) {\n    return ENVIRONMENT_LISTS_KEYS.indexOf(key) > -1;\n}\nexport var DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT = Infinity;\nexport var DEFAULT_ATTRIBUTE_COUNT_LIMIT = 128;\nexport var DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT = 128;\nexport var DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT = 128;\n/**\n * Default environment variables\n */\nexport var DEFAULT_ENVIRONMENT = {\n    OTEL_SDK_DISABLED: false,\n    CONTAINER_NAME: '',\n    ECS_CONTAINER_METADATA_URI_V4: '',\n    ECS_CONTAINER_METADATA_URI: '',\n    HOSTNAME: '',\n    KUBERNETES_SERVICE_HOST: '',\n    NAMESPACE: '',\n    OTEL_BSP_EXPORT_TIMEOUT: 30000,\n    OTEL_BSP_MAX_EXPORT_BATCH_SIZE: 512,\n    OTEL_BSP_MAX_QUEUE_SIZE: 2048,\n    OTEL_BSP_SCHEDULE_DELAY: 5000,\n    OTEL_BLRP_EXPORT_TIMEOUT: 30000,\n    OTEL_BLRP_MAX_EXPORT_BATCH_SIZE: 512,\n    OTEL_BLRP_MAX_QUEUE_SIZE: 2048,\n    OTEL_BLRP_SCHEDULE_DELAY: 5000,\n    OTEL_EXPORTER_JAEGER_AGENT_HOST: '',\n    OTEL_EXPORTER_JAEGER_AGENT_PORT: 6832,\n    OTEL_EXPORTER_JAEGER_ENDPOINT: '',\n    OTEL_EXPORTER_JAEGER_PASSWORD: '',\n    OTEL_EXPORTER_JAEGER_USER: '',\n    OTEL_EXPORTER_OTLP_ENDPOINT: '',\n    OTEL_EXPORTER_OTLP_TRACES_ENDPOINT: '',\n    OTEL_EXPORTER_OTLP_METRICS_ENDPOINT: '',\n    OTEL_EXPORTER_OTLP_LOGS_ENDPOINT: '',\n    OTEL_EXPORTER_OTLP_HEADERS: '',\n    OTEL_EXPORTER_OTLP_TRACES_HEADERS: '',\n    OTEL_EXPORTER_OTLP_METRICS_HEADERS: '',\n    OTEL_EXPORTER_OTLP_LOGS_HEADERS: '',\n    OTEL_EXPORTER_OTLP_TIMEOUT: 10000,\n    OTEL_EXPORTER_OTLP_TRACES_TIMEOUT: 10000,\n    OTEL_EXPORTER_OTLP_METRICS_TIMEOUT: 10000,\n    OTEL_EXPORTER_OTLP_LOGS_TIMEOUT: 10000,\n    OTEL_EXPORTER_ZIPKIN_ENDPOINT: 'http://localhost:9411/api/v2/spans',\n    OTEL_LOG_LEVEL: DiagLogLevel.INFO,\n    OTEL_NO_PATCH_MODULES: [],\n    OTEL_PROPAGATORS: ['tracecontext', 'baggage'],\n    OTEL_RESOURCE_ATTRIBUTES: '',\n    OTEL_SERVICE_NAME: '',\n    OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT: DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n    OTEL_ATTRIBUTE_COUNT_LIMIT: DEFAULT_ATTRIBUTE_COUNT_LIMIT,\n    OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT: DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n    OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT: DEFAULT_ATTRIBUTE_COUNT_LIMIT,\n    OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT: DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n    OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT: DEFAULT_ATTRIBUTE_COUNT_LIMIT,\n    OTEL_SPAN_EVENT_COUNT_LIMIT: 128,\n    OTEL_SPAN_LINK_COUNT_LIMIT: 128,\n    OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT: DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,\n    OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT: DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,\n    OTEL_TRACES_EXPORTER: '',\n    OTEL_TRACES_SAMPLER: TracesSamplerValues.ParentBasedAlwaysOn,\n    OTEL_TRACES_SAMPLER_ARG: '',\n    OTEL_LOGS_EXPORTER: '',\n    OTEL_EXPORTER_OTLP_INSECURE: '',\n    OTEL_EXPORTER_OTLP_TRACES_INSECURE: '',\n    OTEL_EXPORTER_OTLP_METRICS_INSECURE: '',\n    OTEL_EXPORTER_OTLP_LOGS_INSECURE: '',\n    OTEL_EXPORTER_OTLP_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_COMPRESSION: '',\n    OTEL_EXPORTER_OTLP_TRACES_COMPRESSION: '',\n    OTEL_EXPORTER_OTLP_METRICS_COMPRESSION: '',\n    OTEL_EXPORTER_OTLP_LOGS_COMPRESSION: '',\n    OTEL_EXPORTER_OTLP_CLIENT_KEY: '',\n    OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY: '',\n    OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY: '',\n    OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY: '',\n    OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_PROTOCOL: 'http/protobuf',\n    OTEL_EXPORTER_OTLP_TRACES_PROTOCOL: 'http/protobuf',\n    OTEL_EXPORTER_OTLP_METRICS_PROTOCOL: 'http/protobuf',\n    OTEL_EXPORTER_OTLP_LOGS_PROTOCOL: 'http/protobuf',\n    OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE: 'cumulative',\n};\n/**\n * @param key\n * @param environment\n * @param values\n */\nfunction parseBoolean(key, environment, values) {\n    if (typeof values[key] === 'undefined') {\n        return;\n    }\n    var value = String(values[key]);\n    // support case-insensitive \"true\"\n    environment[key] = value.toLowerCase() === 'true';\n}\n/**\n * Parses a variable as number with number validation\n * @param name\n * @param environment\n * @param values\n * @param min\n * @param max\n */\nfunction parseNumber(name, environment, values, min, max) {\n    if (min === void 0) { min = -Infinity; }\n    if (max === void 0) { max = Infinity; }\n    if (typeof values[name] !== 'undefined') {\n        var value = Number(values[name]);\n        if (!isNaN(value)) {\n            if (value < min) {\n                environment[name] = min;\n            }\n            else if (value > max) {\n                environment[name] = max;\n            }\n            else {\n                environment[name] = value;\n            }\n        }\n    }\n}\n/**\n * Parses list-like strings from input into output.\n * @param name\n * @param environment\n * @param values\n * @param separator\n */\nfunction parseStringList(name, output, input, separator) {\n    if (separator === void 0) { separator = DEFAULT_LIST_SEPARATOR; }\n    var givenValue = input[name];\n    if (typeof givenValue === 'string') {\n        output[name] = givenValue.split(separator).map(function (v) { return v.trim(); });\n    }\n}\n// The support string -> DiagLogLevel mappings\nvar logLevelMap = {\n    ALL: DiagLogLevel.ALL,\n    VERBOSE: DiagLogLevel.VERBOSE,\n    DEBUG: DiagLogLevel.DEBUG,\n    INFO: DiagLogLevel.INFO,\n    WARN: DiagLogLevel.WARN,\n    ERROR: DiagLogLevel.ERROR,\n    NONE: DiagLogLevel.NONE,\n};\n/**\n * Environmentally sets log level if valid log level string is provided\n * @param key\n * @param environment\n * @param values\n */\nfunction setLogLevelFromEnv(key, environment, values) {\n    var value = values[key];\n    if (typeof value === 'string') {\n        var theLevel = logLevelMap[value.toUpperCase()];\n        if (theLevel != null) {\n            environment[key] = theLevel;\n        }\n    }\n}\n/**\n * Parses environment values\n * @param values\n */\nexport function parseEnvironment(values) {\n    var environment = {};\n    for (var env in DEFAULT_ENVIRONMENT) {\n        var key = env;\n        switch (key) {\n            case 'OTEL_LOG_LEVEL':\n                setLogLevelFromEnv(key, environment, values);\n                break;\n            default:\n                if (isEnvVarABoolean(key)) {\n                    parseBoolean(key, environment, values);\n                }\n                else if (isEnvVarANumber(key)) {\n                    parseNumber(key, environment, values);\n                }\n                else if (isEnvVarAList(key)) {\n                    parseStringList(key, environment, values);\n                }\n                else {\n                    var value = values[key];\n                    if (typeof value !== 'undefined' && value !== null) {\n                        environment[key] = String(value);\n                    }\n                }\n        }\n    }\n    return environment;\n}\n//# sourceMappingURL=environment.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * based on lodash in order to support esm builds without esModuleInterop.\n * lodash is using MIT License.\n **/\nvar objectTag = '[object Object]';\nvar nullTag = '[object Null]';\nvar undefinedTag = '[object Undefined]';\nvar funcProto = Function.prototype;\nvar funcToString = funcProto.toString;\nvar objectCtorString = funcToString.call(Object);\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\nvar nativeObjectToString = objectProto.toString;\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n    return function (arg) {\n        return func(transform(arg));\n    };\n}\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nexport function isPlainObject(value) {\n    if (!isObjectLike(value) || baseGetTag(value) !== objectTag) {\n        return false;\n    }\n    var proto = getPrototype(value);\n    if (proto === null) {\n        return true;\n    }\n    var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n    return (typeof Ctor == 'function' &&\n        Ctor instanceof Ctor &&\n        funcToString.call(Ctor) === objectCtorString);\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n    return value != null && typeof value == 'object';\n}\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n    if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n    }\n    return symToStringTag && symToStringTag in Object(value)\n        ? getRawTag(value)\n        : objectToString(value);\n}\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n    var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];\n    var unmasked = false;\n    try {\n        value[symToStringTag] = undefined;\n        unmasked = true;\n    }\n    catch (e) {\n        // silence\n    }\n    var result = nativeObjectToString.call(value);\n    if (unmasked) {\n        if (isOwn) {\n            value[symToStringTag] = tag;\n        }\n        else {\n            delete value[symToStringTag];\n        }\n    }\n    return result;\n}\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n    return nativeObjectToString.call(value);\n}\n//# sourceMappingURL=lodash.merge.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isPlainObject } from './lodash.merge';\nvar MAX_LEVEL = 20;\n/**\n * Merges objects together\n * @param args - objects / values to be merged\n */\nexport function merge() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var result = args.shift();\n    var objects = new WeakMap();\n    while (args.length > 0) {\n        result = mergeTwoObjects(result, args.shift(), 0, objects);\n    }\n    return result;\n}\nfunction takeValue(value) {\n    if (isArray(value)) {\n        return value.slice();\n    }\n    return value;\n}\n/**\n * Merges two objects\n * @param one - first object\n * @param two - second object\n * @param level - current deep level\n * @param objects - objects holder that has been already referenced - to prevent\n * cyclic dependency\n */\nfunction mergeTwoObjects(one, two, level, objects) {\n    if (level === void 0) { level = 0; }\n    var result;\n    if (level > MAX_LEVEL) {\n        return undefined;\n    }\n    level++;\n    if (isPrimitive(one) || isPrimitive(two) || isFunction(two)) {\n        result = takeValue(two);\n    }\n    else if (isArray(one)) {\n        result = one.slice();\n        if (isArray(two)) {\n            for (var i = 0, j = two.length; i < j; i++) {\n                result.push(takeValue(two[i]));\n            }\n        }\n        else if (isObject(two)) {\n            var keys = Object.keys(two);\n            for (var i = 0, j = keys.length; i < j; i++) {\n                var key = keys[i];\n                result[key] = takeValue(two[key]);\n            }\n        }\n    }\n    else if (isObject(one)) {\n        if (isObject(two)) {\n            if (!shouldMerge(one, two)) {\n                return two;\n            }\n            result = Object.assign({}, one);\n            var keys = Object.keys(two);\n            for (var i = 0, j = keys.length; i < j; i++) {\n                var key = keys[i];\n                var twoValue = two[key];\n                if (isPrimitive(twoValue)) {\n                    if (typeof twoValue === 'undefined') {\n                        delete result[key];\n                    }\n                    else {\n                        // result[key] = takeValue(twoValue);\n                        result[key] = twoValue;\n                    }\n                }\n                else {\n                    var obj1 = result[key];\n                    var obj2 = twoValue;\n                    if (wasObjectReferenced(one, key, objects) ||\n                        wasObjectReferenced(two, key, objects)) {\n                        delete result[key];\n                    }\n                    else {\n                        if (isObject(obj1) && isObject(obj2)) {\n                            var arr1 = objects.get(obj1) || [];\n                            var arr2 = objects.get(obj2) || [];\n                            arr1.push({ obj: one, key: key });\n                            arr2.push({ obj: two, key: key });\n                            objects.set(obj1, arr1);\n                            objects.set(obj2, arr2);\n                        }\n                        result[key] = mergeTwoObjects(result[key], twoValue, level, objects);\n                    }\n                }\n            }\n        }\n        else {\n            result = two;\n        }\n    }\n    return result;\n}\n/**\n * Function to check if object has been already reference\n * @param obj\n * @param key\n * @param objects\n */\nfunction wasObjectReferenced(obj, key, objects) {\n    var arr = objects.get(obj[key]) || [];\n    for (var i = 0, j = arr.length; i < j; i++) {\n        var info = arr[i];\n        if (info.key === key && info.obj === obj) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction isArray(value) {\n    return Array.isArray(value);\n}\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\nfunction isObject(value) {\n    return (!isPrimitive(value) &&\n        !isArray(value) &&\n        !isFunction(value) &&\n        typeof value === 'object');\n}\nfunction isPrimitive(value) {\n    return (typeof value === 'string' ||\n        typeof value === 'number' ||\n        typeof value === 'boolean' ||\n        typeof value === 'undefined' ||\n        value instanceof Date ||\n        value instanceof RegExp ||\n        value === null);\n}\nfunction shouldMerge(one, two) {\n    if (!isPlainObject(one) || !isPlainObject(two)) {\n        return false;\n    }\n    return true;\n}\n//# sourceMappingURL=merge.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var TracesSamplerValues;\n(function (TracesSamplerValues) {\n    TracesSamplerValues[\"AlwaysOff\"] = \"always_off\";\n    TracesSamplerValues[\"AlwaysOn\"] = \"always_on\";\n    TracesSamplerValues[\"ParentBasedAlwaysOff\"] = \"parentbased_always_off\";\n    TracesSamplerValues[\"ParentBasedAlwaysOn\"] = \"parentbased_always_on\";\n    TracesSamplerValues[\"ParentBasedTraceIdRatio\"] = \"parentbased_traceidratio\";\n    TracesSamplerValues[\"TraceIdRatio\"] = \"traceidratio\";\n})(TracesSamplerValues || (TracesSamplerValues = {}));\n//# sourceMappingURL=sampling.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// this is autogenerated file, see scripts/version-update.js\nexport var VERSION = '1.25.1';\n//# sourceMappingURL=version.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A sampling decision that determines how a {@link Span} will be recorded\n * and collected.\n */\nexport var SamplingDecision;\n(function (SamplingDecision) {\n    /**\n     * `Span.isRecording() === false`, span will not be recorded and all events\n     * and attributes will be dropped.\n     */\n    SamplingDecision[SamplingDecision[\"NOT_RECORD\"] = 0] = \"NOT_RECORD\";\n    /**\n     * `Span.isRecording() === true`, but `Sampled` flag in {@link TraceFlags}\n     * MUST NOT be set.\n     */\n    SamplingDecision[SamplingDecision[\"RECORD\"] = 1] = \"RECORD\";\n    /**\n     * `Span.isRecording() === true` AND `Sampled` flag in {@link TraceFlags}\n     * MUST be set.\n     */\n    SamplingDecision[SamplingDecision[\"RECORD_AND_SAMPLED\"] = 2] = \"RECORD_AND_SAMPLED\";\n})(SamplingDecision || (SamplingDecision = {}));\n//# sourceMappingURL=Sampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { diag, SpanStatusCode, } from '@opentelemetry/api';\nimport { addHrTimes, millisToHrTime, getTimeOrigin, hrTime, hrTimeDuration, isAttributeValue, isTimeInput, isTimeInputHrTime, otperformance, sanitizeAttributes, } from '@opentelemetry/core';\nimport { SEMATTRS_EXCEPTION_MESSAGE, SEMATTRS_EXCEPTION_STACKTRACE, SEMATTRS_EXCEPTION_TYPE, } from '@opentelemetry/semantic-conventions';\nimport { ExceptionEventName } from './enums';\n/**\n * This class represents a span.\n */\nvar Span = /** @class */ (function () {\n    /**\n     * Constructs a new Span instance.\n     *\n     * @deprecated calling Span constructor directly is not supported. Please use tracer.startSpan.\n     * */\n    function Span(parentTracer, context, spanName, spanContext, kind, parentSpanId, links, startTime, _deprecatedClock, // keeping this argument even though it is unused to ensure backwards compatibility\n    attributes) {\n        if (links === void 0) { links = []; }\n        this.attributes = {};\n        this.links = [];\n        this.events = [];\n        this._droppedAttributesCount = 0;\n        this._droppedEventsCount = 0;\n        this._droppedLinksCount = 0;\n        this.status = {\n            code: SpanStatusCode.UNSET,\n        };\n        this.endTime = [0, 0];\n        this._ended = false;\n        this._duration = [-1, -1];\n        this.name = spanName;\n        this._spanContext = spanContext;\n        this.parentSpanId = parentSpanId;\n        this.kind = kind;\n        this.links = links;\n        var now = Date.now();\n        this._performanceStartTime = otperformance.now();\n        this._performanceOffset =\n            now - (this._performanceStartTime + getTimeOrigin());\n        this._startTimeProvided = startTime != null;\n        this.startTime = this._getTime(startTime !== null && startTime !== void 0 ? startTime : now);\n        this.resource = parentTracer.resource;\n        this.instrumentationLibrary = parentTracer.instrumentationLibrary;\n        this._spanLimits = parentTracer.getSpanLimits();\n        this._attributeValueLengthLimit =\n            this._spanLimits.attributeValueLengthLimit || 0;\n        if (attributes != null) {\n            this.setAttributes(attributes);\n        }\n        this._spanProcessor = parentTracer.getActiveSpanProcessor();\n        this._spanProcessor.onStart(this, context);\n    }\n    Span.prototype.spanContext = function () {\n        return this._spanContext;\n    };\n    Span.prototype.setAttribute = function (key, value) {\n        if (value == null || this._isSpanEnded())\n            return this;\n        if (key.length === 0) {\n            diag.warn(\"Invalid attribute key: \" + key);\n            return this;\n        }\n        if (!isAttributeValue(value)) {\n            diag.warn(\"Invalid attribute value set for key: \" + key);\n            return this;\n        }\n        if (Object.keys(this.attributes).length >=\n            this._spanLimits.attributeCountLimit &&\n            !Object.prototype.hasOwnProperty.call(this.attributes, key)) {\n            this._droppedAttributesCount++;\n            return this;\n        }\n        this.attributes[key] = this._truncateToSize(value);\n        return this;\n    };\n    Span.prototype.setAttributes = function (attributes) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(Object.entries(attributes)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), k = _d[0], v = _d[1];\n                this.setAttribute(k, v);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return this;\n    };\n    /**\n     *\n     * @param name Span Name\n     * @param [attributesOrStartTime] Span attributes or start time\n     *     if type is {@type TimeInput} and 3rd param is undefined\n     * @param [timeStamp] Specified time stamp for the event\n     */\n    Span.prototype.addEvent = function (name, attributesOrStartTime, timeStamp) {\n        if (this._isSpanEnded())\n            return this;\n        if (this._spanLimits.eventCountLimit === 0) {\n            diag.warn('No events allowed.');\n            this._droppedEventsCount++;\n            return this;\n        }\n        if (this.events.length >= this._spanLimits.eventCountLimit) {\n            if (this._droppedEventsCount === 0) {\n                diag.debug('Dropping extra events.');\n            }\n            this.events.shift();\n            this._droppedEventsCount++;\n        }\n        if (isTimeInput(attributesOrStartTime)) {\n            if (!isTimeInput(timeStamp)) {\n                timeStamp = attributesOrStartTime;\n            }\n            attributesOrStartTime = undefined;\n        }\n        var attributes = sanitizeAttributes(attributesOrStartTime);\n        this.events.push({\n            name: name,\n            attributes: attributes,\n            time: this._getTime(timeStamp),\n            droppedAttributesCount: 0,\n        });\n        return this;\n    };\n    Span.prototype.addLink = function (link) {\n        this.links.push(link);\n        return this;\n    };\n    Span.prototype.addLinks = function (links) {\n        var _a;\n        (_a = this.links).push.apply(_a, __spreadArray([], __read(links), false));\n        return this;\n    };\n    Span.prototype.setStatus = function (status) {\n        if (this._isSpanEnded())\n            return this;\n        this.status = status;\n        return this;\n    };\n    Span.prototype.updateName = function (name) {\n        if (this._isSpanEnded())\n            return this;\n        this.name = name;\n        return this;\n    };\n    Span.prototype.end = function (endTime) {\n        if (this._isSpanEnded()) {\n            diag.error(this.name + \" \" + this._spanContext.traceId + \"-\" + this._spanContext.spanId + \" - You can only call end() on a span once.\");\n            return;\n        }\n        this._ended = true;\n        this.endTime = this._getTime(endTime);\n        this._duration = hrTimeDuration(this.startTime, this.endTime);\n        if (this._duration[0] < 0) {\n            diag.warn('Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.', this.startTime, this.endTime);\n            this.endTime = this.startTime.slice();\n            this._duration = [0, 0];\n        }\n        if (this._droppedEventsCount > 0) {\n            diag.warn(\"Dropped \" + this._droppedEventsCount + \" events because eventCountLimit reached\");\n        }\n        this._spanProcessor.onEnd(this);\n    };\n    Span.prototype._getTime = function (inp) {\n        if (typeof inp === 'number' && inp < otperformance.now()) {\n            // must be a performance timestamp\n            // apply correction and convert to hrtime\n            return hrTime(inp + this._performanceOffset);\n        }\n        if (typeof inp === 'number') {\n            return millisToHrTime(inp);\n        }\n        if (inp instanceof Date) {\n            return millisToHrTime(inp.getTime());\n        }\n        if (isTimeInputHrTime(inp)) {\n            return inp;\n        }\n        if (this._startTimeProvided) {\n            // if user provided a time for the start manually\n            // we can't use duration to calculate event/end times\n            return millisToHrTime(Date.now());\n        }\n        var msDuration = otperformance.now() - this._performanceStartTime;\n        return addHrTimes(this.startTime, millisToHrTime(msDuration));\n    };\n    Span.prototype.isRecording = function () {\n        return this._ended === false;\n    };\n    Span.prototype.recordException = function (exception, time) {\n        var attributes = {};\n        if (typeof exception === 'string') {\n            attributes[SEMATTRS_EXCEPTION_MESSAGE] = exception;\n        }\n        else if (exception) {\n            if (exception.code) {\n                attributes[SEMATTRS_EXCEPTION_TYPE] = exception.code.toString();\n            }\n            else if (exception.name) {\n                attributes[SEMATTRS_EXCEPTION_TYPE] = exception.name;\n            }\n            if (exception.message) {\n                attributes[SEMATTRS_EXCEPTION_MESSAGE] = exception.message;\n            }\n            if (exception.stack) {\n                attributes[SEMATTRS_EXCEPTION_STACKTRACE] = exception.stack;\n            }\n        }\n        // these are minimum requirements from spec\n        if (attributes[SEMATTRS_EXCEPTION_TYPE] ||\n            attributes[SEMATTRS_EXCEPTION_MESSAGE]) {\n            this.addEvent(ExceptionEventName, attributes, time);\n        }\n        else {\n            diag.warn(\"Failed to record an exception \" + exception);\n        }\n    };\n    Object.defineProperty(Span.prototype, \"duration\", {\n        get: function () {\n            return this._duration;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Span.prototype, \"ended\", {\n        get: function () {\n            return this._ended;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Span.prototype, \"droppedAttributesCount\", {\n        get: function () {\n            return this._droppedAttributesCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Span.prototype, \"droppedEventsCount\", {\n        get: function () {\n            return this._droppedEventsCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Span.prototype, \"droppedLinksCount\", {\n        get: function () {\n            return this._droppedLinksCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Span.prototype._isSpanEnded = function () {\n        if (this._ended) {\n            diag.warn(\"Can not execute the operation on ended Span {traceId: \" + this._spanContext.traceId + \", spanId: \" + this._spanContext.spanId + \"}\");\n        }\n        return this._ended;\n    };\n    // Utility function to truncate given value within size\n    // for value type of string, will truncate to given limit\n    // for type of non-string, will return same value\n    Span.prototype._truncateToLimitUtil = function (value, limit) {\n        if (value.length <= limit) {\n            return value;\n        }\n        return value.substr(0, limit);\n    };\n    /**\n     * If the given attribute value is of type string and has more characters than given {@code attributeValueLengthLimit} then\n     * return string with truncated to {@code attributeValueLengthLimit} characters\n     *\n     * If the given attribute value is array of strings then\n     * return new array of strings with each element truncated to {@code attributeValueLengthLimit} characters\n     *\n     * Otherwise return same Attribute {@code value}\n     *\n     * @param value Attribute value\n     * @returns truncated attribute value if required, otherwise same value\n     */\n    Span.prototype._truncateToSize = function (value) {\n        var _this = this;\n        var limit = this._attributeValueLengthLimit;\n        // Check limit\n        if (limit <= 0) {\n            // Negative values are invalid, so do not truncate\n            diag.warn(\"Attribute value limit must be positive, got \" + limit);\n            return value;\n        }\n        // String\n        if (typeof value === 'string') {\n            return this._truncateToLimitUtil(value, limit);\n        }\n        // Array of strings\n        if (Array.isArray(value)) {\n            return value.map(function (val) {\n                return typeof val === 'string' ? _this._truncateToLimitUtil(val, limit) : val;\n            });\n        }\n        // Other types, no need to apply value length limit\n        return value;\n    };\n    return Span;\n}());\nexport { Span };\n//# sourceMappingURL=Span.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Event name definitions\nexport var ExceptionEventName = 'exception';\n//# sourceMappingURL=enums.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SamplingDecision } from '../Sampler';\n/** Sampler that samples no traces. */\nvar AlwaysOffSampler = /** @class */ (function () {\n    function AlwaysOffSampler() {\n    }\n    AlwaysOffSampler.prototype.shouldSample = function () {\n        return {\n            decision: SamplingDecision.NOT_RECORD,\n        };\n    };\n    AlwaysOffSampler.prototype.toString = function () {\n        return 'AlwaysOffSampler';\n    };\n    return AlwaysOffSampler;\n}());\nexport { AlwaysOffSampler };\n//# sourceMappingURL=AlwaysOffSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SamplingDecision } from '../Sampler';\n/** Sampler that samples all traces. */\nvar AlwaysOnSampler = /** @class */ (function () {\n    function AlwaysOnSampler() {\n    }\n    AlwaysOnSampler.prototype.shouldSample = function () {\n        return {\n            decision: SamplingDecision.RECORD_AND_SAMPLED,\n        };\n    };\n    AlwaysOnSampler.prototype.toString = function () {\n        return 'AlwaysOnSampler';\n    };\n    return AlwaysOnSampler;\n}());\nexport { AlwaysOnSampler };\n//# sourceMappingURL=AlwaysOnSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isSpanContextValid, TraceFlags, trace, } from '@opentelemetry/api';\nimport { globalErrorHandler } from '@opentelemetry/core';\nimport { AlwaysOffSampler } from './AlwaysOffSampler';\nimport { AlwaysOnSampler } from './AlwaysOnSampler';\n/**\n * A composite sampler that either respects the parent span's sampling decision\n * or delegates to `delegateSampler` for root spans.\n */\nvar ParentBasedSampler = /** @class */ (function () {\n    function ParentBasedSampler(config) {\n        var _a, _b, _c, _d;\n        this._root = config.root;\n        if (!this._root) {\n            globalErrorHandler(new Error('ParentBasedSampler must have a root sampler configured'));\n            this._root = new AlwaysOnSampler();\n        }\n        this._remoteParentSampled =\n            (_a = config.remoteParentSampled) !== null && _a !== void 0 ? _a : new AlwaysOnSampler();\n        this._remoteParentNotSampled =\n            (_b = config.remoteParentNotSampled) !== null && _b !== void 0 ? _b : new AlwaysOffSampler();\n        this._localParentSampled =\n            (_c = config.localParentSampled) !== null && _c !== void 0 ? _c : new AlwaysOnSampler();\n        this._localParentNotSampled =\n            (_d = config.localParentNotSampled) !== null && _d !== void 0 ? _d : new AlwaysOffSampler();\n    }\n    ParentBasedSampler.prototype.shouldSample = function (context, traceId, spanName, spanKind, attributes, links) {\n        var parentContext = trace.getSpanContext(context);\n        if (!parentContext || !isSpanContextValid(parentContext)) {\n            return this._root.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        if (parentContext.isRemote) {\n            if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n                return this._remoteParentSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n            }\n            return this._remoteParentNotSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n            return this._localParentSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        return this._localParentNotSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n    };\n    ParentBasedSampler.prototype.toString = function () {\n        return \"ParentBased{root=\" + this._root.toString() + \", remoteParentSampled=\" + this._remoteParentSampled.toString() + \", remoteParentNotSampled=\" + this._remoteParentNotSampled.toString() + \", localParentSampled=\" + this._localParentSampled.toString() + \", localParentNotSampled=\" + this._localParentNotSampled.toString() + \"}\";\n    };\n    return ParentBasedSampler;\n}());\nexport { ParentBasedSampler };\n//# sourceMappingURL=ParentBasedSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isValidTraceId } from '@opentelemetry/api';\nimport { SamplingDecision } from '../Sampler';\n/** Sampler that samples a given fraction of traces based of trace id deterministically. */\nvar TraceIdRatioBasedSampler = /** @class */ (function () {\n    function TraceIdRatioBasedSampler(_ratio) {\n        if (_ratio === void 0) { _ratio = 0; }\n        this._ratio = _ratio;\n        this._ratio = this._normalize(_ratio);\n        this._upperBound = Math.floor(this._ratio * 0xffffffff);\n    }\n    TraceIdRatioBasedSampler.prototype.shouldSample = function (context, traceId) {\n        return {\n            decision: isValidTraceId(traceId) && this._accumulate(traceId) < this._upperBound\n                ? SamplingDecision.RECORD_AND_SAMPLED\n                : SamplingDecision.NOT_RECORD,\n        };\n    };\n    TraceIdRatioBasedSampler.prototype.toString = function () {\n        return \"TraceIdRatioBased{\" + this._ratio + \"}\";\n    };\n    TraceIdRatioBasedSampler.prototype._normalize = function (ratio) {\n        if (typeof ratio !== 'number' || isNaN(ratio))\n            return 0;\n        return ratio >= 1 ? 1 : ratio <= 0 ? 0 : ratio;\n    };\n    TraceIdRatioBasedSampler.prototype._accumulate = function (traceId) {\n        var accumulation = 0;\n        for (var i = 0; i < traceId.length / 8; i++) {\n            var pos = i * 8;\n            var part = parseInt(traceId.slice(pos, pos + 8), 16);\n            accumulation = (accumulation ^ part) >>> 0;\n        }\n        return accumulation;\n    };\n    return TraceIdRatioBasedSampler;\n}());\nexport { TraceIdRatioBasedSampler };\n//# sourceMappingURL=TraceIdRatioBasedSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { diag } from '@opentelemetry/api';\nimport { getEnv, TracesSamplerValues } from '@opentelemetry/core';\nimport { AlwaysOffSampler } from './sampler/AlwaysOffSampler';\nimport { AlwaysOnSampler } from './sampler/AlwaysOnSampler';\nimport { ParentBasedSampler } from './sampler/ParentBasedSampler';\nimport { TraceIdRatioBasedSampler } from './sampler/TraceIdRatioBasedSampler';\nvar env = getEnv();\nvar FALLBACK_OTEL_TRACES_SAMPLER = TracesSamplerValues.AlwaysOn;\nvar DEFAULT_RATIO = 1;\n/**\n * Load default configuration. For fields with primitive values, any user-provided\n * value will override the corresponding default value. For fields with\n * non-primitive values (like `spanLimits`), the user-provided value will be\n * used to extend the default value.\n */\n// object needs to be wrapped in this function and called when needed otherwise\n// envs are parsed before tests are ran - causes tests using these envs to fail\nexport function loadDefaultConfig() {\n    return {\n        sampler: buildSamplerFromEnv(env),\n        forceFlushTimeoutMillis: 30000,\n        generalLimits: {\n            attributeValueLengthLimit: getEnv().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n            attributeCountLimit: getEnv().OTEL_ATTRIBUTE_COUNT_LIMIT,\n        },\n        spanLimits: {\n            attributeValueLengthLimit: getEnv().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n            attributeCountLimit: getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,\n            linkCountLimit: getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,\n            eventCountLimit: getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT,\n            attributePerEventCountLimit: getEnv().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,\n            attributePerLinkCountLimit: getEnv().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,\n        },\n    };\n}\n/**\n * Based on environment, builds a sampler, complies with specification.\n * @param environment optional, by default uses getEnv(), but allows passing a value to reuse parsed environment\n */\nexport function buildSamplerFromEnv(environment) {\n    if (environment === void 0) { environment = getEnv(); }\n    switch (environment.OTEL_TRACES_SAMPLER) {\n        case TracesSamplerValues.AlwaysOn:\n            return new AlwaysOnSampler();\n        case TracesSamplerValues.AlwaysOff:\n            return new AlwaysOffSampler();\n        case TracesSamplerValues.ParentBasedAlwaysOn:\n            return new ParentBasedSampler({\n                root: new AlwaysOnSampler(),\n            });\n        case TracesSamplerValues.ParentBasedAlwaysOff:\n            return new ParentBasedSampler({\n                root: new AlwaysOffSampler(),\n            });\n        case TracesSamplerValues.TraceIdRatio:\n            return new TraceIdRatioBasedSampler(getSamplerProbabilityFromEnv(environment));\n        case TracesSamplerValues.ParentBasedTraceIdRatio:\n            return new ParentBasedSampler({\n                root: new TraceIdRatioBasedSampler(getSamplerProbabilityFromEnv(environment)),\n            });\n        default:\n            diag.error(\"OTEL_TRACES_SAMPLER value \\\"\" + environment.OTEL_TRACES_SAMPLER + \" invalid, defaulting to \" + FALLBACK_OTEL_TRACES_SAMPLER + \"\\\".\");\n            return new AlwaysOnSampler();\n    }\n}\nfunction getSamplerProbabilityFromEnv(environment) {\n    if (environment.OTEL_TRACES_SAMPLER_ARG === undefined ||\n        environment.OTEL_TRACES_SAMPLER_ARG === '') {\n        diag.error(\"OTEL_TRACES_SAMPLER_ARG is blank, defaulting to \" + DEFAULT_RATIO + \".\");\n        return DEFAULT_RATIO;\n    }\n    var probability = Number(environment.OTEL_TRACES_SAMPLER_ARG);\n    if (isNaN(probability)) {\n        diag.error(\"OTEL_TRACES_SAMPLER_ARG=\" + environment.OTEL_TRACES_SAMPLER_ARG + \" was given, but it is invalid, defaulting to \" + DEFAULT_RATIO + \".\");\n        return DEFAULT_RATIO;\n    }\n    if (probability < 0 || probability > 1) {\n        diag.error(\"OTEL_TRACES_SAMPLER_ARG=\" + environment.OTEL_TRACES_SAMPLER_ARG + \" was given, but it is out of range ([0..1]), defaulting to \" + DEFAULT_RATIO + \".\");\n        return DEFAULT_RATIO;\n    }\n    return probability;\n}\n//# sourceMappingURL=config.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar SPAN_ID_BYTES = 8;\nvar TRACE_ID_BYTES = 16;\nvar RandomIdGenerator = /** @class */ (function () {\n    function RandomIdGenerator() {\n        /**\n         * Returns a random 16-byte trace ID formatted/encoded as a 32 lowercase hex\n         * characters corresponding to 128 bits.\n         */\n        this.generateTraceId = getIdGenerator(TRACE_ID_BYTES);\n        /**\n         * Returns a random 8-byte span ID formatted/encoded as a 16 lowercase hex\n         * characters corresponding to 64 bits.\n         */\n        this.generateSpanId = getIdGenerator(SPAN_ID_BYTES);\n    }\n    return RandomIdGenerator;\n}());\nexport { RandomIdGenerator };\nvar SHARED_BUFFER = Buffer.allocUnsafe(TRACE_ID_BYTES);\nfunction getIdGenerator(bytes) {\n    return function generateId() {\n        for (var i = 0; i < bytes / 4; i++) {\n            // unsigned right shift drops decimal part of the number\n            // it is required because if a number between 2**32 and 2**32 - 1 is generated, an out of range error is thrown by writeUInt32BE\n            SHARED_BUFFER.writeUInt32BE((Math.random() * Math.pow(2, 32)) >>> 0, i * 4);\n        }\n        // If buffer is all 0, set the last byte to 1 to guarantee a valid w3c id is generated\n        for (var i = 0; i < bytes; i++) {\n            if (SHARED_BUFFER[i] > 0) {\n                break;\n            }\n            else if (i === bytes - 1) {\n                SHARED_BUFFER[bytes - 1] = 1;\n            }\n        }\n        return SHARED_BUFFER.toString('hex', 0, bytes);\n    };\n}\n//# sourceMappingURL=RandomIdGenerator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as api from '@opentelemetry/api';\nimport { sanitizeAttributes, isTracingSuppressed, } from '@opentelemetry/core';\nimport { Span } from './Span';\nimport { mergeConfig } from './utility';\nimport { RandomIdGenerator } from './platform';\n/**\n * This class represents a basic tracer.\n */\nvar Tracer = /** @class */ (function () {\n    /**\n     * Constructs a new Tracer instance.\n     */\n    function Tracer(instrumentationLibrary, config, _tracerProvider) {\n        this._tracerProvider = _tracerProvider;\n        var localConfig = mergeConfig(config);\n        this._sampler = localConfig.sampler;\n        this._generalLimits = localConfig.generalLimits;\n        this._spanLimits = localConfig.spanLimits;\n        this._idGenerator = config.idGenerator || new RandomIdGenerator();\n        this.resource = _tracerProvider.resource;\n        this.instrumentationLibrary = instrumentationLibrary;\n    }\n    /**\n     * Starts a new Span or returns the default NoopSpan based on the sampling\n     * decision.\n     */\n    Tracer.prototype.startSpan = function (name, options, context) {\n        var _a, _b, _c;\n        if (options === void 0) { options = {}; }\n        if (context === void 0) { context = api.context.active(); }\n        // remove span from context in case a root span is requested via options\n        if (options.root) {\n            context = api.trace.deleteSpan(context);\n        }\n        var parentSpan = api.trace.getSpan(context);\n        if (isTracingSuppressed(context)) {\n            api.diag.debug('Instrumentation suppressed, returning Noop Span');\n            var nonRecordingSpan = api.trace.wrapSpanContext(api.INVALID_SPAN_CONTEXT);\n            return nonRecordingSpan;\n        }\n        var parentSpanContext = parentSpan === null || parentSpan === void 0 ? void 0 : parentSpan.spanContext();\n        var spanId = this._idGenerator.generateSpanId();\n        var traceId;\n        var traceState;\n        var parentSpanId;\n        if (!parentSpanContext ||\n            !api.trace.isSpanContextValid(parentSpanContext)) {\n            // New root span.\n            traceId = this._idGenerator.generateTraceId();\n        }\n        else {\n            // New child span.\n            traceId = parentSpanContext.traceId;\n            traceState = parentSpanContext.traceState;\n            parentSpanId = parentSpanContext.spanId;\n        }\n        var spanKind = (_a = options.kind) !== null && _a !== void 0 ? _a : api.SpanKind.INTERNAL;\n        var links = ((_b = options.links) !== null && _b !== void 0 ? _b : []).map(function (link) {\n            return {\n                context: link.context,\n                attributes: sanitizeAttributes(link.attributes),\n            };\n        });\n        var attributes = sanitizeAttributes(options.attributes);\n        // make sampling decision\n        var samplingResult = this._sampler.shouldSample(context, traceId, name, spanKind, attributes, links);\n        traceState = (_c = samplingResult.traceState) !== null && _c !== void 0 ? _c : traceState;\n        var traceFlags = samplingResult.decision === api.SamplingDecision.RECORD_AND_SAMPLED\n            ? api.TraceFlags.SAMPLED\n            : api.TraceFlags.NONE;\n        var spanContext = { traceId: traceId, spanId: spanId, traceFlags: traceFlags, traceState: traceState };\n        if (samplingResult.decision === api.SamplingDecision.NOT_RECORD) {\n            api.diag.debug('Recording is off, propagating context in a non-recording span');\n            var nonRecordingSpan = api.trace.wrapSpanContext(spanContext);\n            return nonRecordingSpan;\n        }\n        // Set initial span attributes. The attributes object may have been mutated\n        // by the sampler, so we sanitize the merged attributes before setting them.\n        var initAttributes = sanitizeAttributes(Object.assign(attributes, samplingResult.attributes));\n        var span = new Span(this, context, name, spanContext, spanKind, parentSpanId, links, options.startTime, undefined, initAttributes);\n        return span;\n    };\n    Tracer.prototype.startActiveSpan = function (name, arg2, arg3, arg4) {\n        var opts;\n        var ctx;\n        var fn;\n        if (arguments.length < 2) {\n            return;\n        }\n        else if (arguments.length === 2) {\n            fn = arg2;\n        }\n        else if (arguments.length === 3) {\n            opts = arg2;\n            fn = arg3;\n        }\n        else {\n            opts = arg2;\n            ctx = arg3;\n            fn = arg4;\n        }\n        var parentContext = ctx !== null && ctx !== void 0 ? ctx : api.context.active();\n        var span = this.startSpan(name, opts, parentContext);\n        var contextWithSpanSet = api.trace.setSpan(parentContext, span);\n        return api.context.with(contextWithSpanSet, fn, undefined, span);\n    };\n    /** Returns the active {@link GeneralLimits}. */\n    Tracer.prototype.getGeneralLimits = function () {\n        return this._generalLimits;\n    };\n    /** Returns the active {@link SpanLimits}. */\n    Tracer.prototype.getSpanLimits = function () {\n        return this._spanLimits;\n    };\n    Tracer.prototype.getActiveSpanProcessor = function () {\n        return this._tracerProvider.getActiveSpanProcessor();\n    };\n    return Tracer;\n}());\nexport { Tracer };\n//# sourceMappingURL=Tracer.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BatchSpanProcessorBase } from '../../../export/BatchSpanProcessorBase';\nvar BatchSpanProcessor = /** @class */ (function (_super) {\n    __extends(BatchSpanProcessor, _super);\n    function BatchSpanProcessor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BatchSpanProcessor.prototype.onShutdown = function () { };\n    return BatchSpanProcessor;\n}(BatchSpanProcessorBase));\nexport { BatchSpanProcessor };\n//# sourceMappingURL=BatchSpanProcessor.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { context, diag, propagation, trace, } from '@opentelemetry/api';\nimport { CompositePropagator, W3CBaggagePropagator, W3CTraceContextPropagator, getEnv, merge, } from '@opentelemetry/core';\nimport { Resource } from '@opentelemetry/resources';\nimport { Tracer } from '.';\nimport { loadDefaultConfig } from './config';\nimport { MultiSpanProcessor } from './MultiSpanProcessor';\nimport { NoopSpanProcessor } from './export/NoopSpanProcessor';\nimport { BatchSpanProcessor } from './platform';\nimport { reconfigureLimits } from './utility';\nexport var ForceFlushState;\n(function (ForceFlushState) {\n    ForceFlushState[ForceFlushState[\"resolved\"] = 0] = \"resolved\";\n    ForceFlushState[ForceFlushState[\"timeout\"] = 1] = \"timeout\";\n    ForceFlushState[ForceFlushState[\"error\"] = 2] = \"error\";\n    ForceFlushState[ForceFlushState[\"unresolved\"] = 3] = \"unresolved\";\n})(ForceFlushState || (ForceFlushState = {}));\n/**\n * This class represents a basic tracer provider which platform libraries can extend\n */\nvar BasicTracerProvider = /** @class */ (function () {\n    function BasicTracerProvider(config) {\n        if (config === void 0) { config = {}; }\n        var _a;\n        this._registeredSpanProcessors = [];\n        this._tracers = new Map();\n        var mergedConfig = merge({}, loadDefaultConfig(), reconfigureLimits(config));\n        this.resource = (_a = mergedConfig.resource) !== null && _a !== void 0 ? _a : Resource.empty();\n        this.resource = Resource.default().merge(this.resource);\n        this._config = Object.assign({}, mergedConfig, {\n            resource: this.resource,\n        });\n        var defaultExporter = this._buildExporterFromEnv();\n        if (defaultExporter !== undefined) {\n            var batchProcessor = new BatchSpanProcessor(defaultExporter);\n            this.activeSpanProcessor = batchProcessor;\n        }\n        else {\n            this.activeSpanProcessor = new NoopSpanProcessor();\n        }\n    }\n    BasicTracerProvider.prototype.getTracer = function (name, version, options) {\n        var key = name + \"@\" + (version || '') + \":\" + ((options === null || options === void 0 ? void 0 : options.schemaUrl) || '');\n        if (!this._tracers.has(key)) {\n            this._tracers.set(key, new Tracer({ name: name, version: version, schemaUrl: options === null || options === void 0 ? void 0 : options.schemaUrl }, this._config, this));\n        }\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        return this._tracers.get(key);\n    };\n    /**\n     * Adds a new {@link SpanProcessor} to this tracer.\n     * @param spanProcessor the new SpanProcessor to be added.\n     */\n    BasicTracerProvider.prototype.addSpanProcessor = function (spanProcessor) {\n        if (this._registeredSpanProcessors.length === 0) {\n            // since we might have enabled by default a batchProcessor, we disable it\n            // before adding the new one\n            this.activeSpanProcessor\n                .shutdown()\n                .catch(function (err) {\n                return diag.error('Error while trying to shutdown current span processor', err);\n            });\n        }\n        this._registeredSpanProcessors.push(spanProcessor);\n        this.activeSpanProcessor = new MultiSpanProcessor(this._registeredSpanProcessors);\n    };\n    BasicTracerProvider.prototype.getActiveSpanProcessor = function () {\n        return this.activeSpanProcessor;\n    };\n    /**\n     * Register this TracerProvider for use with the OpenTelemetry API.\n     * Undefined values may be replaced with defaults, and\n     * null values will be skipped.\n     *\n     * @param config Configuration object for SDK registration\n     */\n    BasicTracerProvider.prototype.register = function (config) {\n        if (config === void 0) { config = {}; }\n        trace.setGlobalTracerProvider(this);\n        if (config.propagator === undefined) {\n            config.propagator = this._buildPropagatorFromEnv();\n        }\n        if (config.contextManager) {\n            context.setGlobalContextManager(config.contextManager);\n        }\n        if (config.propagator) {\n            propagation.setGlobalPropagator(config.propagator);\n        }\n    };\n    BasicTracerProvider.prototype.forceFlush = function () {\n        var timeout = this._config.forceFlushTimeoutMillis;\n        var promises = this._registeredSpanProcessors.map(function (spanProcessor) {\n            return new Promise(function (resolve) {\n                var state;\n                var timeoutInterval = setTimeout(function () {\n                    resolve(new Error(\"Span processor did not completed within timeout period of \" + timeout + \" ms\"));\n                    state = ForceFlushState.timeout;\n                }, timeout);\n                spanProcessor\n                    .forceFlush()\n                    .then(function () {\n                    clearTimeout(timeoutInterval);\n                    if (state !== ForceFlushState.timeout) {\n                        state = ForceFlushState.resolved;\n                        resolve(state);\n                    }\n                })\n                    .catch(function (error) {\n                    clearTimeout(timeoutInterval);\n                    state = ForceFlushState.error;\n                    resolve(error);\n                });\n            });\n        });\n        return new Promise(function (resolve, reject) {\n            Promise.all(promises)\n                .then(function (results) {\n                var errors = results.filter(function (result) { return result !== ForceFlushState.resolved; });\n                if (errors.length > 0) {\n                    reject(errors);\n                }\n                else {\n                    resolve();\n                }\n            })\n                .catch(function (error) { return reject([error]); });\n        });\n    };\n    BasicTracerProvider.prototype.shutdown = function () {\n        return this.activeSpanProcessor.shutdown();\n    };\n    /**\n     * TS cannot yet infer the type of this.constructor:\n     * https://github.com/Microsoft/TypeScript/issues/3841#issuecomment-337560146\n     * There is no need to override either of the getters in your child class.\n     * The type of the registered component maps should be the same across all\n     * classes in the inheritance tree.\n     */\n    BasicTracerProvider.prototype._getPropagator = function (name) {\n        var _a;\n        return (_a = this.constructor._registeredPropagators.get(name)) === null || _a === void 0 ? void 0 : _a();\n    };\n    BasicTracerProvider.prototype._getSpanExporter = function (name) {\n        var _a;\n        return (_a = this.constructor._registeredExporters.get(name)) === null || _a === void 0 ? void 0 : _a();\n    };\n    BasicTracerProvider.prototype._buildPropagatorFromEnv = function () {\n        var _this = this;\n        // per spec, propagators from env must be deduplicated\n        var uniquePropagatorNames = Array.from(new Set(getEnv().OTEL_PROPAGATORS));\n        var propagators = uniquePropagatorNames.map(function (name) {\n            var propagator = _this._getPropagator(name);\n            if (!propagator) {\n                diag.warn(\"Propagator \\\"\" + name + \"\\\" requested through environment variable is unavailable.\");\n            }\n            return propagator;\n        });\n        var validPropagators = propagators.reduce(function (list, item) {\n            if (item) {\n                list.push(item);\n            }\n            return list;\n        }, []);\n        if (validPropagators.length === 0) {\n            return;\n        }\n        else if (uniquePropagatorNames.length === 1) {\n            return validPropagators[0];\n        }\n        else {\n            return new CompositePropagator({\n                propagators: validPropagators,\n            });\n        }\n    };\n    BasicTracerProvider.prototype._buildExporterFromEnv = function () {\n        var exporterName = getEnv().OTEL_TRACES_EXPORTER;\n        if (exporterName === 'none' || exporterName === '')\n            return;\n        var exporter = this._getSpanExporter(exporterName);\n        if (!exporter) {\n            diag.error(\"Exporter \\\"\" + exporterName + \"\\\" requested through environment variable is unavailable.\");\n        }\n        return exporter;\n    };\n    BasicTracerProvider._registeredPropagators = new Map([\n        ['tracecontext', function () { return new W3CTraceContextPropagator(); }],\n        ['baggage', function () { return new W3CBaggagePropagator(); }],\n    ]);\n    BasicTracerProvider._registeredExporters = new Map();\n    return BasicTracerProvider;\n}());\nexport { BasicTracerProvider };\n//# sourceMappingURL=BasicTracerProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { buildSamplerFromEnv, loadDefaultConfig } from './config';\nimport { DEFAULT_ATTRIBUTE_COUNT_LIMIT, DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT, getEnvWithoutDefaults, } from '@opentelemetry/core';\n/**\n * Function to merge Default configuration (as specified in './config') with\n * user provided configurations.\n */\nexport function mergeConfig(userConfig) {\n    var perInstanceDefaults = {\n        sampler: buildSamplerFromEnv(),\n    };\n    var DEFAULT_CONFIG = loadDefaultConfig();\n    var target = Object.assign({}, DEFAULT_CONFIG, perInstanceDefaults, userConfig);\n    target.generalLimits = Object.assign({}, DEFAULT_CONFIG.generalLimits, userConfig.generalLimits || {});\n    target.spanLimits = Object.assign({}, DEFAULT_CONFIG.spanLimits, userConfig.spanLimits || {});\n    return target;\n}\n/**\n * When general limits are provided and model specific limits are not,\n * configures the model specific limits by using the values from the general ones.\n * @param userConfig User provided tracer configuration\n */\nexport function reconfigureLimits(userConfig) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    var spanLimits = Object.assign({}, userConfig.spanLimits);\n    var parsedEnvConfig = getEnvWithoutDefaults();\n    /**\n     * Reassign span attribute count limit to use first non null value defined by user or use default value\n     */\n    spanLimits.attributeCountLimit =\n        (_f = (_e = (_d = (_b = (_a = userConfig.spanLimits) === null || _a === void 0 ? void 0 : _a.attributeCountLimit) !== null && _b !== void 0 ? _b : (_c = userConfig.generalLimits) === null || _c === void 0 ? void 0 : _c.attributeCountLimit) !== null && _d !== void 0 ? _d : parsedEnvConfig.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT) !== null && _e !== void 0 ? _e : parsedEnvConfig.OTEL_ATTRIBUTE_COUNT_LIMIT) !== null && _f !== void 0 ? _f : DEFAULT_ATTRIBUTE_COUNT_LIMIT;\n    /**\n     * Reassign span attribute value length limit to use first non null value defined by user or use default value\n     */\n    spanLimits.attributeValueLengthLimit =\n        (_m = (_l = (_k = (_h = (_g = userConfig.spanLimits) === null || _g === void 0 ? void 0 : _g.attributeValueLengthLimit) !== null && _h !== void 0 ? _h : (_j = userConfig.generalLimits) === null || _j === void 0 ? void 0 : _j.attributeValueLengthLimit) !== null && _k !== void 0 ? _k : parsedEnvConfig.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT) !== null && _l !== void 0 ? _l : parsedEnvConfig.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT) !== null && _m !== void 0 ? _m : DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT;\n    return Object.assign({}, userConfig, { spanLimits: spanLimits });\n}\n//# sourceMappingURL=utility.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { diag } from '@opentelemetry/api';\nimport { SEMRESATTRS_SERVICE_NAME, SEMRESATTRS_TELEMETRY_SDK_LANGUAGE, SEMRESATTRS_TELEMETRY_SDK_NAME, SEMRESATTRS_TELEMETRY_SDK_VERSION, } from '@opentelemetry/semantic-conventions';\nimport { SDK_INFO } from '@opentelemetry/core';\nimport { defaultServiceName } from './platform';\n/**\n * A Resource describes the entity for which a signals (metrics or trace) are\n * collected.\n */\nvar Resource = /** @class */ (function () {\n    function Resource(\n    /**\n     * A dictionary of attributes with string keys and values that provide\n     * information about the entity as numbers, strings or booleans\n     * TODO: Consider to add check/validation on attributes.\n     */\n    attributes, asyncAttributesPromise) {\n        var _this = this;\n        var _a;\n        this._attributes = attributes;\n        this.asyncAttributesPending = asyncAttributesPromise != null;\n        this._syncAttributes = (_a = this._attributes) !== null && _a !== void 0 ? _a : {};\n        this._asyncAttributesPromise = asyncAttributesPromise === null || asyncAttributesPromise === void 0 ? void 0 : asyncAttributesPromise.then(function (asyncAttributes) {\n            _this._attributes = Object.assign({}, _this._attributes, asyncAttributes);\n            _this.asyncAttributesPending = false;\n            return asyncAttributes;\n        }, function (err) {\n            diag.debug(\"a resource's async attributes promise rejected: %s\", err);\n            _this.asyncAttributesPending = false;\n            return {};\n        });\n    }\n    /**\n     * Returns an empty Resource\n     */\n    Resource.empty = function () {\n        return Resource.EMPTY;\n    };\n    /**\n     * Returns a Resource that identifies the SDK in use.\n     */\n    Resource.default = function () {\n        var _a;\n        return new Resource((_a = {},\n            _a[SEMRESATTRS_SERVICE_NAME] = defaultServiceName(),\n            _a[SEMRESATTRS_TELEMETRY_SDK_LANGUAGE] = SDK_INFO[SEMRESATTRS_TELEMETRY_SDK_LANGUAGE],\n            _a[SEMRESATTRS_TELEMETRY_SDK_NAME] = SDK_INFO[SEMRESATTRS_TELEMETRY_SDK_NAME],\n            _a[SEMRESATTRS_TELEMETRY_SDK_VERSION] = SDK_INFO[SEMRESATTRS_TELEMETRY_SDK_VERSION],\n            _a));\n    };\n    Object.defineProperty(Resource.prototype, \"attributes\", {\n        get: function () {\n            var _a;\n            if (this.asyncAttributesPending) {\n                diag.error('Accessing resource attributes before async attributes settled');\n            }\n            return (_a = this._attributes) !== null && _a !== void 0 ? _a : {};\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Returns a promise that will never be rejected. Resolves when all async attributes have finished being added to\n     * this Resource's attributes. This is useful in exporters to block until resource detection\n     * has finished.\n     */\n    Resource.prototype.waitForAsyncAttributes = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.asyncAttributesPending) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._asyncAttributesPromise];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Returns a new, merged {@link Resource} by merging the current Resource\n     * with the other Resource. In case of a collision, other Resource takes\n     * precedence.\n     *\n     * @param other the Resource that will be merged with this.\n     * @returns the newly merged Resource.\n     */\n    Resource.prototype.merge = function (other) {\n        var _this = this;\n        var _a;\n        if (!other)\n            return this;\n        // SpanAttributes from other resource overwrite attributes from this resource.\n        var mergedSyncAttributes = __assign(__assign({}, this._syncAttributes), ((_a = other._syncAttributes) !== null && _a !== void 0 ? _a : other.attributes));\n        if (!this._asyncAttributesPromise &&\n            !other._asyncAttributesPromise) {\n            return new Resource(mergedSyncAttributes);\n        }\n        var mergedAttributesPromise = Promise.all([\n            this._asyncAttributesPromise,\n            other._asyncAttributesPromise,\n        ]).then(function (_a) {\n            var _b;\n            var _c = __read(_a, 2), thisAsyncAttributes = _c[0], otherAsyncAttributes = _c[1];\n            return __assign(__assign(__assign(__assign({}, _this._syncAttributes), thisAsyncAttributes), ((_b = other._syncAttributes) !== null && _b !== void 0 ? _b : other.attributes)), otherAsyncAttributes);\n        });\n        return new Resource(mergedSyncAttributes, mergedAttributesPromise);\n    };\n    Resource.EMPTY = new Resource({});\n    return Resource;\n}());\nexport { Resource };\n//# sourceMappingURL=Resource.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function defaultServiceName() {\n    return \"unknown_service:\" + process.argv0;\n}\n//# sourceMappingURL=default-service-name.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { globalErrorHandler } from '@opentelemetry/core';\n/**\n * Implementation of the {@link SpanProcessor} that simply forwards all\n * received events to a list of {@link SpanProcessor}s.\n */\nvar MultiSpanProcessor = /** @class */ (function () {\n    function MultiSpanProcessor(_spanProcessors) {\n        this._spanProcessors = _spanProcessors;\n    }\n    MultiSpanProcessor.prototype.forceFlush = function () {\n        var e_1, _a;\n        var promises = [];\n        try {\n            for (var _b = __values(this._spanProcessors), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var spanProcessor = _c.value;\n                promises.push(spanProcessor.forceFlush());\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return new Promise(function (resolve) {\n            Promise.all(promises)\n                .then(function () {\n                resolve();\n            })\n                .catch(function (error) {\n                globalErrorHandler(error || new Error('MultiSpanProcessor: forceFlush failed'));\n                resolve();\n            });\n        });\n    };\n    MultiSpanProcessor.prototype.onStart = function (span, context) {\n        var e_2, _a;\n        try {\n            for (var _b = __values(this._spanProcessors), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var spanProcessor = _c.value;\n                spanProcessor.onStart(span, context);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    MultiSpanProcessor.prototype.onEnd = function (span) {\n        var e_3, _a;\n        try {\n            for (var _b = __values(this._spanProcessors), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var spanProcessor = _c.value;\n                spanProcessor.onEnd(span);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    MultiSpanProcessor.prototype.shutdown = function () {\n        var e_4, _a;\n        var promises = [];\n        try {\n            for (var _b = __values(this._spanProcessors), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var spanProcessor = _c.value;\n                promises.push(spanProcessor.shutdown());\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return new Promise(function (resolve, reject) {\n            Promise.all(promises).then(function () {\n                resolve();\n            }, reject);\n        });\n    };\n    return MultiSpanProcessor;\n}());\nexport { MultiSpanProcessor };\n//# sourceMappingURL=MultiSpanProcessor.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** No-op implementation of SpanProcessor */\nvar NoopSpanProcessor = /** @class */ (function () {\n    function NoopSpanProcessor() {\n    }\n    NoopSpanProcessor.prototype.onStart = function (_span, _context) { };\n    NoopSpanProcessor.prototype.onEnd = function (_span) { };\n    NoopSpanProcessor.prototype.shutdown = function () {\n        return Promise.resolve();\n    };\n    NoopSpanProcessor.prototype.forceFlush = function () {\n        return Promise.resolve();\n    };\n    return NoopSpanProcessor;\n}());\nexport { NoopSpanProcessor };\n//# sourceMappingURL=NoopSpanProcessor.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { context, diag, TraceFlags } from '@opentelemetry/api';\nimport { BindOnceFuture, ExportResultCode, getEnv, globalErrorHandler, suppressTracing, unrefTimer, } from '@opentelemetry/core';\n/**\n * Implementation of the {@link SpanProcessor} that batches spans exported by\n * the SDK then pushes them to the exporter pipeline.\n */\nvar BatchSpanProcessorBase = /** @class */ (function () {\n    function BatchSpanProcessorBase(_exporter, config) {\n        this._exporter = _exporter;\n        this._isExporting = false;\n        this._finishedSpans = [];\n        this._droppedSpansCount = 0;\n        var env = getEnv();\n        this._maxExportBatchSize =\n            typeof (config === null || config === void 0 ? void 0 : config.maxExportBatchSize) === 'number'\n                ? config.maxExportBatchSize\n                : env.OTEL_BSP_MAX_EXPORT_BATCH_SIZE;\n        this._maxQueueSize =\n            typeof (config === null || config === void 0 ? void 0 : config.maxQueueSize) === 'number'\n                ? config.maxQueueSize\n                : env.OTEL_BSP_MAX_QUEUE_SIZE;\n        this._scheduledDelayMillis =\n            typeof (config === null || config === void 0 ? void 0 : config.scheduledDelayMillis) === 'number'\n                ? config.scheduledDelayMillis\n                : env.OTEL_BSP_SCHEDULE_DELAY;\n        this._exportTimeoutMillis =\n            typeof (config === null || config === void 0 ? void 0 : config.exportTimeoutMillis) === 'number'\n                ? config.exportTimeoutMillis\n                : env.OTEL_BSP_EXPORT_TIMEOUT;\n        this._shutdownOnce = new BindOnceFuture(this._shutdown, this);\n        if (this._maxExportBatchSize > this._maxQueueSize) {\n            diag.warn('BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize');\n            this._maxExportBatchSize = this._maxQueueSize;\n        }\n    }\n    BatchSpanProcessorBase.prototype.forceFlush = function () {\n        if (this._shutdownOnce.isCalled) {\n            return this._shutdownOnce.promise;\n        }\n        return this._flushAll();\n    };\n    // does nothing.\n    BatchSpanProcessorBase.prototype.onStart = function (_span, _parentContext) { };\n    BatchSpanProcessorBase.prototype.onEnd = function (span) {\n        if (this._shutdownOnce.isCalled) {\n            return;\n        }\n        if ((span.spanContext().traceFlags & TraceFlags.SAMPLED) === 0) {\n            return;\n        }\n        this._addToBuffer(span);\n    };\n    BatchSpanProcessorBase.prototype.shutdown = function () {\n        return this._shutdownOnce.call();\n    };\n    BatchSpanProcessorBase.prototype._shutdown = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () {\n            return _this.onShutdown();\n        })\n            .then(function () {\n            return _this._flushAll();\n        })\n            .then(function () {\n            return _this._exporter.shutdown();\n        });\n    };\n    /** Add a span in the buffer. */\n    BatchSpanProcessorBase.prototype._addToBuffer = function (span) {\n        if (this._finishedSpans.length >= this._maxQueueSize) {\n            // limit reached, drop span\n            if (this._droppedSpansCount === 0) {\n                diag.debug('maxQueueSize reached, dropping spans');\n            }\n            this._droppedSpansCount++;\n            return;\n        }\n        if (this._droppedSpansCount > 0) {\n            // some spans were dropped, log once with count of spans dropped\n            diag.warn(\"Dropped \" + this._droppedSpansCount + \" spans because maxQueueSize reached\");\n            this._droppedSpansCount = 0;\n        }\n        this._finishedSpans.push(span);\n        this._maybeStartTimer();\n    };\n    /**\n     * Send all spans to the exporter respecting the batch size limit\n     * This function is used only on forceFlush or shutdown,\n     * for all other cases _flush should be used\n     * */\n    BatchSpanProcessorBase.prototype._flushAll = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var promises = [];\n            // calculate number of batches\n            var count = Math.ceil(_this._finishedSpans.length / _this._maxExportBatchSize);\n            for (var i = 0, j = count; i < j; i++) {\n                promises.push(_this._flushOneBatch());\n            }\n            Promise.all(promises)\n                .then(function () {\n                resolve();\n            })\n                .catch(reject);\n        });\n    };\n    BatchSpanProcessorBase.prototype._flushOneBatch = function () {\n        var _this = this;\n        this._clearTimer();\n        if (this._finishedSpans.length === 0) {\n            return Promise.resolve();\n        }\n        return new Promise(function (resolve, reject) {\n            var timer = setTimeout(function () {\n                // don't wait anymore for export, this way the next batch can start\n                reject(new Error('Timeout'));\n            }, _this._exportTimeoutMillis);\n            // prevent downstream exporter calls from generating spans\n            context.with(suppressTracing(context.active()), function () {\n                // Reset the finished spans buffer here because the next invocations of the _flush method\n                // could pass the same finished spans to the exporter if the buffer is cleared\n                // outside the execution of this callback.\n                var spans;\n                if (_this._finishedSpans.length <= _this._maxExportBatchSize) {\n                    spans = _this._finishedSpans;\n                    _this._finishedSpans = [];\n                }\n                else {\n                    spans = _this._finishedSpans.splice(0, _this._maxExportBatchSize);\n                }\n                var doExport = function () {\n                    return _this._exporter.export(spans, function (result) {\n                        var _a;\n                        clearTimeout(timer);\n                        if (result.code === ExportResultCode.SUCCESS) {\n                            resolve();\n                        }\n                        else {\n                            reject((_a = result.error) !== null && _a !== void 0 ? _a : new Error('BatchSpanProcessor: span export failed'));\n                        }\n                    });\n                };\n                var pendingResources = null;\n                for (var i = 0, len = spans.length; i < len; i++) {\n                    var span = spans[i];\n                    if (span.resource.asyncAttributesPending &&\n                        span.resource.waitForAsyncAttributes) {\n                        pendingResources !== null && pendingResources !== void 0 ? pendingResources : (pendingResources = []);\n                        pendingResources.push(span.resource.waitForAsyncAttributes());\n                    }\n                }\n                // Avoid scheduling a promise to make the behavior more predictable and easier to test\n                if (pendingResources === null) {\n                    doExport();\n                }\n                else {\n                    Promise.all(pendingResources).then(doExport, function (err) {\n                        globalErrorHandler(err);\n                        reject(err);\n                    });\n                }\n            });\n        });\n    };\n    BatchSpanProcessorBase.prototype._maybeStartTimer = function () {\n        var _this = this;\n        if (this._isExporting)\n            return;\n        var flush = function () {\n            _this._isExporting = true;\n            _this._flushOneBatch()\n                .finally(function () {\n                _this._isExporting = false;\n                if (_this._finishedSpans.length > 0) {\n                    _this._clearTimer();\n                    _this._maybeStartTimer();\n                }\n            })\n                .catch(function (e) {\n                _this._isExporting = false;\n                globalErrorHandler(e);\n            });\n        };\n        // we only wait if the queue doesn't have enough elements yet\n        if (this._finishedSpans.length >= this._maxExportBatchSize) {\n            return flush();\n        }\n        if (this._timer !== undefined)\n            return;\n        this._timer = setTimeout(function () { return flush(); }, this._scheduledDelayMillis);\n        unrefTimer(this._timer);\n    };\n    BatchSpanProcessorBase.prototype._clearTimer = function () {\n        if (this._timer !== undefined) {\n            clearTimeout(this._timer);\n            this._timer = undefined;\n        }\n    };\n    return BatchSpanProcessorBase;\n}());\nexport { BatchSpanProcessorBase };\n//# sourceMappingURL=BatchSpanProcessorBase.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { ExportResultCode, hrTimeToMicroseconds, } from '@opentelemetry/core';\n/**\n * This is implementation of {@link SpanExporter} that prints spans to the\n * console. This class can be used for diagnostic purposes.\n */\n/* eslint-disable no-console */\nvar ConsoleSpanExporter = /** @class */ (function () {\n    function ConsoleSpanExporter() {\n    }\n    /**\n     * Export spans.\n     * @param spans\n     * @param resultCallback\n     */\n    ConsoleSpanExporter.prototype.export = function (spans, resultCallback) {\n        return this._sendSpans(spans, resultCallback);\n    };\n    /**\n     * Shutdown the exporter.\n     */\n    ConsoleSpanExporter.prototype.shutdown = function () {\n        this._sendSpans([]);\n        return this.forceFlush();\n    };\n    /**\n     * Exports any pending spans in exporter\n     */\n    ConsoleSpanExporter.prototype.forceFlush = function () {\n        return Promise.resolve();\n    };\n    /**\n     * converts span info into more readable format\n     * @param span\n     */\n    ConsoleSpanExporter.prototype._exportInfo = function (span) {\n        var _a;\n        return {\n            resource: {\n                attributes: span.resource.attributes,\n            },\n            traceId: span.spanContext().traceId,\n            parentId: span.parentSpanId,\n            traceState: (_a = span.spanContext().traceState) === null || _a === void 0 ? void 0 : _a.serialize(),\n            name: span.name,\n            id: span.spanContext().spanId,\n            kind: span.kind,\n            timestamp: hrTimeToMicroseconds(span.startTime),\n            duration: hrTimeToMicroseconds(span.duration),\n            attributes: span.attributes,\n            status: span.status,\n            events: span.events,\n            links: span.links,\n        };\n    };\n    /**\n     * Showing spans in console\n     * @param spans\n     * @param done\n     */\n    ConsoleSpanExporter.prototype._sendSpans = function (spans, done) {\n        var e_1, _a;\n        try {\n            for (var spans_1 = __values(spans), spans_1_1 = spans_1.next(); !spans_1_1.done; spans_1_1 = spans_1.next()) {\n                var span = spans_1_1.value;\n                console.dir(this._exportInfo(span), { depth: 3 });\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (spans_1_1 && !spans_1_1.done && (_a = spans_1.return)) _a.call(spans_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (done) {\n            return done({ code: ExportResultCode.SUCCESS });\n        }\n    };\n    return ConsoleSpanExporter;\n}());\nexport { ConsoleSpanExporter };\n//# sourceMappingURL=ConsoleSpanExporter.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { ExportResultCode } from '@opentelemetry/core';\n/**\n * This class can be used for testing purposes. It stores the exported spans\n * in a list in memory that can be retrieved using the `getFinishedSpans()`\n * method.\n */\nvar InMemorySpanExporter = /** @class */ (function () {\n    function InMemorySpanExporter() {\n        this._finishedSpans = [];\n        /**\n         * Indicates if the exporter has been \"shutdown.\"\n         * When false, exported spans will not be stored in-memory.\n         */\n        this._stopped = false;\n    }\n    InMemorySpanExporter.prototype.export = function (spans, resultCallback) {\n        var _a;\n        if (this._stopped)\n            return resultCallback({\n                code: ExportResultCode.FAILED,\n                error: new Error('Exporter has been stopped'),\n            });\n        (_a = this._finishedSpans).push.apply(_a, __spreadArray([], __read(spans), false));\n        setTimeout(function () { return resultCallback({ code: ExportResultCode.SUCCESS }); }, 0);\n    };\n    InMemorySpanExporter.prototype.shutdown = function () {\n        this._stopped = true;\n        this._finishedSpans = [];\n        return this.forceFlush();\n    };\n    /**\n     * Exports any pending spans in the exporter\n     */\n    InMemorySpanExporter.prototype.forceFlush = function () {\n        return Promise.resolve();\n    };\n    InMemorySpanExporter.prototype.reset = function () {\n        this._finishedSpans = [];\n    };\n    InMemorySpanExporter.prototype.getFinishedSpans = function () {\n        return this._finishedSpans;\n    };\n    return InMemorySpanExporter;\n}());\nexport { InMemorySpanExporter };\n//# sourceMappingURL=InMemorySpanExporter.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { TraceFlags } from '@opentelemetry/api';\nimport { internal, ExportResultCode, globalErrorHandler, BindOnceFuture, } from '@opentelemetry/core';\n/**\n * An implementation of the {@link SpanProcessor} that converts the {@link Span}\n * to {@link ReadableSpan} and passes it to the configured exporter.\n *\n * Only spans that are sampled are converted.\n *\n * NOTE: This {@link SpanProcessor} exports every ended span individually instead of batching spans together, which causes significant performance overhead with most exporters. For production use, please consider using the {@link BatchSpanProcessor} instead.\n */\nvar SimpleSpanProcessor = /** @class */ (function () {\n    function SimpleSpanProcessor(_exporter) {\n        this._exporter = _exporter;\n        this._shutdownOnce = new BindOnceFuture(this._shutdown, this);\n        this._unresolvedExports = new Set();\n    }\n    SimpleSpanProcessor.prototype.forceFlush = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: \n                    // await unresolved resources before resolving\n                    return [4 /*yield*/, Promise.all(Array.from(this._unresolvedExports))];\n                    case 1:\n                        // await unresolved resources before resolving\n                        _a.sent();\n                        if (!this._exporter.forceFlush) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._exporter.forceFlush()];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SimpleSpanProcessor.prototype.onStart = function (_span, _parentContext) { };\n    SimpleSpanProcessor.prototype.onEnd = function (span) {\n        var _this = this;\n        var _a, _b;\n        if (this._shutdownOnce.isCalled) {\n            return;\n        }\n        if ((span.spanContext().traceFlags & TraceFlags.SAMPLED) === 0) {\n            return;\n        }\n        var doExport = function () {\n            return internal\n                ._export(_this._exporter, [span])\n                .then(function (result) {\n                var _a;\n                if (result.code !== ExportResultCode.SUCCESS) {\n                    globalErrorHandler((_a = result.error) !== null && _a !== void 0 ? _a : new Error(\"SimpleSpanProcessor: span export failed (status \" + result + \")\"));\n                }\n            })\n                .catch(function (error) {\n                globalErrorHandler(error);\n            });\n        };\n        // Avoid scheduling a promise to make the behavior more predictable and easier to test\n        if (span.resource.asyncAttributesPending) {\n            var exportPromise_1 = (_b = (_a = span.resource).waitForAsyncAttributes) === null || _b === void 0 ? void 0 : _b.call(_a).then(function () {\n                if (exportPromise_1 != null) {\n                    _this._unresolvedExports.delete(exportPromise_1);\n                }\n                return doExport();\n            }, function (err) { return globalErrorHandler(err); });\n            // store the unresolved exports\n            if (exportPromise_1 != null) {\n                this._unresolvedExports.add(exportPromise_1);\n            }\n        }\n        else {\n            void doExport();\n        }\n    };\n    SimpleSpanProcessor.prototype.shutdown = function () {\n        return this._shutdownOnce.call();\n    };\n    SimpleSpanProcessor.prototype._shutdown = function () {\n        return this._exporter.shutdown();\n    };\n    return SimpleSpanProcessor;\n}());\nexport { SimpleSpanProcessor };\n//# sourceMappingURL=SimpleSpanProcessor.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Creates a const map from the given values\n * @param values - An array of values to be used as keys and values in the map.\n * @returns A populated version of the map with the values and keys derived from the values.\n */\n/*#__NO_SIDE_EFFECTS__*/\nexport function createConstMap(values) {\n    // eslint-disable-next-line prefer-const, @typescript-eslint/no-explicit-any\n    var res = {};\n    var len = values.length;\n    for (var lp = 0; lp < len; lp++) {\n        var val = values[lp];\n        if (val) {\n            res[String(val).toUpperCase().replace(/[-.]/g, '_')] = val;\n        }\n    }\n    return res;\n}\n//# sourceMappingURL=utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createConstMap } from '../internal/utils';\n//----------------------------------------------------------------------------------------------------------\n// DO NOT EDIT, this is an Auto-generated file from scripts/semconv/templates//templates/SemanticAttributes.ts.j2\n//----------------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------------\n// Constant values for SemanticResourceAttributes\n//----------------------------------------------------------------------------------------------------------\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_CLOUD_PROVIDER = 'cloud.provider';\nvar TMP_CLOUD_ACCOUNT_ID = 'cloud.account.id';\nvar TMP_CLOUD_REGION = 'cloud.region';\nvar TMP_CLOUD_AVAILABILITY_ZONE = 'cloud.availability_zone';\nvar TMP_CLOUD_PLATFORM = 'cloud.platform';\nvar TMP_AWS_ECS_CONTAINER_ARN = 'aws.ecs.container.arn';\nvar TMP_AWS_ECS_CLUSTER_ARN = 'aws.ecs.cluster.arn';\nvar TMP_AWS_ECS_LAUNCHTYPE = 'aws.ecs.launchtype';\nvar TMP_AWS_ECS_TASK_ARN = 'aws.ecs.task.arn';\nvar TMP_AWS_ECS_TASK_FAMILY = 'aws.ecs.task.family';\nvar TMP_AWS_ECS_TASK_REVISION = 'aws.ecs.task.revision';\nvar TMP_AWS_EKS_CLUSTER_ARN = 'aws.eks.cluster.arn';\nvar TMP_AWS_LOG_GROUP_NAMES = 'aws.log.group.names';\nvar TMP_AWS_LOG_GROUP_ARNS = 'aws.log.group.arns';\nvar TMP_AWS_LOG_STREAM_NAMES = 'aws.log.stream.names';\nvar TMP_AWS_LOG_STREAM_ARNS = 'aws.log.stream.arns';\nvar TMP_CONTAINER_NAME = 'container.name';\nvar TMP_CONTAINER_ID = 'container.id';\nvar TMP_CONTAINER_RUNTIME = 'container.runtime';\nvar TMP_CONTAINER_IMAGE_NAME = 'container.image.name';\nvar TMP_CONTAINER_IMAGE_TAG = 'container.image.tag';\nvar TMP_DEPLOYMENT_ENVIRONMENT = 'deployment.environment';\nvar TMP_DEVICE_ID = 'device.id';\nvar TMP_DEVICE_MODEL_IDENTIFIER = 'device.model.identifier';\nvar TMP_DEVICE_MODEL_NAME = 'device.model.name';\nvar TMP_FAAS_NAME = 'faas.name';\nvar TMP_FAAS_ID = 'faas.id';\nvar TMP_FAAS_VERSION = 'faas.version';\nvar TMP_FAAS_INSTANCE = 'faas.instance';\nvar TMP_FAAS_MAX_MEMORY = 'faas.max_memory';\nvar TMP_HOST_ID = 'host.id';\nvar TMP_HOST_NAME = 'host.name';\nvar TMP_HOST_TYPE = 'host.type';\nvar TMP_HOST_ARCH = 'host.arch';\nvar TMP_HOST_IMAGE_NAME = 'host.image.name';\nvar TMP_HOST_IMAGE_ID = 'host.image.id';\nvar TMP_HOST_IMAGE_VERSION = 'host.image.version';\nvar TMP_K8S_CLUSTER_NAME = 'k8s.cluster.name';\nvar TMP_K8S_NODE_NAME = 'k8s.node.name';\nvar TMP_K8S_NODE_UID = 'k8s.node.uid';\nvar TMP_K8S_NAMESPACE_NAME = 'k8s.namespace.name';\nvar TMP_K8S_POD_UID = 'k8s.pod.uid';\nvar TMP_K8S_POD_NAME = 'k8s.pod.name';\nvar TMP_K8S_CONTAINER_NAME = 'k8s.container.name';\nvar TMP_K8S_REPLICASET_UID = 'k8s.replicaset.uid';\nvar TMP_K8S_REPLICASET_NAME = 'k8s.replicaset.name';\nvar TMP_K8S_DEPLOYMENT_UID = 'k8s.deployment.uid';\nvar TMP_K8S_DEPLOYMENT_NAME = 'k8s.deployment.name';\nvar TMP_K8S_STATEFULSET_UID = 'k8s.statefulset.uid';\nvar TMP_K8S_STATEFULSET_NAME = 'k8s.statefulset.name';\nvar TMP_K8S_DAEMONSET_UID = 'k8s.daemonset.uid';\nvar TMP_K8S_DAEMONSET_NAME = 'k8s.daemonset.name';\nvar TMP_K8S_JOB_UID = 'k8s.job.uid';\nvar TMP_K8S_JOB_NAME = 'k8s.job.name';\nvar TMP_K8S_CRONJOB_UID = 'k8s.cronjob.uid';\nvar TMP_K8S_CRONJOB_NAME = 'k8s.cronjob.name';\nvar TMP_OS_TYPE = 'os.type';\nvar TMP_OS_DESCRIPTION = 'os.description';\nvar TMP_OS_NAME = 'os.name';\nvar TMP_OS_VERSION = 'os.version';\nvar TMP_PROCESS_PID = 'process.pid';\nvar TMP_PROCESS_EXECUTABLE_NAME = 'process.executable.name';\nvar TMP_PROCESS_EXECUTABLE_PATH = 'process.executable.path';\nvar TMP_PROCESS_COMMAND = 'process.command';\nvar TMP_PROCESS_COMMAND_LINE = 'process.command_line';\nvar TMP_PROCESS_COMMAND_ARGS = 'process.command_args';\nvar TMP_PROCESS_OWNER = 'process.owner';\nvar TMP_PROCESS_RUNTIME_NAME = 'process.runtime.name';\nvar TMP_PROCESS_RUNTIME_VERSION = 'process.runtime.version';\nvar TMP_PROCESS_RUNTIME_DESCRIPTION = 'process.runtime.description';\nvar TMP_SERVICE_NAME = 'service.name';\nvar TMP_SERVICE_NAMESPACE = 'service.namespace';\nvar TMP_SERVICE_INSTANCE_ID = 'service.instance.id';\nvar TMP_SERVICE_VERSION = 'service.version';\nvar TMP_TELEMETRY_SDK_NAME = 'telemetry.sdk.name';\nvar TMP_TELEMETRY_SDK_LANGUAGE = 'telemetry.sdk.language';\nvar TMP_TELEMETRY_SDK_VERSION = 'telemetry.sdk.version';\nvar TMP_TELEMETRY_AUTO_VERSION = 'telemetry.auto.version';\nvar TMP_WEBENGINE_NAME = 'webengine.name';\nvar TMP_WEBENGINE_VERSION = 'webengine.version';\nvar TMP_WEBENGINE_DESCRIPTION = 'webengine.description';\n/**\n * Name of the cloud provider.\n */\nexport var SEMRESATTRS_CLOUD_PROVIDER = TMP_CLOUD_PROVIDER;\n/**\n * The cloud account ID the resource is assigned to.\n */\nexport var SEMRESATTRS_CLOUD_ACCOUNT_ID = TMP_CLOUD_ACCOUNT_ID;\n/**\n * The geographical region the resource is running. Refer to your provider&#39;s docs to see the available regions, for example [Alibaba Cloud regions](https://www.alibabacloud.com/help/doc-detail/40654.htm), [AWS regions](https://aws.amazon.com/about-aws/global-infrastructure/regions_az/), [Azure regions](https://azure.microsoft.com/en-us/global-infrastructure/geographies/), or [Google Cloud regions](https://cloud.google.com/about/locations).\n */\nexport var SEMRESATTRS_CLOUD_REGION = TMP_CLOUD_REGION;\n/**\n * Cloud regions often have multiple, isolated locations known as zones to increase availability. Availability zone represents the zone where the resource is running.\n *\n * Note: Availability zones are called &#34;zones&#34; on Alibaba Cloud and Google Cloud.\n */\nexport var SEMRESATTRS_CLOUD_AVAILABILITY_ZONE = TMP_CLOUD_AVAILABILITY_ZONE;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var SEMRESATTRS_CLOUD_PLATFORM = TMP_CLOUD_PLATFORM;\n/**\n * The Amazon Resource Name (ARN) of an [ECS container instance](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_instances.html).\n */\nexport var SEMRESATTRS_AWS_ECS_CONTAINER_ARN = TMP_AWS_ECS_CONTAINER_ARN;\n/**\n * The ARN of an [ECS cluster](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/clusters.html).\n */\nexport var SEMRESATTRS_AWS_ECS_CLUSTER_ARN = TMP_AWS_ECS_CLUSTER_ARN;\n/**\n * The [launch type](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html) for an ECS task.\n */\nexport var SEMRESATTRS_AWS_ECS_LAUNCHTYPE = TMP_AWS_ECS_LAUNCHTYPE;\n/**\n * The ARN of an [ECS task definition](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definitions.html).\n */\nexport var SEMRESATTRS_AWS_ECS_TASK_ARN = TMP_AWS_ECS_TASK_ARN;\n/**\n * The task definition family this task definition is a member of.\n */\nexport var SEMRESATTRS_AWS_ECS_TASK_FAMILY = TMP_AWS_ECS_TASK_FAMILY;\n/**\n * The revision for this task definition.\n */\nexport var SEMRESATTRS_AWS_ECS_TASK_REVISION = TMP_AWS_ECS_TASK_REVISION;\n/**\n * The ARN of an EKS cluster.\n */\nexport var SEMRESATTRS_AWS_EKS_CLUSTER_ARN = TMP_AWS_EKS_CLUSTER_ARN;\n/**\n * The name(s) of the AWS log group(s) an application is writing to.\n *\n * Note: Multiple log groups must be supported for cases like multi-container applications, where a single application has sidecar containers, and each write to their own log group.\n */\nexport var SEMRESATTRS_AWS_LOG_GROUP_NAMES = TMP_AWS_LOG_GROUP_NAMES;\n/**\n * The Amazon Resource Name(s) (ARN) of the AWS log group(s).\n *\n * Note: See the [log group ARN format documentation](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/iam-access-control-overview-cwl.html#CWL_ARN_Format).\n */\nexport var SEMRESATTRS_AWS_LOG_GROUP_ARNS = TMP_AWS_LOG_GROUP_ARNS;\n/**\n * The name(s) of the AWS log stream(s) an application is writing to.\n */\nexport var SEMRESATTRS_AWS_LOG_STREAM_NAMES = TMP_AWS_LOG_STREAM_NAMES;\n/**\n * The ARN(s) of the AWS log stream(s).\n *\n * Note: See the [log stream ARN format documentation](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/iam-access-control-overview-cwl.html#CWL_ARN_Format). One log group can contain several log streams, so these ARNs necessarily identify both a log group and a log stream.\n */\nexport var SEMRESATTRS_AWS_LOG_STREAM_ARNS = TMP_AWS_LOG_STREAM_ARNS;\n/**\n * Container name.\n */\nexport var SEMRESATTRS_CONTAINER_NAME = TMP_CONTAINER_NAME;\n/**\n * Container ID. Usually a UUID, as for example used to [identify Docker containers](https://docs.docker.com/engine/reference/run/#container-identification). The UUID might be abbreviated.\n */\nexport var SEMRESATTRS_CONTAINER_ID = TMP_CONTAINER_ID;\n/**\n * The container runtime managing this container.\n */\nexport var SEMRESATTRS_CONTAINER_RUNTIME = TMP_CONTAINER_RUNTIME;\n/**\n * Name of the image the container was built on.\n */\nexport var SEMRESATTRS_CONTAINER_IMAGE_NAME = TMP_CONTAINER_IMAGE_NAME;\n/**\n * Container image tag.\n */\nexport var SEMRESATTRS_CONTAINER_IMAGE_TAG = TMP_CONTAINER_IMAGE_TAG;\n/**\n * Name of the [deployment environment](https://en.wikipedia.org/wiki/Deployment_environment) (aka deployment tier).\n */\nexport var SEMRESATTRS_DEPLOYMENT_ENVIRONMENT = TMP_DEPLOYMENT_ENVIRONMENT;\n/**\n * A unique identifier representing the device.\n *\n * Note: The device identifier MUST only be defined using the values outlined below. This value is not an advertising identifier and MUST NOT be used as such. On iOS (Swift or Objective-C), this value MUST be equal to the [vendor identifier](https://developer.apple.com/documentation/uikit/uidevice/1620059-identifierforvendor). On Android (Java or Kotlin), this value MUST be equal to the Firebase Installation ID or a globally unique UUID which is persisted across sessions in your application. More information can be found [here](https://developer.android.com/training/articles/user-data-ids) on best practices and exact implementation details. Caution should be taken when storing personal data or anything which can identify a user. GDPR and data protection laws may apply, ensure you do your own due diligence.\n */\nexport var SEMRESATTRS_DEVICE_ID = TMP_DEVICE_ID;\n/**\n * The model identifier for the device.\n *\n * Note: It&#39;s recommended this value represents a machine readable version of the model identifier rather than the market or consumer-friendly name of the device.\n */\nexport var SEMRESATTRS_DEVICE_MODEL_IDENTIFIER = TMP_DEVICE_MODEL_IDENTIFIER;\n/**\n * The marketing name for the device model.\n *\n * Note: It&#39;s recommended this value represents a human readable version of the device model rather than a machine readable alternative.\n */\nexport var SEMRESATTRS_DEVICE_MODEL_NAME = TMP_DEVICE_MODEL_NAME;\n/**\n * The name of the single function that this runtime instance executes.\n *\n * Note: This is the name of the function as configured/deployed on the FaaS platform and is usually different from the name of the callback function (which may be stored in the [`code.namespace`/`code.function`](../../trace/semantic_conventions/span-general.md#source-code-attributes) span attributes).\n */\nexport var SEMRESATTRS_FAAS_NAME = TMP_FAAS_NAME;\n/**\n* The unique ID of the single function that this runtime instance executes.\n*\n* Note: Depending on the cloud provider, use:\n\n* **AWS Lambda:** The function [ARN](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html).\nTake care not to use the &#34;invoked ARN&#34; directly but replace any\n[alias suffix](https://docs.aws.amazon.com/lambda/latest/dg/configuration-aliases.html) with the resolved function version, as the same runtime instance may be invokable with multiple\ndifferent aliases.\n* **GCP:** The [URI of the resource](https://cloud.google.com/iam/docs/full-resource-names)\n* **Azure:** The [Fully Qualified Resource ID](https://docs.microsoft.com/en-us/rest/api/resources/resources/get-by-id).\n\nOn some providers, it may not be possible to determine the full ID at startup,\nwhich is why this field cannot be made required. For example, on AWS the account ID\npart of the ARN is not available without calling another AWS API\nwhich may be deemed too slow for a short-running lambda function.\nAs an alternative, consider setting `faas.id` as a span attribute instead.\n*/\nexport var SEMRESATTRS_FAAS_ID = TMP_FAAS_ID;\n/**\n* The immutable version of the function being executed.\n*\n* Note: Depending on the cloud provider and platform, use:\n\n* **AWS Lambda:** The [function version](https://docs.aws.amazon.com/lambda/latest/dg/configuration-versions.html)\n  (an integer represented as a decimal string).\n* **Google Cloud Run:** The [revision](https://cloud.google.com/run/docs/managing/revisions)\n  (i.e., the function name plus the revision suffix).\n* **Google Cloud Functions:** The value of the\n  [`K_REVISION` environment variable](https://cloud.google.com/functions/docs/env-var#runtime_environment_variables_set_automatically).\n* **Azure Functions:** Not applicable. Do not set this attribute.\n*/\nexport var SEMRESATTRS_FAAS_VERSION = TMP_FAAS_VERSION;\n/**\n * The execution environment ID as a string, that will be potentially reused for other invocations to the same function/function version.\n *\n * Note: * **AWS Lambda:** Use the (full) log stream name.\n */\nexport var SEMRESATTRS_FAAS_INSTANCE = TMP_FAAS_INSTANCE;\n/**\n * The amount of memory available to the serverless function in MiB.\n *\n * Note: It&#39;s recommended to set this attribute since e.g. too little memory can easily stop a Java AWS Lambda function from working correctly. On AWS Lambda, the environment variable `AWS_LAMBDA_FUNCTION_MEMORY_SIZE` provides this information.\n */\nexport var SEMRESATTRS_FAAS_MAX_MEMORY = TMP_FAAS_MAX_MEMORY;\n/**\n * Unique host ID. For Cloud, this must be the instance_id assigned by the cloud provider.\n */\nexport var SEMRESATTRS_HOST_ID = TMP_HOST_ID;\n/**\n * Name of the host. On Unix systems, it may contain what the hostname command returns, or the fully qualified hostname, or another name specified by the user.\n */\nexport var SEMRESATTRS_HOST_NAME = TMP_HOST_NAME;\n/**\n * Type of host. For Cloud, this must be the machine type.\n */\nexport var SEMRESATTRS_HOST_TYPE = TMP_HOST_TYPE;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var SEMRESATTRS_HOST_ARCH = TMP_HOST_ARCH;\n/**\n * Name of the VM image or OS install the host was instantiated from.\n */\nexport var SEMRESATTRS_HOST_IMAGE_NAME = TMP_HOST_IMAGE_NAME;\n/**\n * VM image ID. For Cloud, this value is from the provider.\n */\nexport var SEMRESATTRS_HOST_IMAGE_ID = TMP_HOST_IMAGE_ID;\n/**\n * The version string of the VM image as defined in [Version Attributes](README.md#version-attributes).\n */\nexport var SEMRESATTRS_HOST_IMAGE_VERSION = TMP_HOST_IMAGE_VERSION;\n/**\n * The name of the cluster.\n */\nexport var SEMRESATTRS_K8S_CLUSTER_NAME = TMP_K8S_CLUSTER_NAME;\n/**\n * The name of the Node.\n */\nexport var SEMRESATTRS_K8S_NODE_NAME = TMP_K8S_NODE_NAME;\n/**\n * The UID of the Node.\n */\nexport var SEMRESATTRS_K8S_NODE_UID = TMP_K8S_NODE_UID;\n/**\n * The name of the namespace that the pod is running in.\n */\nexport var SEMRESATTRS_K8S_NAMESPACE_NAME = TMP_K8S_NAMESPACE_NAME;\n/**\n * The UID of the Pod.\n */\nexport var SEMRESATTRS_K8S_POD_UID = TMP_K8S_POD_UID;\n/**\n * The name of the Pod.\n */\nexport var SEMRESATTRS_K8S_POD_NAME = TMP_K8S_POD_NAME;\n/**\n * The name of the Container in a Pod template.\n */\nexport var SEMRESATTRS_K8S_CONTAINER_NAME = TMP_K8S_CONTAINER_NAME;\n/**\n * The UID of the ReplicaSet.\n */\nexport var SEMRESATTRS_K8S_REPLICASET_UID = TMP_K8S_REPLICASET_UID;\n/**\n * The name of the ReplicaSet.\n */\nexport var SEMRESATTRS_K8S_REPLICASET_NAME = TMP_K8S_REPLICASET_NAME;\n/**\n * The UID of the Deployment.\n */\nexport var SEMRESATTRS_K8S_DEPLOYMENT_UID = TMP_K8S_DEPLOYMENT_UID;\n/**\n * The name of the Deployment.\n */\nexport var SEMRESATTRS_K8S_DEPLOYMENT_NAME = TMP_K8S_DEPLOYMENT_NAME;\n/**\n * The UID of the StatefulSet.\n */\nexport var SEMRESATTRS_K8S_STATEFULSET_UID = TMP_K8S_STATEFULSET_UID;\n/**\n * The name of the StatefulSet.\n */\nexport var SEMRESATTRS_K8S_STATEFULSET_NAME = TMP_K8S_STATEFULSET_NAME;\n/**\n * The UID of the DaemonSet.\n */\nexport var SEMRESATTRS_K8S_DAEMONSET_UID = TMP_K8S_DAEMONSET_UID;\n/**\n * The name of the DaemonSet.\n */\nexport var SEMRESATTRS_K8S_DAEMONSET_NAME = TMP_K8S_DAEMONSET_NAME;\n/**\n * The UID of the Job.\n */\nexport var SEMRESATTRS_K8S_JOB_UID = TMP_K8S_JOB_UID;\n/**\n * The name of the Job.\n */\nexport var SEMRESATTRS_K8S_JOB_NAME = TMP_K8S_JOB_NAME;\n/**\n * The UID of the CronJob.\n */\nexport var SEMRESATTRS_K8S_CRONJOB_UID = TMP_K8S_CRONJOB_UID;\n/**\n * The name of the CronJob.\n */\nexport var SEMRESATTRS_K8S_CRONJOB_NAME = TMP_K8S_CRONJOB_NAME;\n/**\n * The operating system type.\n */\nexport var SEMRESATTRS_OS_TYPE = TMP_OS_TYPE;\n/**\n * Human readable (not intended to be parsed) OS version information, like e.g. reported by `ver` or `lsb_release -a` commands.\n */\nexport var SEMRESATTRS_OS_DESCRIPTION = TMP_OS_DESCRIPTION;\n/**\n * Human readable operating system name.\n */\nexport var SEMRESATTRS_OS_NAME = TMP_OS_NAME;\n/**\n * The version string of the operating system as defined in [Version Attributes](../../resource/semantic_conventions/README.md#version-attributes).\n */\nexport var SEMRESATTRS_OS_VERSION = TMP_OS_VERSION;\n/**\n * Process identifier (PID).\n */\nexport var SEMRESATTRS_PROCESS_PID = TMP_PROCESS_PID;\n/**\n * The name of the process executable. On Linux based systems, can be set to the `Name` in `proc/[pid]/status`. On Windows, can be set to the base name of `GetProcessImageFileNameW`.\n */\nexport var SEMRESATTRS_PROCESS_EXECUTABLE_NAME = TMP_PROCESS_EXECUTABLE_NAME;\n/**\n * The full path to the process executable. On Linux based systems, can be set to the target of `proc/[pid]/exe`. On Windows, can be set to the result of `GetProcessImageFileNameW`.\n */\nexport var SEMRESATTRS_PROCESS_EXECUTABLE_PATH = TMP_PROCESS_EXECUTABLE_PATH;\n/**\n * The command used to launch the process (i.e. the command name). On Linux based systems, can be set to the zeroth string in `proc/[pid]/cmdline`. On Windows, can be set to the first parameter extracted from `GetCommandLineW`.\n */\nexport var SEMRESATTRS_PROCESS_COMMAND = TMP_PROCESS_COMMAND;\n/**\n * The full command used to launch the process as a single string representing the full command. On Windows, can be set to the result of `GetCommandLineW`. Do not set this if you have to assemble it just for monitoring; use `process.command_args` instead.\n */\nexport var SEMRESATTRS_PROCESS_COMMAND_LINE = TMP_PROCESS_COMMAND_LINE;\n/**\n * All the command arguments (including the command/executable itself) as received by the process. On Linux-based systems (and some other Unixoid systems supporting procfs), can be set according to the list of null-delimited strings extracted from `proc/[pid]/cmdline`. For libc-based executables, this would be the full argv vector passed to `main`.\n */\nexport var SEMRESATTRS_PROCESS_COMMAND_ARGS = TMP_PROCESS_COMMAND_ARGS;\n/**\n * The username of the user that owns the process.\n */\nexport var SEMRESATTRS_PROCESS_OWNER = TMP_PROCESS_OWNER;\n/**\n * The name of the runtime of this process. For compiled native binaries, this SHOULD be the name of the compiler.\n */\nexport var SEMRESATTRS_PROCESS_RUNTIME_NAME = TMP_PROCESS_RUNTIME_NAME;\n/**\n * The version of the runtime of this process, as returned by the runtime without modification.\n */\nexport var SEMRESATTRS_PROCESS_RUNTIME_VERSION = TMP_PROCESS_RUNTIME_VERSION;\n/**\n * An additional description about the runtime of the process, for example a specific vendor customization of the runtime environment.\n */\nexport var SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION = TMP_PROCESS_RUNTIME_DESCRIPTION;\n/**\n * Logical name of the service.\n *\n * Note: MUST be the same for all instances of horizontally scaled services. If the value was not specified, SDKs MUST fallback to `unknown_service:` concatenated with [`process.executable.name`](process.md#process), e.g. `unknown_service:bash`. If `process.executable.name` is not available, the value MUST be set to `unknown_service`.\n */\nexport var SEMRESATTRS_SERVICE_NAME = TMP_SERVICE_NAME;\n/**\n * A namespace for `service.name`.\n *\n * Note: A string value having a meaning that helps to distinguish a group of services, for example the team name that owns a group of services. `service.name` is expected to be unique within the same namespace. If `service.namespace` is not specified in the Resource then `service.name` is expected to be unique for all services that have no explicit namespace defined (so the empty/unspecified namespace is simply one more valid namespace). Zero-length namespace string is assumed equal to unspecified namespace.\n */\nexport var SEMRESATTRS_SERVICE_NAMESPACE = TMP_SERVICE_NAMESPACE;\n/**\n * The string ID of the service instance.\n *\n * Note: MUST be unique for each instance of the same `service.namespace,service.name` pair (in other words `service.namespace,service.name,service.instance.id` triplet MUST be globally unique). The ID helps to distinguish instances of the same service that exist at the same time (e.g. instances of a horizontally scaled service). It is preferable for the ID to be persistent and stay the same for the lifetime of the service instance, however it is acceptable that the ID is ephemeral and changes during important lifetime events for the service (e.g. service restarts). If the service has no inherent unique ID that can be used as the value of this attribute it is recommended to generate a random Version 1 or Version 4 RFC 4122 UUID (services aiming for reproducible UUIDs may also use Version 5, see RFC 4122 for more recommendations).\n */\nexport var SEMRESATTRS_SERVICE_INSTANCE_ID = TMP_SERVICE_INSTANCE_ID;\n/**\n * The version string of the service API or implementation.\n */\nexport var SEMRESATTRS_SERVICE_VERSION = TMP_SERVICE_VERSION;\n/**\n * The name of the telemetry SDK as defined above.\n */\nexport var SEMRESATTRS_TELEMETRY_SDK_NAME = TMP_TELEMETRY_SDK_NAME;\n/**\n * The language of the telemetry SDK.\n */\nexport var SEMRESATTRS_TELEMETRY_SDK_LANGUAGE = TMP_TELEMETRY_SDK_LANGUAGE;\n/**\n * The version string of the telemetry SDK.\n */\nexport var SEMRESATTRS_TELEMETRY_SDK_VERSION = TMP_TELEMETRY_SDK_VERSION;\n/**\n * The version string of the auto instrumentation agent, if used.\n */\nexport var SEMRESATTRS_TELEMETRY_AUTO_VERSION = TMP_TELEMETRY_AUTO_VERSION;\n/**\n * The name of the web engine.\n */\nexport var SEMRESATTRS_WEBENGINE_NAME = TMP_WEBENGINE_NAME;\n/**\n * The version of the web engine.\n */\nexport var SEMRESATTRS_WEBENGINE_VERSION = TMP_WEBENGINE_VERSION;\n/**\n * Additional description of the web engine (e.g. detailed version and edition information).\n */\nexport var SEMRESATTRS_WEBENGINE_DESCRIPTION = TMP_WEBENGINE_DESCRIPTION;\n/**\n * Create exported Value Map for SemanticResourceAttributes values\n * @deprecated Use the SEMRESATTRS_XXXXX constants rather than the SemanticResourceAttributes.XXXXX for bundle minification\n */\nexport var SemanticResourceAttributes = \n/*#__PURE__*/ createConstMap([\n    TMP_CLOUD_PROVIDER,\n    TMP_CLOUD_ACCOUNT_ID,\n    TMP_CLOUD_REGION,\n    TMP_CLOUD_AVAILABILITY_ZONE,\n    TMP_CLOUD_PLATFORM,\n    TMP_AWS_ECS_CONTAINER_ARN,\n    TMP_AWS_ECS_CLUSTER_ARN,\n    TMP_AWS_ECS_LAUNCHTYPE,\n    TMP_AWS_ECS_TASK_ARN,\n    TMP_AWS_ECS_TASK_FAMILY,\n    TMP_AWS_ECS_TASK_REVISION,\n    TMP_AWS_EKS_CLUSTER_ARN,\n    TMP_AWS_LOG_GROUP_NAMES,\n    TMP_AWS_LOG_GROUP_ARNS,\n    TMP_AWS_LOG_STREAM_NAMES,\n    TMP_AWS_LOG_STREAM_ARNS,\n    TMP_CONTAINER_NAME,\n    TMP_CONTAINER_ID,\n    TMP_CONTAINER_RUNTIME,\n    TMP_CONTAINER_IMAGE_NAME,\n    TMP_CONTAINER_IMAGE_TAG,\n    TMP_DEPLOYMENT_ENVIRONMENT,\n    TMP_DEVICE_ID,\n    TMP_DEVICE_MODEL_IDENTIFIER,\n    TMP_DEVICE_MODEL_NAME,\n    TMP_FAAS_NAME,\n    TMP_FAAS_ID,\n    TMP_FAAS_VERSION,\n    TMP_FAAS_INSTANCE,\n    TMP_FAAS_MAX_MEMORY,\n    TMP_HOST_ID,\n    TMP_HOST_NAME,\n    TMP_HOST_TYPE,\n    TMP_HOST_ARCH,\n    TMP_HOST_IMAGE_NAME,\n    TMP_HOST_IMAGE_ID,\n    TMP_HOST_IMAGE_VERSION,\n    TMP_K8S_CLUSTER_NAME,\n    TMP_K8S_NODE_NAME,\n    TMP_K8S_NODE_UID,\n    TMP_K8S_NAMESPACE_NAME,\n    TMP_K8S_POD_UID,\n    TMP_K8S_POD_NAME,\n    TMP_K8S_CONTAINER_NAME,\n    TMP_K8S_REPLICASET_UID,\n    TMP_K8S_REPLICASET_NAME,\n    TMP_K8S_DEPLOYMENT_UID,\n    TMP_K8S_DEPLOYMENT_NAME,\n    TMP_K8S_STATEFULSET_UID,\n    TMP_K8S_STATEFULSET_NAME,\n    TMP_K8S_DAEMONSET_UID,\n    TMP_K8S_DAEMONSET_NAME,\n    TMP_K8S_JOB_UID,\n    TMP_K8S_JOB_NAME,\n    TMP_K8S_CRONJOB_UID,\n    TMP_K8S_CRONJOB_NAME,\n    TMP_OS_TYPE,\n    TMP_OS_DESCRIPTION,\n    TMP_OS_NAME,\n    TMP_OS_VERSION,\n    TMP_PROCESS_PID,\n    TMP_PROCESS_EXECUTABLE_NAME,\n    TMP_PROCESS_EXECUTABLE_PATH,\n    TMP_PROCESS_COMMAND,\n    TMP_PROCESS_COMMAND_LINE,\n    TMP_PROCESS_COMMAND_ARGS,\n    TMP_PROCESS_OWNER,\n    TMP_PROCESS_RUNTIME_NAME,\n    TMP_PROCESS_RUNTIME_VERSION,\n    TMP_PROCESS_RUNTIME_DESCRIPTION,\n    TMP_SERVICE_NAME,\n    TMP_SERVICE_NAMESPACE,\n    TMP_SERVICE_INSTANCE_ID,\n    TMP_SERVICE_VERSION,\n    TMP_TELEMETRY_SDK_NAME,\n    TMP_TELEMETRY_SDK_LANGUAGE,\n    TMP_TELEMETRY_SDK_VERSION,\n    TMP_TELEMETRY_AUTO_VERSION,\n    TMP_WEBENGINE_NAME,\n    TMP_WEBENGINE_VERSION,\n    TMP_WEBENGINE_DESCRIPTION,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for CloudProviderValues enum definition\n *\n * Name of the cloud provider.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_CLOUDPROVIDERVALUES_ALIBABA_CLOUD = 'alibaba_cloud';\nvar TMP_CLOUDPROVIDERVALUES_AWS = 'aws';\nvar TMP_CLOUDPROVIDERVALUES_AZURE = 'azure';\nvar TMP_CLOUDPROVIDERVALUES_GCP = 'gcp';\n/**\n * Name of the cloud provider.\n */\nexport var CLOUDPROVIDERVALUES_ALIBABA_CLOUD = TMP_CLOUDPROVIDERVALUES_ALIBABA_CLOUD;\n/**\n * Name of the cloud provider.\n */\nexport var CLOUDPROVIDERVALUES_AWS = TMP_CLOUDPROVIDERVALUES_AWS;\n/**\n * Name of the cloud provider.\n */\nexport var CLOUDPROVIDERVALUES_AZURE = TMP_CLOUDPROVIDERVALUES_AZURE;\n/**\n * Name of the cloud provider.\n */\nexport var CLOUDPROVIDERVALUES_GCP = TMP_CLOUDPROVIDERVALUES_GCP;\n/**\n * The constant map of values for CloudProviderValues.\n * @deprecated Use the CLOUDPROVIDERVALUES_XXXXX constants rather than the CloudProviderValues.XXXXX for bundle minification.\n */\nexport var CloudProviderValues = \n/*#__PURE__*/ createConstMap([\n    TMP_CLOUDPROVIDERVALUES_ALIBABA_CLOUD,\n    TMP_CLOUDPROVIDERVALUES_AWS,\n    TMP_CLOUDPROVIDERVALUES_AZURE,\n    TMP_CLOUDPROVIDERVALUES_GCP,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for CloudPlatformValues enum definition\n *\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS = 'alibaba_cloud_ecs';\nvar TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC = 'alibaba_cloud_fc';\nvar TMP_CLOUDPLATFORMVALUES_AWS_EC2 = 'aws_ec2';\nvar TMP_CLOUDPLATFORMVALUES_AWS_ECS = 'aws_ecs';\nvar TMP_CLOUDPLATFORMVALUES_AWS_EKS = 'aws_eks';\nvar TMP_CLOUDPLATFORMVALUES_AWS_LAMBDA = 'aws_lambda';\nvar TMP_CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK = 'aws_elastic_beanstalk';\nvar TMP_CLOUDPLATFORMVALUES_AZURE_VM = 'azure_vm';\nvar TMP_CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES = 'azure_container_instances';\nvar TMP_CLOUDPLATFORMVALUES_AZURE_AKS = 'azure_aks';\nvar TMP_CLOUDPLATFORMVALUES_AZURE_FUNCTIONS = 'azure_functions';\nvar TMP_CLOUDPLATFORMVALUES_AZURE_APP_SERVICE = 'azure_app_service';\nvar TMP_CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE = 'gcp_compute_engine';\nvar TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_RUN = 'gcp_cloud_run';\nvar TMP_CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE = 'gcp_kubernetes_engine';\nvar TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS = 'gcp_cloud_functions';\nvar TMP_CLOUDPLATFORMVALUES_GCP_APP_ENGINE = 'gcp_app_engine';\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS = TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC = TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AWS_EC2 = TMP_CLOUDPLATFORMVALUES_AWS_EC2;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AWS_ECS = TMP_CLOUDPLATFORMVALUES_AWS_ECS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AWS_EKS = TMP_CLOUDPLATFORMVALUES_AWS_EKS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AWS_LAMBDA = TMP_CLOUDPLATFORMVALUES_AWS_LAMBDA;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK = TMP_CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AZURE_VM = TMP_CLOUDPLATFORMVALUES_AZURE_VM;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES = TMP_CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AZURE_AKS = TMP_CLOUDPLATFORMVALUES_AZURE_AKS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AZURE_FUNCTIONS = TMP_CLOUDPLATFORMVALUES_AZURE_FUNCTIONS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AZURE_APP_SERVICE = TMP_CLOUDPLATFORMVALUES_AZURE_APP_SERVICE;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE = TMP_CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_GCP_CLOUD_RUN = TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_RUN;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE = TMP_CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS = TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_GCP_APP_ENGINE = TMP_CLOUDPLATFORMVALUES_GCP_APP_ENGINE;\n/**\n * The constant map of values for CloudPlatformValues.\n * @deprecated Use the CLOUDPLATFORMVALUES_XXXXX constants rather than the CloudPlatformValues.XXXXX for bundle minification.\n */\nexport var CloudPlatformValues = \n/*#__PURE__*/ createConstMap([\n    TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS,\n    TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC,\n    TMP_CLOUDPLATFORMVALUES_AWS_EC2,\n    TMP_CLOUDPLATFORMVALUES_AWS_ECS,\n    TMP_CLOUDPLATFORMVALUES_AWS_EKS,\n    TMP_CLOUDPLATFORMVALUES_AWS_LAMBDA,\n    TMP_CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK,\n    TMP_CLOUDPLATFORMVALUES_AZURE_VM,\n    TMP_CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES,\n    TMP_CLOUDPLATFORMVALUES_AZURE_AKS,\n    TMP_CLOUDPLATFORMVALUES_AZURE_FUNCTIONS,\n    TMP_CLOUDPLATFORMVALUES_AZURE_APP_SERVICE,\n    TMP_CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE,\n    TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_RUN,\n    TMP_CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE,\n    TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS,\n    TMP_CLOUDPLATFORMVALUES_GCP_APP_ENGINE,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for AwsEcsLaunchtypeValues enum definition\n *\n * The [launch type](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html) for an ECS task.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_AWSECSLAUNCHTYPEVALUES_EC2 = 'ec2';\nvar TMP_AWSECSLAUNCHTYPEVALUES_FARGATE = 'fargate';\n/**\n * The [launch type](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html) for an ECS task.\n */\nexport var AWSECSLAUNCHTYPEVALUES_EC2 = TMP_AWSECSLAUNCHTYPEVALUES_EC2;\n/**\n * The [launch type](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html) for an ECS task.\n */\nexport var AWSECSLAUNCHTYPEVALUES_FARGATE = TMP_AWSECSLAUNCHTYPEVALUES_FARGATE;\n/**\n * The constant map of values for AwsEcsLaunchtypeValues.\n * @deprecated Use the AWSECSLAUNCHTYPEVALUES_XXXXX constants rather than the AwsEcsLaunchtypeValues.XXXXX for bundle minification.\n */\nexport var AwsEcsLaunchtypeValues = \n/*#__PURE__*/ createConstMap([\n    TMP_AWSECSLAUNCHTYPEVALUES_EC2,\n    TMP_AWSECSLAUNCHTYPEVALUES_FARGATE,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for HostArchValues enum definition\n *\n * The CPU architecture the host system is running on.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_HOSTARCHVALUES_AMD64 = 'amd64';\nvar TMP_HOSTARCHVALUES_ARM32 = 'arm32';\nvar TMP_HOSTARCHVALUES_ARM64 = 'arm64';\nvar TMP_HOSTARCHVALUES_IA64 = 'ia64';\nvar TMP_HOSTARCHVALUES_PPC32 = 'ppc32';\nvar TMP_HOSTARCHVALUES_PPC64 = 'ppc64';\nvar TMP_HOSTARCHVALUES_X86 = 'x86';\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_AMD64 = TMP_HOSTARCHVALUES_AMD64;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_ARM32 = TMP_HOSTARCHVALUES_ARM32;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_ARM64 = TMP_HOSTARCHVALUES_ARM64;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_IA64 = TMP_HOSTARCHVALUES_IA64;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_PPC32 = TMP_HOSTARCHVALUES_PPC32;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_PPC64 = TMP_HOSTARCHVALUES_PPC64;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_X86 = TMP_HOSTARCHVALUES_X86;\n/**\n * The constant map of values for HostArchValues.\n * @deprecated Use the HOSTARCHVALUES_XXXXX constants rather than the HostArchValues.XXXXX for bundle minification.\n */\nexport var HostArchValues = \n/*#__PURE__*/ createConstMap([\n    TMP_HOSTARCHVALUES_AMD64,\n    TMP_HOSTARCHVALUES_ARM32,\n    TMP_HOSTARCHVALUES_ARM64,\n    TMP_HOSTARCHVALUES_IA64,\n    TMP_HOSTARCHVALUES_PPC32,\n    TMP_HOSTARCHVALUES_PPC64,\n    TMP_HOSTARCHVALUES_X86,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for OsTypeValues enum definition\n *\n * The operating system type.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_OSTYPEVALUES_WINDOWS = 'windows';\nvar TMP_OSTYPEVALUES_LINUX = 'linux';\nvar TMP_OSTYPEVALUES_DARWIN = 'darwin';\nvar TMP_OSTYPEVALUES_FREEBSD = 'freebsd';\nvar TMP_OSTYPEVALUES_NETBSD = 'netbsd';\nvar TMP_OSTYPEVALUES_OPENBSD = 'openbsd';\nvar TMP_OSTYPEVALUES_DRAGONFLYBSD = 'dragonflybsd';\nvar TMP_OSTYPEVALUES_HPUX = 'hpux';\nvar TMP_OSTYPEVALUES_AIX = 'aix';\nvar TMP_OSTYPEVALUES_SOLARIS = 'solaris';\nvar TMP_OSTYPEVALUES_Z_OS = 'z_os';\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_WINDOWS = TMP_OSTYPEVALUES_WINDOWS;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_LINUX = TMP_OSTYPEVALUES_LINUX;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_DARWIN = TMP_OSTYPEVALUES_DARWIN;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_FREEBSD = TMP_OSTYPEVALUES_FREEBSD;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_NETBSD = TMP_OSTYPEVALUES_NETBSD;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_OPENBSD = TMP_OSTYPEVALUES_OPENBSD;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_DRAGONFLYBSD = TMP_OSTYPEVALUES_DRAGONFLYBSD;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_HPUX = TMP_OSTYPEVALUES_HPUX;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_AIX = TMP_OSTYPEVALUES_AIX;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_SOLARIS = TMP_OSTYPEVALUES_SOLARIS;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_Z_OS = TMP_OSTYPEVALUES_Z_OS;\n/**\n * The constant map of values for OsTypeValues.\n * @deprecated Use the OSTYPEVALUES_XXXXX constants rather than the OsTypeValues.XXXXX for bundle minification.\n */\nexport var OsTypeValues = \n/*#__PURE__*/ createConstMap([\n    TMP_OSTYPEVALUES_WINDOWS,\n    TMP_OSTYPEVALUES_LINUX,\n    TMP_OSTYPEVALUES_DARWIN,\n    TMP_OSTYPEVALUES_FREEBSD,\n    TMP_OSTYPEVALUES_NETBSD,\n    TMP_OSTYPEVALUES_OPENBSD,\n    TMP_OSTYPEVALUES_DRAGONFLYBSD,\n    TMP_OSTYPEVALUES_HPUX,\n    TMP_OSTYPEVALUES_AIX,\n    TMP_OSTYPEVALUES_SOLARIS,\n    TMP_OSTYPEVALUES_Z_OS,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for TelemetrySdkLanguageValues enum definition\n *\n * The language of the telemetry SDK.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_CPP = 'cpp';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_DOTNET = 'dotnet';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_ERLANG = 'erlang';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_GO = 'go';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_JAVA = 'java';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_NODEJS = 'nodejs';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_PHP = 'php';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_PYTHON = 'python';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_RUBY = 'ruby';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_WEBJS = 'webjs';\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_CPP = TMP_TELEMETRYSDKLANGUAGEVALUES_CPP;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_DOTNET = TMP_TELEMETRYSDKLANGUAGEVALUES_DOTNET;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_ERLANG = TMP_TELEMETRYSDKLANGUAGEVALUES_ERLANG;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_GO = TMP_TELEMETRYSDKLANGUAGEVALUES_GO;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_JAVA = TMP_TELEMETRYSDKLANGUAGEVALUES_JAVA;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_NODEJS = TMP_TELEMETRYSDKLANGUAGEVALUES_NODEJS;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_PHP = TMP_TELEMETRYSDKLANGUAGEVALUES_PHP;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_PYTHON = TMP_TELEMETRYSDKLANGUAGEVALUES_PYTHON;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_RUBY = TMP_TELEMETRYSDKLANGUAGEVALUES_RUBY;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_WEBJS = TMP_TELEMETRYSDKLANGUAGEVALUES_WEBJS;\n/**\n * The constant map of values for TelemetrySdkLanguageValues.\n * @deprecated Use the TELEMETRYSDKLANGUAGEVALUES_XXXXX constants rather than the TelemetrySdkLanguageValues.XXXXX for bundle minification.\n */\nexport var TelemetrySdkLanguageValues = \n/*#__PURE__*/ createConstMap([\n    TMP_TELEMETRYSDKLANGUAGEVALUES_CPP,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_DOTNET,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_ERLANG,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_GO,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_JAVA,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_NODEJS,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_PHP,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_PYTHON,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_RUBY,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_WEBJS,\n]);\n//# sourceMappingURL=SemanticResourceAttributes.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createConstMap } from '../internal/utils';\n//----------------------------------------------------------------------------------------------------------\n// DO NOT EDIT, this is an Auto-generated file from scripts/semconv/templates//templates/SemanticAttributes.ts.j2\n//----------------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------------\n// Constant values for SemanticAttributes\n//----------------------------------------------------------------------------------------------------------\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_AWS_LAMBDA_INVOKED_ARN = 'aws.lambda.invoked_arn';\nvar TMP_DB_SYSTEM = 'db.system';\nvar TMP_DB_CONNECTION_STRING = 'db.connection_string';\nvar TMP_DB_USER = 'db.user';\nvar TMP_DB_JDBC_DRIVER_CLASSNAME = 'db.jdbc.driver_classname';\nvar TMP_DB_NAME = 'db.name';\nvar TMP_DB_STATEMENT = 'db.statement';\nvar TMP_DB_OPERATION = 'db.operation';\nvar TMP_DB_MSSQL_INSTANCE_NAME = 'db.mssql.instance_name';\nvar TMP_DB_CASSANDRA_KEYSPACE = 'db.cassandra.keyspace';\nvar TMP_DB_CASSANDRA_PAGE_SIZE = 'db.cassandra.page_size';\nvar TMP_DB_CASSANDRA_CONSISTENCY_LEVEL = 'db.cassandra.consistency_level';\nvar TMP_DB_CASSANDRA_TABLE = 'db.cassandra.table';\nvar TMP_DB_CASSANDRA_IDEMPOTENCE = 'db.cassandra.idempotence';\nvar TMP_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT = 'db.cassandra.speculative_execution_count';\nvar TMP_DB_CASSANDRA_COORDINATOR_ID = 'db.cassandra.coordinator.id';\nvar TMP_DB_CASSANDRA_COORDINATOR_DC = 'db.cassandra.coordinator.dc';\nvar TMP_DB_HBASE_NAMESPACE = 'db.hbase.namespace';\nvar TMP_DB_REDIS_DATABASE_INDEX = 'db.redis.database_index';\nvar TMP_DB_MONGODB_COLLECTION = 'db.mongodb.collection';\nvar TMP_DB_SQL_TABLE = 'db.sql.table';\nvar TMP_EXCEPTION_TYPE = 'exception.type';\nvar TMP_EXCEPTION_MESSAGE = 'exception.message';\nvar TMP_EXCEPTION_STACKTRACE = 'exception.stacktrace';\nvar TMP_EXCEPTION_ESCAPED = 'exception.escaped';\nvar TMP_FAAS_TRIGGER = 'faas.trigger';\nvar TMP_FAAS_EXECUTION = 'faas.execution';\nvar TMP_FAAS_DOCUMENT_COLLECTION = 'faas.document.collection';\nvar TMP_FAAS_DOCUMENT_OPERATION = 'faas.document.operation';\nvar TMP_FAAS_DOCUMENT_TIME = 'faas.document.time';\nvar TMP_FAAS_DOCUMENT_NAME = 'faas.document.name';\nvar TMP_FAAS_TIME = 'faas.time';\nvar TMP_FAAS_CRON = 'faas.cron';\nvar TMP_FAAS_COLDSTART = 'faas.coldstart';\nvar TMP_FAAS_INVOKED_NAME = 'faas.invoked_name';\nvar TMP_FAAS_INVOKED_PROVIDER = 'faas.invoked_provider';\nvar TMP_FAAS_INVOKED_REGION = 'faas.invoked_region';\nvar TMP_NET_TRANSPORT = 'net.transport';\nvar TMP_NET_PEER_IP = 'net.peer.ip';\nvar TMP_NET_PEER_PORT = 'net.peer.port';\nvar TMP_NET_PEER_NAME = 'net.peer.name';\nvar TMP_NET_HOST_IP = 'net.host.ip';\nvar TMP_NET_HOST_PORT = 'net.host.port';\nvar TMP_NET_HOST_NAME = 'net.host.name';\nvar TMP_NET_HOST_CONNECTION_TYPE = 'net.host.connection.type';\nvar TMP_NET_HOST_CONNECTION_SUBTYPE = 'net.host.connection.subtype';\nvar TMP_NET_HOST_CARRIER_NAME = 'net.host.carrier.name';\nvar TMP_NET_HOST_CARRIER_MCC = 'net.host.carrier.mcc';\nvar TMP_NET_HOST_CARRIER_MNC = 'net.host.carrier.mnc';\nvar TMP_NET_HOST_CARRIER_ICC = 'net.host.carrier.icc';\nvar TMP_PEER_SERVICE = 'peer.service';\nvar TMP_ENDUSER_ID = 'enduser.id';\nvar TMP_ENDUSER_ROLE = 'enduser.role';\nvar TMP_ENDUSER_SCOPE = 'enduser.scope';\nvar TMP_THREAD_ID = 'thread.id';\nvar TMP_THREAD_NAME = 'thread.name';\nvar TMP_CODE_FUNCTION = 'code.function';\nvar TMP_CODE_NAMESPACE = 'code.namespace';\nvar TMP_CODE_FILEPATH = 'code.filepath';\nvar TMP_CODE_LINENO = 'code.lineno';\nvar TMP_HTTP_METHOD = 'http.method';\nvar TMP_HTTP_URL = 'http.url';\nvar TMP_HTTP_TARGET = 'http.target';\nvar TMP_HTTP_HOST = 'http.host';\nvar TMP_HTTP_SCHEME = 'http.scheme';\nvar TMP_HTTP_STATUS_CODE = 'http.status_code';\nvar TMP_HTTP_FLAVOR = 'http.flavor';\nvar TMP_HTTP_USER_AGENT = 'http.user_agent';\nvar TMP_HTTP_REQUEST_CONTENT_LENGTH = 'http.request_content_length';\nvar TMP_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED = 'http.request_content_length_uncompressed';\nvar TMP_HTTP_RESPONSE_CONTENT_LENGTH = 'http.response_content_length';\nvar TMP_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED = 'http.response_content_length_uncompressed';\nvar TMP_HTTP_SERVER_NAME = 'http.server_name';\nvar TMP_HTTP_ROUTE = 'http.route';\nvar TMP_HTTP_CLIENT_IP = 'http.client_ip';\nvar TMP_AWS_DYNAMODB_TABLE_NAMES = 'aws.dynamodb.table_names';\nvar TMP_AWS_DYNAMODB_CONSUMED_CAPACITY = 'aws.dynamodb.consumed_capacity';\nvar TMP_AWS_DYNAMODB_ITEM_COLLECTION_METRICS = 'aws.dynamodb.item_collection_metrics';\nvar TMP_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY = 'aws.dynamodb.provisioned_read_capacity';\nvar TMP_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY = 'aws.dynamodb.provisioned_write_capacity';\nvar TMP_AWS_DYNAMODB_CONSISTENT_READ = 'aws.dynamodb.consistent_read';\nvar TMP_AWS_DYNAMODB_PROJECTION = 'aws.dynamodb.projection';\nvar TMP_AWS_DYNAMODB_LIMIT = 'aws.dynamodb.limit';\nvar TMP_AWS_DYNAMODB_ATTRIBUTES_TO_GET = 'aws.dynamodb.attributes_to_get';\nvar TMP_AWS_DYNAMODB_INDEX_NAME = 'aws.dynamodb.index_name';\nvar TMP_AWS_DYNAMODB_SELECT = 'aws.dynamodb.select';\nvar TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES = 'aws.dynamodb.global_secondary_indexes';\nvar TMP_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES = 'aws.dynamodb.local_secondary_indexes';\nvar TMP_AWS_DYNAMODB_EXCLUSIVE_START_TABLE = 'aws.dynamodb.exclusive_start_table';\nvar TMP_AWS_DYNAMODB_TABLE_COUNT = 'aws.dynamodb.table_count';\nvar TMP_AWS_DYNAMODB_SCAN_FORWARD = 'aws.dynamodb.scan_forward';\nvar TMP_AWS_DYNAMODB_SEGMENT = 'aws.dynamodb.segment';\nvar TMP_AWS_DYNAMODB_TOTAL_SEGMENTS = 'aws.dynamodb.total_segments';\nvar TMP_AWS_DYNAMODB_COUNT = 'aws.dynamodb.count';\nvar TMP_AWS_DYNAMODB_SCANNED_COUNT = 'aws.dynamodb.scanned_count';\nvar TMP_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS = 'aws.dynamodb.attribute_definitions';\nvar TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES = 'aws.dynamodb.global_secondary_index_updates';\nvar TMP_MESSAGING_SYSTEM = 'messaging.system';\nvar TMP_MESSAGING_DESTINATION = 'messaging.destination';\nvar TMP_MESSAGING_DESTINATION_KIND = 'messaging.destination_kind';\nvar TMP_MESSAGING_TEMP_DESTINATION = 'messaging.temp_destination';\nvar TMP_MESSAGING_PROTOCOL = 'messaging.protocol';\nvar TMP_MESSAGING_PROTOCOL_VERSION = 'messaging.protocol_version';\nvar TMP_MESSAGING_URL = 'messaging.url';\nvar TMP_MESSAGING_MESSAGE_ID = 'messaging.message_id';\nvar TMP_MESSAGING_CONVERSATION_ID = 'messaging.conversation_id';\nvar TMP_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES = 'messaging.message_payload_size_bytes';\nvar TMP_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES = 'messaging.message_payload_compressed_size_bytes';\nvar TMP_MESSAGING_OPERATION = 'messaging.operation';\nvar TMP_MESSAGING_CONSUMER_ID = 'messaging.consumer_id';\nvar TMP_MESSAGING_RABBITMQ_ROUTING_KEY = 'messaging.rabbitmq.routing_key';\nvar TMP_MESSAGING_KAFKA_MESSAGE_KEY = 'messaging.kafka.message_key';\nvar TMP_MESSAGING_KAFKA_CONSUMER_GROUP = 'messaging.kafka.consumer_group';\nvar TMP_MESSAGING_KAFKA_CLIENT_ID = 'messaging.kafka.client_id';\nvar TMP_MESSAGING_KAFKA_PARTITION = 'messaging.kafka.partition';\nvar TMP_MESSAGING_KAFKA_TOMBSTONE = 'messaging.kafka.tombstone';\nvar TMP_RPC_SYSTEM = 'rpc.system';\nvar TMP_RPC_SERVICE = 'rpc.service';\nvar TMP_RPC_METHOD = 'rpc.method';\nvar TMP_RPC_GRPC_STATUS_CODE = 'rpc.grpc.status_code';\nvar TMP_RPC_JSONRPC_VERSION = 'rpc.jsonrpc.version';\nvar TMP_RPC_JSONRPC_REQUEST_ID = 'rpc.jsonrpc.request_id';\nvar TMP_RPC_JSONRPC_ERROR_CODE = 'rpc.jsonrpc.error_code';\nvar TMP_RPC_JSONRPC_ERROR_MESSAGE = 'rpc.jsonrpc.error_message';\nvar TMP_MESSAGE_TYPE = 'message.type';\nvar TMP_MESSAGE_ID = 'message.id';\nvar TMP_MESSAGE_COMPRESSED_SIZE = 'message.compressed_size';\nvar TMP_MESSAGE_UNCOMPRESSED_SIZE = 'message.uncompressed_size';\n/**\n * The full invoked ARN as provided on the `Context` passed to the function (`Lambda-Runtime-Invoked-Function-Arn` header on the `/runtime/invocation/next` applicable).\n *\n * Note: This may be different from `faas.id` if an alias is involved.\n */\nexport var SEMATTRS_AWS_LAMBDA_INVOKED_ARN = TMP_AWS_LAMBDA_INVOKED_ARN;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var SEMATTRS_DB_SYSTEM = TMP_DB_SYSTEM;\n/**\n * The connection string used to connect to the database. It is recommended to remove embedded credentials.\n */\nexport var SEMATTRS_DB_CONNECTION_STRING = TMP_DB_CONNECTION_STRING;\n/**\n * Username for accessing the database.\n */\nexport var SEMATTRS_DB_USER = TMP_DB_USER;\n/**\n * The fully-qualified class name of the [Java Database Connectivity (JDBC)](https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/) driver used to connect.\n */\nexport var SEMATTRS_DB_JDBC_DRIVER_CLASSNAME = TMP_DB_JDBC_DRIVER_CLASSNAME;\n/**\n * If no [tech-specific attribute](#call-level-attributes-for-specific-technologies) is defined, this attribute is used to report the name of the database being accessed. For commands that switch the database, this should be set to the target database (even if the command fails).\n *\n * Note: In some SQL databases, the database name to be used is called &#34;schema name&#34;.\n */\nexport var SEMATTRS_DB_NAME = TMP_DB_NAME;\n/**\n * The database statement being executed.\n *\n * Note: The value may be sanitized to exclude sensitive information.\n */\nexport var SEMATTRS_DB_STATEMENT = TMP_DB_STATEMENT;\n/**\n * The name of the operation being executed, e.g. the [MongoDB command name](https://docs.mongodb.com/manual/reference/command/#database-operations) such as `findAndModify`, or the SQL keyword.\n *\n * Note: When setting this to an SQL keyword, it is not recommended to attempt any client-side parsing of `db.statement` just to get this property, but it should be set if the operation name is provided by the library being instrumented. If the SQL statement has an ambiguous operation, or performs more than one operation, this value may be omitted.\n */\nexport var SEMATTRS_DB_OPERATION = TMP_DB_OPERATION;\n/**\n * The Microsoft SQL Server [instance name](https://docs.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-ver15) connecting to. This name is used to determine the port of a named instance.\n *\n * Note: If setting a `db.mssql.instance_name`, `net.peer.port` is no longer required (but still recommended if non-standard).\n */\nexport var SEMATTRS_DB_MSSQL_INSTANCE_NAME = TMP_DB_MSSQL_INSTANCE_NAME;\n/**\n * The name of the keyspace being accessed. To be used instead of the generic `db.name` attribute.\n */\nexport var SEMATTRS_DB_CASSANDRA_KEYSPACE = TMP_DB_CASSANDRA_KEYSPACE;\n/**\n * The fetch size used for paging, i.e. how many rows will be returned at once.\n */\nexport var SEMATTRS_DB_CASSANDRA_PAGE_SIZE = TMP_DB_CASSANDRA_PAGE_SIZE;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL = TMP_DB_CASSANDRA_CONSISTENCY_LEVEL;\n/**\n * The name of the primary table that the operation is acting upon, including the schema name (if applicable).\n *\n * Note: This mirrors the db.sql.table attribute but references cassandra rather than sql. It is not recommended to attempt any client-side parsing of `db.statement` just to get this property, but it should be set if it is provided by the library being instrumented. If the operation is acting upon an anonymous table, or more than one table, this value MUST NOT be set.\n */\nexport var SEMATTRS_DB_CASSANDRA_TABLE = TMP_DB_CASSANDRA_TABLE;\n/**\n * Whether or not the query is idempotent.\n */\nexport var SEMATTRS_DB_CASSANDRA_IDEMPOTENCE = TMP_DB_CASSANDRA_IDEMPOTENCE;\n/**\n * The number of times a query was speculatively executed. Not set or `0` if the query was not executed speculatively.\n */\nexport var SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT = TMP_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT;\n/**\n * The ID of the coordinating node for a query.\n */\nexport var SEMATTRS_DB_CASSANDRA_COORDINATOR_ID = TMP_DB_CASSANDRA_COORDINATOR_ID;\n/**\n * The data center of the coordinating node for a query.\n */\nexport var SEMATTRS_DB_CASSANDRA_COORDINATOR_DC = TMP_DB_CASSANDRA_COORDINATOR_DC;\n/**\n * The [HBase namespace](https://hbase.apache.org/book.html#_namespace) being accessed. To be used instead of the generic `db.name` attribute.\n */\nexport var SEMATTRS_DB_HBASE_NAMESPACE = TMP_DB_HBASE_NAMESPACE;\n/**\n * The index of the database being accessed as used in the [`SELECT` command](https://redis.io/commands/select), provided as an integer. To be used instead of the generic `db.name` attribute.\n */\nexport var SEMATTRS_DB_REDIS_DATABASE_INDEX = TMP_DB_REDIS_DATABASE_INDEX;\n/**\n * The collection being accessed within the database stated in `db.name`.\n */\nexport var SEMATTRS_DB_MONGODB_COLLECTION = TMP_DB_MONGODB_COLLECTION;\n/**\n * The name of the primary table that the operation is acting upon, including the schema name (if applicable).\n *\n * Note: It is not recommended to attempt any client-side parsing of `db.statement` just to get this property, but it should be set if it is provided by the library being instrumented. If the operation is acting upon an anonymous table, or more than one table, this value MUST NOT be set.\n */\nexport var SEMATTRS_DB_SQL_TABLE = TMP_DB_SQL_TABLE;\n/**\n * The type of the exception (its fully-qualified class name, if applicable). The dynamic type of the exception should be preferred over the static type in languages that support it.\n */\nexport var SEMATTRS_EXCEPTION_TYPE = TMP_EXCEPTION_TYPE;\n/**\n * The exception message.\n */\nexport var SEMATTRS_EXCEPTION_MESSAGE = TMP_EXCEPTION_MESSAGE;\n/**\n * A stacktrace as a string in the natural representation for the language runtime. The representation is to be determined and documented by each language SIG.\n */\nexport var SEMATTRS_EXCEPTION_STACKTRACE = TMP_EXCEPTION_STACKTRACE;\n/**\n* SHOULD be set to true if the exception event is recorded at a point where it is known that the exception is escaping the scope of the span.\n*\n* Note: An exception is considered to have escaped (or left) the scope of a span,\nif that span is ended while the exception is still logically &#34;in flight&#34;.\nThis may be actually &#34;in flight&#34; in some languages (e.g. if the exception\nis passed to a Context manager&#39;s `__exit__` method in Python) but will\nusually be caught at the point of recording the exception in most languages.\n\nIt is usually not possible to determine at the point where an exception is thrown\nwhether it will escape the scope of a span.\nHowever, it is trivial to know that an exception\nwill escape, if one checks for an active exception just before ending the span,\nas done in the [example above](#exception-end-example).\n\nIt follows that an exception may still escape the scope of the span\neven if the `exception.escaped` attribute was not set or set to false,\nsince the event might have been recorded at a time where it was not\nclear whether the exception will escape.\n*/\nexport var SEMATTRS_EXCEPTION_ESCAPED = TMP_EXCEPTION_ESCAPED;\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var SEMATTRS_FAAS_TRIGGER = TMP_FAAS_TRIGGER;\n/**\n * The execution ID of the current function execution.\n */\nexport var SEMATTRS_FAAS_EXECUTION = TMP_FAAS_EXECUTION;\n/**\n * The name of the source on which the triggering operation was performed. For example, in Cloud Storage or S3 corresponds to the bucket name, and in Cosmos DB to the database name.\n */\nexport var SEMATTRS_FAAS_DOCUMENT_COLLECTION = TMP_FAAS_DOCUMENT_COLLECTION;\n/**\n * Describes the type of the operation that was performed on the data.\n */\nexport var SEMATTRS_FAAS_DOCUMENT_OPERATION = TMP_FAAS_DOCUMENT_OPERATION;\n/**\n * A string containing the time when the data was accessed in the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) format expressed in [UTC](https://www.w3.org/TR/NOTE-datetime).\n */\nexport var SEMATTRS_FAAS_DOCUMENT_TIME = TMP_FAAS_DOCUMENT_TIME;\n/**\n * The document name/table subjected to the operation. For example, in Cloud Storage or S3 is the name of the file, and in Cosmos DB the table name.\n */\nexport var SEMATTRS_FAAS_DOCUMENT_NAME = TMP_FAAS_DOCUMENT_NAME;\n/**\n * A string containing the function invocation time in the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) format expressed in [UTC](https://www.w3.org/TR/NOTE-datetime).\n */\nexport var SEMATTRS_FAAS_TIME = TMP_FAAS_TIME;\n/**\n * A string containing the schedule period as [Cron Expression](https://docs.oracle.com/cd/E12058_01/doc/doc.1014/e12030/cron_expressions.htm).\n */\nexport var SEMATTRS_FAAS_CRON = TMP_FAAS_CRON;\n/**\n * A boolean that is true if the serverless function is executed for the first time (aka cold-start).\n */\nexport var SEMATTRS_FAAS_COLDSTART = TMP_FAAS_COLDSTART;\n/**\n * The name of the invoked function.\n *\n * Note: SHOULD be equal to the `faas.name` resource attribute of the invoked function.\n */\nexport var SEMATTRS_FAAS_INVOKED_NAME = TMP_FAAS_INVOKED_NAME;\n/**\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n */\nexport var SEMATTRS_FAAS_INVOKED_PROVIDER = TMP_FAAS_INVOKED_PROVIDER;\n/**\n * The cloud region of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.region` resource attribute of the invoked function.\n */\nexport var SEMATTRS_FAAS_INVOKED_REGION = TMP_FAAS_INVOKED_REGION;\n/**\n * Transport protocol used. See note below.\n */\nexport var SEMATTRS_NET_TRANSPORT = TMP_NET_TRANSPORT;\n/**\n * Remote address of the peer (dotted decimal for IPv4 or [RFC5952](https://tools.ietf.org/html/rfc5952) for IPv6).\n */\nexport var SEMATTRS_NET_PEER_IP = TMP_NET_PEER_IP;\n/**\n * Remote port number.\n */\nexport var SEMATTRS_NET_PEER_PORT = TMP_NET_PEER_PORT;\n/**\n * Remote hostname or similar, see note below.\n */\nexport var SEMATTRS_NET_PEER_NAME = TMP_NET_PEER_NAME;\n/**\n * Like `net.peer.ip` but for the host IP. Useful in case of a multi-IP host.\n */\nexport var SEMATTRS_NET_HOST_IP = TMP_NET_HOST_IP;\n/**\n * Like `net.peer.port` but for the host port.\n */\nexport var SEMATTRS_NET_HOST_PORT = TMP_NET_HOST_PORT;\n/**\n * Local hostname or similar, see note below.\n */\nexport var SEMATTRS_NET_HOST_NAME = TMP_NET_HOST_NAME;\n/**\n * The internet connection type currently being used by the host.\n */\nexport var SEMATTRS_NET_HOST_CONNECTION_TYPE = TMP_NET_HOST_CONNECTION_TYPE;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var SEMATTRS_NET_HOST_CONNECTION_SUBTYPE = TMP_NET_HOST_CONNECTION_SUBTYPE;\n/**\n * The name of the mobile carrier.\n */\nexport var SEMATTRS_NET_HOST_CARRIER_NAME = TMP_NET_HOST_CARRIER_NAME;\n/**\n * The mobile carrier country code.\n */\nexport var SEMATTRS_NET_HOST_CARRIER_MCC = TMP_NET_HOST_CARRIER_MCC;\n/**\n * The mobile carrier network code.\n */\nexport var SEMATTRS_NET_HOST_CARRIER_MNC = TMP_NET_HOST_CARRIER_MNC;\n/**\n * The ISO 3166-1 alpha-2 2-character country code associated with the mobile carrier network.\n */\nexport var SEMATTRS_NET_HOST_CARRIER_ICC = TMP_NET_HOST_CARRIER_ICC;\n/**\n * The [`service.name`](../../resource/semantic_conventions/README.md#service) of the remote service. SHOULD be equal to the actual `service.name` resource attribute of the remote service if any.\n */\nexport var SEMATTRS_PEER_SERVICE = TMP_PEER_SERVICE;\n/**\n * Username or client_id extracted from the access token or [Authorization](https://tools.ietf.org/html/rfc7235#section-4.2) header in the inbound request from outside the system.\n */\nexport var SEMATTRS_ENDUSER_ID = TMP_ENDUSER_ID;\n/**\n * Actual/assumed role the client is making the request under extracted from token or application security context.\n */\nexport var SEMATTRS_ENDUSER_ROLE = TMP_ENDUSER_ROLE;\n/**\n * Scopes or granted authorities the client currently possesses extracted from token or application security context. The value would come from the scope associated with an [OAuth 2.0 Access Token](https://tools.ietf.org/html/rfc6749#section-3.3) or an attribute value in a [SAML 2.0 Assertion](http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-tech-overview-2.0.html).\n */\nexport var SEMATTRS_ENDUSER_SCOPE = TMP_ENDUSER_SCOPE;\n/**\n * Current &#34;managed&#34; thread ID (as opposed to OS thread ID).\n */\nexport var SEMATTRS_THREAD_ID = TMP_THREAD_ID;\n/**\n * Current thread name.\n */\nexport var SEMATTRS_THREAD_NAME = TMP_THREAD_NAME;\n/**\n * The method or function name, or equivalent (usually rightmost part of the code unit&#39;s name).\n */\nexport var SEMATTRS_CODE_FUNCTION = TMP_CODE_FUNCTION;\n/**\n * The &#34;namespace&#34; within which `code.function` is defined. Usually the qualified class or module name, such that `code.namespace` + some separator + `code.function` form a unique identifier for the code unit.\n */\nexport var SEMATTRS_CODE_NAMESPACE = TMP_CODE_NAMESPACE;\n/**\n * The source code file name that identifies the code unit as uniquely as possible (preferably an absolute file path).\n */\nexport var SEMATTRS_CODE_FILEPATH = TMP_CODE_FILEPATH;\n/**\n * The line number in `code.filepath` best representing the operation. It SHOULD point within the code unit named in `code.function`.\n */\nexport var SEMATTRS_CODE_LINENO = TMP_CODE_LINENO;\n/**\n * HTTP request method.\n */\nexport var SEMATTRS_HTTP_METHOD = TMP_HTTP_METHOD;\n/**\n * Full HTTP request URL in the form `scheme://host[:port]/path?query[#fragment]`. Usually the fragment is not transmitted over HTTP, but if it is known, it should be included nevertheless.\n *\n * Note: `http.url` MUST NOT contain credentials passed via URL in form of `https://username:password@www.example.com/`. In such case the attribute&#39;s value should be `https://www.example.com/`.\n */\nexport var SEMATTRS_HTTP_URL = TMP_HTTP_URL;\n/**\n * The full request target as passed in a HTTP request line or equivalent.\n */\nexport var SEMATTRS_HTTP_TARGET = TMP_HTTP_TARGET;\n/**\n * The value of the [HTTP host header](https://tools.ietf.org/html/rfc7230#section-5.4). An empty Host header should also be reported, see note.\n *\n * Note: When the header is present but empty the attribute SHOULD be set to the empty string. Note that this is a valid situation that is expected in certain cases, according the aforementioned [section of RFC 7230](https://tools.ietf.org/html/rfc7230#section-5.4). When the header is not set the attribute MUST NOT be set.\n */\nexport var SEMATTRS_HTTP_HOST = TMP_HTTP_HOST;\n/**\n * The URI scheme identifying the used protocol.\n */\nexport var SEMATTRS_HTTP_SCHEME = TMP_HTTP_SCHEME;\n/**\n * [HTTP response status code](https://tools.ietf.org/html/rfc7231#section-6).\n */\nexport var SEMATTRS_HTTP_STATUS_CODE = TMP_HTTP_STATUS_CODE;\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var SEMATTRS_HTTP_FLAVOR = TMP_HTTP_FLAVOR;\n/**\n * Value of the [HTTP User-Agent](https://tools.ietf.org/html/rfc7231#section-5.5.3) header sent by the client.\n */\nexport var SEMATTRS_HTTP_USER_AGENT = TMP_HTTP_USER_AGENT;\n/**\n * The size of the request payload body in bytes. This is the number of bytes transferred excluding headers and is often, but not always, present as the [Content-Length](https://tools.ietf.org/html/rfc7230#section-3.3.2) header. For requests using transport encoding, this should be the compressed size.\n */\nexport var SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH = TMP_HTTP_REQUEST_CONTENT_LENGTH;\n/**\n * The size of the uncompressed request payload body after transport decoding. Not set if transport encoding not used.\n */\nexport var SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED = TMP_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED;\n/**\n * The size of the response payload body in bytes. This is the number of bytes transferred excluding headers and is often, but not always, present as the [Content-Length](https://tools.ietf.org/html/rfc7230#section-3.3.2) header. For requests using transport encoding, this should be the compressed size.\n */\nexport var SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH = TMP_HTTP_RESPONSE_CONTENT_LENGTH;\n/**\n * The size of the uncompressed response payload body after transport decoding. Not set if transport encoding not used.\n */\nexport var SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED = TMP_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED;\n/**\n * The primary server name of the matched virtual host. This should be obtained via configuration. If no such configuration can be obtained, this attribute MUST NOT be set ( `net.host.name` should be used instead).\n *\n * Note: `http.url` is usually not readily available on the server side but would have to be assembled in a cumbersome and sometimes lossy process from other information (see e.g. open-telemetry/opentelemetry-python/pull/148). It is thus preferred to supply the raw data that is available.\n */\nexport var SEMATTRS_HTTP_SERVER_NAME = TMP_HTTP_SERVER_NAME;\n/**\n * The matched route (path template).\n */\nexport var SEMATTRS_HTTP_ROUTE = TMP_HTTP_ROUTE;\n/**\n* The IP address of the original client behind all proxies, if known (e.g. from [X-Forwarded-For](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For)).\n*\n* Note: This is not necessarily the same as `net.peer.ip`, which would\nidentify the network-level peer, which may be a proxy.\n\nThis attribute should be set when a source of information different\nfrom the one used for `net.peer.ip`, is available even if that other\nsource just confirms the same value as `net.peer.ip`.\nRationale: For `net.peer.ip`, one typically does not know if it\ncomes from a proxy, reverse proxy, or the actual client. Setting\n`http.client_ip` when it&#39;s the same as `net.peer.ip` means that\none is at least somewhat confident that the address is not that of\nthe closest proxy.\n*/\nexport var SEMATTRS_HTTP_CLIENT_IP = TMP_HTTP_CLIENT_IP;\n/**\n * The keys in the `RequestItems` object field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_TABLE_NAMES = TMP_AWS_DYNAMODB_TABLE_NAMES;\n/**\n * The JSON-serialized value of each item in the `ConsumedCapacity` response field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY = TMP_AWS_DYNAMODB_CONSUMED_CAPACITY;\n/**\n * The JSON-serialized value of the `ItemCollectionMetrics` response field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS = TMP_AWS_DYNAMODB_ITEM_COLLECTION_METRICS;\n/**\n * The value of the `ProvisionedThroughput.ReadCapacityUnits` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY = TMP_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY;\n/**\n * The value of the `ProvisionedThroughput.WriteCapacityUnits` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY = TMP_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY;\n/**\n * The value of the `ConsistentRead` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ = TMP_AWS_DYNAMODB_CONSISTENT_READ;\n/**\n * The value of the `ProjectionExpression` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_PROJECTION = TMP_AWS_DYNAMODB_PROJECTION;\n/**\n * The value of the `Limit` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_LIMIT = TMP_AWS_DYNAMODB_LIMIT;\n/**\n * The value of the `AttributesToGet` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET = TMP_AWS_DYNAMODB_ATTRIBUTES_TO_GET;\n/**\n * The value of the `IndexName` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_INDEX_NAME = TMP_AWS_DYNAMODB_INDEX_NAME;\n/**\n * The value of the `Select` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_SELECT = TMP_AWS_DYNAMODB_SELECT;\n/**\n * The JSON-serialized value of each item of the `GlobalSecondaryIndexes` request field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES = TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES;\n/**\n * The JSON-serialized value of each item of the `LocalSecondaryIndexes` request field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES = TMP_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES;\n/**\n * The value of the `ExclusiveStartTableName` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE = TMP_AWS_DYNAMODB_EXCLUSIVE_START_TABLE;\n/**\n * The the number of items in the `TableNames` response parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_TABLE_COUNT = TMP_AWS_DYNAMODB_TABLE_COUNT;\n/**\n * The value of the `ScanIndexForward` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD = TMP_AWS_DYNAMODB_SCAN_FORWARD;\n/**\n * The value of the `Segment` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_SEGMENT = TMP_AWS_DYNAMODB_SEGMENT;\n/**\n * The value of the `TotalSegments` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS = TMP_AWS_DYNAMODB_TOTAL_SEGMENTS;\n/**\n * The value of the `Count` response parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_COUNT = TMP_AWS_DYNAMODB_COUNT;\n/**\n * The value of the `ScannedCount` response parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT = TMP_AWS_DYNAMODB_SCANNED_COUNT;\n/**\n * The JSON-serialized value of each item in the `AttributeDefinitions` request field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS = TMP_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS;\n/**\n * The JSON-serialized value of each item in the the `GlobalSecondaryIndexUpdates` request field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES = TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES;\n/**\n * A string identifying the messaging system.\n */\nexport var SEMATTRS_MESSAGING_SYSTEM = TMP_MESSAGING_SYSTEM;\n/**\n * The message destination name. This might be equal to the span name but is required nevertheless.\n */\nexport var SEMATTRS_MESSAGING_DESTINATION = TMP_MESSAGING_DESTINATION;\n/**\n * The kind of message destination.\n */\nexport var SEMATTRS_MESSAGING_DESTINATION_KIND = TMP_MESSAGING_DESTINATION_KIND;\n/**\n * A boolean that is true if the message destination is temporary.\n */\nexport var SEMATTRS_MESSAGING_TEMP_DESTINATION = TMP_MESSAGING_TEMP_DESTINATION;\n/**\n * The name of the transport protocol.\n */\nexport var SEMATTRS_MESSAGING_PROTOCOL = TMP_MESSAGING_PROTOCOL;\n/**\n * The version of the transport protocol.\n */\nexport var SEMATTRS_MESSAGING_PROTOCOL_VERSION = TMP_MESSAGING_PROTOCOL_VERSION;\n/**\n * Connection string.\n */\nexport var SEMATTRS_MESSAGING_URL = TMP_MESSAGING_URL;\n/**\n * A value used by the messaging system as an identifier for the message, represented as a string.\n */\nexport var SEMATTRS_MESSAGING_MESSAGE_ID = TMP_MESSAGING_MESSAGE_ID;\n/**\n * The [conversation ID](#conversations) identifying the conversation to which the message belongs, represented as a string. Sometimes called &#34;Correlation ID&#34;.\n */\nexport var SEMATTRS_MESSAGING_CONVERSATION_ID = TMP_MESSAGING_CONVERSATION_ID;\n/**\n * The (uncompressed) size of the message payload in bytes. Also use this attribute if it is unknown whether the compressed or uncompressed payload size is reported.\n */\nexport var SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES = TMP_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES;\n/**\n * The compressed size of the message payload in bytes.\n */\nexport var SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES = TMP_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES;\n/**\n * A string identifying the kind of message consumption as defined in the [Operation names](#operation-names) section above. If the operation is &#34;send&#34;, this attribute MUST NOT be set, since the operation can be inferred from the span kind in that case.\n */\nexport var SEMATTRS_MESSAGING_OPERATION = TMP_MESSAGING_OPERATION;\n/**\n * The identifier for the consumer receiving a message. For Kafka, set it to `{messaging.kafka.consumer_group} - {messaging.kafka.client_id}`, if both are present, or only `messaging.kafka.consumer_group`. For brokers, such as RabbitMQ and Artemis, set it to the `client_id` of the client consuming the message.\n */\nexport var SEMATTRS_MESSAGING_CONSUMER_ID = TMP_MESSAGING_CONSUMER_ID;\n/**\n * RabbitMQ message routing key.\n */\nexport var SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY = TMP_MESSAGING_RABBITMQ_ROUTING_KEY;\n/**\n * Message keys in Kafka are used for grouping alike messages to ensure they&#39;re processed on the same partition. They differ from `messaging.message_id` in that they&#39;re not unique. If the key is `null`, the attribute MUST NOT be set.\n *\n * Note: If the key type is not string, it&#39;s string representation has to be supplied for the attribute. If the key has no unambiguous, canonical string form, don&#39;t include its value.\n */\nexport var SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY = TMP_MESSAGING_KAFKA_MESSAGE_KEY;\n/**\n * Name of the Kafka Consumer Group that is handling the message. Only applies to consumers, not producers.\n */\nexport var SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP = TMP_MESSAGING_KAFKA_CONSUMER_GROUP;\n/**\n * Client Id for the Consumer or Producer that is handling the message.\n */\nexport var SEMATTRS_MESSAGING_KAFKA_CLIENT_ID = TMP_MESSAGING_KAFKA_CLIENT_ID;\n/**\n * Partition the message is sent to.\n */\nexport var SEMATTRS_MESSAGING_KAFKA_PARTITION = TMP_MESSAGING_KAFKA_PARTITION;\n/**\n * A boolean that is true if the message is a tombstone.\n */\nexport var SEMATTRS_MESSAGING_KAFKA_TOMBSTONE = TMP_MESSAGING_KAFKA_TOMBSTONE;\n/**\n * A string identifying the remoting system.\n */\nexport var SEMATTRS_RPC_SYSTEM = TMP_RPC_SYSTEM;\n/**\n * The full (logical) name of the service being called, including its package name, if applicable.\n *\n * Note: This is the logical name of the service from the RPC interface perspective, which can be different from the name of any implementing class. The `code.namespace` attribute may be used to store the latter (despite the attribute name, it may include a class name; e.g., class with method actually executing the call on the server side, RPC client stub class on the client side).\n */\nexport var SEMATTRS_RPC_SERVICE = TMP_RPC_SERVICE;\n/**\n * The name of the (logical) method being called, must be equal to the $method part in the span name.\n *\n * Note: This is the logical name of the method from the RPC interface perspective, which can be different from the name of any implementing method/function. The `code.function` attribute may be used to store the latter (e.g., method actually executing the call on the server side, RPC client stub method on the client side).\n */\nexport var SEMATTRS_RPC_METHOD = TMP_RPC_METHOD;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var SEMATTRS_RPC_GRPC_STATUS_CODE = TMP_RPC_GRPC_STATUS_CODE;\n/**\n * Protocol version as in `jsonrpc` property of request/response. Since JSON-RPC 1.0 does not specify this, the value can be omitted.\n */\nexport var SEMATTRS_RPC_JSONRPC_VERSION = TMP_RPC_JSONRPC_VERSION;\n/**\n * `id` property of request or response. Since protocol allows id to be int, string, `null` or missing (for notifications), value is expected to be cast to string for simplicity. Use empty string in case of `null` value. Omit entirely if this is a notification.\n */\nexport var SEMATTRS_RPC_JSONRPC_REQUEST_ID = TMP_RPC_JSONRPC_REQUEST_ID;\n/**\n * `error.code` property of response if it is an error response.\n */\nexport var SEMATTRS_RPC_JSONRPC_ERROR_CODE = TMP_RPC_JSONRPC_ERROR_CODE;\n/**\n * `error.message` property of response if it is an error response.\n */\nexport var SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE = TMP_RPC_JSONRPC_ERROR_MESSAGE;\n/**\n * Whether this is a received or sent message.\n */\nexport var SEMATTRS_MESSAGE_TYPE = TMP_MESSAGE_TYPE;\n/**\n * MUST be calculated as two different counters starting from `1` one for sent messages and one for received message.\n *\n * Note: This way we guarantee that the values will be consistent between different implementations.\n */\nexport var SEMATTRS_MESSAGE_ID = TMP_MESSAGE_ID;\n/**\n * Compressed size of the message in bytes.\n */\nexport var SEMATTRS_MESSAGE_COMPRESSED_SIZE = TMP_MESSAGE_COMPRESSED_SIZE;\n/**\n * Uncompressed size of the message in bytes.\n */\nexport var SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE = TMP_MESSAGE_UNCOMPRESSED_SIZE;\n/**\n * Create exported Value Map for SemanticAttributes values\n * @deprecated Use the SEMATTRS_XXXXX constants rather than the SemanticAttributes.XXXXX for bundle minification\n */\nexport var SemanticAttributes = \n/*#__PURE__*/ createConstMap([\n    TMP_AWS_LAMBDA_INVOKED_ARN,\n    TMP_DB_SYSTEM,\n    TMP_DB_CONNECTION_STRING,\n    TMP_DB_USER,\n    TMP_DB_JDBC_DRIVER_CLASSNAME,\n    TMP_DB_NAME,\n    TMP_DB_STATEMENT,\n    TMP_DB_OPERATION,\n    TMP_DB_MSSQL_INSTANCE_NAME,\n    TMP_DB_CASSANDRA_KEYSPACE,\n    TMP_DB_CASSANDRA_PAGE_SIZE,\n    TMP_DB_CASSANDRA_CONSISTENCY_LEVEL,\n    TMP_DB_CASSANDRA_TABLE,\n    TMP_DB_CASSANDRA_IDEMPOTENCE,\n    TMP_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT,\n    TMP_DB_CASSANDRA_COORDINATOR_ID,\n    TMP_DB_CASSANDRA_COORDINATOR_DC,\n    TMP_DB_HBASE_NAMESPACE,\n    TMP_DB_REDIS_DATABASE_INDEX,\n    TMP_DB_MONGODB_COLLECTION,\n    TMP_DB_SQL_TABLE,\n    TMP_EXCEPTION_TYPE,\n    TMP_EXCEPTION_MESSAGE,\n    TMP_EXCEPTION_STACKTRACE,\n    TMP_EXCEPTION_ESCAPED,\n    TMP_FAAS_TRIGGER,\n    TMP_FAAS_EXECUTION,\n    TMP_FAAS_DOCUMENT_COLLECTION,\n    TMP_FAAS_DOCUMENT_OPERATION,\n    TMP_FAAS_DOCUMENT_TIME,\n    TMP_FAAS_DOCUMENT_NAME,\n    TMP_FAAS_TIME,\n    TMP_FAAS_CRON,\n    TMP_FAAS_COLDSTART,\n    TMP_FAAS_INVOKED_NAME,\n    TMP_FAAS_INVOKED_PROVIDER,\n    TMP_FAAS_INVOKED_REGION,\n    TMP_NET_TRANSPORT,\n    TMP_NET_PEER_IP,\n    TMP_NET_PEER_PORT,\n    TMP_NET_PEER_NAME,\n    TMP_NET_HOST_IP,\n    TMP_NET_HOST_PORT,\n    TMP_NET_HOST_NAME,\n    TMP_NET_HOST_CONNECTION_TYPE,\n    TMP_NET_HOST_CONNECTION_SUBTYPE,\n    TMP_NET_HOST_CARRIER_NAME,\n    TMP_NET_HOST_CARRIER_MCC,\n    TMP_NET_HOST_CARRIER_MNC,\n    TMP_NET_HOST_CARRIER_ICC,\n    TMP_PEER_SERVICE,\n    TMP_ENDUSER_ID,\n    TMP_ENDUSER_ROLE,\n    TMP_ENDUSER_SCOPE,\n    TMP_THREAD_ID,\n    TMP_THREAD_NAME,\n    TMP_CODE_FUNCTION,\n    TMP_CODE_NAMESPACE,\n    TMP_CODE_FILEPATH,\n    TMP_CODE_LINENO,\n    TMP_HTTP_METHOD,\n    TMP_HTTP_URL,\n    TMP_HTTP_TARGET,\n    TMP_HTTP_HOST,\n    TMP_HTTP_SCHEME,\n    TMP_HTTP_STATUS_CODE,\n    TMP_HTTP_FLAVOR,\n    TMP_HTTP_USER_AGENT,\n    TMP_HTTP_REQUEST_CONTENT_LENGTH,\n    TMP_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED,\n    TMP_HTTP_RESPONSE_CONTENT_LENGTH,\n    TMP_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,\n    TMP_HTTP_SERVER_NAME,\n    TMP_HTTP_ROUTE,\n    TMP_HTTP_CLIENT_IP,\n    TMP_AWS_DYNAMODB_TABLE_NAMES,\n    TMP_AWS_DYNAMODB_CONSUMED_CAPACITY,\n    TMP_AWS_DYNAMODB_ITEM_COLLECTION_METRICS,\n    TMP_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY,\n    TMP_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY,\n    TMP_AWS_DYNAMODB_CONSISTENT_READ,\n    TMP_AWS_DYNAMODB_PROJECTION,\n    TMP_AWS_DYNAMODB_LIMIT,\n    TMP_AWS_DYNAMODB_ATTRIBUTES_TO_GET,\n    TMP_AWS_DYNAMODB_INDEX_NAME,\n    TMP_AWS_DYNAMODB_SELECT,\n    TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES,\n    TMP_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES,\n    TMP_AWS_DYNAMODB_EXCLUSIVE_START_TABLE,\n    TMP_AWS_DYNAMODB_TABLE_COUNT,\n    TMP_AWS_DYNAMODB_SCAN_FORWARD,\n    TMP_AWS_DYNAMODB_SEGMENT,\n    TMP_AWS_DYNAMODB_TOTAL_SEGMENTS,\n    TMP_AWS_DYNAMODB_COUNT,\n    TMP_AWS_DYNAMODB_SCANNED_COUNT,\n    TMP_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS,\n    TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES,\n    TMP_MESSAGING_SYSTEM,\n    TMP_MESSAGING_DESTINATION,\n    TMP_MESSAGING_DESTINATION_KIND,\n    TMP_MESSAGING_TEMP_DESTINATION,\n    TMP_MESSAGING_PROTOCOL,\n    TMP_MESSAGING_PROTOCOL_VERSION,\n    TMP_MESSAGING_URL,\n    TMP_MESSAGING_MESSAGE_ID,\n    TMP_MESSAGING_CONVERSATION_ID,\n    TMP_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES,\n    TMP_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES,\n    TMP_MESSAGING_OPERATION,\n    TMP_MESSAGING_CONSUMER_ID,\n    TMP_MESSAGING_RABBITMQ_ROUTING_KEY,\n    TMP_MESSAGING_KAFKA_MESSAGE_KEY,\n    TMP_MESSAGING_KAFKA_CONSUMER_GROUP,\n    TMP_MESSAGING_KAFKA_CLIENT_ID,\n    TMP_MESSAGING_KAFKA_PARTITION,\n    TMP_MESSAGING_KAFKA_TOMBSTONE,\n    TMP_RPC_SYSTEM,\n    TMP_RPC_SERVICE,\n    TMP_RPC_METHOD,\n    TMP_RPC_GRPC_STATUS_CODE,\n    TMP_RPC_JSONRPC_VERSION,\n    TMP_RPC_JSONRPC_REQUEST_ID,\n    TMP_RPC_JSONRPC_ERROR_CODE,\n    TMP_RPC_JSONRPC_ERROR_MESSAGE,\n    TMP_MESSAGE_TYPE,\n    TMP_MESSAGE_ID,\n    TMP_MESSAGE_COMPRESSED_SIZE,\n    TMP_MESSAGE_UNCOMPRESSED_SIZE,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for DbSystemValues enum definition\n *\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_DBSYSTEMVALUES_OTHER_SQL = 'other_sql';\nvar TMP_DBSYSTEMVALUES_MSSQL = 'mssql';\nvar TMP_DBSYSTEMVALUES_MYSQL = 'mysql';\nvar TMP_DBSYSTEMVALUES_ORACLE = 'oracle';\nvar TMP_DBSYSTEMVALUES_DB2 = 'db2';\nvar TMP_DBSYSTEMVALUES_POSTGRESQL = 'postgresql';\nvar TMP_DBSYSTEMVALUES_REDSHIFT = 'redshift';\nvar TMP_DBSYSTEMVALUES_HIVE = 'hive';\nvar TMP_DBSYSTEMVALUES_CLOUDSCAPE = 'cloudscape';\nvar TMP_DBSYSTEMVALUES_HSQLDB = 'hsqldb';\nvar TMP_DBSYSTEMVALUES_PROGRESS = 'progress';\nvar TMP_DBSYSTEMVALUES_MAXDB = 'maxdb';\nvar TMP_DBSYSTEMVALUES_HANADB = 'hanadb';\nvar TMP_DBSYSTEMVALUES_INGRES = 'ingres';\nvar TMP_DBSYSTEMVALUES_FIRSTSQL = 'firstsql';\nvar TMP_DBSYSTEMVALUES_EDB = 'edb';\nvar TMP_DBSYSTEMVALUES_CACHE = 'cache';\nvar TMP_DBSYSTEMVALUES_ADABAS = 'adabas';\nvar TMP_DBSYSTEMVALUES_FIREBIRD = 'firebird';\nvar TMP_DBSYSTEMVALUES_DERBY = 'derby';\nvar TMP_DBSYSTEMVALUES_FILEMAKER = 'filemaker';\nvar TMP_DBSYSTEMVALUES_INFORMIX = 'informix';\nvar TMP_DBSYSTEMVALUES_INSTANTDB = 'instantdb';\nvar TMP_DBSYSTEMVALUES_INTERBASE = 'interbase';\nvar TMP_DBSYSTEMVALUES_MARIADB = 'mariadb';\nvar TMP_DBSYSTEMVALUES_NETEZZA = 'netezza';\nvar TMP_DBSYSTEMVALUES_PERVASIVE = 'pervasive';\nvar TMP_DBSYSTEMVALUES_POINTBASE = 'pointbase';\nvar TMP_DBSYSTEMVALUES_SQLITE = 'sqlite';\nvar TMP_DBSYSTEMVALUES_SYBASE = 'sybase';\nvar TMP_DBSYSTEMVALUES_TERADATA = 'teradata';\nvar TMP_DBSYSTEMVALUES_VERTICA = 'vertica';\nvar TMP_DBSYSTEMVALUES_H2 = 'h2';\nvar TMP_DBSYSTEMVALUES_COLDFUSION = 'coldfusion';\nvar TMP_DBSYSTEMVALUES_CASSANDRA = 'cassandra';\nvar TMP_DBSYSTEMVALUES_HBASE = 'hbase';\nvar TMP_DBSYSTEMVALUES_MONGODB = 'mongodb';\nvar TMP_DBSYSTEMVALUES_REDIS = 'redis';\nvar TMP_DBSYSTEMVALUES_COUCHBASE = 'couchbase';\nvar TMP_DBSYSTEMVALUES_COUCHDB = 'couchdb';\nvar TMP_DBSYSTEMVALUES_COSMOSDB = 'cosmosdb';\nvar TMP_DBSYSTEMVALUES_DYNAMODB = 'dynamodb';\nvar TMP_DBSYSTEMVALUES_NEO4J = 'neo4j';\nvar TMP_DBSYSTEMVALUES_GEODE = 'geode';\nvar TMP_DBSYSTEMVALUES_ELASTICSEARCH = 'elasticsearch';\nvar TMP_DBSYSTEMVALUES_MEMCACHED = 'memcached';\nvar TMP_DBSYSTEMVALUES_COCKROACHDB = 'cockroachdb';\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_OTHER_SQL = TMP_DBSYSTEMVALUES_OTHER_SQL;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MSSQL = TMP_DBSYSTEMVALUES_MSSQL;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MYSQL = TMP_DBSYSTEMVALUES_MYSQL;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_ORACLE = TMP_DBSYSTEMVALUES_ORACLE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_DB2 = TMP_DBSYSTEMVALUES_DB2;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_POSTGRESQL = TMP_DBSYSTEMVALUES_POSTGRESQL;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_REDSHIFT = TMP_DBSYSTEMVALUES_REDSHIFT;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_HIVE = TMP_DBSYSTEMVALUES_HIVE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_CLOUDSCAPE = TMP_DBSYSTEMVALUES_CLOUDSCAPE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_HSQLDB = TMP_DBSYSTEMVALUES_HSQLDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_PROGRESS = TMP_DBSYSTEMVALUES_PROGRESS;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MAXDB = TMP_DBSYSTEMVALUES_MAXDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_HANADB = TMP_DBSYSTEMVALUES_HANADB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_INGRES = TMP_DBSYSTEMVALUES_INGRES;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_FIRSTSQL = TMP_DBSYSTEMVALUES_FIRSTSQL;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_EDB = TMP_DBSYSTEMVALUES_EDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_CACHE = TMP_DBSYSTEMVALUES_CACHE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_ADABAS = TMP_DBSYSTEMVALUES_ADABAS;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_FIREBIRD = TMP_DBSYSTEMVALUES_FIREBIRD;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_DERBY = TMP_DBSYSTEMVALUES_DERBY;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_FILEMAKER = TMP_DBSYSTEMVALUES_FILEMAKER;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_INFORMIX = TMP_DBSYSTEMVALUES_INFORMIX;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_INSTANTDB = TMP_DBSYSTEMVALUES_INSTANTDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_INTERBASE = TMP_DBSYSTEMVALUES_INTERBASE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MARIADB = TMP_DBSYSTEMVALUES_MARIADB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_NETEZZA = TMP_DBSYSTEMVALUES_NETEZZA;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_PERVASIVE = TMP_DBSYSTEMVALUES_PERVASIVE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_POINTBASE = TMP_DBSYSTEMVALUES_POINTBASE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_SQLITE = TMP_DBSYSTEMVALUES_SQLITE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_SYBASE = TMP_DBSYSTEMVALUES_SYBASE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_TERADATA = TMP_DBSYSTEMVALUES_TERADATA;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_VERTICA = TMP_DBSYSTEMVALUES_VERTICA;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_H2 = TMP_DBSYSTEMVALUES_H2;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_COLDFUSION = TMP_DBSYSTEMVALUES_COLDFUSION;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_CASSANDRA = TMP_DBSYSTEMVALUES_CASSANDRA;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_HBASE = TMP_DBSYSTEMVALUES_HBASE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MONGODB = TMP_DBSYSTEMVALUES_MONGODB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_REDIS = TMP_DBSYSTEMVALUES_REDIS;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_COUCHBASE = TMP_DBSYSTEMVALUES_COUCHBASE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_COUCHDB = TMP_DBSYSTEMVALUES_COUCHDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_COSMOSDB = TMP_DBSYSTEMVALUES_COSMOSDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_DYNAMODB = TMP_DBSYSTEMVALUES_DYNAMODB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_NEO4J = TMP_DBSYSTEMVALUES_NEO4J;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_GEODE = TMP_DBSYSTEMVALUES_GEODE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_ELASTICSEARCH = TMP_DBSYSTEMVALUES_ELASTICSEARCH;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MEMCACHED = TMP_DBSYSTEMVALUES_MEMCACHED;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_COCKROACHDB = TMP_DBSYSTEMVALUES_COCKROACHDB;\n/**\n * The constant map of values for DbSystemValues.\n * @deprecated Use the DBSYSTEMVALUES_XXXXX constants rather than the DbSystemValues.XXXXX for bundle minification.\n */\nexport var DbSystemValues = \n/*#__PURE__*/ createConstMap([\n    TMP_DBSYSTEMVALUES_OTHER_SQL,\n    TMP_DBSYSTEMVALUES_MSSQL,\n    TMP_DBSYSTEMVALUES_MYSQL,\n    TMP_DBSYSTEMVALUES_ORACLE,\n    TMP_DBSYSTEMVALUES_DB2,\n    TMP_DBSYSTEMVALUES_POSTGRESQL,\n    TMP_DBSYSTEMVALUES_REDSHIFT,\n    TMP_DBSYSTEMVALUES_HIVE,\n    TMP_DBSYSTEMVALUES_CLOUDSCAPE,\n    TMP_DBSYSTEMVALUES_HSQLDB,\n    TMP_DBSYSTEMVALUES_PROGRESS,\n    TMP_DBSYSTEMVALUES_MAXDB,\n    TMP_DBSYSTEMVALUES_HANADB,\n    TMP_DBSYSTEMVALUES_INGRES,\n    TMP_DBSYSTEMVALUES_FIRSTSQL,\n    TMP_DBSYSTEMVALUES_EDB,\n    TMP_DBSYSTEMVALUES_CACHE,\n    TMP_DBSYSTEMVALUES_ADABAS,\n    TMP_DBSYSTEMVALUES_FIREBIRD,\n    TMP_DBSYSTEMVALUES_DERBY,\n    TMP_DBSYSTEMVALUES_FILEMAKER,\n    TMP_DBSYSTEMVALUES_INFORMIX,\n    TMP_DBSYSTEMVALUES_INSTANTDB,\n    TMP_DBSYSTEMVALUES_INTERBASE,\n    TMP_DBSYSTEMVALUES_MARIADB,\n    TMP_DBSYSTEMVALUES_NETEZZA,\n    TMP_DBSYSTEMVALUES_PERVASIVE,\n    TMP_DBSYSTEMVALUES_POINTBASE,\n    TMP_DBSYSTEMVALUES_SQLITE,\n    TMP_DBSYSTEMVALUES_SYBASE,\n    TMP_DBSYSTEMVALUES_TERADATA,\n    TMP_DBSYSTEMVALUES_VERTICA,\n    TMP_DBSYSTEMVALUES_H2,\n    TMP_DBSYSTEMVALUES_COLDFUSION,\n    TMP_DBSYSTEMVALUES_CASSANDRA,\n    TMP_DBSYSTEMVALUES_HBASE,\n    TMP_DBSYSTEMVALUES_MONGODB,\n    TMP_DBSYSTEMVALUES_REDIS,\n    TMP_DBSYSTEMVALUES_COUCHBASE,\n    TMP_DBSYSTEMVALUES_COUCHDB,\n    TMP_DBSYSTEMVALUES_COSMOSDB,\n    TMP_DBSYSTEMVALUES_DYNAMODB,\n    TMP_DBSYSTEMVALUES_NEO4J,\n    TMP_DBSYSTEMVALUES_GEODE,\n    TMP_DBSYSTEMVALUES_ELASTICSEARCH,\n    TMP_DBSYSTEMVALUES_MEMCACHED,\n    TMP_DBSYSTEMVALUES_COCKROACHDB,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for DbCassandraConsistencyLevelValues enum definition\n *\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ALL = 'all';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM = 'each_quorum';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM = 'quorum';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM = 'local_quorum';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ONE = 'one';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_TWO = 'two';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_THREE = 'three';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE = 'local_one';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ANY = 'any';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL = 'serial';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL = 'local_serial';\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_ALL = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ALL;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_ONE = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ONE;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_TWO = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_TWO;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_THREE = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_THREE;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_ANY = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ANY;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL;\n/**\n * The constant map of values for DbCassandraConsistencyLevelValues.\n * @deprecated Use the DBCASSANDRACONSISTENCYLEVELVALUES_XXXXX constants rather than the DbCassandraConsistencyLevelValues.XXXXX for bundle minification.\n */\nexport var DbCassandraConsistencyLevelValues = \n/*#__PURE__*/ createConstMap([\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ALL,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ONE,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_TWO,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_THREE,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ANY,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for FaasTriggerValues enum definition\n *\n * Type of the trigger on which the function is executed.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_FAASTRIGGERVALUES_DATASOURCE = 'datasource';\nvar TMP_FAASTRIGGERVALUES_HTTP = 'http';\nvar TMP_FAASTRIGGERVALUES_PUBSUB = 'pubsub';\nvar TMP_FAASTRIGGERVALUES_TIMER = 'timer';\nvar TMP_FAASTRIGGERVALUES_OTHER = 'other';\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var FAASTRIGGERVALUES_DATASOURCE = TMP_FAASTRIGGERVALUES_DATASOURCE;\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var FAASTRIGGERVALUES_HTTP = TMP_FAASTRIGGERVALUES_HTTP;\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var FAASTRIGGERVALUES_PUBSUB = TMP_FAASTRIGGERVALUES_PUBSUB;\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var FAASTRIGGERVALUES_TIMER = TMP_FAASTRIGGERVALUES_TIMER;\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var FAASTRIGGERVALUES_OTHER = TMP_FAASTRIGGERVALUES_OTHER;\n/**\n * The constant map of values for FaasTriggerValues.\n * @deprecated Use the FAASTRIGGERVALUES_XXXXX constants rather than the FaasTriggerValues.XXXXX for bundle minification.\n */\nexport var FaasTriggerValues = \n/*#__PURE__*/ createConstMap([\n    TMP_FAASTRIGGERVALUES_DATASOURCE,\n    TMP_FAASTRIGGERVALUES_HTTP,\n    TMP_FAASTRIGGERVALUES_PUBSUB,\n    TMP_FAASTRIGGERVALUES_TIMER,\n    TMP_FAASTRIGGERVALUES_OTHER,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for FaasDocumentOperationValues enum definition\n *\n * Describes the type of the operation that was performed on the data.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_FAASDOCUMENTOPERATIONVALUES_INSERT = 'insert';\nvar TMP_FAASDOCUMENTOPERATIONVALUES_EDIT = 'edit';\nvar TMP_FAASDOCUMENTOPERATIONVALUES_DELETE = 'delete';\n/**\n * Describes the type of the operation that was performed on the data.\n */\nexport var FAASDOCUMENTOPERATIONVALUES_INSERT = TMP_FAASDOCUMENTOPERATIONVALUES_INSERT;\n/**\n * Describes the type of the operation that was performed on the data.\n */\nexport var FAASDOCUMENTOPERATIONVALUES_EDIT = TMP_FAASDOCUMENTOPERATIONVALUES_EDIT;\n/**\n * Describes the type of the operation that was performed on the data.\n */\nexport var FAASDOCUMENTOPERATIONVALUES_DELETE = TMP_FAASDOCUMENTOPERATIONVALUES_DELETE;\n/**\n * The constant map of values for FaasDocumentOperationValues.\n * @deprecated Use the FAASDOCUMENTOPERATIONVALUES_XXXXX constants rather than the FaasDocumentOperationValues.XXXXX for bundle minification.\n */\nexport var FaasDocumentOperationValues = \n/*#__PURE__*/ createConstMap([\n    TMP_FAASDOCUMENTOPERATIONVALUES_INSERT,\n    TMP_FAASDOCUMENTOPERATIONVALUES_EDIT,\n    TMP_FAASDOCUMENTOPERATIONVALUES_DELETE,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for FaasInvokedProviderValues enum definition\n *\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD = 'alibaba_cloud';\nvar TMP_FAASINVOKEDPROVIDERVALUES_AWS = 'aws';\nvar TMP_FAASINVOKEDPROVIDERVALUES_AZURE = 'azure';\nvar TMP_FAASINVOKEDPROVIDERVALUES_GCP = 'gcp';\n/**\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n */\nexport var FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD = TMP_FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD;\n/**\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n */\nexport var FAASINVOKEDPROVIDERVALUES_AWS = TMP_FAASINVOKEDPROVIDERVALUES_AWS;\n/**\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n */\nexport var FAASINVOKEDPROVIDERVALUES_AZURE = TMP_FAASINVOKEDPROVIDERVALUES_AZURE;\n/**\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n */\nexport var FAASINVOKEDPROVIDERVALUES_GCP = TMP_FAASINVOKEDPROVIDERVALUES_GCP;\n/**\n * The constant map of values for FaasInvokedProviderValues.\n * @deprecated Use the FAASINVOKEDPROVIDERVALUES_XXXXX constants rather than the FaasInvokedProviderValues.XXXXX for bundle minification.\n */\nexport var FaasInvokedProviderValues = \n/*#__PURE__*/ createConstMap([\n    TMP_FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD,\n    TMP_FAASINVOKEDPROVIDERVALUES_AWS,\n    TMP_FAASINVOKEDPROVIDERVALUES_AZURE,\n    TMP_FAASINVOKEDPROVIDERVALUES_GCP,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for NetTransportValues enum definition\n *\n * Transport protocol used. See note below.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_NETTRANSPORTVALUES_IP_TCP = 'ip_tcp';\nvar TMP_NETTRANSPORTVALUES_IP_UDP = 'ip_udp';\nvar TMP_NETTRANSPORTVALUES_IP = 'ip';\nvar TMP_NETTRANSPORTVALUES_UNIX = 'unix';\nvar TMP_NETTRANSPORTVALUES_PIPE = 'pipe';\nvar TMP_NETTRANSPORTVALUES_INPROC = 'inproc';\nvar TMP_NETTRANSPORTVALUES_OTHER = 'other';\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_IP_TCP = TMP_NETTRANSPORTVALUES_IP_TCP;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_IP_UDP = TMP_NETTRANSPORTVALUES_IP_UDP;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_IP = TMP_NETTRANSPORTVALUES_IP;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_UNIX = TMP_NETTRANSPORTVALUES_UNIX;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_PIPE = TMP_NETTRANSPORTVALUES_PIPE;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_INPROC = TMP_NETTRANSPORTVALUES_INPROC;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_OTHER = TMP_NETTRANSPORTVALUES_OTHER;\n/**\n * The constant map of values for NetTransportValues.\n * @deprecated Use the NETTRANSPORTVALUES_XXXXX constants rather than the NetTransportValues.XXXXX for bundle minification.\n */\nexport var NetTransportValues = \n/*#__PURE__*/ createConstMap([\n    TMP_NETTRANSPORTVALUES_IP_TCP,\n    TMP_NETTRANSPORTVALUES_IP_UDP,\n    TMP_NETTRANSPORTVALUES_IP,\n    TMP_NETTRANSPORTVALUES_UNIX,\n    TMP_NETTRANSPORTVALUES_PIPE,\n    TMP_NETTRANSPORTVALUES_INPROC,\n    TMP_NETTRANSPORTVALUES_OTHER,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for NetHostConnectionTypeValues enum definition\n *\n * The internet connection type currently being used by the host.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_NETHOSTCONNECTIONTYPEVALUES_WIFI = 'wifi';\nvar TMP_NETHOSTCONNECTIONTYPEVALUES_WIRED = 'wired';\nvar TMP_NETHOSTCONNECTIONTYPEVALUES_CELL = 'cell';\nvar TMP_NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE = 'unavailable';\nvar TMP_NETHOSTCONNECTIONTYPEVALUES_UNKNOWN = 'unknown';\n/**\n * The internet connection type currently being used by the host.\n */\nexport var NETHOSTCONNECTIONTYPEVALUES_WIFI = TMP_NETHOSTCONNECTIONTYPEVALUES_WIFI;\n/**\n * The internet connection type currently being used by the host.\n */\nexport var NETHOSTCONNECTIONTYPEVALUES_WIRED = TMP_NETHOSTCONNECTIONTYPEVALUES_WIRED;\n/**\n * The internet connection type currently being used by the host.\n */\nexport var NETHOSTCONNECTIONTYPEVALUES_CELL = TMP_NETHOSTCONNECTIONTYPEVALUES_CELL;\n/**\n * The internet connection type currently being used by the host.\n */\nexport var NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE = TMP_NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE;\n/**\n * The internet connection type currently being used by the host.\n */\nexport var NETHOSTCONNECTIONTYPEVALUES_UNKNOWN = TMP_NETHOSTCONNECTIONTYPEVALUES_UNKNOWN;\n/**\n * The constant map of values for NetHostConnectionTypeValues.\n * @deprecated Use the NETHOSTCONNECTIONTYPEVALUES_XXXXX constants rather than the NetHostConnectionTypeValues.XXXXX for bundle minification.\n */\nexport var NetHostConnectionTypeValues = \n/*#__PURE__*/ createConstMap([\n    TMP_NETHOSTCONNECTIONTYPEVALUES_WIFI,\n    TMP_NETHOSTCONNECTIONTYPEVALUES_WIRED,\n    TMP_NETHOSTCONNECTIONTYPEVALUES_CELL,\n    TMP_NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE,\n    TMP_NETHOSTCONNECTIONTYPEVALUES_UNKNOWN,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for NetHostConnectionSubtypeValues enum definition\n *\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GPRS = 'gprs';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EDGE = 'edge';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_UMTS = 'umts';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA = 'cdma';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0 = 'evdo_0';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A = 'evdo_a';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT = 'cdma2000_1xrtt';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA = 'hsdpa';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA = 'hsupa';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPA = 'hspa';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IDEN = 'iden';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B = 'evdo_b';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE = 'lte';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD = 'ehrpd';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP = 'hspap';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GSM = 'gsm';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA = 'td_scdma';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN = 'iwlan';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NR = 'nr';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA = 'nrnsa';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA = 'lte_ca';\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_GPRS = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GPRS;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_EDGE = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EDGE;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_UMTS = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_UMTS;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_CDMA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0 = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_HSPA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_IDEN = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IDEN;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_LTE = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_GSM = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GSM;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_NR = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NR;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA;\n/**\n * The constant map of values for NetHostConnectionSubtypeValues.\n * @deprecated Use the NETHOSTCONNECTIONSUBTYPEVALUES_XXXXX constants rather than the NetHostConnectionSubtypeValues.XXXXX for bundle minification.\n */\nexport var NetHostConnectionSubtypeValues = \n/*#__PURE__*/ createConstMap([\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GPRS,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EDGE,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_UMTS,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IDEN,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GSM,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NR,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for HttpFlavorValues enum definition\n *\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_HTTPFLAVORVALUES_HTTP_1_0 = '1.0';\nvar TMP_HTTPFLAVORVALUES_HTTP_1_1 = '1.1';\nvar TMP_HTTPFLAVORVALUES_HTTP_2_0 = '2.0';\nvar TMP_HTTPFLAVORVALUES_SPDY = 'SPDY';\nvar TMP_HTTPFLAVORVALUES_QUIC = 'QUIC';\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var HTTPFLAVORVALUES_HTTP_1_0 = TMP_HTTPFLAVORVALUES_HTTP_1_0;\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var HTTPFLAVORVALUES_HTTP_1_1 = TMP_HTTPFLAVORVALUES_HTTP_1_1;\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var HTTPFLAVORVALUES_HTTP_2_0 = TMP_HTTPFLAVORVALUES_HTTP_2_0;\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var HTTPFLAVORVALUES_SPDY = TMP_HTTPFLAVORVALUES_SPDY;\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var HTTPFLAVORVALUES_QUIC = TMP_HTTPFLAVORVALUES_QUIC;\n/**\n * The constant map of values for HttpFlavorValues.\n * @deprecated Use the HTTPFLAVORVALUES_XXXXX constants rather than the HttpFlavorValues.XXXXX for bundle minification.\n */\nexport var HttpFlavorValues = {\n    HTTP_1_0: TMP_HTTPFLAVORVALUES_HTTP_1_0,\n    HTTP_1_1: TMP_HTTPFLAVORVALUES_HTTP_1_1,\n    HTTP_2_0: TMP_HTTPFLAVORVALUES_HTTP_2_0,\n    SPDY: TMP_HTTPFLAVORVALUES_SPDY,\n    QUIC: TMP_HTTPFLAVORVALUES_QUIC,\n};\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for MessagingDestinationKindValues enum definition\n *\n * The kind of message destination.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_MESSAGINGDESTINATIONKINDVALUES_QUEUE = 'queue';\nvar TMP_MESSAGINGDESTINATIONKINDVALUES_TOPIC = 'topic';\n/**\n * The kind of message destination.\n */\nexport var MESSAGINGDESTINATIONKINDVALUES_QUEUE = TMP_MESSAGINGDESTINATIONKINDVALUES_QUEUE;\n/**\n * The kind of message destination.\n */\nexport var MESSAGINGDESTINATIONKINDVALUES_TOPIC = TMP_MESSAGINGDESTINATIONKINDVALUES_TOPIC;\n/**\n * The constant map of values for MessagingDestinationKindValues.\n * @deprecated Use the MESSAGINGDESTINATIONKINDVALUES_XXXXX constants rather than the MessagingDestinationKindValues.XXXXX for bundle minification.\n */\nexport var MessagingDestinationKindValues = \n/*#__PURE__*/ createConstMap([\n    TMP_MESSAGINGDESTINATIONKINDVALUES_QUEUE,\n    TMP_MESSAGINGDESTINATIONKINDVALUES_TOPIC,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for MessagingOperationValues enum definition\n *\n * A string identifying the kind of message consumption as defined in the [Operation names](#operation-names) section above. If the operation is &#34;send&#34;, this attribute MUST NOT be set, since the operation can be inferred from the span kind in that case.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_MESSAGINGOPERATIONVALUES_RECEIVE = 'receive';\nvar TMP_MESSAGINGOPERATIONVALUES_PROCESS = 'process';\n/**\n * A string identifying the kind of message consumption as defined in the [Operation names](#operation-names) section above. If the operation is &#34;send&#34;, this attribute MUST NOT be set, since the operation can be inferred from the span kind in that case.\n */\nexport var MESSAGINGOPERATIONVALUES_RECEIVE = TMP_MESSAGINGOPERATIONVALUES_RECEIVE;\n/**\n * A string identifying the kind of message consumption as defined in the [Operation names](#operation-names) section above. If the operation is &#34;send&#34;, this attribute MUST NOT be set, since the operation can be inferred from the span kind in that case.\n */\nexport var MESSAGINGOPERATIONVALUES_PROCESS = TMP_MESSAGINGOPERATIONVALUES_PROCESS;\n/**\n * The constant map of values for MessagingOperationValues.\n * @deprecated Use the MESSAGINGOPERATIONVALUES_XXXXX constants rather than the MessagingOperationValues.XXXXX for bundle minification.\n */\nexport var MessagingOperationValues = \n/*#__PURE__*/ createConstMap([\n    TMP_MESSAGINGOPERATIONVALUES_RECEIVE,\n    TMP_MESSAGINGOPERATIONVALUES_PROCESS,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for RpcGrpcStatusCodeValues enum definition\n *\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_RPCGRPCSTATUSCODEVALUES_OK = 0;\nvar TMP_RPCGRPCSTATUSCODEVALUES_CANCELLED = 1;\nvar TMP_RPCGRPCSTATUSCODEVALUES_UNKNOWN = 2;\nvar TMP_RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT = 3;\nvar TMP_RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED = 4;\nvar TMP_RPCGRPCSTATUSCODEVALUES_NOT_FOUND = 5;\nvar TMP_RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS = 6;\nvar TMP_RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED = 7;\nvar TMP_RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED = 8;\nvar TMP_RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION = 9;\nvar TMP_RPCGRPCSTATUSCODEVALUES_ABORTED = 10;\nvar TMP_RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE = 11;\nvar TMP_RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED = 12;\nvar TMP_RPCGRPCSTATUSCODEVALUES_INTERNAL = 13;\nvar TMP_RPCGRPCSTATUSCODEVALUES_UNAVAILABLE = 14;\nvar TMP_RPCGRPCSTATUSCODEVALUES_DATA_LOSS = 15;\nvar TMP_RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED = 16;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_OK = TMP_RPCGRPCSTATUSCODEVALUES_OK;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_CANCELLED = TMP_RPCGRPCSTATUSCODEVALUES_CANCELLED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_UNKNOWN = TMP_RPCGRPCSTATUSCODEVALUES_UNKNOWN;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT = TMP_RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED = TMP_RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_NOT_FOUND = TMP_RPCGRPCSTATUSCODEVALUES_NOT_FOUND;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS = TMP_RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED = TMP_RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED = TMP_RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION = TMP_RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_ABORTED = TMP_RPCGRPCSTATUSCODEVALUES_ABORTED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE = TMP_RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED = TMP_RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_INTERNAL = TMP_RPCGRPCSTATUSCODEVALUES_INTERNAL;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_UNAVAILABLE = TMP_RPCGRPCSTATUSCODEVALUES_UNAVAILABLE;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_DATA_LOSS = TMP_RPCGRPCSTATUSCODEVALUES_DATA_LOSS;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED = TMP_RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED;\n/**\n * The constant map of values for RpcGrpcStatusCodeValues.\n * @deprecated Use the RPCGRPCSTATUSCODEVALUES_XXXXX constants rather than the RpcGrpcStatusCodeValues.XXXXX for bundle minification.\n */\nexport var RpcGrpcStatusCodeValues = {\n    OK: TMP_RPCGRPCSTATUSCODEVALUES_OK,\n    CANCELLED: TMP_RPCGRPCSTATUSCODEVALUES_CANCELLED,\n    UNKNOWN: TMP_RPCGRPCSTATUSCODEVALUES_UNKNOWN,\n    INVALID_ARGUMENT: TMP_RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT,\n    DEADLINE_EXCEEDED: TMP_RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED,\n    NOT_FOUND: TMP_RPCGRPCSTATUSCODEVALUES_NOT_FOUND,\n    ALREADY_EXISTS: TMP_RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS,\n    PERMISSION_DENIED: TMP_RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED,\n    RESOURCE_EXHAUSTED: TMP_RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED,\n    FAILED_PRECONDITION: TMP_RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION,\n    ABORTED: TMP_RPCGRPCSTATUSCODEVALUES_ABORTED,\n    OUT_OF_RANGE: TMP_RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE,\n    UNIMPLEMENTED: TMP_RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED,\n    INTERNAL: TMP_RPCGRPCSTATUSCODEVALUES_INTERNAL,\n    UNAVAILABLE: TMP_RPCGRPCSTATUSCODEVALUES_UNAVAILABLE,\n    DATA_LOSS: TMP_RPCGRPCSTATUSCODEVALUES_DATA_LOSS,\n    UNAUTHENTICATED: TMP_RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED,\n};\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for MessageTypeValues enum definition\n *\n * Whether this is a received or sent message.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_MESSAGETYPEVALUES_SENT = 'SENT';\nvar TMP_MESSAGETYPEVALUES_RECEIVED = 'RECEIVED';\n/**\n * Whether this is a received or sent message.\n */\nexport var MESSAGETYPEVALUES_SENT = TMP_MESSAGETYPEVALUES_SENT;\n/**\n * Whether this is a received or sent message.\n */\nexport var MESSAGETYPEVALUES_RECEIVED = TMP_MESSAGETYPEVALUES_RECEIVED;\n/**\n * The constant map of values for MessageTypeValues.\n * @deprecated Use the MESSAGETYPEVALUES_XXXXX constants rather than the MessageTypeValues.XXXXX for bundle minification.\n */\nexport var MessageTypeValues = \n/*#__PURE__*/ createConstMap([\n    TMP_MESSAGETYPEVALUES_SENT,\n    TMP_MESSAGETYPEVALUES_RECEIVED,\n]);\n//# sourceMappingURL=SemanticAttributes.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.oneDataSystemClientFactory = void 0;\n/**\n * Configures 1DS properly and returns the core client object\n * @param key The ingestion key\n * @param xhrOverride An optional override to use for requests instead of the XHTMLRequest object. Useful for node environments\n * @returns The AI core object\n */\nconst getAICore = async (key, vscodeAPI, xhrOverride) => {\n    const oneDs = await Promise.resolve().then(() => __importStar(require(/* webpackMode: \"eager\" */ \"@microsoft/1ds-core-js\")));\n    const postPlugin = await Promise.resolve().then(() => __importStar(require(/* webpackMode: \"eager\" */ \"@microsoft/1ds-post-js\")));\n    const appInsightsCore = new oneDs.AppInsightsCore();\n    const collectorChannelPlugin = new postPlugin.PostChannel();\n    // Configure the app insights core to send to collector++ and disable logging of debug info\n    const coreConfig = {\n        instrumentationKey: key,\n        endpointUrl: \"https://mobile.events.data.microsoft.com/OneCollector/1.0\",\n        loggingLevelTelemetry: 0,\n        loggingLevelConsole: 0,\n        disableCookiesUsage: true,\n        disableDbgExt: true,\n        disableInstrumentationKeyValidation: true,\n        channels: [[\n                collectorChannelPlugin\n            ]]\n    };\n    if (xhrOverride) {\n        coreConfig.extensionConfig = {};\n        // Configure the channel to use a XHR Request override since it's not available in node\n        const channelConfig = {\n            alwaysUseXhrOverride: true,\n            httpXHROverride: xhrOverride\n        };\n        coreConfig.extensionConfig[collectorChannelPlugin.identifier] = channelConfig;\n    }\n    const config = vscodeAPI.workspace.getConfiguration(\"telemetry\");\n    const internalTesting = config.get(\"internalTesting\");\n    appInsightsCore.initialize(coreConfig, []);\n    appInsightsCore.addTelemetryInitializer((envelope) => {\n        // Only add this flag when `telemetry.internalTesting` is enabled\n        if (!internalTesting) {\n            return;\n        }\n        envelope[\"ext\"] = envelope[\"ext\"] ?? {};\n        envelope[\"ext\"][\"utc\"] = envelope[\"ext\"][\"utc\"] ?? {};\n        // Sets it to be internal only based on Windows UTC flagging\n        envelope[\"ext\"][\"utc\"][\"flags\"] = 0x0000811ECD;\n    });\n    return appInsightsCore;\n};\n/**\n * Configures and creates a telemetry client using the 1DS sdk\n * @param key The ingestion key\n * @param xhrOverride An optional override to use for requests instead of the XHTMLRequest object. Useful for node environments\n */\nconst oneDataSystemClientFactory = async (key, vscodeAPI, xhrOverride) => {\n    let appInsightsCore = await getAICore(key, vscodeAPI, xhrOverride);\n    const flushOneDS = async () => {\n        try {\n            const flushPromise = new Promise((resolve, reject) => {\n                if (!appInsightsCore) {\n                    resolve();\n                    return;\n                }\n                appInsightsCore.flush(true, (completedFlush) => {\n                    if (!completedFlush) {\n                        reject(\"Failed to flush app 1DS!\");\n                        return;\n                    }\n                });\n            });\n            return flushPromise;\n        }\n        catch (e) {\n            throw new Error(\"Failed to flush 1DS!\\n\" + e.message);\n        }\n    };\n    // Shape the app insights core from 1DS into a standard format\n    const telemetryClient = {\n        logEvent: (eventName, data) => {\n            try {\n                appInsightsCore?.track({\n                    name: eventName,\n                    baseData: { name: eventName, properties: data?.properties, measurements: data?.measurements }\n                });\n            }\n            catch (e) {\n                throw new Error(\"Failed to log event to app insights!\\n\" + e.message);\n            }\n        },\n        flush: flushOneDS,\n        dispose: async () => {\n            const disposePromise = new Promise((resolve) => {\n                if (!appInsightsCore) {\n                    resolve();\n                    return;\n                }\n                appInsightsCore.unload(false, () => {\n                    resolve();\n                    appInsightsCore = undefined;\n                    return;\n                }, 1000);\n            });\n            return disposePromise;\n        }\n    };\n    return telemetryClient;\n};\nexports.oneDataSystemClientFactory = oneDataSystemClientFactory;\n//# sourceMappingURL=1dsClientFactory.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseTelemetryReporter = void 0;\nclass BaseTelemetryReporter {\n    constructor(telemetrySender, vscodeAPI, initializationOptions) {\n        this.telemetrySender = telemetrySender;\n        this.vscodeAPI = vscodeAPI;\n        this.userOptIn = false;\n        this.errorOptIn = false;\n        this.disposables = [];\n        this._onDidChangeTelemetryLevel = new this.vscodeAPI.EventEmitter();\n        this.onDidChangeTelemetryLevel = this._onDidChangeTelemetryLevel.event;\n        this.telemetryLogger = this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender, initializationOptions);\n        // Keep track of the user's opt-in status\n        this.updateUserOptIn();\n        this.telemetryLogger.onDidChangeEnableStates(() => {\n            this.updateUserOptIn();\n        });\n    }\n    /**\n     * Updates the user's telemetry opt-in status\n     */\n    updateUserOptIn() {\n        this.errorOptIn = this.telemetryLogger.isErrorsEnabled;\n        this.userOptIn = this.telemetryLogger.isUsageEnabled;\n        // The sender is lazy loaded so if telemetry is off it's not loaded in\n        if (this.telemetryLogger.isErrorsEnabled || this.telemetryLogger.isUsageEnabled) {\n            this.telemetrySender.instantiateSender();\n        }\n        this._onDidChangeTelemetryLevel.fire(this.telemetryLevel);\n    }\n    get telemetryLevel() {\n        if (this.errorOptIn && this.userOptIn) {\n            return \"all\";\n        }\n        else if (this.errorOptIn) {\n            return \"error\";\n        }\n        else {\n            return \"off\";\n        }\n    }\n    /**\n     * Internal function which logs telemetry events and takes extra options.\n     * @param eventName The name of the event\n     * @param properties The properties of the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to sanitize to the properties and measures\n     * @param dangerous Whether or not to ignore telemetry level\n     */\n    internalSendTelemetryEvent(eventName, properties, measurements, dangerous) {\n        // If it's dangerous we skip going through the logger as the logger checks opt-in status, etc.\n        if (dangerous) {\n            this.telemetrySender.sendEventData(eventName, { properties, measurements });\n        }\n        else {\n            this.telemetryLogger.logUsage(eventName, { properties, measurements });\n        }\n    }\n    /**\n     * Given an event name, some properties, and measurements sends a telemetry event.\n     * Properties are sanitized on best-effort basis to remove sensitive data prior to sending.\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     */\n    sendTelemetryEvent(eventName, properties, measurements) {\n        this.internalSendTelemetryEvent(eventName, properties, measurements, false);\n    }\n    /**\n     * Sends a raw (unsanitized) telemetry event with the given properties and measurements.\n     * NOTE: This will not be logged to the output channel due to API limitations.\n     * @param eventName The name of the event\n     * @param properties The set of properties to add to the event in the form of a string key value pair\n     * @param measurements The set of measurements to add to the event in the form of a string key  number value pair\n     */\n    sendRawTelemetryEvent(eventName, properties, measurements) {\n        const modifiedProperties = { ...properties };\n        for (const propertyKey of Object.keys(modifiedProperties ?? {})) {\n            const propertyValue = modifiedProperties[propertyKey];\n            if (typeof propertyKey === \"string\" && propertyValue !== undefined) {\n                // Trusted values are not sanitized, which is what we want for raw telemetry\n                modifiedProperties[propertyKey] = new this.vscodeAPI.TelemetryTrustedValue(typeof propertyValue === 'string' ? propertyValue : propertyValue.value);\n            }\n        }\n        this.sendTelemetryEvent(eventName, modifiedProperties, measurements);\n    }\n    /**\n     * **DANGEROUS** Given an event name, some properties, and measurements sends a telemetry event without checking telemetry setting\n     * Do not use unless in a controlled environment i.e. sending telmetry from a CI pipeline or testing during development\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to sanitize to the properties and measures, defaults to true\n     */\n    sendDangerousTelemetryEvent(eventName, properties, measurements) {\n        // Since telemetry is probably off when sending dangerously, we must start the sender\n        this.telemetrySender.instantiateSender();\n        this.internalSendTelemetryEvent(eventName, properties, measurements, true);\n    }\n    /**\n     * Internal function which logs telemetry error events and takes extra options.\n     * @param eventName The name of the event\n     * @param properties The properties of the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to sanitize to the properties and measures\n     * @param dangerous Whether or not to ignore telemetry level\n     */\n    internalSendTelemetryErrorEvent(eventName, properties, measurements, dangerous) {\n        if (dangerous) {\n            this.telemetrySender.sendEventData(eventName, { properties, measurements });\n        }\n        else {\n            this.telemetryLogger.logError(eventName, { properties, measurements });\n        }\n    }\n    /**\n     * Given an event name, some properties, and measurements sends an error event\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     */\n    sendTelemetryErrorEvent(eventName, properties, measurements) {\n        this.internalSendTelemetryErrorEvent(eventName, properties, measurements, false);\n    }\n    /**\n     * **DANGEROUS** Given an event name, some properties, and measurements sends a telemetry error event without checking telemetry setting\n     * Do not use unless in a controlled environment i.e. sending telmetry from a CI pipeline or testing during development\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to run the properties and measures through sanitiziation, defaults to true\n     */\n    sendDangerousTelemetryErrorEvent(eventName, properties, measurements) {\n        // Since telemetry is probably off when sending dangerously, we must start the sender\n        this.telemetrySender.instantiateSender();\n        this.internalSendTelemetryErrorEvent(eventName, properties, measurements, true);\n    }\n    /**\n     * Disposes of the telemetry reporter\n     */\n    async dispose() {\n        await this.telemetrySender.dispose();\n        this.telemetryLogger.dispose();\n        return Promise.all(this.disposables.map(d => d.dispose()));\n    }\n}\nexports.BaseTelemetryReporter = BaseTelemetryReporter;\n//# sourceMappingURL=baseTelemetryReporter.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseTelemetrySender = void 0;\nvar InstantiationStatus;\n(function (InstantiationStatus) {\n    InstantiationStatus[InstantiationStatus[\"NOT_INSTANTIATED\"] = 0] = \"NOT_INSTANTIATED\";\n    InstantiationStatus[InstantiationStatus[\"INSTANTIATING\"] = 1] = \"INSTANTIATING\";\n    InstantiationStatus[InstantiationStatus[\"INSTANTIATED\"] = 2] = \"INSTANTIATED\";\n})(InstantiationStatus || (InstantiationStatus = {}));\nclass BaseTelemetrySender {\n    constructor(key, clientFactory) {\n        // Whether or not the client has been instantiated\n        this._instantiationStatus = InstantiationStatus.NOT_INSTANTIATED;\n        // Queues used to store events until the sender is ready\n        this._eventQueue = [];\n        this._exceptionQueue = [];\n        this._clientFactory = clientFactory;\n        this._key = key;\n    }\n    /**\n     * Sends the event to the passed in telemetry client\n     * The sender does no telemetry level checks as those are done by the reporter.\n     * @param eventName The name of the event to log\n     * @param data The data contanied in the event\n     */\n    sendEventData(eventName, data) {\n        if (!this._telemetryClient) {\n            if (this._instantiationStatus !== InstantiationStatus.INSTANTIATED) {\n                this._eventQueue.push({ eventName, data });\n            }\n            return;\n        }\n        this._telemetryClient.logEvent(eventName, data);\n    }\n    /**\n     * Sends an exception to the passed in telemetry client\n     * The sender does no telemetry level checks as those are done by the reporter.\n     * @param exception The exception to collect\n     * @param data Data associated with the exception\n     */\n    sendErrorData(exception, data) {\n        if (!this._telemetryClient) {\n            if (this._instantiationStatus !== InstantiationStatus.INSTANTIATED) {\n                this._exceptionQueue.push({ exception, data });\n            }\n            return;\n        }\n        const errorData = { stack: exception.stack, message: exception.message, name: exception.name };\n        if (data) {\n            data.properties = { ...data.properties, ...errorData };\n        }\n        else {\n            data = { properties: errorData };\n        }\n        this._telemetryClient.logEvent(\"unhandlederror\", data);\n    }\n    /**\n     * Flushes the buffered telemetry data\n     */\n    async flush() {\n        return this._telemetryClient?.flush();\n    }\n    async dispose() {\n        if (this._telemetryClient) {\n            await this._telemetryClient.dispose();\n            this._telemetryClient = undefined;\n        }\n        return;\n    }\n    /**\n     * Flushes the queued events that existed before the client was instantiated\n     */\n    _flushQueues() {\n        this._eventQueue.forEach(({ eventName, data }) => this.sendEventData(eventName, data));\n        this._eventQueue = [];\n        this._exceptionQueue.forEach(({ exception, data }) => this.sendErrorData(exception, data));\n        this._exceptionQueue = [];\n    }\n    /**\n     * Instantiates the telemetry client to make the sender \"active\"\n     */\n    instantiateSender() {\n        if (this._instantiationStatus !== InstantiationStatus.NOT_INSTANTIATED) {\n            return;\n        }\n        this._instantiationStatus = InstantiationStatus.INSTANTIATING;\n        // Call the client factory to get the client and then let it know it's instatntiated\n        this._clientFactory(this._key).then(client => {\n            this._telemetryClient = client;\n            this._instantiationStatus = InstantiationStatus.INSTANTIATED;\n            this._flushQueues();\n        }).catch(err => {\n            console.error(err);\n            // If it failed to instntiate, then we don't want to try again.\n            // So we mark it as instantiated. See #94\n            this._instantiationStatus = InstantiationStatus.INSTANTIATED;\n        });\n    }\n}\nexports.BaseTelemetrySender = BaseTelemetrySender;\n//# sourceMappingURL=baseTelemetrySender.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryUtil = void 0;\nclass TelemetryUtil {\n    static applyReplacements(data, replacementOptions) {\n        for (const key of Object.keys(data)) {\n            for (const option of replacementOptions) {\n                if (option.lookup.test(key)) {\n                    if (option.replacementString !== undefined) {\n                        data[key] = option.replacementString;\n                    }\n                    else {\n                        delete data[key];\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Given a key checks if it is a valid 1DS key\n     * @param key The key to check if it's a valid 1DS key\n     */\n    static shouldUseOneDataSystemSDK(key) {\n        // Simple to check to ensure the key is the right length and the dashes are in the right spot\n        return (key.length === 74 &&\n            key[32] === \"-\" &&\n            key[41] === \"-\" &&\n            key[46] === \"-\" &&\n            key[51] === \"-\" &&\n            key[56] === \"-\" &&\n            key[69] === \"-\");\n    }\n    // This also includes the common properties which core mixes in\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.nodeArch\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.uikind\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.remotename\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.isnewappinstall\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.product\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.telemetryclientversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    static getAdditionalCommonProperties(osShim) {\n        return {\n            \"common.os\": osShim.platform,\n            \"common.nodeArch\": osShim.architecture,\n            \"common.platformversion\": (osShim.release || \"\").replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, \"$1$2$3\"),\n            // Do not change this string as it gets found and replaced upon packaging\n            \"common.telemetryclientversion\": \"0.8.5\"\n        };\n    }\n    // Get singleton instance of TelemetryUtil\n    static getInstance() {\n        if (!TelemetryUtil._instance) {\n            TelemetryUtil._instance = new TelemetryUtil();\n        }\n        return TelemetryUtil._instance;\n    }\n}\nexports.TelemetryUtil = TelemetryUtil;\n//# sourceMappingURL=util.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst os = __importStar(require(\"os\"));\nconst vscode = __importStar(require(\"vscode\"));\nconst https = __importStar(require(\"https\"));\nconst baseTelemetryReporter_1 = require(\"../common/baseTelemetryReporter\");\nconst baseTelemetrySender_1 = require(\"../common/baseTelemetrySender\");\nconst util_1 = require(\"../common/util\");\nconst _1dsClientFactory_1 = require(\"../common/1dsClientFactory\");\n/**\n * A factory function which creates a telemetry client to be used by an sender to send telemetry in a node application.\n *\n * @param key The app insights key\n * @param replacementOptions Optional list of {@link ReplacementOption replacements} to apply to the telemetry client. This allows\n * the sender to filter out any sensitive or unnecessary information from the telemetry server.\n *\n * @returns A promise which resolves to the telemetry client or rejects upon error\n */\nconst appInsightsClientFactory = async (key, replacementOptions) => {\n    let appInsightsClient;\n    try {\n        process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"] = \"1\";\n        const appInsights = await Promise.resolve().then(() => __importStar(require(/* webpackMode: \"eager\" */ \"applicationinsights\")));\n        //check if another instance is already initialized\n        if (appInsights.defaultClient) {\n            appInsightsClient = new appInsights.TelemetryClient(key);\n            // no other way to enable offline mode\n            appInsightsClient.channel.setUseDiskRetryCaching(true);\n        }\n        else {\n            appInsights.setup(key)\n                .setAutoCollectRequests(false)\n                .setAutoCollectPerformance(false)\n                .setAutoCollectExceptions(false)\n                .setAutoCollectDependencies(false)\n                .setAutoDependencyCorrelation(false)\n                .setAutoCollectConsole(false)\n                .setAutoCollectHeartbeat(false)\n                .setAutoCollectIncomingRequestAzureFunctions(false)\n                .setUseDiskRetryCaching(true)\n                .start();\n            appInsightsClient = appInsights.defaultClient;\n        }\n        if (vscode && vscode.env) {\n            appInsightsClient.context.tags[appInsightsClient.context.keys.userId] = vscode.env.machineId;\n            appInsightsClient.context.tags[appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\n            appInsightsClient.context.tags[appInsightsClient.context.keys.cloudRole] = vscode.env.appName;\n            appInsightsClient.context.tags[appInsightsClient.context.keys.cloudRoleInstance] = vscode.env.appName;\n        }\n    }\n    catch (e) {\n        return Promise.reject(\"Failed to initialize app insights!\\n\" + e.message);\n    }\n    if (replacementOptions?.length) {\n        addReplacementOptions(appInsightsClient, replacementOptions);\n    }\n    // Sets the appinsights client into a standardized form\n    const telemetryClient = {\n        logEvent: (eventName, data) => {\n            try {\n                appInsightsClient?.trackEvent({\n                    name: eventName,\n                    properties: data?.properties,\n                    measurements: data?.measurements\n                });\n            }\n            catch (e) {\n                throw new Error(\"Failed to log event to app insights!\\n\" + e.message);\n            }\n        },\n        flush: async () => {\n            try {\n                appInsightsClient?.flush();\n            }\n            catch (e) {\n                throw new Error(\"Failed to flush app insights!\\n\" + e.message);\n            }\n        },\n        dispose: async () => {\n            appInsightsClient?.flush({ isAppCrashing: true });\n            appInsightsClient = undefined;\n        }\n    };\n    return telemetryClient;\n};\n/**\n * Adds replacement options to this {@link TelemetryClient}.\n *\n * If any replacement options are specified, this function will search through any event about to be\n * sent to the telemetry server and replace any matches with the specified replacement string. Both\n * the envelope and the base data will be searched.\n *\n * @param appInsightsClient The {@link TelemetryClient} to add the filters to.\n * @param replacementOptions The replacement options to add.\n */\nfunction addReplacementOptions(appInsightsClient, replacementOptions) {\n    appInsightsClient.addTelemetryProcessor((event) => {\n        if (Array.isArray(event.tags)) {\n            event.tags.forEach(tag => util_1.TelemetryUtil.applyReplacements(tag, replacementOptions));\n        }\n        else if (event.tags) {\n            util_1.TelemetryUtil.applyReplacements(event.tags, replacementOptions);\n        }\n        if (event.data.baseData) {\n            util_1.TelemetryUtil.applyReplacements(event.data.baseData, replacementOptions);\n        }\n        return true;\n    });\n}\n/**\n * Create a replacement for the XHTMLRequest object utilizing nodes HTTP module.\n * @returns A XHR override object used to override the XHTMLRequest object in the 1DS SDK\n */\nfunction getXHROverride() {\n    // Override the way events get sent since node doesn't have XHTMLRequest\n    const customHttpXHROverride = {\n        sendPOST: (payload, oncomplete) => {\n            const options = {\n                method: \"POST\",\n                headers: {\n                    ...payload.headers,\n                    \"Content-Type\": \"application/json\",\n                    \"Content-Length\": Buffer.byteLength(payload.data)\n                }\n            };\n            try {\n                const req = https.request(payload.urlString, options, res => {\n                    res.on(\"data\", function (responseData) {\n                        oncomplete(res.statusCode ?? 200, res.headers, responseData.toString());\n                    });\n                    // On response with error send status of 0 and a blank response to oncomplete so we can retry events\n                    res.on(\"error\", function () {\n                        oncomplete(0, {});\n                    });\n                });\n                req.write(payload.data, (err) => {\n                    if (err) {\n                        oncomplete(0, {});\n                    }\n                });\n                req.end();\n            }\n            catch {\n                // If it errors out, send status of 0 and a blank response to oncomplete so we can retry events\n                oncomplete(0, {});\n            }\n        }\n    };\n    return customHttpXHROverride;\n}\nclass TelemetryReporter extends baseTelemetryReporter_1.BaseTelemetryReporter {\n    constructor(key, replacementOptions) {\n        let clientFactory = (key) => appInsightsClientFactory(key, replacementOptions);\n        // If key is usable by 1DS use the 1DS SDk\n        if (util_1.TelemetryUtil.shouldUseOneDataSystemSDK(key)) {\n            clientFactory = (key) => (0, _1dsClientFactory_1.oneDataSystemClientFactory)(key, vscode, getXHROverride());\n        }\n        const osShim = {\n            release: os.release(),\n            platform: os.platform(),\n            architecture: os.arch(),\n        };\n        const sender = new baseTelemetrySender_1.BaseTelemetrySender(key, clientFactory);\n        if (key && key.indexOf(\"AIF-\") === 0) {\n            throw new Error(\"AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions\");\n        }\n        super(sender, vscode, { additionalCommonProperties: util_1.TelemetryUtil.getAdditionalCommonProperties(osShim) });\n    }\n}\nexports.default = TelemetryReporter;\n//# sourceMappingURL=telemetryReporter.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n//  @skip-file-minify\r\nvar _a;\r\nimport { createEnumStyle } from \"../JavaScriptSDK.Enums/EnumHelperFuncs\";\r\nvar FAILED = \"Failed\";\r\nvar FAILED_MONITOR_AJAX = FAILED + \"MonitorAjax\";\r\nvar TRACK = \"Track\";\r\nvar START = \"Start\";\r\nvar STOP = \"Stop\";\r\nvar EVENT = \"Event\";\r\nvar AUTH_CONTEXT = \"AuthContext\";\r\nvar EXCEPTION = \"Exception\";\r\nvar LOCAL = \"Local\";\r\nvar SESSION = \"Session\";\r\nvar STORAGE = \"Storage\";\r\nvar BROWSER = \"Browser\";\r\nvar CANNOT = \"Cannot\";\r\nvar BUFFER = \"Buffer\";\r\nvar INSTRUMENTATION_KEY = \"InstrumentationKey\";\r\nexport var LoggingSeverity = createEnumStyle({\r\n    CRITICAL: 1 /* eLoggingSeverity.CRITICAL */,\r\n    WARNING: 2 /* eLoggingSeverity.WARNING */\r\n});\r\n/**\r\n * Internal message ID. Please create a new one for every conceptually different message. Please keep alphabetically ordered\r\n */\r\nexport var _InternalMessageId = createEnumStyle((_a = {},\r\n    // Non user actionable\r\n    _a[BROWSER + \"DoesNotSupport\" + LOCAL + STORAGE] = 0 /* _eInternalMessageId.BrowserDoesNotSupportLocalStorage */,\r\n    _a[BROWSER + CANNOT + \"Read\" + LOCAL + STORAGE] = 1 /* _eInternalMessageId.BrowserCannotReadLocalStorage */,\r\n    _a[BROWSER + CANNOT + \"Read\" + SESSION + STORAGE] = 2 /* _eInternalMessageId.BrowserCannotReadSessionStorage */,\r\n    _a[BROWSER + CANNOT + \"Write\" + LOCAL + STORAGE] = 3 /* _eInternalMessageId.BrowserCannotWriteLocalStorage */,\r\n    _a[BROWSER + CANNOT + \"Write\" + SESSION + STORAGE] = 4 /* _eInternalMessageId.BrowserCannotWriteSessionStorage */,\r\n    _a[BROWSER + FAILED + \"RemovalFrom\" + LOCAL + STORAGE] = 5 /* _eInternalMessageId.BrowserFailedRemovalFromLocalStorage */,\r\n    _a[BROWSER + FAILED + \"RemovalFrom\" + SESSION + STORAGE] = 6 /* _eInternalMessageId.BrowserFailedRemovalFromSessionStorage */,\r\n    _a[CANNOT + \"SendEmptyTelemetry\"] = 7 /* _eInternalMessageId.CannotSendEmptyTelemetry */,\r\n    _a.ClientPerformanceMathError = 8 /* _eInternalMessageId.ClientPerformanceMathError */,\r\n    _a[\"ErrorParsingAI\" + SESSION + \"Cookie\"] = 9 /* _eInternalMessageId.ErrorParsingAISessionCookie */,\r\n    _a.ErrorPVCalc = 10 /* _eInternalMessageId.ErrorPVCalc */,\r\n    _a[EXCEPTION + \"WhileLoggingError\"] = 11 /* _eInternalMessageId.ExceptionWhileLoggingError */,\r\n    _a[FAILED + \"AddingTelemetryTo\" + BUFFER] = 12 /* _eInternalMessageId.FailedAddingTelemetryToBuffer */,\r\n    _a[FAILED_MONITOR_AJAX + \"Abort\"] = 13 /* _eInternalMessageId.FailedMonitorAjaxAbort */,\r\n    _a[FAILED_MONITOR_AJAX + \"Dur\"] = 14 /* _eInternalMessageId.FailedMonitorAjaxDur */,\r\n    _a[FAILED_MONITOR_AJAX + \"Open\"] = 15 /* _eInternalMessageId.FailedMonitorAjaxOpen */,\r\n    _a[FAILED_MONITOR_AJAX + \"RSC\"] = 16 /* _eInternalMessageId.FailedMonitorAjaxRSC */,\r\n    _a[FAILED_MONITOR_AJAX + \"Send\"] = 17 /* _eInternalMessageId.FailedMonitorAjaxSend */,\r\n    _a[FAILED_MONITOR_AJAX + \"GetCorrelationHeader\"] = 18 /* _eInternalMessageId.FailedMonitorAjaxGetCorrelationHeader */,\r\n    _a[FAILED + \"ToAddHandlerForOnBeforeUnload\"] = 19 /* _eInternalMessageId.FailedToAddHandlerForOnBeforeUnload */,\r\n    _a[FAILED + \"ToSendQueuedTelemetry\"] = 20 /* _eInternalMessageId.FailedToSendQueuedTelemetry */,\r\n    _a[FAILED + \"ToReportDataLoss\"] = 21 /* _eInternalMessageId.FailedToReportDataLoss */,\r\n    _a[\"Flush\" + FAILED] = 22 /* _eInternalMessageId.FlushFailed */,\r\n    _a.MessageLimitPerPVExceeded = 23 /* _eInternalMessageId.MessageLimitPerPVExceeded */,\r\n    _a.MissingRequiredFieldSpecification = 24 /* _eInternalMessageId.MissingRequiredFieldSpecification */,\r\n    _a.NavigationTimingNotSupported = 25 /* _eInternalMessageId.NavigationTimingNotSupported */,\r\n    _a.OnError = 26 /* _eInternalMessageId.OnError */,\r\n    _a[SESSION + \"RenewalDateIsZero\"] = 27 /* _eInternalMessageId.SessionRenewalDateIsZero */,\r\n    _a.SenderNotInitialized = 28 /* _eInternalMessageId.SenderNotInitialized */,\r\n    _a[START + TRACK + EVENT + FAILED] = 29 /* _eInternalMessageId.StartTrackEventFailed */,\r\n    _a[STOP + TRACK + EVENT + FAILED] = 30 /* _eInternalMessageId.StopTrackEventFailed */,\r\n    _a[START + TRACK + FAILED] = 31 /* _eInternalMessageId.StartTrackFailed */,\r\n    _a[STOP + TRACK + FAILED] = 32 /* _eInternalMessageId.StopTrackFailed */,\r\n    _a.TelemetrySampledAndNotSent = 33 /* _eInternalMessageId.TelemetrySampledAndNotSent */,\r\n    _a[TRACK + EVENT + FAILED] = 34 /* _eInternalMessageId.TrackEventFailed */,\r\n    _a[TRACK + EXCEPTION + FAILED] = 35 /* _eInternalMessageId.TrackExceptionFailed */,\r\n    _a[TRACK + \"Metric\" + FAILED] = 36 /* _eInternalMessageId.TrackMetricFailed */,\r\n    _a[TRACK + \"PV\" + FAILED] = 37 /* _eInternalMessageId.TrackPVFailed */,\r\n    _a[TRACK + \"PV\" + FAILED + \"Calc\"] = 38 /* _eInternalMessageId.TrackPVFailedCalc */,\r\n    _a[TRACK + \"Trace\" + FAILED] = 39 /* _eInternalMessageId.TrackTraceFailed */,\r\n    _a[\"Transmission\" + FAILED] = 40 /* _eInternalMessageId.TransmissionFailed */,\r\n    _a[FAILED + \"ToSet\" + STORAGE + BUFFER] = 41 /* _eInternalMessageId.FailedToSetStorageBuffer */,\r\n    _a[FAILED + \"ToRestore\" + STORAGE + BUFFER] = 42 /* _eInternalMessageId.FailedToRestoreStorageBuffer */,\r\n    _a.InvalidBackendResponse = 43 /* _eInternalMessageId.InvalidBackendResponse */,\r\n    _a[FAILED + \"ToFixDepricatedValues\"] = 44 /* _eInternalMessageId.FailedToFixDepricatedValues */,\r\n    _a.InvalidDurationValue = 45 /* _eInternalMessageId.InvalidDurationValue */,\r\n    _a.TelemetryEnvelopeInvalid = 46 /* _eInternalMessageId.TelemetryEnvelopeInvalid */,\r\n    _a.CreateEnvelopeError = 47 /* _eInternalMessageId.CreateEnvelopeError */,\r\n    // User actionable\r\n    _a[CANNOT + \"SerializeObject\"] = 48 /* _eInternalMessageId.CannotSerializeObject */,\r\n    _a[CANNOT + \"SerializeObjectNonSerializable\"] = 49 /* _eInternalMessageId.CannotSerializeObjectNonSerializable */,\r\n    _a.CircularReferenceDetected = 50 /* _eInternalMessageId.CircularReferenceDetected */,\r\n    _a[\"Clear\" + AUTH_CONTEXT + FAILED] = 51 /* _eInternalMessageId.ClearAuthContextFailed */,\r\n    _a[EXCEPTION + \"Truncated\"] = 52 /* _eInternalMessageId.ExceptionTruncated */,\r\n    _a.IllegalCharsInName = 53 /* _eInternalMessageId.IllegalCharsInName */,\r\n    _a.ItemNotInArray = 54 /* _eInternalMessageId.ItemNotInArray */,\r\n    _a.MaxAjaxPerPVExceeded = 55 /* _eInternalMessageId.MaxAjaxPerPVExceeded */,\r\n    _a.MessageTruncated = 56 /* _eInternalMessageId.MessageTruncated */,\r\n    _a.NameTooLong = 57 /* _eInternalMessageId.NameTooLong */,\r\n    _a.SampleRateOutOfRange = 58 /* _eInternalMessageId.SampleRateOutOfRange */,\r\n    _a[\"Set\" + AUTH_CONTEXT + FAILED] = 59 /* _eInternalMessageId.SetAuthContextFailed */,\r\n    _a[\"Set\" + AUTH_CONTEXT + FAILED + \"AccountName\"] = 60 /* _eInternalMessageId.SetAuthContextFailedAccountName */,\r\n    _a.StringValueTooLong = 61 /* _eInternalMessageId.StringValueTooLong */,\r\n    _a.StartCalledMoreThanOnce = 62 /* _eInternalMessageId.StartCalledMoreThanOnce */,\r\n    _a.StopCalledWithoutStart = 63 /* _eInternalMessageId.StopCalledWithoutStart */,\r\n    _a[\"TelemetryInitializer\" + FAILED] = 64 /* _eInternalMessageId.TelemetryInitializerFailed */,\r\n    _a.TrackArgumentsNotSpecified = 65 /* _eInternalMessageId.TrackArgumentsNotSpecified */,\r\n    _a.UrlTooLong = 66 /* _eInternalMessageId.UrlTooLong */,\r\n    _a[SESSION + STORAGE + BUFFER + \"Full\"] = 67 /* _eInternalMessageId.SessionStorageBufferFull */,\r\n    _a[CANNOT + \"AccessCookie\"] = 68 /* _eInternalMessageId.CannotAccessCookie */,\r\n    _a.IdTooLong = 69 /* _eInternalMessageId.IdTooLong */,\r\n    _a.InvalidEvent = 70 /* _eInternalMessageId.InvalidEvent */,\r\n    _a[FAILED_MONITOR_AJAX + \"SetRequestHeader\"] = 71 /* _eInternalMessageId.FailedMonitorAjaxSetRequestHeader */,\r\n    _a[\"Send\" + BROWSER + \"InfoOnUserInit\"] = 72 /* _eInternalMessageId.SendBrowserInfoOnUserInit */,\r\n    _a[\"Plugin\" + EXCEPTION] = 73 /* _eInternalMessageId.PluginException */,\r\n    _a[\"Notification\" + EXCEPTION] = 74 /* _eInternalMessageId.NotificationException */,\r\n    _a.SnippetScriptLoadFailure = 99 /* _eInternalMessageId.SnippetScriptLoadFailure */,\r\n    _a[\"Invalid\" + INSTRUMENTATION_KEY] = 100 /* _eInternalMessageId.InvalidInstrumentationKey */,\r\n    _a[CANNOT + \"ParseAiBlobValue\"] = 101 /* _eInternalMessageId.CannotParseAiBlobValue */,\r\n    _a.InvalidContentBlob = 102 /* _eInternalMessageId.InvalidContentBlob */,\r\n    _a[TRACK + \"PageAction\" + EVENT + FAILED] = 103 /* _eInternalMessageId.TrackPageActionEventFailed */,\r\n    _a[FAILED + \"AddingCustomDefinedRequestContext\"] = 104 /* _eInternalMessageId.FailedAddingCustomDefinedRequestContext */,\r\n    _a[\"InMemory\" + STORAGE + BUFFER + \"Full\"] = 105 /* _eInternalMessageId.InMemoryStorageBufferFull */,\r\n    _a[INSTRUMENTATION_KEY + \"Deprecation\"] = 106 /* _eInternalMessageId.InstrumentationKeyDeprecation */,\r\n    _a));\r\n//# sourceMappingURL=LoggingEnums.js.map","/*\n * 1DS JS SDK Core, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* Enums.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n* File containing the enums as constants.\r\n*/\r\nimport { __assignFn as __assign } from \"@microsoft/applicationinsights-shims\";\r\nimport { _InternalMessageId, createEnumStyle, objFreeze } from \"@microsoft/applicationinsights-core-js\";\r\n/**\r\n * The ValueKind contains a set of values that specify value kind of the property.\r\n * Either PII (Personal Identifiable Information) or customer content.\r\n */\r\nexport var ValueKind = createEnumStyle({\r\n    NotSet: 0 /* eValueKind.NotSet */,\r\n    Pii_DistinguishedName: 1 /* eValueKind.Pii_DistinguishedName */,\r\n    Pii_GenericData: 2 /* eValueKind.Pii_GenericData */,\r\n    Pii_IPV4Address: 3 /* eValueKind.Pii_IPV4Address */,\r\n    Pii_IPv6Address: 4 /* eValueKind.Pii_IPv6Address */,\r\n    Pii_MailSubject: 5 /* eValueKind.Pii_MailSubject */,\r\n    Pii_PhoneNumber: 6 /* eValueKind.Pii_PhoneNumber */,\r\n    Pii_QueryString: 7 /* eValueKind.Pii_QueryString */,\r\n    Pii_SipAddress: 8 /* eValueKind.Pii_SipAddress */,\r\n    Pii_SmtpAddress: 9 /* eValueKind.Pii_SmtpAddress */,\r\n    Pii_Identity: 10 /* eValueKind.Pii_Identity */,\r\n    Pii_Uri: 11 /* eValueKind.Pii_Uri */,\r\n    Pii_Fqdn: 12 /* eValueKind.Pii_Fqdn */,\r\n    Pii_IPV4AddressLegacy: 13 /* eValueKind.Pii_IPV4AddressLegacy */,\r\n    Pii_IPv6ScrubLastHextets: 14 /* eValueKind.Pii_IPv6ScrubLastHextets */,\r\n    Pii_DropValue: 15 /* eValueKind.Pii_DropValue */,\r\n    CustomerContent_GenericContent: 32 /* eValueKind.CustomerContent_GenericContent */\r\n});\r\n/**\r\n * The EventLatency contains a set of values that specify the latency with which an event is sent.\r\n */\r\nexport var EventLatency = createEnumStyle({\r\n    /**\r\n     * Normal latency.\r\n     */\r\n    Normal: 1 /* EventLatencyValue.Normal */,\r\n    /**\r\n     * Cost deferred latency. At the moment this latency is treated as Normal latency.\r\n     */\r\n    CostDeferred: 2 /* EventLatencyValue.CostDeferred */,\r\n    /**\r\n     * Real time latency.\r\n     */\r\n    RealTime: 3 /* EventLatencyValue.RealTime */,\r\n    /**\r\n     * Bypass normal batching/timing and send as soon as possible, this will still send asynchronously.\r\n     * Added in v3.1.1\r\n     */\r\n    Immediate: 4 /* EventLatencyValue.Immediate */\r\n});\r\n/**\r\n * Enum for property types.\r\n */\r\nexport var EventPropertyType = createEnumStyle({\r\n    Unspecified: 0 /* eEventPropertyType.Unspecified */,\r\n    String: 1 /* eEventPropertyType.String */,\r\n    Int32: 2 /* eEventPropertyType.Int32 */,\r\n    UInt32: 3 /* eEventPropertyType.UInt32 */,\r\n    Int64: 4 /* eEventPropertyType.Int64 */,\r\n    UInt64: 5 /* eEventPropertyType.UInt64 */,\r\n    Double: 6 /* eEventPropertyType.Double */,\r\n    Bool: 7 /* eEventPropertyType.Bool */,\r\n    Guid: 8 /* eEventPropertyType.Guid */,\r\n    DateTime: 9 /* eEventPropertyType.DateTime */\r\n});\r\n/**\r\n * The EventPersistence contains a set of values that specify the event's persistence.\r\n */\r\nexport var EventPersistence = createEnumStyle({\r\n    /**\r\n     * Normal persistence.\r\n     */\r\n    Normal: 1 /* EventPersistenceValue.Normal */,\r\n    /**\r\n     * Critical persistence.\r\n     */\r\n    Critical: 2 /* EventPersistenceValue.Critical */\r\n});\r\nexport var TraceLevel = createEnumStyle({\r\n    NONE: 0 /* eTraceLevel.NONE */,\r\n    ERROR: 1 /* eTraceLevel.ERROR */,\r\n    WARNING: 2 /* eTraceLevel.WARNING */,\r\n    INFORMATION: 3 /* eTraceLevel.INFORMATION */\r\n});\r\nexport var _ExtendedInternalMessageId = objFreeze(__assign(__assign({}, _InternalMessageId), createEnumStyle({\r\n    AuthHandShakeError: 501 /* _eExtendedInternalMessageId.AuthHandShakeError */,\r\n    AuthRedirectFail: 502 /* _eExtendedInternalMessageId.AuthRedirectFail */,\r\n    BrowserCannotReadLocalStorage: 503 /* _eExtendedInternalMessageId.BrowserCannotReadLocalStorage */,\r\n    BrowserCannotWriteLocalStorage: 504 /* _eExtendedInternalMessageId.BrowserCannotWriteLocalStorage */,\r\n    BrowserDoesNotSupportLocalStorage: 505 /* _eExtendedInternalMessageId.BrowserDoesNotSupportLocalStorage */,\r\n    CannotParseBiBlobValue: 506 /* _eExtendedInternalMessageId.CannotParseBiBlobValue */,\r\n    CannotParseDataAttribute: 507 /* _eExtendedInternalMessageId.CannotParseDataAttribute */,\r\n    CVPluginNotAvailable: 508 /* _eExtendedInternalMessageId.CVPluginNotAvailable */,\r\n    DroppedEvent: 509 /* _eExtendedInternalMessageId.DroppedEvent */,\r\n    ErrorParsingAISessionCookie: 510 /* _eExtendedInternalMessageId.ErrorParsingAISessionCookie */,\r\n    ErrorProvidedChannels: 511 /* _eExtendedInternalMessageId.ErrorProvidedChannels */,\r\n    FailedToGetCookies: 512 /* _eExtendedInternalMessageId.FailedToGetCookies */,\r\n    FailedToInitializeCorrelationVector: 513 /* _eExtendedInternalMessageId.FailedToInitializeCorrelationVector */,\r\n    FailedToInitializeSDK: 514 /* _eExtendedInternalMessageId.FailedToInitializeSDK */,\r\n    InvalidContentBlob: 515 /* _eExtendedInternalMessageId.InvalidContentBlob */,\r\n    InvalidCorrelationValue: 516 /* _eExtendedInternalMessageId.InvalidCorrelationValue */,\r\n    SessionRenewalDateIsZero: 517 /* _eExtendedInternalMessageId.SessionRenewalDateIsZero */,\r\n    SendPostOnCompleteFailure: 518 /* _eExtendedInternalMessageId.SendPostOnCompleteFailure */,\r\n    PostResponseHandler: 519 /* _eExtendedInternalMessageId.PostResponseHandler */,\r\n    SDKNotInitialized: 520 /* _eExtendedInternalMessageId.SDKNotInitialized */\r\n})));\r\n//# sourceMappingURL=Enums.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n// \r\nimport { _DYN_CONFIG, _DYN_CREATE_NEW, _DYN_FLUSH, _DYN_IDENTIFIER, _DYN_LENGTH, _DYN_ON_COMPLETE, _DYN_PROCESS_NEXT, _DYN_PUSH } from \"../__DynamicConstants\";\r\nimport { arrForEach, isArray, objFreeze, throwError } from \"./HelperFuncs\";\r\nimport { STR_PRIORITY } from \"./InternalConstants\";\r\nimport { createProcessTelemetryContext, createTelemetryProxyChain } from \"./ProcessTelemetryContext\";\r\nimport { initializePlugins } from \"./TelemetryHelpers\";\r\nexport var ChannelControllerPriority = 500;\r\nvar ChannelValidationMessage = \"Channel has invalid priority - \";\r\nfunction _addChannelQueue(channelQueue, queue, core) {\r\n    if (queue && isArray(queue) && queue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        queue = queue.sort(function (a, b) {\r\n            return a[STR_PRIORITY /* @min:%2epriority */] - b[STR_PRIORITY /* @min:%2epriority */];\r\n        });\r\n        arrForEach(queue, function (queueItem) {\r\n            if (queueItem[STR_PRIORITY /* @min:%2epriority */] < ChannelControllerPriority) {\r\n                throwError(ChannelValidationMessage + queueItem[_DYN_IDENTIFIER /* @min:%2eidentifier */]);\r\n            }\r\n        });\r\n        channelQueue[_DYN_PUSH /* @min:%2epush */]({\r\n            queue: objFreeze(queue),\r\n            chain: createTelemetryProxyChain(queue, core[_DYN_CONFIG /* @min:%2econfig */], core)\r\n        });\r\n    }\r\n}\r\nexport function createChannelControllerPlugin(channelQueue, core) {\r\n    function _getTelCtx() {\r\n        return createProcessTelemetryContext(null, core[_DYN_CONFIG /* @min:%2econfig */], core, null);\r\n    }\r\n    function _processChannelQueue(theChannels, itemCtx, processFn, onComplete) {\r\n        var waiting = theChannels ? (theChannels[_DYN_LENGTH /* @min:%2elength */] + 1) : 1;\r\n        function _runChainOnComplete() {\r\n            waiting--;\r\n            if (waiting === 0) {\r\n                onComplete && onComplete();\r\n                onComplete = null;\r\n            }\r\n        }\r\n        if (waiting > 0) {\r\n            arrForEach(theChannels, function (channels) {\r\n                // pass on to first item in queue\r\n                if (channels && channels.queue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var channelChain = channels.chain;\r\n                    var chainCtx = itemCtx[_DYN_CREATE_NEW /* @min:%2ecreateNew */](channelChain);\r\n                    chainCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](_runChainOnComplete);\r\n                    // Cause this chain to start processing\r\n                    processFn(chainCtx);\r\n                }\r\n                else {\r\n                    waiting--;\r\n                }\r\n            });\r\n        }\r\n        _runChainOnComplete();\r\n    }\r\n    function _doUpdate(updateCtx, updateState) {\r\n        var theUpdateState = updateState || {\r\n            reason: 0 /* TelemetryUpdateReason.Unknown */\r\n        };\r\n        _processChannelQueue(channelQueue, updateCtx, function (chainCtx) {\r\n            chainCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUpdateState);\r\n        }, function () {\r\n            updateCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUpdateState);\r\n        });\r\n        return true;\r\n    }\r\n    function _doTeardown(unloadCtx, unloadState) {\r\n        var theUnloadState = unloadState || {\r\n            reason: 0 /* TelemetryUnloadReason.ManualTeardown */,\r\n            isAsync: false\r\n        };\r\n        _processChannelQueue(channelQueue, unloadCtx, function (chainCtx) {\r\n            chainCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUnloadState);\r\n        }, function () {\r\n            unloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUnloadState);\r\n            isInitialized = false;\r\n        });\r\n        return true;\r\n    }\r\n    function _getChannel(pluginIdentifier) {\r\n        var thePlugin = null;\r\n        if (channelQueue && channelQueue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n            arrForEach(channelQueue, function (channels) {\r\n                // pass on to first item in queue\r\n                if (channels && channels.queue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    arrForEach(channels.queue, function (ext) {\r\n                        if (ext[_DYN_IDENTIFIER /* @min:%2eidentifier */] === pluginIdentifier) {\r\n                            thePlugin = ext;\r\n                            // Cause arrForEach to stop iterating\r\n                            return -1;\r\n                        }\r\n                    });\r\n                    if (thePlugin) {\r\n                        // Cause arrForEach to stop iterating\r\n                        return -1;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return thePlugin;\r\n    }\r\n    var isInitialized = false;\r\n    var channelController = {\r\n        identifier: \"ChannelControllerPlugin\",\r\n        priority: ChannelControllerPriority,\r\n        initialize: function (config, core, extensions, pluginChain) {\r\n            isInitialized = true;\r\n            arrForEach(channelQueue, function (channels) {\r\n                if (channels && channels.queue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    initializePlugins(createProcessTelemetryContext(channels.chain, config, core), extensions);\r\n                }\r\n            });\r\n        },\r\n        isInitialized: function () {\r\n            return isInitialized;\r\n        },\r\n        processTelemetry: function (item, itemCtx) {\r\n            _processChannelQueue(channelQueue, itemCtx || _getTelCtx(), function (chainCtx) {\r\n                chainCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](item);\r\n            }, function () {\r\n                itemCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](item);\r\n            });\r\n        },\r\n        update: _doUpdate,\r\n        pause: function () {\r\n            _processChannelQueue(channelQueue, _getTelCtx(), function (chainCtx) {\r\n                chainCtx.iterate(function (plugin) {\r\n                    plugin.pause && plugin.pause();\r\n                });\r\n            }, null);\r\n        },\r\n        resume: function () {\r\n            _processChannelQueue(channelQueue, _getTelCtx(), function (chainCtx) {\r\n                chainCtx.iterate(function (plugin) {\r\n                    plugin.resume && plugin.resume();\r\n                });\r\n            }, null);\r\n        },\r\n        teardown: _doTeardown,\r\n        getChannel: _getChannel,\r\n        flush: function (isAsync, callBack, sendReason, cbTimeout) {\r\n            // Setting waiting to one so that we don't call the callBack until we finish iterating\r\n            var waiting = 1;\r\n            var doneIterating = false;\r\n            var cbTimer = null;\r\n            cbTimeout = cbTimeout || 5000;\r\n            function doCallback() {\r\n                waiting--;\r\n                if (doneIterating && waiting === 0) {\r\n                    if (cbTimer) {\r\n                        clearTimeout(cbTimer);\r\n                        cbTimer = null;\r\n                    }\r\n                    callBack && callBack(doneIterating);\r\n                    callBack = null;\r\n                }\r\n            }\r\n            _processChannelQueue(channelQueue, _getTelCtx(), function (chainCtx) {\r\n                chainCtx.iterate(function (plugin) {\r\n                    if (plugin[_DYN_FLUSH /* @min:%2eflush */]) {\r\n                        waiting++;\r\n                        var handled_1 = false;\r\n                        // Not all channels will call this callback for every scenario\r\n                        if (!plugin[_DYN_FLUSH /* @min:%2eflush */](isAsync, function () {\r\n                            handled_1 = true;\r\n                            doCallback();\r\n                        }, sendReason)) {\r\n                            if (!handled_1) {\r\n                                // If any channel doesn't return true and it didn't call the callback, then we should assume that the callback\r\n                                // will never be called, so use a timeout to allow the channel(s) some time to \"finish\" before triggering any\r\n                                // followup function (such as unloading)\r\n                                if (isAsync && cbTimer == null) {\r\n                                    cbTimer = setTimeout(function () {\r\n                                        cbTimer = null;\r\n                                        doCallback();\r\n                                    }, cbTimeout);\r\n                                }\r\n                                else {\r\n                                    doCallback();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }, function () {\r\n                doneIterating = true;\r\n                doCallback();\r\n            });\r\n            return true;\r\n        },\r\n        _setQueue: function (queue) {\r\n            channelQueue = queue;\r\n        }\r\n    };\r\n    return channelController;\r\n}\r\nexport function createChannelQueues(channels, extensions, core) {\r\n    var channelQueue = [];\r\n    if (channels) {\r\n        // Add and sort the configuration channel queues\r\n        arrForEach(channels, function (queue) { return _addChannelQueue(channelQueue, queue, core); });\r\n    }\r\n    if (extensions) {\r\n        // Create a new channel queue for any extensions with a priority > the ChannelControllerPriority\r\n        var extensionQueue_1 = [];\r\n        arrForEach(extensions, function (plugin) {\r\n            if (plugin[STR_PRIORITY /* @min:%2epriority */] > ChannelControllerPriority) {\r\n                extensionQueue_1[_DYN_PUSH /* @min:%2epush */](plugin);\r\n            }\r\n        });\r\n        _addChannelQueue(channelQueue, extensionQueue_1, core);\r\n    }\r\n    return channelQueue;\r\n}\r\n//# sourceMappingURL=ChannelController.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n// \r\n// \r\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_APPLY, _DYN_DIAG_LOG, _DYN_LENGTH, _DYN_PROCESS_NEXT, _DYN_PUSH, _DYN_SPLICE, _DYN__DO_TEARDOWN } from \"../__DynamicConstants\";\r\nimport { BaseTelemetryPlugin } from \"./BaseTelemetryPlugin\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nimport { dumpObj } from \"./EnvUtils\";\r\nimport { arrForEach, getExceptionName } from \"./HelperFuncs\";\r\nimport { STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nvar TelemetryInitializerPlugin = /** @class */ (function (_super) {\r\n    __extends(TelemetryInitializerPlugin, _super);\r\n    function TelemetryInitializerPlugin() {\r\n        var _this = _super.call(this) || this;\r\n        _this.identifier = \"TelemetryInitializerPlugin\";\r\n        _this.priority = 199;\r\n        // NOTE!: DON'T set default values here, instead set them in the _initDefaults() function as it is also called during teardown()\r\n        var _id;\r\n        var _initializers;\r\n        _initDefaults();\r\n        dynamicProto(TelemetryInitializerPlugin, _this, function (_self, _base) {\r\n            _self.addTelemetryInitializer = function (telemetryInitializer) {\r\n                var theInitializer = {\r\n                    id: _id++,\r\n                    fn: telemetryInitializer\r\n                };\r\n                _initializers[_DYN_PUSH /* @min:%2epush */](theInitializer);\r\n                var handler = {\r\n                    remove: function () {\r\n                        arrForEach(_initializers, function (initializer, idx) {\r\n                            if (initializer.id === theInitializer.id) {\r\n                                _initializers[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                                return -1;\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n                return handler;\r\n            };\r\n            _self[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */] = function (item, itemCtx) {\r\n                var doNotSendItem = false;\r\n                var telemetryInitializersCount = _initializers[_DYN_LENGTH /* @min:%2elength */];\r\n                for (var i = 0; i < telemetryInitializersCount; ++i) {\r\n                    var telemetryInitializer = _initializers[i];\r\n                    if (telemetryInitializer) {\r\n                        try {\r\n                            if (telemetryInitializer.fn[_DYN_APPLY /* @min:%2eapply */](null, [item]) === false) {\r\n                                doNotSendItem = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        catch (e) {\r\n                            // log error but dont stop executing rest of the telemetry initializers\r\n                            // doNotSendItem = true;\r\n                            _throwInternal(itemCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 64 /* _eInternalMessageId.TelemetryInitializerFailed */, \"One of telemetry initializers failed, telemetry item will not be sent: \" + getExceptionName(e), { exception: dumpObj(e) }, true);\r\n                        }\r\n                    }\r\n                }\r\n                if (!doNotSendItem) {\r\n                    _self[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](item, itemCtx);\r\n                }\r\n            };\r\n            _self[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */] = function () {\r\n                _initDefaults();\r\n            };\r\n        });\r\n        function _initDefaults() {\r\n            _id = 0;\r\n            _initializers = [];\r\n        }\r\n        return _this;\r\n    }\r\n// Removed Stub for TelemetryInitializerPlugin.prototype.addTelemetryInitializer.\r\n// Removed Stub for TelemetryInitializerPlugin.prototype.processTelemetry.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    TelemetryInitializerPlugin.__ieDyn=1;\n\n    return TelemetryInitializerPlugin;\r\n}(BaseTelemetryPlugin));\r\nexport { TelemetryInitializerPlugin };\r\n//# sourceMappingURL=TelemetryInitializerPlugin.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { __spreadArrayFn as __spreadArray } from \"@microsoft/applicationinsights-shims\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { objCreateFn } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_ADD_NOTIFICATION_LIS1, _DYN_CONFIG, _DYN_FLUSH, _DYN_GET_NOTIFY_MGR, _DYN_GET_PLUGIN, _DYN_GET_PROCESS_TEL_CONT0, _DYN_IDENTIFIER, _DYN_INITIALIZE, _DYN_INSTRUMENTATION_KEY, _DYN_IS_ASYNC, _DYN_IS_INITIALIZED, _DYN_LENGTH, _DYN_LOGGER, _DYN_MESSAGE, _DYN_MESSAGE_ID, _DYN_NAME, _DYN_ON_COMPLETE, _DYN_PROCESS_NEXT, _DYN_PUSH, _DYN_REMOVE_NOTIFICATION_2, _DYN_SET_ENABLED, _DYN_SPLICE, _DYN_STOP_POLLING_INTERNA3, _DYN_TEARDOWN, _DYN_TIME, _DYN__EXTENSIONS } from \"../__DynamicConstants\";\r\nimport { ChannelControllerPriority, createChannelControllerPlugin, createChannelQueues } from \"./ChannelController\";\r\nimport { createCookieMgr } from \"./CookieMgr\";\r\nimport { createUniqueNamespace } from \"./DataCacheHelper\";\r\nimport { getDebugListener } from \"./DbgExtensionUtils\";\r\nimport { DiagnosticLogger, _InternalLogMessage, _throwInternal, _warnToConsole } from \"./DiagnosticLogger\";\r\nimport { arrForEach, arrIndexOf, getCfgValue, getSetValue, isFunction, isNullOrUndefined, objExtend, objFreeze, proxyFunctionAs, proxyFunctions, throwError, toISOString } from \"./HelperFuncs\";\r\nimport { STR_CHANNELS, STR_CORE, STR_CREATE_PERF_MGR, STR_DISABLED, STR_EVENTS_DISCARDED, STR_EVENTS_SEND_REQUEST, STR_EVENTS_SENT, STR_EXTENSIONS, STR_EXTENSION_CONFIG, STR_GET_PERF_MGR, STR_PRIORITY } from \"./InternalConstants\";\r\nimport { PerfManager, getGblPerfMgr } from \"./PerfManager\";\r\nimport { createProcessTelemetryContext, createProcessTelemetryUnloadContext, createProcessTelemetryUpdateContext, createTelemetryProxyChain } from \"./ProcessTelemetryContext\";\r\nimport { _getPluginState, createDistributedTraceContext, initializePlugins, sortPlugins } from \"./TelemetryHelpers\";\r\nimport { TelemetryInitializerPlugin } from \"./TelemetryInitializerPlugin\";\r\nimport { createUnloadHandlerContainer } from \"./UnloadHandlerContainer\";\r\nvar strValidationError = \"Plugins must provide initialize method\";\r\nvar strNotificationManager = \"_notificationManager\";\r\nvar strSdkUnloadingError = \"SDK is still unloading...\";\r\nvar strSdkNotInitialized = \"SDK is not initialized\";\r\n// const strPluginUnloadFailed = \"Failed to unload plugin\";\r\nvar defaultInitConfig = {\r\n    // Have the Diagnostic Logger default to log critical errors to the console\r\n    loggingLevelConsole: 1 /* eLoggingSeverity.CRITICAL */\r\n};\r\n/**\r\n * Helper to create the default performance manager\r\n * @param core\r\n * @param notificationMgr\r\n */\r\nfunction _createPerfManager(core, notificationMgr) {\r\n    return new PerfManager(notificationMgr);\r\n}\r\nfunction _validateExtensions(logger, channelPriority, allExtensions) {\r\n    var _a;\r\n    // Concat all available extensions\r\n    var coreExtensions = [];\r\n    // Check if any two extensions have the same priority, then warn to console\r\n    // And extract the local extensions from the\r\n    var extPriorities = {};\r\n    // Extension validation\r\n    arrForEach(allExtensions, function (ext) {\r\n        // Check for ext.initialize\r\n        if (isNullOrUndefined(ext) || isNullOrUndefined(ext[_DYN_INITIALIZE /* @min:%2einitialize */])) {\r\n            throwError(strValidationError);\r\n        }\r\n        var extPriority = ext[STR_PRIORITY /* @min:%2epriority */];\r\n        var identifier = ext[_DYN_IDENTIFIER /* @min:%2eidentifier */];\r\n        if (ext && extPriority) {\r\n            if (!isNullOrUndefined(extPriorities[extPriority])) {\r\n                _warnToConsole(logger, \"Two extensions have same priority #\" + extPriority + \" - \" + extPriorities[extPriority] + \", \" + identifier);\r\n            }\r\n            else {\r\n                // set a value\r\n                extPriorities[extPriority] = identifier;\r\n            }\r\n        }\r\n        // Split extensions to core and channelController\r\n        if (!extPriority || extPriority < channelPriority) {\r\n            // Add to core extension that will be managed by BaseCore\r\n            coreExtensions[_DYN_PUSH /* @min:%2epush */](ext);\r\n        }\r\n    });\r\n    return _a = {\r\n            all: allExtensions\r\n        },\r\n        _a[STR_CORE /* @min:core */] = coreExtensions,\r\n        _a;\r\n}\r\nfunction _isPluginPresent(thePlugin, plugins) {\r\n    var exists = false;\r\n    arrForEach(plugins, function (plugin) {\r\n        if (plugin === thePlugin) {\r\n            exists = true;\r\n            return -1;\r\n        }\r\n    });\r\n    return exists;\r\n}\r\nfunction _createDummyNotificationManager() {\r\n    var _a;\r\n    return objCreateFn((_a = {},\r\n        _a[_DYN_ADD_NOTIFICATION_LIS1 /* @min:addNotificationListener */] = function (listener) { },\r\n        _a[_DYN_REMOVE_NOTIFICATION_2 /* @min:removeNotificationListener */] = function (listener) { },\r\n        _a[STR_EVENTS_SENT /* @min:eventsSent */] = function (events) { },\r\n        _a[STR_EVENTS_DISCARDED /* @min:eventsDiscarded */] = function (events, reason) { },\r\n        _a[STR_EVENTS_SEND_REQUEST /* @min:eventsSendRequest */] = function (sendReason, isAsync) { },\r\n        _a));\r\n}\r\nvar BaseCore = /** @class */ (function () {\r\n    function BaseCore() {\r\n        // NOTE!: DON'T set default values here, instead set them in the _initDefaults() function as it is also called during teardown()\r\n        var _config;\r\n        var _isInitialized;\r\n        var _eventQueue;\r\n        var _notificationManager;\r\n        var _perfManager;\r\n        var _cfgPerfManager;\r\n        var _cookieManager;\r\n        var _pluginChain;\r\n        var _configExtensions;\r\n        var _coreExtensions;\r\n        var _channelControl;\r\n        var _channelConfig;\r\n        var _channelQueue;\r\n        var _isUnloading;\r\n        var _telemetryInitializerPlugin;\r\n        var _internalLogsEventName;\r\n        var _evtNamespace;\r\n        var _unloadHandlers;\r\n        var _debugListener;\r\n        var _traceCtx;\r\n        /**\r\n         * Internal log poller\r\n         */\r\n        var _internalLogPoller = 0;\r\n        var _forceStopInternalLogPoller = false;\r\n        dynamicProto(BaseCore, this, function (_self) {\r\n            // Set the default values (also called during teardown)\r\n            _initDefaults();\r\n            _self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = function () { return _isInitialized; };\r\n            // Creating the self.initialize = ()\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, extensions, logger, notificationManager) {\r\n                if (_isUnloading) {\r\n                    throwError(strSdkUnloadingError);\r\n                }\r\n                // Make sure core is only initialized once\r\n                if (_self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]()) {\r\n                    throwError(\"Core should not be initialized more than once\");\r\n                }\r\n                _config = config || {};\r\n                _self[_DYN_CONFIG /* @min:%2econfig */] = _config;\r\n                if (isNullOrUndefined(config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */])) {\r\n                    throwError(\"Please provide instrumentation key\");\r\n                }\r\n                _notificationManager = notificationManager;\r\n                // For backward compatibility only\r\n                _self[strNotificationManager] = notificationManager;\r\n                _initDebugListener();\r\n                _initPerfManager();\r\n                // add notification to the extensions in the config so other plugins can access it\r\n                _initExtConfig();\r\n                if (logger) {\r\n                    _self[_DYN_LOGGER /* @min:%2elogger */] = logger;\r\n                }\r\n                var cfgExtensions = getSetValue(_config, STR_EXTENSIONS, []);\r\n                // Extension validation\r\n                _configExtensions = [];\r\n                _configExtensions[_DYN_PUSH /* @min:%2epush */].apply(_configExtensions, __spreadArray(__spreadArray([], extensions, false), cfgExtensions, false));\r\n                _channelConfig = getSetValue(_config, STR_CHANNELS, []);\r\n                _initPluginChain(null);\r\n                if (!_channelQueue || _channelQueue[_DYN_LENGTH /* @min:%2elength */] === 0) {\r\n                    throwError(\"No \" + STR_CHANNELS + \" available\");\r\n                }\r\n                _isInitialized = true;\r\n                _self.releaseQueue();\r\n            };\r\n            _self.getTransmissionControls = function () {\r\n                var controls = [];\r\n                if (_channelQueue) {\r\n                    arrForEach(_channelQueue, function (channels) {\r\n                        controls[_DYN_PUSH /* @min:%2epush */](channels.queue);\r\n                    });\r\n                }\r\n                return objFreeze(controls);\r\n            };\r\n            _self.track = function (telemetryItem) {\r\n                // setup default iKey if not passed in\r\n                telemetryItem.iKey = telemetryItem.iKey || _config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */];\r\n                // add default timestamp if not passed in\r\n                telemetryItem[_DYN_TIME /* @min:%2etime */] = telemetryItem[_DYN_TIME /* @min:%2etime */] || toISOString(new Date());\r\n                // Common Schema 4.0\r\n                telemetryItem.ver = telemetryItem.ver || \"4.0\";\r\n                if (!_isUnloading && _self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]()) {\r\n                    // Process the telemetry plugin chain\r\n                    _createTelCtx()[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](telemetryItem);\r\n                }\r\n                else {\r\n                    // Queue events until all extensions are initialized\r\n                    _eventQueue[_DYN_PUSH /* @min:%2epush */](telemetryItem);\r\n                }\r\n            };\r\n            _self[_DYN_GET_PROCESS_TEL_CONT0 /* @min:%2egetProcessTelContext */] = _createTelCtx;\r\n            _self[_DYN_GET_NOTIFY_MGR /* @min:%2egetNotifyMgr */] = function () {\r\n                if (!_notificationManager) {\r\n                    // Create Dummy notification manager\r\n                    _notificationManager = _createDummyNotificationManager();\r\n                    // For backward compatibility only\r\n                    _self[strNotificationManager] = _notificationManager;\r\n                }\r\n                return _notificationManager;\r\n            };\r\n            /**\r\n             * Adds a notification listener. The SDK calls methods on the listener when an appropriate notification is raised.\r\n             * The added plugins must raise notifications. If the plugins do not implement the notifications, then no methods will be\r\n             * called.\r\n             * @param {INotificationListener} listener - An INotificationListener object.\r\n             */\r\n            _self[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */] = function (listener) {\r\n                if (_notificationManager) {\r\n                    _notificationManager[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */](listener);\r\n                }\r\n            };\r\n            /**\r\n             * Removes all instances of the listener.\r\n             * @param {INotificationListener} listener - INotificationListener to remove.\r\n             */\r\n            _self[_DYN_REMOVE_NOTIFICATION_2 /* @min:%2eremoveNotificationListener */] = function (listener) {\r\n                if (_notificationManager) {\r\n                    _notificationManager[_DYN_REMOVE_NOTIFICATION_2 /* @min:%2eremoveNotificationListener */](listener);\r\n                }\r\n            };\r\n            _self.getCookieMgr = function () {\r\n                if (!_cookieManager) {\r\n                    _cookieManager = createCookieMgr(_config, _self[_DYN_LOGGER /* @min:%2elogger */]);\r\n                }\r\n                return _cookieManager;\r\n            };\r\n            _self.setCookieMgr = function (cookieMgr) {\r\n                _cookieManager = cookieMgr;\r\n            };\r\n            _self[STR_GET_PERF_MGR /* @min:%2egetPerfMgr */] = function () {\r\n                if (!_perfManager && !_cfgPerfManager) {\r\n                    if (getCfgValue(_config.enablePerfMgr)) {\r\n                        var createPerfMgr = getCfgValue(_config[STR_CREATE_PERF_MGR /* @min:%2ecreatePerfMgr */]);\r\n                        if (isFunction(createPerfMgr)) {\r\n                            _cfgPerfManager = createPerfMgr(_self, _self[_DYN_GET_NOTIFY_MGR /* @min:%2egetNotifyMgr */]());\r\n                        }\r\n                    }\r\n                }\r\n                return _perfManager || _cfgPerfManager || getGblPerfMgr();\r\n            };\r\n            _self.setPerfMgr = function (perfMgr) {\r\n                _perfManager = perfMgr;\r\n            };\r\n            _self.eventCnt = function () {\r\n                return _eventQueue[_DYN_LENGTH /* @min:%2elength */];\r\n            };\r\n            _self.releaseQueue = function () {\r\n                if (_isInitialized && _eventQueue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var eventQueue = _eventQueue;\r\n                    _eventQueue = [];\r\n                    arrForEach(eventQueue, function (event) {\r\n                        _createTelCtx()[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](event);\r\n                    });\r\n                }\r\n            };\r\n            _self.pollInternalLogs = function (eventName) {\r\n                _internalLogsEventName = eventName || null;\r\n                _forceStopInternalLogPoller = false;\r\n                if (_internalLogPoller) {\r\n                    clearInterval(_internalLogPoller);\r\n                    _internalLogPoller = null;\r\n                }\r\n                return _startInternalLogTimer(true);\r\n            };\r\n            function _startInternalLogTimer(alwaysStart) {\r\n                if (!_internalLogPoller && !_forceStopInternalLogPoller) {\r\n                    var shouldStart = alwaysStart || (_self[_DYN_LOGGER /* @min:%2elogger */] && _self[_DYN_LOGGER /* @min:%2elogger */].queue[_DYN_LENGTH /* @min:%2elength */] > 0);\r\n                    if (shouldStart) {\r\n                        var interval = getCfgValue(_config.diagnosticLogInterval);\r\n                        if (!interval || !(interval > 0)) {\r\n                            interval = 10000;\r\n                        }\r\n                        // Keeping as an interval timer for backward compatibility as it returns the result\r\n                        _internalLogPoller = setInterval(function () {\r\n                            clearInterval(_internalLogPoller);\r\n                            _internalLogPoller = 0;\r\n                            _flushInternalLogs();\r\n                        }, interval);\r\n                    }\r\n                }\r\n                return _internalLogPoller;\r\n            }\r\n            _self[_DYN_STOP_POLLING_INTERNA3 /* @min:%2estopPollingInternalLogs */] = function () {\r\n                _forceStopInternalLogPoller = true;\r\n                if (_internalLogPoller) {\r\n                    clearInterval(_internalLogPoller);\r\n                    _internalLogPoller = 0;\r\n                    _flushInternalLogs();\r\n                }\r\n            };\r\n            // Add addTelemetryInitializer\r\n            proxyFunctions(_self, function () { return _telemetryInitializerPlugin; }, [\"addTelemetryInitializer\"]);\r\n            _self.unload = function (isAsync, unloadComplete, cbTimeout) {\r\n                var _a;\r\n                if (isAsync === void 0) { isAsync = true; }\r\n                if (!_isInitialized) {\r\n                    // The SDK is not initialized\r\n                    throwError(strSdkNotInitialized);\r\n                }\r\n                // Check if the SDK still unloading so throw\r\n                if (_isUnloading) {\r\n                    // The SDK is already unloading\r\n                    throwError(strSdkUnloadingError);\r\n                }\r\n                var unloadState = (_a = {\r\n                        reason: 50 /* TelemetryUnloadReason.SdkUnload */\r\n                    },\r\n                    _a[_DYN_IS_ASYNC /* @min:isAsync */] = isAsync,\r\n                    _a.flushComplete = false,\r\n                    _a);\r\n                var processUnloadCtx = createProcessTelemetryUnloadContext(_getPluginChain(), _self);\r\n                processUnloadCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](function () {\r\n                    _initDefaults();\r\n                    unloadComplete && unloadComplete(unloadState);\r\n                }, _self);\r\n                function _doUnload(flushComplete) {\r\n                    unloadState.flushComplete = flushComplete;\r\n                    _isUnloading = true;\r\n                    // Run all of the unload handlers first (before unloading the plugins)\r\n                    _unloadHandlers.run(processUnloadCtx, unloadState);\r\n                    // Stop polling the internal logs\r\n                    _self[_DYN_STOP_POLLING_INTERNA3 /* @min:%2estopPollingInternalLogs */]();\r\n                    // Start unloading the components, from this point onwards the SDK should be considered to be in an unstable state\r\n                    processUnloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](unloadState);\r\n                }\r\n                _flushInternalLogs();\r\n                if (!_flushChannels(isAsync, _doUnload, 6 /* SendRequestReason.SdkUnload */, cbTimeout)) {\r\n                    _doUnload(false);\r\n                }\r\n            };\r\n            _self[_DYN_GET_PLUGIN /* @min:%2egetPlugin */] = _getPlugin;\r\n            _self.addPlugin = function (plugin, replaceExisting, isAsync, addCb) {\r\n                if (!plugin) {\r\n                    addCb && addCb(false);\r\n                    _logOrThrowError(strValidationError);\r\n                    return;\r\n                }\r\n                var existingPlugin = _getPlugin(plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */]);\r\n                if (existingPlugin && !replaceExisting) {\r\n                    addCb && addCb(false);\r\n                    _logOrThrowError(\"Plugin [\" + plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] + \"] is already loaded!\");\r\n                    return;\r\n                }\r\n                var updateState = {\r\n                    reason: 16 /* TelemetryUpdateReason.PluginAdded */\r\n                };\r\n                function _addPlugin(removed) {\r\n                    _configExtensions[_DYN_PUSH /* @min:%2epush */](plugin);\r\n                    updateState.added = [plugin];\r\n                    // Re-Initialize the plugin chain\r\n                    _initPluginChain(updateState);\r\n                    addCb && addCb(true);\r\n                }\r\n                if (existingPlugin) {\r\n                    var removedPlugins_1 = [existingPlugin.plugin];\r\n                    var unloadState = {\r\n                        reason: 2 /* TelemetryUnloadReason.PluginReplace */,\r\n                        isAsync: !!isAsync\r\n                    };\r\n                    _removePlugins(removedPlugins_1, unloadState, function (removed) {\r\n                        if (!removed) {\r\n                            // Previous plugin was successfully removed or was not installed\r\n                            addCb && addCb(false);\r\n                        }\r\n                        else {\r\n                            updateState.removed = removedPlugins_1;\r\n                            updateState.reason |= 32 /* TelemetryUpdateReason.PluginRemoved */;\r\n                            _addPlugin(true);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    _addPlugin(false);\r\n                }\r\n            };\r\n            _self.evtNamespace = function () {\r\n                return _evtNamespace;\r\n            };\r\n            _self[_DYN_FLUSH /* @min:%2eflush */] = _flushChannels;\r\n            _self.getTraceCtx = function (createNew) {\r\n                if (!_traceCtx) {\r\n                    _traceCtx = createDistributedTraceContext();\r\n                }\r\n                return _traceCtx;\r\n            };\r\n            _self.setTraceCtx = function (traceCtx) {\r\n                _traceCtx = traceCtx || null;\r\n            };\r\n            // Create the addUnloadCb\r\n            proxyFunctionAs(_self, \"addUnloadCb\", function () { return _unloadHandlers; }, \"add\");\r\n            function _initDefaults() {\r\n                _isInitialized = false;\r\n                // Use a default logger so initialization errors are not dropped on the floor with full logging\r\n                _config = objExtend(true, {}, defaultInitConfig);\r\n                _self[_DYN_CONFIG /* @min:%2econfig */] = _config;\r\n                _self[_DYN_LOGGER /* @min:%2elogger */] = new DiagnosticLogger(_config);\r\n                _self[_DYN__EXTENSIONS /* @min:%2e_extensions */] = [];\r\n                _telemetryInitializerPlugin = new TelemetryInitializerPlugin();\r\n                _eventQueue = [];\r\n                _notificationManager = null;\r\n                _perfManager = null;\r\n                _cfgPerfManager = null;\r\n                _cookieManager = null;\r\n                _pluginChain = null;\r\n                _coreExtensions = null;\r\n                _configExtensions = [];\r\n                _channelControl = null;\r\n                _channelConfig = null;\r\n                _channelQueue = null;\r\n                _isUnloading = false;\r\n                _internalLogsEventName = null;\r\n                _evtNamespace = createUniqueNamespace(\"AIBaseCore\", true);\r\n                _unloadHandlers = createUnloadHandlerContainer();\r\n                _traceCtx = null;\r\n            }\r\n            function _createTelCtx() {\r\n                var theCtx = createProcessTelemetryContext(_getPluginChain(), _config, _self);\r\n                theCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](_startInternalLogTimer);\r\n                return theCtx;\r\n            }\r\n            // Initialize or Re-initialize the plugins\r\n            function _initPluginChain(updateState) {\r\n                // Extension validation\r\n                var theExtensions = _validateExtensions(_self[_DYN_LOGGER /* @min:%2elogger */], ChannelControllerPriority, _configExtensions);\r\n                _coreExtensions = theExtensions[STR_CORE /* @min:%2ecore */];\r\n                _pluginChain = null;\r\n                // Sort the complete set of extensions by priority\r\n                var allExtensions = theExtensions.all;\r\n                // Initialize the Channel Queues and the channel plugins first\r\n                _channelQueue = objFreeze(createChannelQueues(_channelConfig, allExtensions, _self));\r\n                if (_channelControl) {\r\n                    // During add / remove of a plugin this may get called again, so don't re-add if already present\r\n                    // But we also want the controller as the last, so remove if already present\r\n                    // And reusing the existing instance, just in case an installed plugin has a reference and\r\n                    // is using it.\r\n                    var idx = arrIndexOf(allExtensions, _channelControl);\r\n                    if (idx !== -1) {\r\n                        allExtensions[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                    }\r\n                    idx = arrIndexOf(_coreExtensions, _channelControl);\r\n                    if (idx !== -1) {\r\n                        _coreExtensions[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                    }\r\n                    _channelControl._setQueue(_channelQueue);\r\n                }\r\n                else {\r\n                    _channelControl = createChannelControllerPlugin(_channelQueue, _self);\r\n                }\r\n                // Add on \"channelController\" as the last \"plugin\"\r\n                allExtensions[_DYN_PUSH /* @min:%2epush */](_channelControl);\r\n                _coreExtensions[_DYN_PUSH /* @min:%2epush */](_channelControl);\r\n                // Required to allow plugins to call core.getPlugin() during their own initialization\r\n                _self[_DYN__EXTENSIONS /* @min:%2e_extensions */] = sortPlugins(allExtensions);\r\n                // Initialize the controls\r\n                _channelControl[_DYN_INITIALIZE /* @min:%2einitialize */](_config, _self, allExtensions);\r\n                var initCtx = _createTelCtx();\r\n                initializePlugins(initCtx, allExtensions);\r\n                // Now reset the extensions to just those being managed by Basecore\r\n                _self[_DYN__EXTENSIONS /* @min:%2e_extensions */] = objFreeze(sortPlugins(_coreExtensions || [])).slice();\r\n                if (updateState) {\r\n                    _doUpdate(updateState);\r\n                }\r\n            }\r\n            function _getPlugin(pluginIdentifier) {\r\n                var _a;\r\n                var theExt = null;\r\n                var thePlugin = null;\r\n                arrForEach(_self[_DYN__EXTENSIONS /* @min:%2e_extensions */], function (ext) {\r\n                    if (ext[_DYN_IDENTIFIER /* @min:%2eidentifier */] === pluginIdentifier && ext !== _channelControl && ext !== _telemetryInitializerPlugin) {\r\n                        thePlugin = ext;\r\n                        return -1;\r\n                    }\r\n                });\r\n                if (!thePlugin && _channelControl) {\r\n                    // Check the channel Controller\r\n                    thePlugin = _channelControl.getChannel(pluginIdentifier);\r\n                }\r\n                if (thePlugin) {\r\n                    theExt = (_a = {\r\n                            plugin: thePlugin\r\n                        },\r\n                        _a[_DYN_SET_ENABLED /* @min:setEnabled */] = function (enabled) {\r\n                            _getPluginState(thePlugin)[STR_DISABLED] = !enabled;\r\n                        },\r\n                        _a.isEnabled = function () {\r\n                            var pluginState = _getPluginState(thePlugin);\r\n                            return !pluginState[_DYN_TEARDOWN /* @min:%2eteardown */] && !pluginState[STR_DISABLED];\r\n                        },\r\n                        _a.remove = function (isAsync, removeCb) {\r\n                            var _a;\r\n                            if (isAsync === void 0) { isAsync = true; }\r\n                            var pluginsToRemove = [thePlugin];\r\n                            var unloadState = (_a = {\r\n                                    reason: 1 /* TelemetryUnloadReason.PluginUnload */\r\n                                },\r\n                                _a[_DYN_IS_ASYNC /* @min:isAsync */] = isAsync,\r\n                                _a);\r\n                            _removePlugins(pluginsToRemove, unloadState, function (removed) {\r\n                                if (removed) {\r\n                                    // Re-Initialize the plugin chain\r\n                                    _initPluginChain({\r\n                                        reason: 32 /* TelemetryUpdateReason.PluginRemoved */,\r\n                                        removed: pluginsToRemove\r\n                                    });\r\n                                }\r\n                                removeCb && removeCb(removed);\r\n                            });\r\n                        },\r\n                        _a);\r\n                }\r\n                return theExt;\r\n            }\r\n            function _getPluginChain() {\r\n                if (!_pluginChain) {\r\n                    // copy the collection of extensions\r\n                    var extensions = (_coreExtensions || []).slice();\r\n                    // During add / remove this may get called again, so don't readd if already present\r\n                    if (arrIndexOf(extensions, _telemetryInitializerPlugin) === -1) {\r\n                        extensions[_DYN_PUSH /* @min:%2epush */](_telemetryInitializerPlugin);\r\n                    }\r\n                    _pluginChain = createTelemetryProxyChain(sortPlugins(extensions), _config, _self);\r\n                }\r\n                return _pluginChain;\r\n            }\r\n            function _removePlugins(thePlugins, unloadState, removeComplete) {\r\n                if (thePlugins && thePlugins[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var unloadChain = createTelemetryProxyChain(thePlugins, _config, _self);\r\n                    var unloadCtx = createProcessTelemetryUnloadContext(unloadChain, _self);\r\n                    unloadCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](function () {\r\n                        var removed = false;\r\n                        // Remove the listed config extensions\r\n                        var newConfigExtensions = [];\r\n                        arrForEach(_configExtensions, function (plugin, idx) {\r\n                            if (!_isPluginPresent(plugin, thePlugins)) {\r\n                                newConfigExtensions[_DYN_PUSH /* @min:%2epush */](plugin);\r\n                            }\r\n                            else {\r\n                                removed = true;\r\n                            }\r\n                        });\r\n                        _configExtensions = newConfigExtensions;\r\n                        // Re-Create the channel config\r\n                        var newChannelConfig = [];\r\n                        if (_channelConfig) {\r\n                            arrForEach(_channelConfig, function (queue, idx) {\r\n                                var newQueue = [];\r\n                                arrForEach(queue, function (channel) {\r\n                                    if (!_isPluginPresent(channel, thePlugins)) {\r\n                                        newQueue[_DYN_PUSH /* @min:%2epush */](channel);\r\n                                    }\r\n                                    else {\r\n                                        removed = true;\r\n                                    }\r\n                                });\r\n                                newChannelConfig[_DYN_PUSH /* @min:%2epush */](newQueue);\r\n                            });\r\n                            _channelConfig = newChannelConfig;\r\n                        }\r\n                        removeComplete && removeComplete(removed);\r\n                        _startInternalLogTimer();\r\n                    });\r\n                    unloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](unloadState);\r\n                }\r\n                else {\r\n                    removeComplete(false);\r\n                }\r\n            }\r\n            function _flushInternalLogs() {\r\n                if (_self[_DYN_LOGGER /* @min:%2elogger */] && _self[_DYN_LOGGER /* @min:%2elogger */].queue) {\r\n                    var queue = _self[_DYN_LOGGER /* @min:%2elogger */].queue.slice(0);\r\n                    _self[_DYN_LOGGER /* @min:%2elogger */].queue[_DYN_LENGTH /* @min:%2elength */] = 0;\r\n                    arrForEach(queue, function (logMessage) {\r\n                        var _a;\r\n                        var item = (_a = {},\r\n                            _a[_DYN_NAME /* @min:name */] = _internalLogsEventName ? _internalLogsEventName : \"InternalMessageId: \" + logMessage[_DYN_MESSAGE_ID /* @min:%2emessageId */],\r\n                            _a.iKey = getCfgValue(_config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */]),\r\n                            _a.time = toISOString(new Date()),\r\n                            _a.baseType = _InternalLogMessage.dataType,\r\n                            _a.baseData = { message: logMessage[_DYN_MESSAGE /* @min:%2emessage */] },\r\n                            _a);\r\n                        _self.track(item);\r\n                    });\r\n                }\r\n            }\r\n            function _flushChannels(isAsync, callBack, sendReason, cbTimeout) {\r\n                if (_channelControl) {\r\n                    return _channelControl[_DYN_FLUSH /* @min:%2eflush */](isAsync, callBack, sendReason || 6 /* SendRequestReason.SdkUnload */, cbTimeout);\r\n                }\r\n                callBack && callBack(false);\r\n                return true;\r\n            }\r\n            function _initDebugListener() {\r\n                var disableDbgExt = getCfgValue(_config.disableDbgExt);\r\n                if (disableDbgExt === true && _debugListener) {\r\n                    // Remove any previously loaded debug listener\r\n                    _notificationManager[_DYN_REMOVE_NOTIFICATION_2 /* @min:%2eremoveNotificationListener */](_debugListener);\r\n                    _debugListener = null;\r\n                }\r\n                if (_notificationManager && !_debugListener && disableDbgExt !== true) {\r\n                    _debugListener = getDebugListener(_config);\r\n                    _notificationManager[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */](_debugListener);\r\n                }\r\n            }\r\n            function _initPerfManager() {\r\n                var enablePerfMgr = getCfgValue(_config.enablePerfMgr);\r\n                if (!enablePerfMgr && _cfgPerfManager) {\r\n                    // Remove any existing config based performance manager\r\n                    _cfgPerfManager = null;\r\n                }\r\n                if (enablePerfMgr) {\r\n                    // Set the performance manager creation function if not defined\r\n                    getSetValue(_config, STR_CREATE_PERF_MGR, _createPerfManager);\r\n                }\r\n            }\r\n            function _initExtConfig() {\r\n                var extConfig = getSetValue(_config, STR_EXTENSION_CONFIG, {});\r\n                extConfig.NotificationManager = _notificationManager;\r\n            }\r\n            function _doUpdate(updateState) {\r\n                var updateCtx = createProcessTelemetryUpdateContext(_getPluginChain(), _self);\r\n                updateCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](_startInternalLogTimer);\r\n                if (!_self._updateHook || _self._updateHook(updateCtx, updateState) !== true) {\r\n                    updateCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](updateState);\r\n                }\r\n            }\r\n            function _logOrThrowError(message) {\r\n                var logger = _self[_DYN_LOGGER /* @min:%2elogger */];\r\n                if (logger) {\r\n                    // there should always be a logger\r\n                    _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 73 /* _eInternalMessageId.PluginException */, message);\r\n                    _startInternalLogTimer();\r\n                }\r\n                else {\r\n                    throwError(message);\r\n                }\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for BaseCore.prototype.initialize.\r\n// Removed Stub for BaseCore.prototype.getTransmissionControls.\r\n// Removed Stub for BaseCore.prototype.track.\r\n// Removed Stub for BaseCore.prototype.getProcessTelContext.\r\n// Removed Stub for BaseCore.prototype.getNotifyMgr.\r\n// Removed Stub for BaseCore.prototype.addNotificationListener.\r\n// Removed Stub for BaseCore.prototype.removeNotificationListener.\r\n// Removed Stub for BaseCore.prototype.getCookieMgr.\r\n// Removed Stub for BaseCore.prototype.setCookieMgr.\r\n// Removed Stub for BaseCore.prototype.getPerfMgr.\r\n// Removed Stub for BaseCore.prototype.setPerfMgr.\r\n// Removed Stub for BaseCore.prototype.eventCnt.\r\n// Removed Stub for BaseCore.prototype.pollInternalLogs.\r\n// Removed Stub for BaseCore.prototype.stopPollingInternalLogs.\r\n// Removed Stub for BaseCore.prototype.addTelemetryInitializer.\r\n// Removed Stub for BaseCore.prototype.unload.\r\n// Removed Stub for BaseCore.prototype.getPlugin.\r\n// Removed Stub for BaseCore.prototype.addPlugin.\r\n// Removed Stub for BaseCore.prototype.evtNamespace.\r\n// Removed Stub for BaseCore.prototype.addUnloadCb.\r\n// Removed Stub for BaseCore.prototype.flush.\r\n// Removed Stub for BaseCore.prototype.getTraceCtx.\r\n// Removed Stub for BaseCore.prototype.setTraceCtx.\r\n// Removed Stub for BaseCore.prototype.releaseQueue.\r\n// Removed Stub for BaseCore.prototype._updateHook.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    BaseCore.__ieDyn=1;\n\n    return BaseCore;\r\n}());\r\nexport { BaseCore };\r\n//# sourceMappingURL=BaseCore.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_ADD_NOTIFICATION_LIS1, _DYN_IS_ASYNC, _DYN_IS_CHILD_EVT, _DYN_LISTENERS, _DYN_PUSH, _DYN_REMOVE_NOTIFICATION_2, _DYN_SPLICE } from \"../__DynamicConstants\";\r\nimport { arrForEach, arrIndexOf } from \"./HelperFuncs\";\r\nimport { STR_EVENTS_DISCARDED, STR_EVENTS_SEND_REQUEST, STR_EVENTS_SENT, STR_PERF_EVENT } from \"./InternalConstants\";\r\nfunction _runListeners(listeners, name, isAsync, callback) {\r\n    arrForEach(listeners, function (listener) {\r\n        if (listener && listener[name]) {\r\n            if (isAsync) {\r\n                setTimeout(function () { return callback(listener); }, 0);\r\n            }\r\n            else {\r\n                try {\r\n                    callback(listener);\r\n                }\r\n                catch (e) {\r\n                    // Catch errors to ensure we don't block sending the requests\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n/**\r\n * Class to manage sending notifications to all the listeners.\r\n */\r\nvar NotificationManager = /** @class */ (function () {\r\n    function NotificationManager(config) {\r\n        this.listeners = [];\r\n        var perfEvtsSendAll = !!(config || {}).perfEvtsSendAll;\r\n        dynamicProto(NotificationManager, this, function (_self) {\r\n            _self[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */] = function (listener) {\r\n                _self.listeners[_DYN_PUSH /* @min:%2epush */](listener);\r\n            };\r\n            /**\r\n             * Removes all instances of the listener.\r\n             * @param {INotificationListener} listener - AWTNotificationListener to remove.\r\n             */\r\n            _self[_DYN_REMOVE_NOTIFICATION_2 /* @min:%2eremoveNotificationListener */] = function (listener) {\r\n                var index = arrIndexOf(_self[_DYN_LISTENERS /* @min:%2elisteners */], listener);\r\n                while (index > -1) {\r\n                    _self.listeners[_DYN_SPLICE /* @min:%2esplice */](index, 1);\r\n                    index = arrIndexOf(_self[_DYN_LISTENERS /* @min:%2elisteners */], listener);\r\n                }\r\n            };\r\n            /**\r\n             * Notification for events sent.\r\n             * @param {ITelemetryItem[]} events - The array of events that have been sent.\r\n             */\r\n            _self[STR_EVENTS_SENT /* @min:%2eeventsSent */] = function (events) {\r\n                _runListeners(_self[_DYN_LISTENERS /* @min:%2elisteners */], STR_EVENTS_SENT, true, function (listener) {\r\n                    listener[STR_EVENTS_SENT /* @min:%2eeventsSent */](events);\r\n                });\r\n            };\r\n            /**\r\n             * Notification for events being discarded.\r\n             * @param {ITelemetryItem[]} events - The array of events that have been discarded by the SDK.\r\n             * @param {number} reason           - The reason for which the SDK discarded the events. The EventsDiscardedReason\r\n             * constant should be used to check the different values.\r\n             */\r\n            _self[STR_EVENTS_DISCARDED /* @min:%2eeventsDiscarded */] = function (events, reason) {\r\n                _runListeners(_self[_DYN_LISTENERS /* @min:%2elisteners */], STR_EVENTS_DISCARDED, true, function (listener) {\r\n                    listener[STR_EVENTS_DISCARDED /* @min:%2eeventsDiscarded */](events, reason);\r\n                });\r\n            };\r\n            /**\r\n             * [Optional] A function called when the events have been requested to be sent to the sever.\r\n             * @param {number} sendReason - The reason why the event batch is being sent.\r\n             * @param {boolean} isAsync   - A flag which identifies whether the requests are being sent in an async or sync manner.\r\n             */\r\n            _self[STR_EVENTS_SEND_REQUEST /* @min:%2eeventsSendRequest */] = function (sendReason, isAsync) {\r\n                _runListeners(_self[_DYN_LISTENERS /* @min:%2elisteners */], STR_EVENTS_SEND_REQUEST, isAsync, function (listener) {\r\n                    listener[STR_EVENTS_SEND_REQUEST /* @min:%2eeventsSendRequest */](sendReason, isAsync);\r\n                });\r\n            };\r\n            _self[STR_PERF_EVENT /* @min:%2eperfEvent */] = function (perfEvent) {\r\n                if (perfEvent) {\r\n                    // Send all events or only parent events\r\n                    if (perfEvtsSendAll || !perfEvent[_DYN_IS_CHILD_EVT /* @min:%2eisChildEvt */]()) {\r\n                        _runListeners(_self[_DYN_LISTENERS /* @min:%2elisteners */], STR_PERF_EVENT, false, function (listener) {\r\n                            if (perfEvent[_DYN_IS_ASYNC /* @min:%2eisAsync */]) {\r\n                                setTimeout(function () { return listener[STR_PERF_EVENT /* @min:%2eperfEvent */](perfEvent); }, 0);\r\n                            }\r\n                            else {\r\n                                listener[STR_PERF_EVENT /* @min:%2eperfEvent */](perfEvent);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for NotificationManager.prototype.addNotificationListener.\r\n// Removed Stub for NotificationManager.prototype.removeNotificationListener.\r\n// Removed Stub for NotificationManager.prototype.eventsSent.\r\n// Removed Stub for NotificationManager.prototype.eventsDiscarded.\r\n// Removed Stub for NotificationManager.prototype.eventsSendRequest.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    NotificationManager.__ieDyn=1;\n\n    return NotificationManager;\r\n}());\r\nexport { NotificationManager };\r\n//# sourceMappingURL=NotificationManager.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\n\r\n\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_GET_NOTIFY_MGR, _DYN_INITIALIZE, _DYN_NAME } from \"../__DynamicConstants\";\r\nimport { BaseCore } from \"./BaseCore\";\r\nimport { DiagnosticLogger } from \"./DiagnosticLogger\";\r\nimport { isNullOrUndefined, throwError } from \"./HelperFuncs\";\r\nimport { STR_EVENTS_DISCARDED, STR_GET_PERF_MGR } from \"./InternalConstants\";\r\nimport { NotificationManager } from \"./NotificationManager\";\r\nimport { doPerf } from \"./PerfManager\";\r\nvar AppInsightsCore = /** @class */ (function (_super) {\r\n    __extends(AppInsightsCore, _super);\r\n    function AppInsightsCore() {\r\n        var _this = _super.call(this) || this;\r\n        dynamicProto(AppInsightsCore, _this, function (_self, _base) {\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, extensions, logger, notificationManager) {\r\n                _base[_DYN_INITIALIZE /* @min:%2einitialize */](config, extensions, logger || new DiagnosticLogger(config), notificationManager || new NotificationManager(config));\r\n            };\r\n            _self.track = function (telemetryItem) {\r\n                doPerf(_self[STR_GET_PERF_MGR /* @min:%2egetPerfMgr */](), function () { return \"AppInsightsCore:track\"; }, function () {\r\n                    if (telemetryItem === null) {\r\n                        _notifyInvalidEvent(telemetryItem);\r\n                        // throw error\r\n                        throwError(\"Invalid telemetry item\");\r\n                    }\r\n                    // do basic validation before sending it through the pipeline\r\n                    _validateTelemetryItem(telemetryItem);\r\n                    _base.track(telemetryItem);\r\n                }, function () { return ({ item: telemetryItem }); }, !(telemetryItem.sync));\r\n            };\r\n            function _validateTelemetryItem(telemetryItem) {\r\n                if (isNullOrUndefined(telemetryItem[_DYN_NAME /* @min:%2ename */])) {\r\n                    _notifyInvalidEvent(telemetryItem);\r\n                    throwError(\"telemetry name required\");\r\n                }\r\n            }\r\n            function _notifyInvalidEvent(telemetryItem) {\r\n                var manager = _self[_DYN_GET_NOTIFY_MGR /* @min:%2egetNotifyMgr */]();\r\n                if (manager) {\r\n                    manager[STR_EVENTS_DISCARDED /* @min:%2eeventsDiscarded */]([telemetryItem], 2 /* eEventsDiscardedReason.InvalidEvent */);\r\n                }\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for AppInsightsCore.prototype.initialize.\r\n// Removed Stub for AppInsightsCore.prototype.track.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    AppInsightsCore.__ieDyn=1;\n\n    return AppInsightsCore;\r\n}(BaseCore));\r\nexport { AppInsightsCore };\r\n//# sourceMappingURL=AppInsightsCore.js.map","/*\n * 1DS JS SDK Core, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\n/**\r\n* AppInsightsCore.ts\r\n* @author Abhilash Panwar (abpanwar) Hector Hernandez (hectorh)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { AppInsightsCore as InternalCore, DiagnosticLogger, _throwInternal, arrForEach, doPerf, dumpObj, throwError } from \"@microsoft/applicationinsights-core-js\";\r\nimport { STR_DEFAULT_ENDPOINT_URL, STR_EMPTY, STR_PROPERTIES, STR_VERSION } from \"./InternalConstants\";\r\nimport { FullVersionString, getTime, isLatency } from \"./Utils\";\r\nvar AppInsightsCore = /** @class */ (function (_super) {\r\n    __extends(AppInsightsCore, _super);\r\n    function AppInsightsCore() {\r\n        var _this = _super.call(this) || this;\r\n        _this.pluginVersionStringArr = [];\r\n        dynamicProto(AppInsightsCore, _this, function (_self, _base) {\r\n            if (!_self.logger || !_self.logger.queue) {\r\n                // The AI Base can inject a No-Op logger so if not defined or the No-Op, change to use a default logger so initialization errors\r\n                // are not dropped on the floor if one is not already defined\r\n                _self.logger = new DiagnosticLogger({ loggingLevelConsole: 1 /* eLoggingSeverity.CRITICAL */ });\r\n            }\r\n            _self.initialize = function (config, extensions, logger, notificationManager) {\r\n                doPerf(_self, function () { return \"AppInsightsCore.initialize\"; }, function () {\r\n                    var _pluginVersionStringArr = _self.pluginVersionStringArr;\r\n                    // Add default collector url\r\n                    if (config) {\r\n                        if (!config.endpointUrl) {\r\n                            config.endpointUrl = STR_DEFAULT_ENDPOINT_URL;\r\n                        }\r\n                        var propertyStorageOverride = config.propertyStorageOverride;\r\n                        // Validate property storage override\r\n                        if (propertyStorageOverride && (!propertyStorageOverride.getProperty || !propertyStorageOverride.setProperty)) {\r\n                            throwError(\"Invalid property storage override passed.\");\r\n                        }\r\n                        if (config.channels) {\r\n                            arrForEach(config.channels, function (channels) {\r\n                                if (channels) {\r\n                                    arrForEach(channels, function (channel) {\r\n                                        if (channel.identifier && channel.version) {\r\n                                            var ver = channel.identifier + \"=\" + channel.version;\r\n                                            _pluginVersionStringArr.push(ver);\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    _self.getWParam = function () {\r\n                        return (typeof document !== \"undefined\" || !!config.enableWParam) ? 0 : -1;\r\n                    };\r\n                    if (extensions) {\r\n                        arrForEach(extensions, function (ext) {\r\n                            if (ext && ext.identifier && ext.version) {\r\n                                var ver = ext.identifier + \"=\" + ext.version;\r\n                                _pluginVersionStringArr.push(ver);\r\n                            }\r\n                        });\r\n                    }\r\n                    _self.pluginVersionString = _pluginVersionStringArr.join(\";\");\r\n                    _self.pluginVersionStringArr = _pluginVersionStringArr;\r\n                    try {\r\n                        _base.initialize(config, extensions, logger, notificationManager);\r\n                        _self.pollInternalLogs(\"InternalLog\");\r\n                    }\r\n                    catch (e) {\r\n                        var logger_1 = _self.logger;\r\n                        var message = dumpObj(e);\r\n                        if (message.indexOf(\"channels\") !== -1) {\r\n                            // Add some additional context to the underlying reported error\r\n                            message += \"\\n - Channels must be provided through config.channels only!\";\r\n                        }\r\n                        _throwInternal(logger_1, 1 /* eLoggingSeverity.CRITICAL */, 514 /* _eExtendedInternalMessageId.FailedToInitializeSDK */, \"SDK Initialization Failed - no telemetry will be sent: \" + message);\r\n                    }\r\n                }, function () { return ({ config: config, extensions: extensions, logger: logger, notificationManager: notificationManager }); });\r\n            };\r\n            _self.track = function (item) {\r\n                doPerf(_self, function () { return \"AppInsightsCore.track\"; }, function () {\r\n                    var telemetryItem = item;\r\n                    if (telemetryItem) {\r\n                        telemetryItem.timings = telemetryItem.timings || {};\r\n                        telemetryItem.timings.trackStart = getTime();\r\n                        if (!isLatency(telemetryItem.latency)) {\r\n                            telemetryItem.latency = 1 /* EventLatencyValue.Normal */;\r\n                        }\r\n                        var itemExt = telemetryItem.ext = telemetryItem.ext || {};\r\n                        itemExt.sdk = itemExt.sdk || {};\r\n                        itemExt.sdk.ver = FullVersionString;\r\n                        var baseData = telemetryItem.baseData = telemetryItem.baseData || {};\r\n                        baseData[STR_PROPERTIES] = baseData[STR_PROPERTIES] || {};\r\n                        var itemProperties = baseData[STR_PROPERTIES];\r\n                        itemProperties[STR_VERSION] = itemProperties[STR_VERSION] || _self.pluginVersionString || STR_EMPTY;\r\n                    }\r\n                    _base.track(telemetryItem);\r\n                }, function () { return ({ item: item }); }, !(item.sync));\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for AppInsightsCore.prototype.initialize.\r\n// Removed Stub for AppInsightsCore.prototype.track.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    AppInsightsCore.__ieDyn=1;\n\n    return AppInsightsCore;\r\n}(InternalCore));\r\nexport default AppInsightsCore;\r\n//# sourceMappingURL=AppInsightsCore.js.map","/*\n * 1DS JS SDK Core, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\n/**\r\n* BaseCore.ts\r\n* Base Core is a subset of 1DS Web SDK Core. The purpose of Base Core is to generate a smaller bundle size while providing essential features of Core. Features that are not included in Base Core are:\r\n* 1. Internal logging\r\n* 2. Sending notifications on telemetry sent/discarded\r\n* @author Abhilash Panwar (abpanwar) Hector Hernandez (hectorh)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { BaseCore as InternalCore, _throwInternal, dumpObj } from \"@microsoft/applicationinsights-core-js\";\r\nimport { STR_DEFAULT_ENDPOINT_URL } from \"./InternalConstants\";\r\nimport { FullVersionString, isDocumentObjectAvailable } from \"./Utils\";\r\nvar BaseCore = /** @class */ (function (_super) {\r\n    __extends(BaseCore, _super);\r\n    function BaseCore() {\r\n        var _this = _super.call(this) || this;\r\n        dynamicProto(BaseCore, _this, function (_self, _base) {\r\n            _self.initialize = function (config, extensions, logger, notificationManager) {\r\n                if (config && !config.endpointUrl) {\r\n                    config.endpointUrl = STR_DEFAULT_ENDPOINT_URL;\r\n                }\r\n                _self.getWParam = function () {\r\n                    return (isDocumentObjectAvailable || !!config.enableWParam) ? 0 : -1;\r\n                };\r\n                try {\r\n                    _base.initialize(config, extensions, logger, notificationManager);\r\n                }\r\n                catch (e) {\r\n                    _throwInternal(_self.logger, 1 /* eLoggingSeverity.CRITICAL */, 514 /* _eExtendedInternalMessageId.FailedToInitializeSDK */, \"Initialization Failed: \" + dumpObj(e) + \"\\n - Note: Channels must be provided through config.channels only\");\r\n                }\r\n            };\r\n            _self.track = function (item) {\r\n                var telemetryItem = item;\r\n                if (telemetryItem) {\r\n                    var ext = telemetryItem.ext = telemetryItem.ext || {};\r\n                    ext.sdk = ext.sdk || {};\r\n                    ext.sdk.ver = FullVersionString;\r\n                }\r\n                _base.track(telemetryItem);\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for BaseCore.prototype.initialize.\r\n// Removed Stub for BaseCore.prototype.track.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    BaseCore.__ieDyn=1;\n\n    return BaseCore;\r\n}(InternalCore));\r\nexport default BaseCore;\r\n//# sourceMappingURL=BaseCore.js.map","/*\n * 1DS JS SDK Core, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* ESPromise.ts\r\n* @author  Nev Wylie (newylie))\r\n* @copyright Microsoft 2019\r\n* Simplified wrapper to provide ES6 style Promise callback handling for older browsers\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { isFunction } from \"@microsoft/applicationinsights-core-js\";\r\n/**\r\n * @ignore -- Don't include in the generated documentation\r\n * Using a local variable to assist with minfication\r\n */\r\nvar _isFunction = isFunction;\r\n/**\r\n * @ignore -- Don't include in the generated documentation\r\n * This function will be used as onFulfilled handler for any Promise found in the iterable passed to Promise.all.\r\n * The goal here is to capture in a closure the index of the current item from the iterable. If we did not create\r\n * this closure, the captured index variable would be the same one that the for loop updates and thus would always\r\n * be pointing to the last index in the iterable by the time that the onFulfilled handler is called.\r\n * However, note that for the resolvedCallback callback we want the opposite. For this one we do want to capture\r\n * the same variable that the for loop updates so that we have the full count of pending promises by the time\r\n * the onFulfilled handlers start getting called.\r\n * @param values The resolving promise values\r\n * @param index The index of this callback function\r\n * @param resolvedCallback THe callback function used to check if the \"all\" promise is complete\r\n */\r\nfunction _createPromiseAllOnResolvedFunction(values, index, resolvedCallback) {\r\n    return function (value) {\r\n        values[index] = value;\r\n        resolvedCallback();\r\n    };\r\n}\r\n/**\r\n * Simplified wrapper to provide ES6 style Promise callback handling for older browsers\r\n */\r\nvar ESPromise = /** @class */ (function () {\r\n    /**\r\n     * The Promise object represents the eventual completion (or failure) of an asynchronous operation, and its resulting value.\r\n     * @param resolverFunc A function that is passed with the arguments resolve and reject. The executor function is executed\r\n     * immediately by the Promise implementation, passing resolve and reject functions (the executor is called before the Promise\r\n     * constructor even returns the created object). The resolve and reject functions, when called, resolve or reject the promise,\r\n     * respectively. The executor normally initiates some asynchronous work, and then, once that completes, either calls the resolve\r\n     * function to resolve the promise or else rejects it if an error occurred. If an error is thrown in the executor function, the\r\n     * promise is rejected. The return value of the executor is ignored.\r\n     */\r\n    function ESPromise(resolverFunc) {\r\n        var _state = 0 /* PromiseState.Pending */;\r\n        var _settledValue = null;\r\n        var _queue = [];\r\n        dynamicProto(ESPromise, this, function (_this) {\r\n            _this.then = function (onResolved, onRejected) {\r\n                return new ESPromise(function (resolve, reject) {\r\n                    // Queue the new promise returned to be resolved or rejected\r\n                    // when this promise settles.\r\n                    _enqueue(onResolved, onRejected, resolve, reject);\r\n                });\r\n            };\r\n            _this[\"catch\"] = function (onRejected) {\r\n                return _this.then(null, onRejected);\r\n            };\r\n        });\r\n        function _enqueue(onResolved, onRejected, resolve, reject) {\r\n            _queue.push(function () {\r\n                var value;\r\n                try {\r\n                    // First call the onFulfilled or onRejected handler, on the settled value\r\n                    // of this promise. If the corresponding handler does not exist, simply\r\n                    // pass through the settled value.\r\n                    if (_state === 1 /* PromiseState.Resolved */) {\r\n                        value = _isFunction(onResolved) ? onResolved(_settledValue) : _settledValue;\r\n                    }\r\n                    else {\r\n                        value = _isFunction(onRejected) ? onRejected(_settledValue) : _settledValue;\r\n                    }\r\n                    if (value instanceof ESPromise) {\r\n                        // The called handlers returned a new promise, so the chained promise\r\n                        // will follow the state of this promise.\r\n                        value.then(resolve, reject);\r\n                    }\r\n                    else if (_state === 2 /* PromiseState.Rejected */ && !_isFunction(onRejected)) {\r\n                        // If there wasn't an onRejected handler and this promise is rejected, then\r\n                        // the chained promise also rejects with the same reason.\r\n                        reject(value);\r\n                    }\r\n                    else {\r\n                        // If this promise is fulfilled, then the chained promise is also fulfilled\r\n                        // with either the settled value of this promise (if no onFulfilled handler\r\n                        // was available) or the return value of the handler. If this promise is\r\n                        // rejected and there was an onRejected handler, then the chained promise is\r\n                        // fulfilled with the return value of the handler.\r\n                        resolve(value);\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    // The chained promise will reject if there is any exception thrown while\r\n                    // calling the onFulfilled or onRejected handlers.\r\n                    reject(error);\r\n                    return;\r\n                }\r\n            });\r\n            // If this promise is already settled, then immediately process the callback we\r\n            // just added to the queue.\r\n            if (_state !== 0 /* PromiseState.Pending */) {\r\n                _processQueue();\r\n            }\r\n        }\r\n        function _processQueue() {\r\n            if (_queue.length > 0) {\r\n                // The onFulfilled and onRejected handlers must be called asynchronously. Thus,\r\n                // we make a copy of the queue and work on it once the current call stack unwinds.\r\n                var pending_1 = _queue.slice();\r\n                _queue = [];\r\n                setTimeout(function () {\r\n                    for (var i = 0, len = pending_1.length; i < len; ++i) {\r\n                        try {\r\n                            pending_1[i]();\r\n                        }\r\n                        catch (e) {\r\n                            // Don't let 1 failing handler break all others\r\n                            // TODO (newylie): Add some form of error reporting (i.e. Call any registered JS error handler so the error is reported)\r\n                        }\r\n                    }\r\n                }, 0);\r\n            }\r\n        }\r\n        function _resolve(value) {\r\n            if (_state === 0 /* PromiseState.Pending */) {\r\n                _settledValue = value;\r\n                _state = 1 /* PromiseState.Resolved */;\r\n                _processQueue();\r\n            }\r\n        }\r\n        function _reject(reason) {\r\n            if (_state === 0 /* PromiseState.Pending */) {\r\n                _settledValue = reason;\r\n                _state = 2 /* PromiseState.Rejected */;\r\n                _processQueue();\r\n            }\r\n        }\r\n        (function _initialize() {\r\n            if (!_isFunction(resolverFunc)) {\r\n                throw new TypeError(\"ESPromise: resolvedFunc argument is not a Function\");\r\n            }\r\n            try {\r\n                resolverFunc(_resolve, _reject);\r\n            }\r\n            catch (error) {\r\n                // This promise will immediately reject if any exception is thrown\r\n                // from within the executor function.\r\n                _reject(error);\r\n            }\r\n        })();\r\n    }\r\n    /**\r\n     * The Promise.resolve() method returns a Promise object that is resolved with a given value. If the value is a promise, that promise is returned;\r\n     * if the value is a thenable (i.e. has a \"then\" method), the returned promise will \"follow\" that thenable, adopting its eventual state; otherwise\r\n     * the returned promise will be fulfilled with the value. This function flattens nested layers of promise-like objects (e.g. a promise that resolves\r\n     * to a promise that resolves to something) into a single layer.\r\n     * @param value Argument to be resolved by this Promise. Can also be a Promise or a thenable to resolve.\r\n     */\r\n    ESPromise.resolve = function (value) {\r\n        if (value instanceof ESPromise) {\r\n            // Value is a Promise so just return it\r\n            return value;\r\n        }\r\n        else if (value && _isFunction(value.then)) {\r\n            // Value looks like a promise or thenable (has a then function)\r\n            return new ESPromise(function (resolve, reject) {\r\n                try {\r\n                    value.then(resolve, reject);\r\n                }\r\n                catch (error) {\r\n                    reject(error);\r\n                }\r\n            });\r\n        }\r\n        return new ESPromise(function (resolve) {\r\n            resolve(value);\r\n        });\r\n    };\r\n    /**\r\n     * The Promise.reject() method returns a Promise object that is rejected with a given reason.\r\n     * @param reason The reason why this Promise rejected.\r\n     */\r\n    ESPromise.reject = function (reason) {\r\n        return new ESPromise(function (resolve, reject) {\r\n            reject(reason);\r\n        });\r\n    };\r\n    /**\r\n     * The Promise.all() method returns a single Promise that resolves when all of the promises passed as an iterable\r\n     * have resolved or when the iterable contains no promises. It rejects with the reason of the first promise that\r\n     * rejects. There is no implied ordering in the execution of the array of Promises given. On some computers, they\r\n     * may be executed in parallel, or in some sense concurrently, while on others they may be executed serially. For\r\n     * this reason, there must be no dependency in any Promise on the order of execution of the Promises.\r\n     * This method can be useful for aggregating the results of multiple promises.\r\n     * FulfillmentSection - The returned promise is fulfilled with an array containing all the values of the iterable\r\n     * passed as argument (also non-promise values).\r\n     * If an empty iterable is passed, then this method returns (synchronously) an already resolved promise.\r\n     * If all of the passed-in promises fulfill, or are not promises, the promise returned by Promise.all is fulfilled\r\n     * asynchronously.\r\n     * RejectionSection - If any of the passed-in promises reject, Promise.all asynchronously rejects with the value of\r\n     * the promise that rejected, whether or not the other promises have resolved.\r\n     * @param iterable\r\n     */\r\n    ESPromise.all = function (iterable) {\r\n        if (!iterable || !iterable.length) {\r\n            return;\r\n        }\r\n        return new ESPromise(function (resolve, reject) {\r\n            try {\r\n                var values_1 = [];\r\n                var pending_2 = 0;\r\n                for (var lp = 0; lp < iterable.length; lp++) {\r\n                    var item = iterable[lp];\r\n                    // Quick and direct check for a Promise (will also catch a thenable)\r\n                    if (item && _isFunction(item.then)) {\r\n                        pending_2++;\r\n                        item.then(_createPromiseAllOnResolvedFunction(values_1, lp, function () {\r\n                            if (--pending_2 === 0) {\r\n                                resolve(values_1);\r\n                            }\r\n                        }), reject);\r\n                    }\r\n                    else {\r\n                        values_1[lp] = item;\r\n                    }\r\n                }\r\n                if (pending_2 === 0) {\r\n                    // All promises were either resolved or where not a promise\r\n                    setTimeout(function () {\r\n                        resolve(values_1);\r\n                    }, 0);\r\n                }\r\n            }\r\n            catch (error) {\r\n                reject(error);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * The race function returns a Promise that is settled the same way (and takes the same value) as the first promise\r\n     * that settles amongst the promises of the iterable passed as an argument.\r\n     * If the iterable passed is empty, the promise returned will be forever pending.\r\n     * If the iterable contains one or more non-promise value and/or an already settled promise, then Promise.race will\r\n     * resolve to the first of these values found in the iterable.\r\n     * @param iterable\r\n     */\r\n    ESPromise.race = function (iterable) {\r\n        return new ESPromise(function (resolve, reject) {\r\n            if (!iterable || !iterable.length) {\r\n                return;\r\n            }\r\n            try {\r\n                var _loop_1 = function (lp) {\r\n                    var item = iterable[lp];\r\n                    // Quick and direct check for a Promise (will also catch a thenable)\r\n                    if (item && _isFunction(item.then)) {\r\n                        item.then(resolve, reject);\r\n                    }\r\n                    else {\r\n                        setTimeout(function () {\r\n                            resolve(item);\r\n                        }, 0);\r\n                    }\r\n                };\r\n                for (var lp = 0; lp < iterable.length; lp++) {\r\n                    _loop_1(lp);\r\n                }\r\n            }\r\n            catch (error) {\r\n                reject(error);\r\n            }\r\n        });\r\n    };\r\n// Removed Stub for ESPromise.prototype.then.\r\n// Removed Stub for ESPromise.prototype[\"catch\"].\r\n    return ESPromise;\r\n}());\r\nexport default ESPromise;\r\n//# sourceMappingURL=ESPromise.js.map","/*\n * 1DS JS SDK Core, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* ESPromiseScheduler.ts\r\n* @author Nev Wylie (newylie)\r\n* @copyright Microsoft 2019\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport ESPromise from \"./ESPromise\";\r\nimport { _warnToConsole, getGlobal } from \"@microsoft/applicationinsights-core-js\";\r\n/** This is a default timeout that will cause outstanding running promises to be removed/rejected to avoid filling up memory with blocked events */\r\nvar LazyRejectPeriod = 600000; // 10 Minutes\r\n// These are global variables that are shared across ALL instances of the scheduler\r\n/**\r\n * @ignore\r\n */\r\nvar _schedulerId = 0;\r\n/**\r\n * @ignore\r\n */\r\nvar _running = [];\r\n/**\r\n * @ignore\r\n */\r\nvar _waiting = [];\r\n/**\r\n * @ignore\r\n */\r\nvar _timedOut = [];\r\n/**\r\n * @ignore\r\n */\r\nfunction _getTime() {\r\n    return new Date().getTime();\r\n}\r\n/**\r\n * Provides a simple mechanism queueing mechanism for scheduling events based on the ESPromise callbacks, this is used to ensure\r\n * order of async operations that are required to be executed in a specific order.\r\n */\r\nvar ESPromiseScheduler = /** @class */ (function () {\r\n    function ESPromiseScheduler(name, diagLog) {\r\n        var _promiseId = 0;\r\n        var _scheduledName = (name || \"<unnamed>\") + \".\" + _schedulerId;\r\n        _schedulerId++;\r\n        dynamicProto(ESPromiseScheduler, this, function (_this) {\r\n            var _lastEvent = null;\r\n            var _eventCount = 0;\r\n            _this.scheduleEvent = function (startEventAction, eventName, timeout) {\r\n                var uniqueId = _scheduledName + \".\" + _eventCount;\r\n                _eventCount++;\r\n                if (eventName) {\r\n                    uniqueId += \"-(\" + eventName + \")\";\r\n                }\r\n                var uniqueEventId = uniqueId + \"{\" + _promiseId + \"}\";\r\n                _promiseId++;\r\n                // Create the next scheduled event details\r\n                var newScheduledEvent = {\r\n                    evt: null,\r\n                    tm: _getTime(),\r\n                    id: uniqueEventId,\r\n                    isRunning: false,\r\n                    isAborted: false\r\n                };\r\n                if (!_lastEvent) {\r\n                    // We don't have any currently running event, so just start the next event\r\n                    newScheduledEvent.evt = _startWaitingEvent(newScheduledEvent);\r\n                }\r\n                else {\r\n                    // Start a new promise which will wait until all current active events are complete before starting\r\n                    // the new event, it does not resolve this scheduled event until after the new event is resolve to\r\n                    // ensure that all scheduled events are completed in the correct order\r\n                    newScheduledEvent.evt = _waitForPreviousEvent(newScheduledEvent, _lastEvent);\r\n                }\r\n                // Set this new event as the last one, so that any future events will wait for this one\r\n                _lastEvent = newScheduledEvent;\r\n                _lastEvent.evt._schId = uniqueEventId;\r\n                return newScheduledEvent.evt;\r\n                function _abortAndRemoveOldEvents(eventQueue) {\r\n                    var now = _getTime();\r\n                    var expired = now - LazyRejectPeriod;\r\n                    var len = eventQueue.length;\r\n                    var lp = 0;\r\n                    while (lp < len) {\r\n                        var evt = eventQueue[lp];\r\n                        if (evt && evt.tm < expired) {\r\n                            var message = null;\r\n                            if (evt.abort) {\r\n                                message = \"Aborting [\" + evt.id + \"] due to Excessive runtime (\" + (now - evt.tm) + \" ms)\";\r\n                                evt.abort(message);\r\n                            }\r\n                            else {\r\n                                message = \"Removing [\" + evt.id + \"] due to Excessive runtime (\" + (now - evt.tm) + \" ms)\";\r\n                            }\r\n                            _warnLog(message);\r\n                            eventQueue.splice(lp, 1);\r\n                            len--;\r\n                        }\r\n                        else {\r\n                            lp++;\r\n                        }\r\n                    }\r\n                }\r\n                function _cleanup(eventId, completed) {\r\n                    var toQueue = false;\r\n                    var removed = _removeQueuedEvent(_running, eventId);\r\n                    if (!removed) {\r\n                        removed = _removeQueuedEvent(_timedOut, eventId);\r\n                        toQueue = true;\r\n                    }\r\n                    if (removed) {\r\n                        if (removed.to) {\r\n                            // If there was a timeout stop it\r\n                            clearTimeout(removed.to);\r\n                            removed.to = null;\r\n                        }\r\n                        // TODO (newylie): Convert this into reportable metrics\r\n                        var tm = _getTime() - removed.tm;\r\n                        if (completed) {\r\n                            if (!toQueue) {\r\n                                _debugLog(\"Promise [\" + eventId + \"] Complete -- \" + tm + \" ms\");\r\n                            }\r\n                            else {\r\n                                _warnLog(\"Timed out event [\" + eventId + \"] finally complete -- \" + tm + \" ms\");\r\n                            }\r\n                        }\r\n                        else {\r\n                            _timedOut.push(removed);\r\n                            _warnLog(\"Event [\" + eventId + \"] Timed out and removed -- \" + tm + \" ms\");\r\n                        }\r\n                    }\r\n                    else {\r\n                        _debugLog(\"Failed to remove [\" + eventId + \"] from running queue\");\r\n                    }\r\n                    // Also if the last scheduled event was this event then clear it as we are now finished\r\n                    if (_lastEvent && _lastEvent.id === eventId) {\r\n                        _lastEvent = null;\r\n                    }\r\n                    _abortAndRemoveOldEvents(_running);\r\n                    _abortAndRemoveOldEvents(_waiting);\r\n                    _abortAndRemoveOldEvents(_timedOut);\r\n                }\r\n                // Return a callback function that will be called when the waiting promise is resolved or rejected to ensure\r\n                // that any outer promise is also resolved or rejected\r\n                function _removeScheduledEvent(eventId, callback) {\r\n                    return function (value) {\r\n                        _cleanup(eventId, true);\r\n                        callback && callback(value);\r\n                        return value;\r\n                    };\r\n                }\r\n                function _waitForFinalResult(eventId, startResult, schEventResolve, schEventReject) {\r\n                    startResult.then(function (value) {\r\n                        if (value instanceof ESPromise) {\r\n                            // If the result is a promise then this appears to be a chained result, so wait for this promise to complete\r\n                            _debugLog(\"Event [\" + eventId + \"] returned a promise -- waiting\");\r\n                            _waitForFinalResult(eventId, value, schEventResolve, schEventReject);\r\n                            return value;\r\n                        }\r\n                        else {\r\n                            return _removeScheduledEvent(eventId, schEventResolve)(value);\r\n                        }\r\n                    }, _removeScheduledEvent(eventId, schEventReject));\r\n                }\r\n                // Add the passed event to the active event list with resolve and reject callbacks that will remove\r\n                // it from the active event list\r\n                function _createScheduledEvent(eventDetails, startEvent) {\r\n                    var eventId = eventDetails.id;\r\n                    return new ESPromise(function (schEventResolve, schEventReject) {\r\n                        _debugLog(\"Event [\" + eventId + \"] Starting -- waited for \" + (eventDetails.wTm || \"--\") + \" ms\");\r\n                        eventDetails.isRunning = true;\r\n                        eventDetails.abort = function (message) {\r\n                            eventDetails.abort = null;\r\n                            eventDetails.isAborted = true;\r\n                            _cleanup(eventId, false);\r\n                            schEventReject(new Error(message));\r\n                        };\r\n                        var startResult = startEvent(eventId);\r\n                        if (startResult instanceof ESPromise) {\r\n                            if (timeout) {\r\n                                // Note: Only starting a timer if a timeout was specified\r\n                                eventDetails.to = setTimeout(function () {\r\n                                    _cleanup(eventId, false);\r\n                                    // Cause the listeners to reject (Note: We can't actually reject the waiting event)\r\n                                    schEventReject(new Error(\"Timed out after [\" + timeout + \"] ms\"));\r\n                                }, timeout);\r\n                            }\r\n                            _waitForFinalResult(eventId, startResult, function (theResult) {\r\n                                _debugLog(\"Event [\" + eventId + \"] Resolving after \" + (_getTime() - eventDetails.tm) + \" ms\");\r\n                                schEventResolve(theResult);\r\n                            }, schEventReject);\r\n                        }\r\n                        else {\r\n                            // The startEvent didn't return a promise so just return a resolved promise\r\n                            _debugLog(\"Promise [\" + eventId + \"] Auto completed as the start action did not return a promise\");\r\n                            schEventResolve();\r\n                        }\r\n                    });\r\n                }\r\n                function _startWaitingEvent(eventDetails) {\r\n                    var now = _getTime();\r\n                    eventDetails.wTm = now - eventDetails.tm;\r\n                    eventDetails.tm = now;\r\n                    if (eventDetails.isAborted) {\r\n                        return ESPromise.reject(new Error(\"[\" + uniqueId + \"] was aborted\"));\r\n                    }\r\n                    _running.push(eventDetails);\r\n                    return _createScheduledEvent(eventDetails, startEventAction);\r\n                }\r\n                // Start a new promise which will wait until all current active events are complete before starting\r\n                // the new event, it does not resolve this scheduled event until after the new event is resolve to\r\n                // ensure that all scheduled events are completed in the correct order\r\n                function _waitForPreviousEvent(eventDetails, waitForEvent) {\r\n                    var waitEvent = new ESPromise(function (waitResolve, waitReject) {\r\n                        var runTime = _getTime() - waitForEvent.tm;\r\n                        var prevId = waitForEvent.id;\r\n                        _debugLog(\"[\" + uniqueId + \"] is waiting for [\" + prevId + \":\" + runTime + \" ms] to complete before starting -- [\" + _waiting.length + \"] waiting and [\" + _running.length + \"] running\");\r\n                        eventDetails.abort = function (message) {\r\n                            eventDetails.abort = null;\r\n                            _removeQueuedEvent(_waiting, uniqueId);\r\n                            eventDetails.isAborted = true;\r\n                            waitReject(new Error(message));\r\n                        };\r\n                        // Wait for the previous event to complete\r\n                        waitForEvent.evt.then(function (value) {\r\n                            _removeQueuedEvent(_waiting, uniqueId);\r\n                            // Wait for the last event to complete before starting the new one, this ensures the execution\r\n                            // order so that we don't try and remove events that havn't been committed yet\r\n                            _startWaitingEvent(eventDetails).then(waitResolve, waitReject);\r\n                        }, function (reason) {\r\n                            _removeQueuedEvent(_waiting, uniqueId);\r\n                            // Wait for the last event to complete before starting the new one, this ensures the execution\r\n                            // order so that we don't try and remove events that havn't been committed yet\r\n                            _startWaitingEvent(eventDetails).then(waitResolve, waitReject);\r\n                        });\r\n                    });\r\n                    _waiting.push(eventDetails);\r\n                    return waitEvent;\r\n                }\r\n            };\r\n            function _removeQueuedEvent(queue, eventId) {\r\n                for (var lp = 0; lp < queue.length; lp++) {\r\n                    if (queue[lp].id === eventId) {\r\n                        return queue.splice(lp, 1)[0];\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n        });\r\n        function _debugLog(message) {\r\n            // Only log if running within test harness\r\n            var global = getGlobal();\r\n            if (global && global[\"QUnit\"]) {\r\n                // tslint:disable-next-line:no-console\r\n                console && console.log(\"ESPromiseScheduler[\" + _scheduledName + \"] \" + message);\r\n            }\r\n        }\r\n        function _warnLog(message) {\r\n            _warnToConsole(diagLog, \"ESPromiseScheduler[\" + _scheduledName + \"] \" + message);\r\n        }\r\n    }\r\n    ESPromiseScheduler.incomplete = function () {\r\n        return _running;\r\n    };\r\n    ESPromiseScheduler.waitingToStart = function () {\r\n        return _waiting;\r\n    };\r\n// Removed Stub for ESPromiseScheduler.prototype.scheduleEvent.\r\n    return ESPromiseScheduler;\r\n}());\r\nexport default ESPromiseScheduler;\r\n//# sourceMappingURL=ESPromiseScheduler.js.map","/*\n * 1DS JS SDK Core, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { isNullOrUndefined, isString, objForEachKey } from \"@microsoft/applicationinsights-core-js\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { getFieldValueType, isValueAssigned, isValueKind } from \"./Utils\";\r\nvar ValueSanitizer = /** @class */ (function () {\r\n    function ValueSanitizer(fieldSanitizerProvider) {\r\n        var _self = this;\r\n        // To aid with performance this is a lookup map to check if the field value sanitizer supports this field\r\n        var _sanitizerMap = {};\r\n        var _sanitizers = [];\r\n        var _fieldSanitizers = [];\r\n        if (fieldSanitizerProvider) {\r\n            _fieldSanitizers.push(fieldSanitizerProvider);\r\n        }\r\n        function _getFieldSanitizer(path, name) {\r\n            var result;\r\n            var fieldLookup = _sanitizerMap[path];\r\n            if (fieldLookup) {\r\n                result = fieldLookup[name];\r\n            }\r\n            if (!result && result !== null) {\r\n                // Null is a valid result indicating that the value sanitizer does not support this field\r\n                if (isString(path) && isString(name)) {\r\n                    if (_fieldSanitizers.length > 0) {\r\n                        for (var lp = 0; lp < _fieldSanitizers.length; lp++) {\r\n                            if (_fieldSanitizers[lp].handleField(path, name)) {\r\n                                result = {\r\n                                    canHandle: true,\r\n                                    fieldHandler: _fieldSanitizers[lp]\r\n                                };\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (_sanitizers.length === 0) {\r\n                        // Special use-case where there is no sanitizer to pass on to, so just resolving the field\r\n                        // and returning the resulting value (same as sanitizeProperty())\r\n                        result = {\r\n                            canHandle: true\r\n                        };\r\n                    }\r\n                }\r\n                // We still don't have a handler so lets lookup the providers\r\n                if (!result && result !== null) {\r\n                    // Setting the result to null -- which means we and any contained sanitizers can't handle this field\r\n                    result = null;\r\n                    for (var lp = 0; lp < _sanitizers.length; lp++) {\r\n                        if (_sanitizers[lp].handleField(path, name)) {\r\n                            result = {\r\n                                canHandle: true,\r\n                                handler: _sanitizers[lp],\r\n                                fieldHandler: null\r\n                            };\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (!fieldLookup) {\r\n                    fieldLookup = _sanitizerMap[path] = {};\r\n                }\r\n                fieldLookup[name] = result;\r\n            }\r\n            return result;\r\n        }\r\n        _self.addSanitizer = function (newSanitizer) {\r\n            if (newSanitizer) {\r\n                _sanitizers.push(newSanitizer);\r\n                // Invalidate any previously mapped fields\r\n                _sanitizerMap = {};\r\n            }\r\n        };\r\n        _self.addFieldSanitizer = function (fieldSanitizer) {\r\n            if (fieldSanitizer) {\r\n                _fieldSanitizers.push(fieldSanitizer);\r\n                // Invalidate any previously mapped fields\r\n                _sanitizerMap = {};\r\n            }\r\n        };\r\n        _self.handleField = function (path, name) {\r\n            var mapValue = _getFieldSanitizer(path, name);\r\n            return mapValue ? mapValue.canHandle : false;\r\n        };\r\n        _self.value = function (path, name, value, stringifyObjects) {\r\n            var mapValue = _getFieldSanitizer(path, name);\r\n            if (mapValue && mapValue.canHandle) {\r\n                if (!mapValue || !mapValue.canHandle) {\r\n                    return null;\r\n                }\r\n                if (mapValue.handler) {\r\n                    // This value sanitizer can't handle this field so pass it only the next one\r\n                    return mapValue.handler.value(path, name, value, stringifyObjects);\r\n                }\r\n                // Check that property is valid\r\n                if (!isString(name) || isNullOrUndefined(value) || value === STR_EMPTY) {\r\n                    return null;\r\n                }\r\n                var property = null;\r\n                var fieldType = getFieldValueType(value);\r\n                if ((fieldType & 8192 /* FieldValueSanitizerType.EventProperty */) === 8192 /* FieldValueSanitizerType.EventProperty */) {\r\n                    var subType = fieldType & ~8192 /* FieldValueSanitizerType.EventProperty */;\r\n                    property = value;\r\n                    if (!isValueAssigned(property.value) ||\r\n                        (subType !== 1 /* FieldValueSanitizerType.String */ &&\r\n                            subType !== 2 /* FieldValueSanitizerType.Number */ &&\r\n                            subType !== 3 /* FieldValueSanitizerType.Boolean */ &&\r\n                            (subType & 4096 /* FieldValueSanitizerType.Array */) !== 4096 /* FieldValueSanitizerType.Array */)) {\r\n                        // Not a supported IEventProperty type to be able to sanitize\r\n                        return null;\r\n                    }\r\n                }\r\n                else if (fieldType === 1 /* FieldValueSanitizerType.String */ ||\r\n                    fieldType === 2 /* FieldValueSanitizerType.Number */ ||\r\n                    fieldType === 3 /* FieldValueSanitizerType.Boolean */ ||\r\n                    (fieldType & 4096 /* FieldValueSanitizerType.Array */) === 4096 /* FieldValueSanitizerType.Array */) {\r\n                    // If the property isn't IEventProperty (and is either string, number, boolean or array), convert it into one.\r\n                    property = _convertToProperty(path, name, value);\r\n                }\r\n                else if (fieldType === 4 /* FieldValueSanitizerType.Object */) {\r\n                    property = _convertToProperty(path, name, !!stringifyObjects ? JSON.stringify(value) : value);\r\n                }\r\n                if (property) {\r\n                    return _handleProperty(mapValue, path, name, fieldType, property, stringifyObjects);\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        _self.property = function (path, name, property, stringifyObjects) {\r\n            var mapValue = _getFieldSanitizer(path, name);\r\n            if (!mapValue || !mapValue.canHandle) {\r\n                return null;\r\n            }\r\n            // Check that property is valid\r\n            if (!isString(name) || isNullOrUndefined(property) || !isValueAssigned(property.value)) {\r\n                return null;\r\n            }\r\n            var fieldType = getFieldValueType(property.value);\r\n            if (fieldType === 0 /* FieldValueSanitizerType.NotSet */) {\r\n                // Not a supported field that we can sanitize or serialize\r\n                return null;\r\n            }\r\n            return _handleProperty(mapValue, path, name, fieldType, property, stringifyObjects);\r\n        };\r\n        function _handleProperty(mapValue, path, name, fieldType, property, stringifyObjects) {\r\n            if (mapValue.handler) {\r\n                // This value sanitizer can't handle this field so pass it only the next one\r\n                return mapValue.handler.property(path, name, property, stringifyObjects);\r\n            }\r\n            // If either pii or cc is set convert value to string (since only string pii/cc is allowed).\r\n            // If the value is a complex type like an array that can't be converted to string we will drop\r\n            // the property.\r\n            if (!isNullOrUndefined(property.kind)) {\r\n                if ((fieldType & 4096 /* FieldValueSanitizerType.Array */) === 4096 /* FieldValueSanitizerType.Array */ || !isValueKind(property.kind)) {\r\n                    return null;\r\n                }\r\n                // Convert the value to a string and assign back to the original value\r\n                property.value = property.value.toString();\r\n            }\r\n            return _callFieldSanitizer(mapValue.fieldHandler, path, name, fieldType, property);\r\n        }\r\n        function _convertToProperty(path, name, value) {\r\n            if (isValueAssigned(value)) {\r\n                return { value: value };\r\n            }\r\n            return null;\r\n        }\r\n        function _callFieldSanitizer(fieldProvider, path, name, theType, property) {\r\n            if (property && fieldProvider) {\r\n                var sanitizer = fieldProvider.getSanitizer(path, name, theType, property.kind, property.propertyType);\r\n                if (sanitizer) {\r\n                    // This is where we the field will call the handler to \"scrub\" the value. This the primary hook for the ClientHashing Plugin to\r\n                    // be able to apply the hashFunc() / Sha256 conversion of the properties value\r\n                    if (theType === 4 /* FieldValueSanitizerType.Object */) {\r\n                        // Special case of an embedded object (ext.metadata, data.properties)\r\n                        var newValue_1 = {};\r\n                        var propValue = property.value;\r\n                        objForEachKey(propValue, function (propKey, theValue) {\r\n                            var newPath = path + \".\" + name;\r\n                            if (isValueAssigned(theValue)) {\r\n                                var newProp = _convertToProperty(newPath, propKey, theValue);\r\n                                newProp = _callFieldSanitizer(fieldProvider, newPath, propKey, getFieldValueType(theValue), newProp);\r\n                                if (newProp) {\r\n                                    newValue_1[propKey] = newProp.value;\r\n                                }\r\n                            }\r\n                        });\r\n                        property.value = newValue_1;\r\n                    }\r\n                    else {\r\n                        var details = {\r\n                            path: path,\r\n                            name: name,\r\n                            type: theType,\r\n                            prop: property,\r\n                            sanitizer: _self\r\n                        };\r\n                        property = sanitizer.call(_self, details);\r\n                    }\r\n                }\r\n            }\r\n            return property;\r\n        }\r\n    }\r\n    ValueSanitizer.getFieldType = getFieldValueType;\r\n    return ValueSanitizer;\r\n}());\r\nexport { ValueSanitizer };\r\n//# sourceMappingURL=ValueSanitizer.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\"use strict\";\r\nexport var MinChannelPriorty = 100;\r\n//# sourceMappingURL=IChannelControls.js.map","/*\n * 1DS JS SDK Core, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n\r\n// Licensed under the MIT License.\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Generally you should only put values that are used more than 2 times and then only if not already exposed as a constant (such as SdkCoreNames)\r\n// as when using \"short\" named values from here they will be will be minified smaller than the SdkCoreNames[eSdkCoreNames.xxxx] value.\r\nexport var STR_EMPTY = \"\";\r\nexport var STR_DEFAULT_ENDPOINT_URL = \"https://browser.events.data.microsoft.com/OneCollector/1.0/\";\r\nexport var STR_PLUGIN_VERSION_STRING = \"pluginVersionString\";\r\nexport var STR_PLUGIN_VERSION_STRING_ARR = STR_PLUGIN_VERSION_STRING + \"Arr\";\r\nexport var STR_VERSION = \"version\";\r\nexport var STR_PROPERTIES = \"properties\";\r\n//# sourceMappingURL=InternalConstants.js.map","/*\n * 1DS JS SDK Core, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nvar _a;\r\n/**\r\n* Utils.ts\r\n* @author  Abhilash Panwar (abpanwar) Hector Hernandez (hectorh)\r\n* @copyright Microsoft 2018\r\n* File containing utility functions.\r\n*/\r\nimport { addEventHandler, addPageUnloadEventListener, areCookiesSupported, arrForEach, arrIndexOf, arrMap, arrReduce, dateNow, generateW3CId, getDocument, getGlobalInst, getNavigator, getWindow, hasOwnProperty, isArray, isBeaconsSupported, isBoolean, isDate, isError, isFunction, isIE, isNullOrUndefined, isNumber, isObject, isReactNative, isString, isTypeof, isUndefined, mwcRandom32, mwcRandomSeed, newGuid, newId, objDefineAccessors, objForEachKey, objKeys, perfNow, random32, randomValue, safeGetCookieMgr, strEndsWith, strObject, strTrim, strUndefined, toISOString, uaDisallowsSameSiteNone, useXDomainRequest } from \"@microsoft/applicationinsights-core-js\";\r\nimport { ObjHasOwnProperty, objCreateFn, strShimObject, strShimPrototype } from \"@microsoft/applicationinsights-shims\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nexport var Version = '3.2.18';\r\nexport var FullVersionString = \"1DS-Web-JS-\" + Version;\r\n// Defining here so we don't need to take (import) the ApplicationInsights Common module\r\nvar strDisabledPropertyName = \"Microsoft_ApplicationInsights_BypassAjaxInstrumentation\";\r\nvar strWithCredentials = \"withCredentials\";\r\nvar strTimeout = \"timeout\";\r\n// If value is array just get the type for the first element\r\nvar _fieldTypeEventPropMap = (_a = {},\r\n    _a[0 /* FieldValueSanitizerType.NotSet */] = 0 /* eEventPropertyType.Unspecified */,\r\n    _a[2 /* FieldValueSanitizerType.Number */] = 6 /* eEventPropertyType.Double */,\r\n    _a[1 /* FieldValueSanitizerType.String */] = 1 /* eEventPropertyType.String */,\r\n    _a[3 /* FieldValueSanitizerType.Boolean */] = 7 /* eEventPropertyType.Bool */,\r\n    _a[4096 /* FieldValueSanitizerType.Array */ | 2 /* FieldValueSanitizerType.Number */] = 6 /* eEventPropertyType.Double */,\r\n    _a[4096 /* FieldValueSanitizerType.Array */ | 1 /* FieldValueSanitizerType.String */] = 1 /* eEventPropertyType.String */,\r\n    _a[4096 /* FieldValueSanitizerType.Array */ | 3 /* FieldValueSanitizerType.Boolean */] = 7 /* eEventPropertyType.Bool */,\r\n    _a);\r\n/**\r\n * @ignore\r\n */\r\n// let _uaDisallowsSameSiteNone = null;\r\nvar uInt8ArraySupported = null;\r\n// var _areCookiesAvailable: boolean | undefined;\r\n/**\r\n * Checks if document object is available\r\n */\r\nexport var isDocumentObjectAvailable = Boolean(getDocument());\r\n/**\r\n * Checks if window object is available\r\n */\r\nexport var isWindowObjectAvailable = Boolean(getWindow());\r\n/**\r\n * Checks if value is assigned to the given param.\r\n * @param value - The token from which the tenant id is to be extracted.\r\n * @returns True/false denoting if value is assigned to the param.\r\n */\r\nexport function isValueAssigned(value) {\r\n    /// <summary> takes a value and checks for undefined, null and empty string </summary>\r\n    /// <param type=\"any\"> value to be tested </param>\r\n    /// <returns> true if value is null undefined or emptyString </returns>\r\n    return !(value === STR_EMPTY || isNullOrUndefined(value));\r\n}\r\n/**\r\n * Gets the tenant id from the tenant token.\r\n * @param apiKey - The token from which the tenant id is to be extracted.\r\n * @returns The tenant id.\r\n */\r\nexport function getTenantId(apiKey) {\r\n    if (apiKey) {\r\n        var indexTenantId = apiKey.indexOf(\"-\");\r\n        if (indexTenantId > -1) {\r\n            return apiKey.substring(0, indexTenantId);\r\n        }\r\n    }\r\n    return STR_EMPTY;\r\n}\r\n/**\r\n * Checks if Uint8Array are available in the current environment. Safari and Firefox along with\r\n * ReactNative are known to not support Uint8Array properly.\r\n * @returns True if available, false otherwise.\r\n */\r\nexport function isUint8ArrayAvailable() {\r\n    if (uInt8ArraySupported === null) {\r\n        uInt8ArraySupported = !isUndefined(Uint8Array) && !isSafariOrFirefox() && !isReactNative();\r\n    }\r\n    return uInt8ArraySupported;\r\n}\r\n/**\r\n * Checks if the value is a valid EventLatency.\r\n * @param value - The value that needs to be checked.\r\n * @returns True if the value is in AWTEventLatency, false otherwise.\r\n */\r\nexport function isLatency(value) {\r\n    if (value && isNumber(value) && value >= 1 /* EventLatencyValue.Normal */ && value <= 4 /* EventLatencyValue.Immediate */) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Sanitizes the Property. It checks the that the property name and value are valid. It also\r\n * checks/populates the correct type and pii of the property value.\r\n * @param name - property name                          - The property name.\r\n * @param property - The property value or an IEventProperty containing value,\r\n * type ,pii and customer content.\r\n * @returns IEventProperty containing valid name, value, pii and type or null if invalid.\r\n */\r\nexport function sanitizeProperty(name, property, stringifyObjects) {\r\n    // Check that property is valid\r\n    if ((!property && !isValueAssigned(property)) || typeof name !== \"string\") {\r\n        return null;\r\n    }\r\n    // Perf optimization -- only need to get the type once not multiple times\r\n    var propType = typeof property;\r\n    // If the property isn't IEventProperty (and is either string, number, boolean or array), convert it into one.\r\n    if (propType === \"string\" || propType === \"number\" || propType === \"boolean\" || isArray(property)) {\r\n        property = { value: property };\r\n    }\r\n    else if (propType === \"object\" && !ObjHasOwnProperty.call(property, \"value\")) {\r\n        property = { value: stringifyObjects ? JSON.stringify(property) : property };\r\n    }\r\n    else if (isNullOrUndefined(property.value)\r\n        || property.value === STR_EMPTY || (!isString(property.value)\r\n        && !isNumber(property.value) && !isBoolean(property.value)\r\n        && !isArray(property.value))) {\r\n        // Since property is IEventProperty, we need to validate its value\r\n        return null;\r\n    }\r\n    // We need to check that if the property value is an array, it is valid\r\n    if (isArray(property.value) &&\r\n        !isArrayValid(property.value)) {\r\n        return null;\r\n    }\r\n    // If either pii or cc is set convert value to string (since only string pii/cc is allowed).\r\n    // If the value is a complex type like an array that can't be converted to string we will drop\r\n    // the property.\r\n    if (!isNullOrUndefined(property.kind)) {\r\n        if (isArray(property.value) || !isValueKind(property.kind)) {\r\n            return null;\r\n        }\r\n        property.value = property.value.toString();\r\n    }\r\n    return property;\r\n}\r\nexport function getCommonSchemaMetaData(value, kind, type) {\r\n    var encodedTypeValue = -1;\r\n    if (!isUndefined(value)) {\r\n        if (kind > 0) {\r\n            if (kind === 32) {\r\n                // encode customer content. Value can only be string. bit 13-16 are for cc\r\n                encodedTypeValue = (1 << 13);\r\n            }\r\n            else if (kind <= 13) {\r\n                // encode PII. Value can only be string. bits 5-12 are for Pii\r\n                encodedTypeValue = (kind << 5);\r\n            }\r\n        }\r\n        // isDataType checks that the \"type\" is a number so we don't need to check for undefined\r\n        if (isDataType(type)) {\r\n            // Data Type is provided and valid, so use that\r\n            if (encodedTypeValue === -1) {\r\n                // Don't return -1\r\n                encodedTypeValue = 0;\r\n            }\r\n            encodedTypeValue |= type;\r\n        }\r\n        else {\r\n            var propType = _fieldTypeEventPropMap[getFieldValueType(value)] || -1;\r\n            if (encodedTypeValue !== -1 && propType !== -1) {\r\n                // pii exists so we must return correct type\r\n                encodedTypeValue |= propType;\r\n            }\r\n            else if (propType === 6 /* eEventPropertyType.Double */) {\r\n                encodedTypeValue = propType;\r\n            }\r\n        }\r\n    }\r\n    return encodedTypeValue;\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().disable()\r\n * Force the SDK not to store and read any data from cookies.\r\n * Overriding the applicationinsights-core version for tree-shaking\r\n */\r\nexport function disableCookies() {\r\n    safeGetCookieMgr(null).setEnabled(false);\r\n}\r\n/**\r\n * @deprecated - Use the oneDs.getCookieMgr().set()\r\n * Sets the value of a cookie.\r\n * @param name - Cookie name.\r\n * @param value - Cookie value.\r\n * @param days - Expiration days.\r\n */\r\nexport function setCookie(name, value, days) {\r\n    if (areCookiesSupported(null)) {\r\n        safeGetCookieMgr(null).set(name, value, days * 86400, null, \"/\");\r\n    }\r\n}\r\n/**\r\n * @deprecated - Use the oneDs.getCookieMgr().del()\r\n * Deletes a cookie, by setting its expiration to -1.\r\n * @param name - Cookie name to delete.\r\n */\r\nexport function deleteCookie(name) {\r\n    if (areCookiesSupported(null)) {\r\n        safeGetCookieMgr(null).del(name);\r\n    }\r\n}\r\n/**\r\n * @deprecated - Use the oneDs.getCookieMgr().get()\r\n * Gets the cookie value for the specified cookie.\r\n * if value is k1=v1&k2==v2 then will return 'v1' for key 'k1'\r\n * @param cookieName - Cookie name.\r\n */\r\nexport function getCookie(name) {\r\n    if (areCookiesSupported(null)) {\r\n        return getCookieValue(safeGetCookieMgr(null), name);\r\n    }\r\n    return STR_EMPTY;\r\n}\r\n/**\r\n * Helper to get and decode the cookie value using decodeURIComponent, this is for historical\r\n * backward compatibility where the document.cookie value was decoded before parsing.\r\n * @param cookieMgr - The cookie manager to use\r\n * @param name - The name of the cookie to get\r\n * @param decode - A flag to indicate whether the cookie value should be decoded\r\n * @returns The decoded cookie value (if available) otherwise an empty string.\r\n */\r\nexport function getCookieValue(cookieMgr, name, decode) {\r\n    if (decode === void 0) { decode = true; }\r\n    var cookieValue;\r\n    if (cookieMgr) {\r\n        cookieValue = cookieMgr.get(name);\r\n        if (decode && cookieValue && decodeURIComponent) {\r\n            cookieValue = decodeURIComponent(cookieValue);\r\n        }\r\n    }\r\n    return cookieValue || STR_EMPTY;\r\n}\r\n/**\r\n * Create a new guid.\r\n * @param style - The style of guid to generated, defaults to Digits\r\n * Digits (Default) : 32 digits separated by hyphens: 00000000-0000-0000-0000-000000000000\r\n * Braces - 32 digits separated by hyphens, enclosed in braces: {00000000-0000-0000-0000-000000000000}\r\n * Parentheses - 32 digits separated by hyphens, enclosed in parentheses: (00000000-0000-0000-0000-000000000000)\r\n * Numeric - 32 digits: 00000000000000000000000000000000\r\n * @returns The formatted guid.\r\n */\r\nexport function createGuid(style) {\r\n    if (style === void 0) { style = \"D\" /* GuidStyle.Digits */; }\r\n    var theGuid = newGuid();\r\n    if (style === \"B\" /* GuidStyle.Braces */) {\r\n        theGuid = \"{\" + theGuid + \"}\";\r\n    }\r\n    else if (style === \"P\" /* GuidStyle.Parentheses */) {\r\n        theGuid = \"(\" + theGuid + \")\";\r\n    }\r\n    else if (style === \"N\" /* GuidStyle.Numeric */) {\r\n        theGuid = theGuid.replace(/-/g, STR_EMPTY);\r\n    }\r\n    return theGuid;\r\n}\r\n/**\r\n * Pass in the objects to merge as arguments.\r\n * @param obj1 - object to merge.  Set this argument to 'true' for a deep extend.\r\n * @param obj2 - object to merge.\r\n * @param obj3 - object to merge.\r\n * @param obj4 - object to merge.\r\n * @param obj5 - object to merge.\r\n * @returns The extended object.\r\n */\r\nexport function extend(obj, obj2, obj3, obj4, obj5) {\r\n    // Variables\r\n    var extended = {};\r\n    var deep = false;\r\n    var i = 0;\r\n    var length = arguments.length;\r\n    var objProto = Object[strShimPrototype];\r\n    var theArgs = arguments;\r\n    // Check if a deep merge\r\n    if (objProto.toString.call(theArgs[0]) === \"[object Boolean]\") {\r\n        deep = theArgs[0];\r\n        i++;\r\n    }\r\n    // Loop through each object and conduct a merge\r\n    for (; i < length; i++) {\r\n        var obj = theArgs[i];\r\n        objForEachKey(obj, function (prop, value) {\r\n            // If deep merge and property is an object, merge properties\r\n            if (deep && value && isObject(value)) {\r\n                if (isArray(value)) {\r\n                    extended[prop] = extended[prop] || [];\r\n                    arrForEach(value, function (arrayValue, arrayIndex) {\r\n                        if (arrayValue && isObject(arrayValue)) {\r\n                            extended[prop][arrayIndex] = extend(true, extended[prop][arrayIndex], arrayValue);\r\n                        }\r\n                        else {\r\n                            extended[prop][arrayIndex] = arrayValue;\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    extended[prop] = extend(true, extended[prop], value);\r\n                }\r\n            }\r\n            else {\r\n                extended[prop] = value;\r\n            }\r\n        });\r\n    }\r\n    return extended;\r\n}\r\nexport var getTime = perfNow;\r\nexport function isValueKind(value) {\r\n    // Always assume that it's a number (no type checking) for performance as this is used during the JSON serialization\r\n    if (value === 0 /* eValueKind.NotSet */ || ((value > 0 /* eValueKind.NotSet */ && value <= 13 /* eValueKind.Pii_IPV4AddressLegacy */) || value === 32 /* eValueKind.CustomerContent_GenericContent */)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isDataType(value) {\r\n    // Remark: 0 returns false, but it doesn't affect encoding anyways\r\n    // Always assume that it's a number (no type checking) for performance as this is used during the JSON serialization\r\n    if (value >= 0 && value <= 9) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isSafariOrFirefox() {\r\n    var nav = getNavigator();\r\n    // If non-browser navigator will be undefined\r\n    if (!isUndefined(nav) && nav.userAgent) {\r\n        var ua = nav.userAgent.toLowerCase();\r\n        if ((ua.indexOf(\"safari\") >= 0 || ua.indexOf(\"firefox\") >= 0) && ua.indexOf(\"chrome\") < 0) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexport function isArrayValid(value) {\r\n    return value.length > 0;\r\n}\r\nexport function setProcessTelemetryTimings(event, identifier) {\r\n    var evt = event;\r\n    evt.timings = evt.timings || {};\r\n    evt.timings.processTelemetryStart = evt.timings.processTelemetryStart || {};\r\n    evt.timings.processTelemetryStart[identifier] = getTime();\r\n}\r\n/**\r\n * Returns a bitwise value for the FieldValueSanitizerType enum representing the decoded type of the passed value\r\n * @param value The value to determine the type\r\n */\r\nexport function getFieldValueType(value) {\r\n    var theType = 0 /* FieldValueSanitizerType.NotSet */;\r\n    if (value !== null && value !== undefined) {\r\n        var objType = typeof value;\r\n        if (objType === \"string\") {\r\n            theType = 1 /* FieldValueSanitizerType.String */;\r\n        }\r\n        else if (objType === \"number\") {\r\n            theType = 2 /* FieldValueSanitizerType.Number */;\r\n        }\r\n        else if (objType === \"boolean\") {\r\n            theType = 3 /* FieldValueSanitizerType.Boolean */;\r\n        }\r\n        else if (objType === strShimObject) {\r\n            theType = 4 /* FieldValueSanitizerType.Object */;\r\n            if (isArray(value)) {\r\n                theType = 4096 /* FieldValueSanitizerType.Array */;\r\n                if (value.length > 0) {\r\n                    // Empty arrays are not supported and are considered to be the same as null\r\n                    theType |= getFieldValueType(value[0]);\r\n                }\r\n            }\r\n            else if (ObjHasOwnProperty.call(value, \"value\")) {\r\n                // Looks like an IEventProperty\r\n                theType = 8192 /* FieldValueSanitizerType.EventProperty */ | getFieldValueType(value.value);\r\n            }\r\n        }\r\n    }\r\n    return theType;\r\n}\r\nexport var Utils = {\r\n    Version: Version,\r\n    FullVersionString: FullVersionString,\r\n    strUndefined: strUndefined,\r\n    strObject: strObject,\r\n    Undefined: strUndefined,\r\n    arrForEach: arrForEach,\r\n    arrIndexOf: arrIndexOf,\r\n    arrMap: arrMap,\r\n    arrReduce: arrReduce,\r\n    objKeys: objKeys,\r\n    toISOString: toISOString,\r\n    isReactNative: isReactNative,\r\n    isString: isString,\r\n    isNumber: isNumber,\r\n    isBoolean: isBoolean,\r\n    isFunction: isFunction,\r\n    isArray: isArray,\r\n    isObject: isObject,\r\n    strTrim: strTrim,\r\n    isDocumentObjectAvailable: isDocumentObjectAvailable,\r\n    isWindowObjectAvailable: isWindowObjectAvailable,\r\n    isValueAssigned: isValueAssigned,\r\n    getTenantId: getTenantId,\r\n    isBeaconsSupported: isBeaconsSupported,\r\n    isUint8ArrayAvailable: isUint8ArrayAvailable,\r\n    isLatency: isLatency,\r\n    sanitizeProperty: sanitizeProperty,\r\n    getISOString: toISOString,\r\n    useXDomainRequest: useXDomainRequest,\r\n    getCommonSchemaMetaData: getCommonSchemaMetaData,\r\n    cookieAvailable: areCookiesSupported,\r\n    disallowsSameSiteNone: uaDisallowsSameSiteNone,\r\n    setCookie: setCookie,\r\n    deleteCookie: deleteCookie,\r\n    getCookie: getCookie,\r\n    createGuid: createGuid,\r\n    extend: extend,\r\n    getTime: getTime,\r\n    isValueKind: isValueKind,\r\n    isArrayValid: isArrayValid,\r\n    objDefineAccessors: objDefineAccessors,\r\n    addPageUnloadEventListener: addPageUnloadEventListener,\r\n    setProcessTelemetryTimings: setProcessTelemetryTimings,\r\n    addEventHandler: addEventHandler,\r\n    getFieldValueType: getFieldValueType,\r\n    strEndsWith: strEndsWith,\r\n    objForEachKey: objForEachKey\r\n};\r\n/**\r\n * Provides a collection of utility functions, included for backward compatibility with previous releases.\r\n * @deprecated Marking this instance as deprecated in favor of direct usage of the helper functions\r\n * as direct usage provides better tree-shaking and minification by avoiding the inclusion of the unused items\r\n * in your resulting code.\r\n * Overriding the applicationinsights-core version for tree-shaking\r\n */\r\nexport var CoreUtils = {\r\n    _canUseCookies: undefined,\r\n    isTypeof: isTypeof,\r\n    isUndefined: isUndefined,\r\n    isNullOrUndefined: isNullOrUndefined,\r\n    hasOwnProperty: hasOwnProperty,\r\n    isFunction: isFunction,\r\n    isObject: isObject,\r\n    isDate: isDate,\r\n    isArray: isArray,\r\n    isError: isError,\r\n    isString: isString,\r\n    isNumber: isNumber,\r\n    isBoolean: isBoolean,\r\n    toISOString: toISOString,\r\n    arrForEach: arrForEach,\r\n    arrIndexOf: arrIndexOf,\r\n    arrMap: arrMap,\r\n    arrReduce: arrReduce,\r\n    strTrim: strTrim,\r\n    objCreate: objCreateFn,\r\n    objKeys: objKeys,\r\n    objDefineAccessors: objDefineAccessors,\r\n    addEventHandler: addEventHandler,\r\n    dateNow: dateNow,\r\n    isIE: isIE,\r\n    disableCookies: disableCookies,\r\n    newGuid: newGuid,\r\n    perfNow: perfNow,\r\n    newId: newId,\r\n    randomValue: randomValue,\r\n    random32: random32,\r\n    mwcRandomSeed: mwcRandomSeed,\r\n    mwcRandom32: mwcRandom32,\r\n    generateW3CId: generateW3CId\r\n};\r\n/**\r\n * Helper to identify whether we are running in a chromium based browser environment\r\n */\r\nexport function isChromium() {\r\n    return !!getGlobalInst(\"chrome\");\r\n}\r\n/**\r\n * Create and open an XMLHttpRequest object\r\n * @param method - The request method\r\n * @param urlString - The url\r\n * @param withCredentials - Option flag indicating that credentials should be sent\r\n * @param disabled - Optional flag indicating that the XHR object should be marked as disabled and not tracked (default is false)\r\n * @param isSync - Optional flag indicating if the instance should be a synchronous request (defaults to false)\r\n * @param timeout - Optional value identifying the timeout value that should be assigned to the XHR request\r\n * @returns A new opened XHR request\r\n */\r\nexport function openXhr(method, urlString, withCredentials, disabled, isSync, timeout) {\r\n    if (disabled === void 0) { disabled = false; }\r\n    if (isSync === void 0) { isSync = false; }\r\n    function _wrapSetXhrProp(xhr, prop, value) {\r\n        try {\r\n            xhr[prop] = value;\r\n        }\r\n        catch (e) {\r\n            // - Wrapping as depending on the environment setting the property may fail (non-terminally)\r\n        }\r\n    }\r\n    var xhr = new XMLHttpRequest();\r\n    if (disabled) {\r\n        // Tag the instance so it's not tracked (trackDependency)\r\n        // If the environment has locked down the XMLHttpRequest (preventExtensions and/or freeze), this would\r\n        // cause the request to fail and we no telemetry would be sent\r\n        _wrapSetXhrProp(xhr, strDisabledPropertyName, disabled);\r\n    }\r\n    if (withCredentials) {\r\n        // Some libraries require that the withCredentials flag is set \"before\" open and\r\n        // - Wrapping as IE 10 has started throwing when setting before open\r\n        _wrapSetXhrProp(xhr, strWithCredentials, withCredentials);\r\n    }\r\n    xhr.open(method, urlString, !isSync);\r\n    if (withCredentials) {\r\n        // withCredentials should be set AFTER open (https://xhr.spec.whatwg.org/#the-withcredentials-attribute)\r\n        // And older firefox instances from 11+ will throw for sync events (current versions don't) which happens during unload processing\r\n        _wrapSetXhrProp(xhr, strWithCredentials, withCredentials);\r\n    }\r\n    // Only set the timeout for asynchronous requests as\r\n    // \"Timeout shouldn't be used for synchronous XMLHttpRequests requests used in a document environment or it will throw an InvalidAccessError exception.\"\"\r\n    // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/timeout\r\n    if (!isSync && timeout) {\r\n        _wrapSetXhrProp(xhr, strTimeout, timeout);\r\n    }\r\n    return xhr;\r\n}\r\n//# sourceMappingURL=Utils.js.map","/*\n * 1DS JS SDK POST plugin, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n * Real Time profile (default profile). RealTime Latency events are sent every 1 sec and\r\n * Normal Latency events are sent every 2 sec.\r\n */\r\nexport var RT_PROFILE = \"REAL_TIME\";\r\n/**\r\n * Near Real Time profile. RealTime Latency events are sent every 3 sec and\r\n * Normal Latency events are sent every 6 sec.\r\n */\r\nexport var NRT_PROFILE = \"NEAR_REAL_TIME\";\r\n/**\r\n * Best Effort. RealTime Latency events are sent every 9 sec and\r\n * Normal Latency events are sent every 18 sec.\r\n */\r\nexport var BE_PROFILE = \"BEST_EFFORT\";\r\n//# sourceMappingURL=DataModels.js.map","/*\n * 1DS JS SDK POST plugin, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n\r\n// Licensed under the MIT License.\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Generally you should only put values that are used more than 2 times and then only if not already exposed as a constant (such as SdkCoreNames)\r\n// as when using \"short\" named values from here they will be will be minified smaller than the SdkCoreNames[eSdkCoreNames.xxxx] value.\r\nexport var STR_EMPTY = \"\";\r\nexport var STR_POST_METHOD = \"POST\";\r\nexport var STR_DISABLED_PROPERTY_NAME = \"Microsoft_ApplicationInsights_BypassAjaxInstrumentation\";\r\nexport var STR_DROPPED = \"drop\";\r\nexport var STR_SENDING = \"send\";\r\nexport var STR_REQUEUE = \"requeue\";\r\nexport var STR_RESPONSE_FAIL = \"rspFail\";\r\nexport var STR_OTHER = \"oth\";\r\nexport var DEFAULT_CACHE_CONTROL = \"no-cache, no-store\";\r\nexport var DEFAULT_CONTENT_TYPE = \"application/x-json-stream\";\r\nexport var STR_CACHE_CONTROL = \"cache-control\";\r\nexport var STR_CONTENT_TYPE_HEADER = \"content-type\";\r\nexport var STR_KILL_TOKENS_HEADER = \"kill-tokens\";\r\nexport var STR_KILL_DURATION_HEADER = \"kill-duration\";\r\nexport var STR_KILL_DURATION_SECONDS_HEADER = \"kill-duration-seconds\";\r\nexport var STR_TIME_DELTA_HEADER = \"time-delta-millis\";\r\nexport var STR_CLIENT_VERSION = \"client-version\";\r\nexport var STR_CLIENT_ID = \"client-id\";\r\nexport var STR_TIME_DELTA_TO_APPLY = \"time-delta-to-apply-millis\";\r\nexport var STR_UPLOAD_TIME = \"upload-time\";\r\nexport var STR_API_KEY = \"apikey\";\r\nexport var STR_MSA_DEVICE_TICKET = \"AuthMsaDeviceTicket\";\r\nexport var STR_AUTH_XTOKEN = \"AuthXToken\";\r\nexport var STR_SDK_VERSION = \"sdk-version\";\r\nexport var STR_NO_RESPONSE_BODY = \"NoResponseBody\";\r\nexport var STR_MSFPC = \"msfpc\";\r\nexport var STR_TRACE = \"trace\";\r\nexport var STR_USER = \"user\";\r\n//# sourceMappingURL=InternalConstants.js.map","/*\n * 1DS JS SDK POST plugin, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* EventBatch.ts\r\n* @author Nev Wylie (newylie)\r\n* @copyright Microsoft 2020\r\n*/\r\nimport { isNullOrUndefined, isValueAssigned } from \"@microsoft/1ds-core-js\";\r\nimport { STR_EMPTY, STR_MSFPC } from \"./InternalConstants\";\r\nfunction _getEventMsfpc(theEvent) {\r\n    var intWeb = ((theEvent.ext || {})[\"intweb\"]);\r\n    if (intWeb && isValueAssigned(intWeb[STR_MSFPC])) {\r\n        return intWeb[STR_MSFPC];\r\n    }\r\n    return null;\r\n}\r\nfunction _getMsfpc(theEvents) {\r\n    var msfpc = null;\r\n    for (var lp = 0; msfpc === null && lp < theEvents.length; lp++) {\r\n        msfpc = _getEventMsfpc(theEvents[lp]);\r\n    }\r\n    return msfpc;\r\n}\r\n/**\r\n* This class defines a \"batch\" events related to a specific iKey, it is used by the PostChannel and HttpManager\r\n* to collect and transfer ownership of events without duplicating them in-memory. This reduces the previous\r\n* array duplication and shared ownership issues that occurred due to race conditions caused by the async nature\r\n* of sending requests.\r\n*/\r\nvar EventBatch = /** @class */ (function () {\r\n    /**\r\n     * Private constructor so that caller is forced to use the static create method.\r\n     * @param iKey - The iKey to associate with the events (not validated)\r\n     * @param addEvents - The optional collection of events to assign to this batch - defaults to an empty array.\r\n     */\r\n    function EventBatch(iKey, addEvents) {\r\n        var events = addEvents ? [].concat(addEvents) : [];\r\n        var _self = this;\r\n        var _msfpc = _getMsfpc(events);\r\n        _self.iKey = function () {\r\n            return iKey;\r\n        };\r\n        _self.Msfpc = function () {\r\n            // return the cached value unless it's undefined -- used to avoid cpu\r\n            return _msfpc || STR_EMPTY;\r\n        };\r\n        _self.count = function () {\r\n            return events.length;\r\n        };\r\n        _self.events = function () {\r\n            return events;\r\n        };\r\n        _self.addEvent = function (theEvent) {\r\n            if (theEvent) {\r\n                events.push(theEvent);\r\n                if (!_msfpc) {\r\n                    // Not found so try and find one\r\n                    _msfpc = _getEventMsfpc(theEvent);\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        _self.split = function (fromEvent, numEvents) {\r\n            // Create a new batch with the same iKey\r\n            var theEvents;\r\n            if (fromEvent < events.length) {\r\n                var cnt = events.length - fromEvent;\r\n                if (!isNullOrUndefined(numEvents)) {\r\n                    cnt = numEvents < cnt ? numEvents : cnt;\r\n                }\r\n                theEvents = events.splice(fromEvent, cnt);\r\n                // reset the fetched msfpc value\r\n                _msfpc = _getMsfpc(events);\r\n            }\r\n            return new EventBatch(iKey, theEvents);\r\n        };\r\n    }\r\n    /**\r\n     * Creates a new Event Batch object\r\n     * @param iKey The iKey associated with this batch of events\r\n     */\r\n    EventBatch.create = function (iKey, theEvents) {\r\n        return new EventBatch(iKey, theEvents);\r\n    };\r\n    return EventBatch;\r\n}());\r\nexport { EventBatch };\r\n//# sourceMappingURL=EventBatch.js.map","/*\n * 1DS JS SDK POST plugin, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* ClockSkewManager.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\n/**\r\n* Class to manage clock skew correction.\r\n*/\r\nvar ClockSkewManager = /** @class */ (function () {\r\n    function ClockSkewManager() {\r\n        var _allowRequestSending = true;\r\n        var _shouldAddClockSkewHeaders = true;\r\n        var _isFirstRequest = true;\r\n        var _clockSkewHeaderValue = \"use-collector-delta\";\r\n        var _clockSkewSet = false;\r\n        dynamicProto(ClockSkewManager, this, function (_self) {\r\n            /**\r\n             * Determine if requests can be sent.\r\n             * @returns True if requests can be sent, false otherwise.\r\n             */\r\n            _self.allowRequestSending = function () {\r\n                return _allowRequestSending;\r\n            };\r\n            /**\r\n             * Tells the ClockSkewManager that it should assume that the first request has now been sent,\r\n             * If this method had not yet been called AND the clock Skew had not been set this will set\r\n             * allowRequestSending to false until setClockSet() is called.\r\n             */\r\n            _self.firstRequestSent = function () {\r\n                if (_isFirstRequest) {\r\n                    _isFirstRequest = false;\r\n                    if (!_clockSkewSet) {\r\n                        // Block sending until we get the first clock Skew\r\n                        _allowRequestSending = false;\r\n                    }\r\n                }\r\n            };\r\n            /**\r\n             * Determine if clock skew headers should be added to the request.\r\n             * @returns True if clock skew headers should be added, false otherwise.\r\n             */\r\n            _self.shouldAddClockSkewHeaders = function () {\r\n                return _shouldAddClockSkewHeaders;\r\n            };\r\n            /**\r\n             * Gets the clock skew header value.\r\n             * @returns The clock skew header value.\r\n             */\r\n            _self.getClockSkewHeaderValue = function () {\r\n                return _clockSkewHeaderValue;\r\n            };\r\n            /**\r\n             * Sets the clock skew header value. Once clock skew is set this method\r\n             * is no-op.\r\n             * @param timeDeltaInMillis - Time delta to be saved as the clock skew header value.\r\n             */\r\n            _self.setClockSkew = function (timeDeltaInMillis) {\r\n                if (!_clockSkewSet) {\r\n                    if (timeDeltaInMillis) {\r\n                        _clockSkewHeaderValue = timeDeltaInMillis;\r\n                        _shouldAddClockSkewHeaders = true;\r\n                        _clockSkewSet = true;\r\n                    }\r\n                    else {\r\n                        _shouldAddClockSkewHeaders = false;\r\n                    }\r\n                    // Unblock sending\r\n                    _allowRequestSending = true;\r\n                }\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for ClockSkewManager.prototype.allowRequestSending.\r\n// Removed Stub for ClockSkewManager.prototype.firstRequestSent.\r\n// Removed Stub for ClockSkewManager.prototype.shouldAddClockSkewHeaders.\r\n// Removed Stub for ClockSkewManager.prototype.getClockSkewHeaderValue.\r\n// Removed Stub for ClockSkewManager.prototype.setClockSkew.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    ClockSkewManager.__ieDyn=1;\n\n    return ClockSkewManager;\r\n}());\r\nexport default ClockSkewManager;\r\n//# sourceMappingURL=ClockSkewManager.js.map","/*\n * 1DS JS SDK POST plugin, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* KillSwitch.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { arrForEach, dateNow, strTrim } from \"@microsoft/1ds-core-js\";\r\nvar SecToMsMultiplier = 1000;\r\n/**\r\n* Class to stop certain tenants sending events.\r\n*/\r\nvar KillSwitch = /** @class */ (function () {\r\n    function KillSwitch() {\r\n        var _killedTokenDictionary = {};\r\n        function _normalizeTenants(values) {\r\n            var result = [];\r\n            if (values) {\r\n                arrForEach(values, function (value) {\r\n                    result.push(strTrim(value));\r\n                });\r\n            }\r\n            return result;\r\n        }\r\n        dynamicProto(KillSwitch, this, function (_self) {\r\n            _self.setKillSwitchTenants = function (killTokens, killDuration) {\r\n                if (killTokens && killDuration) {\r\n                    try {\r\n                        var killedTokens = _normalizeTenants(killTokens.split(\",\"));\r\n                        if (killDuration === \"this-request-only\") {\r\n                            return killedTokens;\r\n                        }\r\n                        var durationMs = parseInt(killDuration, 10) * SecToMsMultiplier;\r\n                        for (var i = 0; i < killedTokens.length; ++i) {\r\n                            _killedTokenDictionary[killedTokens[i]] = dateNow() + durationMs;\r\n                        }\r\n                    }\r\n                    catch (ex) {\r\n                        return [];\r\n                    }\r\n                }\r\n                return [];\r\n            };\r\n            _self.isTenantKilled = function (tenantToken) {\r\n                var killDictionary = _killedTokenDictionary;\r\n                var name = strTrim(tenantToken);\r\n                if (killDictionary[name] !== undefined && killDictionary[name] > dateNow()) {\r\n                    return true;\r\n                }\r\n                delete killDictionary[name];\r\n                return false;\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for KillSwitch.prototype.setKillSwitchTenants.\r\n// Removed Stub for KillSwitch.prototype.isTenantKilled.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    KillSwitch.__ieDyn=1;\n\n    return KillSwitch;\r\n}());\r\nexport default KillSwitch;\r\n//# sourceMappingURL=KillSwitch.js.map","/*\n * 1DS JS SDK POST plugin, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* RetryPolicy.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n*/\r\nvar RandomizationLowerThreshold = 0.8;\r\nvar RandomizationUpperThreshold = 1.2;\r\nvar BaseBackoff = 3000;\r\nvar MaxBackoff = 600000;\r\n/**\r\n * Determine if the request should be retried for the given status code.\r\n * The below expression reads that we should only retry for:\r\n *      - HttpStatusCodes that are smaller than 300.\r\n *      - HttpStatusCodes greater or equal to 500 (except for 501-NotImplement\r\n *        and 505-HttpVersionNotSupport).\r\n *      - HttpStatusCode 408-RequestTimeout.\r\n *      - HttpStatusCode 429.\r\n * This is based on Microsoft.WindowsAzure.Storage.RetryPolicies.ExponentialRetry class\r\n * @param httpStatusCode - The status code returned for the request.\r\n * @returns True if request should be retried, false otherwise.\r\n */\r\nexport function retryPolicyShouldRetryForStatus(httpStatusCode) {\r\n    /* tslint:disable:triple-equals */\r\n    // Disabling triple-equals rule to avoid httpOverrides from failing because they are returning a string value\r\n    return !((httpStatusCode >= 300 && httpStatusCode < 500 && httpStatusCode != 408 && httpStatusCode != 429)\r\n        || (httpStatusCode == 501)\r\n        || (httpStatusCode == 505));\r\n    /* tslint:enable:triple-equals */\r\n}\r\n/**\r\n * Gets the number of milliseconds to back off before retrying the request. The\r\n * back off duration is exponentially scaled based on the number of retries already\r\n * done for the request.\r\n * @param retriesSoFar - The number of times the request has already been retried.\r\n * @returns The back off duration for the request before it can be retried.\r\n */\r\nexport function retryPolicyGetMillisToBackoffForRetry(retriesSoFar) {\r\n    var waitDuration = 0;\r\n    var minBackoff = BaseBackoff * RandomizationLowerThreshold;\r\n    var maxBackoff = BaseBackoff * RandomizationUpperThreshold;\r\n    var randomBackoff = Math.floor(Math.random() * (maxBackoff - minBackoff)) + minBackoff;\r\n    waitDuration = Math.pow(2, retriesSoFar) * randomBackoff;\r\n    return Math.min(waitDuration, MaxBackoff);\r\n}\r\n//# sourceMappingURL=RetryPolicy.js.map","/*\n * 1DS JS SDK POST plugin, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* Serializer.ts\r\n* @author Abhilash Panwar (abpanwar); Hector Hernandez (hectorh); Nev Wylie (newylie)\r\n* @copyright Microsoft 2018-2020\r\n*/\r\n// @skip-file-minify\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { arrIndexOf, doPerf, getCommonSchemaMetaData, getTenantId, isArray, isValueAssigned, objForEachKey, sanitizeProperty, strStartsWith } from \"@microsoft/1ds-core-js\";\r\nimport { EventBatch } from \"./EventBatch\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n/**\r\n * Note: This is an optimization for V8-based browsers. When V8 concatenates a string,\r\n * the strings are only joined logically using a \"cons string\" or \"constructed/concatenated\r\n * string\". These containers keep references to one another and can result in very large\r\n * memory usage. For example, if a 2MB string is constructed by concatenating 4 bytes\r\n * together at a time, the memory usage will be ~44MB; so ~22x increase. The strings are\r\n * only joined together when an operation requiring their joining takes place, such as\r\n * substr(). This function is called when adding data to this buffer to ensure these\r\n * types of strings are periodically joined to reduce the memory footprint.\r\n * Setting to every 20 events as the JSON.stringify() may have joined many strings\r\n * and calling this too much causes a minor delay while processing.\r\n */\r\nvar _MAX_STRING_JOINS = 20;\r\nvar RequestSizeLimitBytes = 3984588; // approx 3.8 Mb\r\nvar BeaconRequestSizeLimitBytes = 65000; // approx 64kb (the current Edge, Firefox and Chrome max limit)\r\nvar MaxRecordSize = 2000000; // approx 2 Mb\r\nvar MaxBeaconRecordSize = Math.min(MaxRecordSize, BeaconRequestSizeLimitBytes);\r\nvar metadata = \"metadata\";\r\nvar f = \"f\";\r\nvar rCheckDot = /\\./;\r\n/**\r\n* Class to handle serialization of event and request.\r\n* Currently uses Bond for serialization. Please note that this may be subject to change.\r\n*/\r\nvar Serializer = /** @class */ (function () {\r\n    function Serializer(perfManager, valueSanitizer, stringifyObjects, enableCompoundKey) {\r\n        var strData = \"data\";\r\n        var strBaseData = \"baseData\";\r\n        var strExt = \"ext\";\r\n        var _checkForCompoundkey = !!enableCompoundKey;\r\n        var _processSubMetaData = true;\r\n        var _theSanitizer = valueSanitizer;\r\n        var _isReservedCache = {};\r\n        dynamicProto(Serializer, this, function (_self) {\r\n            _self.createPayload = function (retryCnt, isTeardown, isSync, isReducedPayload, sendReason, sendType) {\r\n                return {\r\n                    apiKeys: [],\r\n                    payloadBlob: STR_EMPTY,\r\n                    overflow: null,\r\n                    sizeExceed: [],\r\n                    failedEvts: [],\r\n                    batches: [],\r\n                    numEvents: 0,\r\n                    retryCnt: retryCnt,\r\n                    isTeardown: isTeardown,\r\n                    isSync: isSync,\r\n                    isBeacon: isReducedPayload,\r\n                    sendType: sendType,\r\n                    sendReason: sendReason\r\n                };\r\n            };\r\n            _self.appendPayload = function (payload, theBatch, maxEventsPerBatch) {\r\n                var canAddEvents = payload && theBatch && !payload.overflow;\r\n                if (canAddEvents) {\r\n                    doPerf(perfManager, function () { return \"Serializer:appendPayload\"; }, function () {\r\n                        var theEvents = theBatch.events();\r\n                        var payloadBlob = payload.payloadBlob;\r\n                        var payloadEvents = payload.numEvents;\r\n                        var eventsAdded = false;\r\n                        var sizeExceeded = [];\r\n                        var failedEvts = [];\r\n                        var isBeaconPayload = payload.isBeacon;\r\n                        var requestMaxSize = isBeaconPayload ? BeaconRequestSizeLimitBytes : RequestSizeLimitBytes;\r\n                        var recordMaxSize = isBeaconPayload ? MaxBeaconRecordSize : MaxRecordSize;\r\n                        var lp = 0;\r\n                        var joinCount = 0;\r\n                        while (lp < theEvents.length) {\r\n                            var theEvent = theEvents[lp];\r\n                            if (theEvent) {\r\n                                if (payloadEvents >= maxEventsPerBatch) {\r\n                                    // Maximum events per payload reached, so don't add any more\r\n                                    payload.overflow = theBatch.split(lp);\r\n                                    break;\r\n                                }\r\n                                var eventBlob = _self.getEventBlob(theEvent);\r\n                                if (eventBlob && eventBlob.length <= recordMaxSize) {\r\n                                    // This event will fit into the payload\r\n                                    var blobLength = eventBlob.length;\r\n                                    var currentSize = payloadBlob.length;\r\n                                    if (currentSize + blobLength > requestMaxSize) {\r\n                                        // Request or batch size exceeded, so don't add any more to the payload\r\n                                        payload.overflow = theBatch.split(lp);\r\n                                        break;\r\n                                    }\r\n                                    if (payloadBlob) {\r\n                                        payloadBlob += \"\\n\";\r\n                                    }\r\n                                    payloadBlob += eventBlob;\r\n                                    joinCount++;\r\n                                    // v8 memory optimization only\r\n                                    if (joinCount > _MAX_STRING_JOINS) {\r\n                                        // this substr() should cause the constructed string to join\r\n                                        payloadBlob.substr(0, 1);\r\n                                        joinCount = 0;\r\n                                    }\r\n                                    eventsAdded = true;\r\n                                    payloadEvents++;\r\n                                }\r\n                                else {\r\n                                    if (eventBlob) {\r\n                                        // Single event size exceeded so remove from the batch\r\n                                        sizeExceeded.push(theEvent);\r\n                                    }\r\n                                    else {\r\n                                        failedEvts.push(theEvent);\r\n                                    }\r\n                                    // We also need to remove this event from the existing array, otherwise a notification will be sent\r\n                                    // indicating that it was successfully sent\r\n                                    theEvents.splice(lp, 1);\r\n                                    lp--;\r\n                                }\r\n                            }\r\n                            lp++;\r\n                        }\r\n                        if (sizeExceeded && sizeExceeded.length > 0) {\r\n                            payload.sizeExceed.push(EventBatch.create(theBatch.iKey(), sizeExceeded));\r\n                            // Remove the exceeded events from the batch\r\n                        }\r\n                        if (failedEvts && failedEvts.length > 0) {\r\n                            payload.failedEvts.push(EventBatch.create(theBatch.iKey(), failedEvts));\r\n                            // Remove the failed events from the batch\r\n                        }\r\n                        if (eventsAdded) {\r\n                            payload.batches.push(theBatch);\r\n                            payload.payloadBlob = payloadBlob;\r\n                            payload.numEvents = payloadEvents;\r\n                            var apiKey = theBatch.iKey();\r\n                            if (arrIndexOf(payload.apiKeys, apiKey) === -1) {\r\n                                payload.apiKeys.push(apiKey);\r\n                            }\r\n                        }\r\n                    }, function () { return ({ payload: payload, theBatch: { iKey: theBatch.iKey(), evts: theBatch.events() }, max: maxEventsPerBatch }); });\r\n                }\r\n                return canAddEvents;\r\n            };\r\n            _self.getEventBlob = function (eventData) {\r\n                try {\r\n                    return doPerf(perfManager, function () { return \"Serializer.getEventBlob\"; }, function () {\r\n                        var serializedEvent = {};\r\n                        // Adding as dynamic keys for v8 performance\r\n                        serializedEvent.name = eventData.name;\r\n                        serializedEvent.time = eventData.time;\r\n                        serializedEvent.ver = eventData.ver;\r\n                        serializedEvent.iKey = \"o:\" + getTenantId(eventData.iKey);\r\n                        // Assigning local var so usage in part b/c don't throw if there is no ext\r\n                        var serializedExt = {};\r\n                        // Part A\r\n                        var eventExt = eventData[strExt];\r\n                        if (eventExt) {\r\n                            // Only assign ext if the event had one (There are tests covering this use case)\r\n                            serializedEvent[strExt] = serializedExt;\r\n                            objForEachKey(eventExt, function (key, value) {\r\n                                var data = serializedExt[key] = {};\r\n                                // Don't include a metadata callback as we don't currently set metadata Part A fields\r\n                                _processPathKeys(value, data, \"ext.\" + key, true, null, null, true);\r\n                            });\r\n                        }\r\n                        var serializedData = serializedEvent[strData] = {};\r\n                        serializedData.baseType = eventData.baseType;\r\n                        var serializedBaseData = serializedData[strBaseData] = {};\r\n                        // Part B\r\n                        _processPathKeys(eventData.baseData, serializedBaseData, strBaseData, false, [strBaseData], function (pathKeys, name, value) {\r\n                            _addJSONPropertyMetaData(serializedExt, pathKeys, name, value);\r\n                        }, _processSubMetaData);\r\n                        // Part C\r\n                        _processPathKeys(eventData.data, serializedData, strData, false, [], function (pathKeys, name, value) {\r\n                            _addJSONPropertyMetaData(serializedExt, pathKeys, name, value);\r\n                        }, _processSubMetaData);\r\n                        return JSON.stringify(serializedEvent);\r\n                    }, function () { return ({ item: eventData }); });\r\n                }\r\n                catch (e) {\r\n                    return null;\r\n                }\r\n            };\r\n            function _isReservedField(path, name) {\r\n                var result = _isReservedCache[path];\r\n                if (result === undefined) {\r\n                    if (path.length >= 7) {\r\n                        // Do not allow the changing of fields located in the ext.metadata or ext.web extension\r\n                        result = strStartsWith(path, \"ext.metadata\") || strStartsWith(path, \"ext.web\");\r\n                    }\r\n                    _isReservedCache[path] = result;\r\n                }\r\n                return result;\r\n            }\r\n            function _processPathKeys(srcObj, target, thePath, checkReserved, metadataPathKeys, metadataCallback, processSubKeys) {\r\n                objForEachKey(srcObj, function (key, srcValue) {\r\n                    var prop = null;\r\n                    if (srcValue || isValueAssigned(srcValue)) {\r\n                        var path = thePath;\r\n                        var name_1 = key;\r\n                        var theMetaPathKeys = metadataPathKeys;\r\n                        var destObj = target;\r\n                        // Handle keys with embedded '.', like \"TestObject.testProperty\"\r\n                        if (_checkForCompoundkey && !checkReserved && rCheckDot.test(key)) {\r\n                            var subKeys = key.split(\".\");\r\n                            var keyLen = subKeys.length;\r\n                            if (keyLen > 1) {\r\n                                if (theMetaPathKeys) {\r\n                                    // Create a copy of the meta path keys so we can add the extra ones\r\n                                    theMetaPathKeys = theMetaPathKeys.slice();\r\n                                }\r\n                                for (var lp = 0; lp < keyLen - 1; lp++) {\r\n                                    var subKey = subKeys[lp];\r\n                                    // Add/reuse the sub key object\r\n                                    destObj = destObj[subKey] = destObj[subKey] || {};\r\n                                    path += \".\" + subKey;\r\n                                    if (theMetaPathKeys) {\r\n                                        theMetaPathKeys.push(subKey);\r\n                                    }\r\n                                }\r\n                                name_1 = subKeys[keyLen - 1];\r\n                            }\r\n                        }\r\n                        var isReserved = checkReserved && _isReservedField(path, name_1);\r\n                        if (!isReserved && _theSanitizer && _theSanitizer.handleField(path, name_1)) {\r\n                            prop = _theSanitizer.value(path, name_1, srcValue, stringifyObjects);\r\n                        }\r\n                        else {\r\n                            prop = sanitizeProperty(name_1, srcValue, stringifyObjects);\r\n                        }\r\n                        if (prop) {\r\n                            // Set the value\r\n                            var newValue = prop.value;\r\n                            destObj[name_1] = newValue;\r\n                            if (metadataCallback) {\r\n                                metadataCallback(theMetaPathKeys, name_1, prop);\r\n                            }\r\n                            if (processSubKeys && typeof newValue === \"object\" && !isArray(newValue)) {\r\n                                var newPath = theMetaPathKeys;\r\n                                if (newPath) {\r\n                                    newPath = newPath.slice();\r\n                                    newPath.push(name_1);\r\n                                }\r\n                                // Make sure we process sub objects as well (for value sanitization and metadata)\r\n                                _processPathKeys(srcValue, newValue, path + \".\" + name_1, checkReserved, newPath, metadataCallback, processSubKeys);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for Serializer.prototype.createPayload.\r\n// Removed Stub for Serializer.prototype.appendPayload.\r\n// Removed Stub for Serializer.prototype.getEventBlob.\r\n// Removed Stub for Serializer.prototype.handleField.\r\n// Removed Stub for Serializer.prototype.getSanitizer.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    Serializer.__ieDyn=1;\n\n    return Serializer;\r\n}());\r\nexport { Serializer };\r\n/**\r\n * @ignore\r\n */\r\nfunction _addJSONPropertyMetaData(json, propKeys, name, propertyValue) {\r\n    if (propertyValue && json) {\r\n        var encodedTypeValue = getCommonSchemaMetaData(propertyValue.value, propertyValue.kind, propertyValue.propertyType);\r\n        if (encodedTypeValue > -1) {\r\n            // Add the root metadata\r\n            var metaData = json[metadata];\r\n            if (!metaData) {\r\n                // Sets the root 'f'\r\n                metaData = json[metadata] = { f: {} };\r\n            }\r\n            var metaTarget = metaData[f];\r\n            if (!metaTarget) {\r\n                // This can occur if someone has manually added an ext.metadata object\r\n                // Such as ext.metadata.privLevel and ext.metadata.privTags\r\n                metaTarget = metaData[f] = {};\r\n            }\r\n            // Traverse the metadata path and build each object (contains an 'f' key) -- if required\r\n            if (propKeys) {\r\n                for (var lp = 0; lp < propKeys.length; lp++) {\r\n                    var key = propKeys[lp];\r\n                    if (!metaTarget[key]) {\r\n                        metaTarget[key] = { f: {} };\r\n                    }\r\n                    var newTarget = metaTarget[key][f];\r\n                    if (!newTarget) {\r\n                        // Not expected, but can occur if the metadata context was pre-created as part of the event\r\n                        newTarget = metaTarget[key][f] = {};\r\n                    }\r\n                    metaTarget = newTarget;\r\n                }\r\n            }\r\n            metaTarget = metaTarget[name] = {};\r\n            if (isArray(propertyValue.value)) {\r\n                metaTarget[\"a\"] = {\r\n                    t: encodedTypeValue\r\n                };\r\n            }\r\n            else {\r\n                metaTarget[\"t\"] = encodedTypeValue;\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Serializer.js.map","/*\n * 1DS JS SDK POST plugin, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nvar _a;\r\n/**\r\n* HttpManager.ts\r\n* @author Abhilash Panwar (abpanwar); Hector Hernandez (hectorh); Nev Wylie (newylie)\r\n* @copyright Microsoft 2018-2020\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport EVTClockSkewManager from \"./ClockSkewManager\";\r\nimport EVTKillSwitch from \"./KillSwitch\";\r\nimport { FullVersionString, _throwInternal, _warnToConsole, arrForEach, dateNow, doPerf, dumpObj, extend, getLocation, getNavigator, getTime, hasOwnProperty, isArray, isBeaconsSupported, isFetchSupported, isNullOrUndefined, isNumber, isReactNative, isString, isUndefined, isValueAssigned, isXhrSupported, objForEachKey, objKeys, openXhr, strTrim, strUndefined, useXDomainRequest } from \"@microsoft/1ds-core-js\";\r\nimport { DEFAULT_CACHE_CONTROL, DEFAULT_CONTENT_TYPE, STR_API_KEY, STR_AUTH_XTOKEN, STR_CACHE_CONTROL, STR_CLIENT_ID, STR_CLIENT_VERSION, STR_CONTENT_TYPE_HEADER, STR_DISABLED_PROPERTY_NAME, STR_DROPPED, STR_EMPTY, STR_KILL_DURATION_HEADER, STR_KILL_DURATION_SECONDS_HEADER, STR_KILL_TOKENS_HEADER, STR_MSA_DEVICE_TICKET, STR_MSFPC, STR_NO_RESPONSE_BODY, STR_OTHER, STR_POST_METHOD, STR_REQUEUE, STR_RESPONSE_FAIL, STR_SENDING, STR_TIME_DELTA_HEADER, STR_TIME_DELTA_TO_APPLY, STR_UPLOAD_TIME } from \"./InternalConstants\";\r\nimport { retryPolicyGetMillisToBackoffForRetry, retryPolicyShouldRetryForStatus } from \"./RetryPolicy\";\r\nimport { Serializer } from \"./Serializer\";\r\nvar strSendAttempt = \"sendAttempt\";\r\nvar _noResponseQs = \"&\" + STR_NO_RESPONSE_BODY + \"=true\";\r\n/**\r\n * Identifies the default notification reason to the action names\r\n */\r\nvar _eventActionMap = (_a = {},\r\n    _a[1 /* EventBatchNotificationReason.Paused */] = STR_REQUEUE,\r\n    _a[100 /* EventBatchNotificationReason.RequeueEvents */] = STR_REQUEUE,\r\n    _a[200 /* EventBatchNotificationReason.Complete */] = \"sent\",\r\n    _a[8004 /* EventBatchNotificationReason.KillSwitch */] = STR_DROPPED,\r\n    _a[8003 /* EventBatchNotificationReason.SizeLimitExceeded */] = STR_DROPPED,\r\n    _a);\r\nvar _collectorQsHeaders = {};\r\nvar _collectorHeaderToQs = {};\r\nfunction _addCollectorHeaderQsMapping(qsName, headerName, allowQs) {\r\n    _collectorQsHeaders[qsName] = headerName;\r\n    if (allowQs !== false) {\r\n        _collectorHeaderToQs[headerName] = qsName;\r\n    }\r\n}\r\n_addCollectorHeaderQsMapping(STR_MSA_DEVICE_TICKET, STR_MSA_DEVICE_TICKET, false);\r\n_addCollectorHeaderQsMapping(STR_CLIENT_VERSION, STR_CLIENT_VERSION);\r\n_addCollectorHeaderQsMapping(STR_CLIENT_ID, \"Client-Id\");\r\n_addCollectorHeaderQsMapping(STR_API_KEY, STR_API_KEY);\r\n_addCollectorHeaderQsMapping(STR_TIME_DELTA_TO_APPLY, STR_TIME_DELTA_TO_APPLY);\r\n_addCollectorHeaderQsMapping(STR_UPLOAD_TIME, STR_UPLOAD_TIME);\r\n_addCollectorHeaderQsMapping(STR_AUTH_XTOKEN, STR_AUTH_XTOKEN);\r\nfunction _getResponseText(xhr) {\r\n    try {\r\n        return xhr.responseText;\r\n    }\r\n    catch (e) {\r\n        // Best effort, as XHR may throw while XDR wont so just ignore\r\n    }\r\n    return STR_EMPTY;\r\n}\r\nfunction _hasHeader(headers, header) {\r\n    var hasHeader = false;\r\n    if (headers && header) {\r\n        var keys = objKeys(headers);\r\n        if (keys && keys.length > 0) {\r\n            var lowerHeader = header.toLowerCase();\r\n            for (var lp = 0; lp < keys.length; lp++) {\r\n                var value = keys[lp];\r\n                if (value && hasOwnProperty(header, value) &&\r\n                    value.toLowerCase() === lowerHeader) {\r\n                    hasHeader = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return hasHeader;\r\n}\r\nfunction _addRequestDetails(details, name, value, useHeaders) {\r\n    if (name && value && value.length > 0) {\r\n        if (useHeaders && _collectorQsHeaders[name]) {\r\n            details.hdrs[_collectorQsHeaders[name]] = value;\r\n            details.useHdrs = true;\r\n        }\r\n        else {\r\n            details.url += \"&\" + name + \"=\" + value;\r\n        }\r\n    }\r\n}\r\nfunction _prependTransports(theTransports, newTransports) {\r\n    if (newTransports) {\r\n        if (isNumber(newTransports)) {\r\n            theTransports = [newTransports].concat(theTransports);\r\n        }\r\n        else if (isArray(newTransports)) {\r\n            theTransports = newTransports.concat(theTransports);\r\n        }\r\n    }\r\n    return theTransports;\r\n}\r\n/**\r\n * Class managing the sending of requests.\r\n */\r\nvar HttpManager = /** @class */ (function () {\r\n    /**\r\n     * @constructor\r\n     * @param requestQueue   - The queue that contains the requests to be sent.\r\n     */\r\n    function HttpManager(maxEventsPerBatch, maxConnections, maxRequestRetriesBeforeBackoff, actions, timeoutOverride) {\r\n        this._responseHandlers = [];\r\n        var _urlString = \"?cors=true&\" + STR_CONTENT_TYPE_HEADER.toLowerCase() + \"=\" + DEFAULT_CONTENT_TYPE;\r\n        var _killSwitch = new EVTKillSwitch();\r\n        var _paused = false;\r\n        var _clockSkewManager = new EVTClockSkewManager();\r\n        var _useBeacons = false;\r\n        var _outstandingRequests = 0; // Holds the number of outstanding async requests that have not returned a response yet\r\n        var _postManager;\r\n        var _logger;\r\n        var _sendInterfaces;\r\n        var _core;\r\n        var _customHttpInterface = true;\r\n        var _queryStringParameters = [];\r\n        var _headers = {};\r\n        var _batchQueue = [];\r\n        var _serializer = null;\r\n        var _enableEventTimings = false;\r\n        var _cookieMgr;\r\n        var _isUnloading = false;\r\n        var _useHeaders = false;\r\n        var _xhrTimeout;\r\n        var _disableXhrSync;\r\n        var _disableFetchKeepAlive;\r\n        var _canHaveReducedPayload;\r\n        var _addNoResponse;\r\n        dynamicProto(HttpManager, this, function (_self) {\r\n            var _sendCredentials = true;\r\n            _self.initialize = function (endpointUrl, core, postChannel, httpInterface, channelConfig) {\r\n                var _a;\r\n                if (!channelConfig) {\r\n                    channelConfig = {};\r\n                }\r\n                _urlString = endpointUrl + _urlString;\r\n                _useHeaders = !isUndefined(channelConfig.avoidOptions) ? !channelConfig.avoidOptions : true;\r\n                _core = core;\r\n                _cookieMgr = core.getCookieMgr();\r\n                _enableEventTimings = !_core.config.disableEventTimings;\r\n                var enableCompoundKey = !!_core.config.enableCompoundKey;\r\n                _postManager = postChannel;\r\n                _logger = _postManager.diagLog();\r\n                var valueSanitizer = channelConfig.valueSanitizer;\r\n                var stringifyObjects = channelConfig.stringifyObjects;\r\n                if (!isUndefined(channelConfig.enableCompoundKey)) {\r\n                    enableCompoundKey = !!channelConfig.enableCompoundKey;\r\n                }\r\n                _xhrTimeout = channelConfig.xhrTimeout;\r\n                _disableXhrSync = !!channelConfig.disableXhrSync;\r\n                _disableFetchKeepAlive = !!channelConfig.disableFetchKeepAlive;\r\n                _addNoResponse = channelConfig.addNoResponse !== false;\r\n                _useBeacons = !isReactNative(); // Only use beacons if not running in React Native\r\n                _serializer = new Serializer(_core, valueSanitizer, stringifyObjects, enableCompoundKey);\r\n                if (!isNullOrUndefined(channelConfig.useSendBeacon)) {\r\n                    _useBeacons = !!channelConfig.useSendBeacon;\r\n                }\r\n                var syncHttpInterface = httpInterface;\r\n                var beaconHttpInterface = channelConfig.alwaysUseXhrOverride ? httpInterface : null;\r\n                var fetchSyncHttpInterface = channelConfig.alwaysUseXhrOverride ? httpInterface : null;\r\n                var beaconUnloadTransports = [3 /* TransportType.Beacon */, 2 /* TransportType.Fetch */];\r\n                if (!httpInterface) {\r\n                    _customHttpInterface = false;\r\n                    var location_1 = getLocation();\r\n                    if (location_1 && location_1.protocol && location_1.protocol.toLowerCase() === \"file:\") {\r\n                        // Special case where a local html file fails with a CORS error on Chromium browsers\r\n                        _sendCredentials = false;\r\n                    }\r\n                    var theTransports = [];\r\n                    if (isReactNative()) {\r\n                        // Use Fetch or XDR/XHR\r\n                        theTransports = [2 /* TransportType.Fetch */, 1 /* TransportType.Xhr */];\r\n                        beaconUnloadTransports = [2 /* TransportType.Fetch */, 1 /* TransportType.Xhr */, 3 /* TransportType.Beacon */];\r\n                    }\r\n                    else {\r\n                        // Use XDR/XHR, Fetch or beacons\r\n                        theTransports = [1 /* TransportType.Xhr */, 2 /* TransportType.Fetch */, 3 /* TransportType.Beacon */];\r\n                    }\r\n                    // Prefix any user requested transport(s) values\r\n                    theTransports = _prependTransports(theTransports, channelConfig.transports);\r\n                    httpInterface = _getSenderInterface(theTransports, false);\r\n                    if (!httpInterface) {\r\n                        _warnToConsole(_logger, \"No available transport to send events\");\r\n                    }\r\n                    syncHttpInterface = _getSenderInterface(theTransports, true);\r\n                }\r\n                if (!beaconHttpInterface) {\r\n                    // Allow overriding the usage of sendBeacon\r\n                    beaconUnloadTransports = _prependTransports(beaconUnloadTransports, channelConfig.unloadTransports);\r\n                    beaconHttpInterface = _getSenderInterface(beaconUnloadTransports, true);\r\n                }\r\n                _canHaveReducedPayload = !_customHttpInterface && ((_useBeacons && isBeaconsSupported()) || (!_disableFetchKeepAlive && isFetchSupported(true)));\r\n                _sendInterfaces = (_a = {},\r\n                    _a[0 /* EventSendType.Batched */] = httpInterface,\r\n                    _a[1 /* EventSendType.Synchronous */] = syncHttpInterface || _getSenderInterface([1 /* TransportType.Xhr */, 2 /* TransportType.Fetch */, 3 /* TransportType.Beacon */], true),\r\n                    _a[2 /* EventSendType.SendBeacon */] = beaconHttpInterface || syncHttpInterface || _getSenderInterface([1 /* TransportType.Xhr */], true),\r\n                    _a[3 /* EventSendType.SyncFetch */] = fetchSyncHttpInterface || _getSenderInterface([2 /* TransportType.Fetch */, 3 /* TransportType.Beacon */], true) || syncHttpInterface || _getSenderInterface([1 /* TransportType.Xhr */], true),\r\n                    _a);\r\n            };\r\n            // Special internal method to allow the DebugPlugin to hook embedded objects\r\n            function _getSenderInterface(transports, syncSupport) {\r\n                var transportType = 0 /* TransportType.NotSet */;\r\n                var sendPostFunc = null;\r\n                var lp = 0;\r\n                while (sendPostFunc == null && lp < transports.length) {\r\n                    transportType = transports[lp];\r\n                    if (transportType === 1 /* TransportType.Xhr */) {\r\n                        if (useXDomainRequest()) {\r\n                            sendPostFunc = _xdrSendPost;\r\n                        }\r\n                        else if (isXhrSupported()) {\r\n                            sendPostFunc = _xhrSendPost;\r\n                        }\r\n                    }\r\n                    else if (transportType === 2 /* TransportType.Fetch */ && isFetchSupported(syncSupport) && (!syncSupport || (syncSupport && !_disableFetchKeepAlive))) {\r\n                        sendPostFunc = _fetchSendPost;\r\n                    }\r\n                    else if (_useBeacons && transportType === 3 /* TransportType.Beacon */ && isBeaconsSupported()) {\r\n                        sendPostFunc = _beaconSendPost;\r\n                    }\r\n                    lp++;\r\n                }\r\n                if (sendPostFunc) {\r\n                    return {\r\n                        _transport: transportType,\r\n                        _isSync: syncSupport,\r\n                        sendPOST: sendPostFunc\r\n                    };\r\n                }\r\n                return null;\r\n            }\r\n            _self[\"_getDbgPlgTargets\"] = function () {\r\n                return [_sendInterfaces[0 /* EventSendType.Batched */], _killSwitch, _serializer, _sendInterfaces];\r\n            };\r\n            function _xdrSendPost(payload, oncomplete, sync) {\r\n                // It doesn't support custom headers, so no action is taken with current requestHeaders\r\n                var xdr = new XDomainRequest();\r\n                xdr.open(STR_POST_METHOD, payload.urlString);\r\n                if (payload.timeout) {\r\n                    xdr.timeout = payload.timeout;\r\n                }\r\n                // can't get the status code in xdr.\r\n                xdr.onload = function () {\r\n                    // we will assume onload means the request succeeded.\r\n                    var response = _getResponseText(xdr);\r\n                    _doOnComplete(oncomplete, 200, {}, response);\r\n                    _handleCollectorResponse(response);\r\n                };\r\n                // we will assume onerror means we need to drop the events.\r\n                xdr.onerror = function () {\r\n                    _doOnComplete(oncomplete, 400, {});\r\n                };\r\n                // we will assume ontimeout means we need to retry the events.\r\n                xdr.ontimeout = function () {\r\n                    _doOnComplete(oncomplete, 500, {});\r\n                };\r\n                // https://cypressnorth.com/web-programming-and-development/internet-explorer-aborting-ajax-requests-fixed/\r\n                // tslint:disable-next-line:no-empty\r\n                xdr.onprogress = function () { };\r\n                if (sync) {\r\n                    xdr.send(payload.data);\r\n                }\r\n                else {\r\n                    timeoutOverride.set(function () {\r\n                        xdr.send(payload.data);\r\n                    }, 0);\r\n                }\r\n            }\r\n            function _fetchSendPost(payload, oncomplete, sync) {\r\n                var _a;\r\n                var theUrl = payload.urlString;\r\n                var ignoreResponse = false;\r\n                var responseHandled = false;\r\n                var requestInit = (_a = {\r\n                        body: payload.data,\r\n                        method: STR_POST_METHOD\r\n                    },\r\n                    _a[STR_DISABLED_PROPERTY_NAME] = true,\r\n                    _a);\r\n                if (sync) {\r\n                    requestInit.keepalive = true;\r\n                    if (payload._sendReason === 2 /* SendRequestReason.Unload */) {\r\n                        // As a sync request (during unload), it is unlikely that we will get a chance to process the response so\r\n                        // just like beacon send assume that the events have been accepted and processed\r\n                        ignoreResponse = true;\r\n                        if (_addNoResponse) {\r\n                            theUrl += _noResponseQs;\r\n                        }\r\n                    }\r\n                }\r\n                if (_sendCredentials) {\r\n                    // Don't send credentials when URL is file://\r\n                    requestInit.credentials = \"include\";\r\n                }\r\n                // Only add headers if there are headers to add, due to issue with some polyfills\r\n                if (payload.headers && objKeys(payload.headers).length > 0) {\r\n                    requestInit.headers = payload.headers;\r\n                }\r\n                fetch(theUrl, requestInit).then(function (response) {\r\n                    var headerMap = {};\r\n                    var responseText = STR_EMPTY;\r\n                    var headers = response.headers;\r\n                    if (headers) {\r\n                        headers[\"forEach\"](function (value, name) {\r\n                            headerMap[name] = value;\r\n                        });\r\n                    }\r\n                    if (response.body) {\r\n                        response.text().then(function (text) {\r\n                            responseText = text;\r\n                        });\r\n                    }\r\n                    if (!responseHandled) {\r\n                        responseHandled = true;\r\n                        _doOnComplete(oncomplete, response.status, headerMap, responseText);\r\n                        _handleCollectorResponse(responseText);\r\n                    }\r\n                })[\"catch\"](function (error) {\r\n                    // In case there is an error in the request. Set the status to 0\r\n                    // so that the events can be retried later.\r\n                    if (!responseHandled) {\r\n                        responseHandled = true;\r\n                        _doOnComplete(oncomplete, 0, {});\r\n                    }\r\n                });\r\n                if (ignoreResponse && !responseHandled) {\r\n                    // Assume success during unload processing\r\n                    responseHandled = true;\r\n                    _doOnComplete(oncomplete, 200, {});\r\n                }\r\n                if (!responseHandled && payload.timeout > 0) {\r\n                    // Simulate timeout\r\n                    timeoutOverride.set(function () {\r\n                        if (!responseHandled) {\r\n                            // Assume a 500 response (which will cause a retry)\r\n                            responseHandled = true;\r\n                            _doOnComplete(oncomplete, 500, {});\r\n                        }\r\n                    }, payload.timeout);\r\n                }\r\n            }\r\n            function _xhrSendPost(payload, oncomplete, sync) {\r\n                var theUrl = payload.urlString;\r\n                function _appendHeader(theHeaders, xhr, name) {\r\n                    if (!theHeaders[name] && xhr && xhr.getResponseHeader) {\r\n                        var value = xhr.getResponseHeader(name);\r\n                        if (value) {\r\n                            theHeaders[name] = strTrim(value);\r\n                        }\r\n                    }\r\n                    return theHeaders;\r\n                }\r\n                function _getAllResponseHeaders(xhr) {\r\n                    var theHeaders = {};\r\n                    if (!xhr.getAllResponseHeaders) {\r\n                        // Firefox 2-63 doesn't have getAllResponseHeaders function but it does have getResponseHeader\r\n                        // Only call these if getAllResponseHeaders doesn't exist, otherwise we can get invalid response errors\r\n                        // as collector is not currently returning the correct header to allow JS to access these headers\r\n                        theHeaders = _appendHeader(theHeaders, xhr, STR_TIME_DELTA_HEADER);\r\n                        theHeaders = _appendHeader(theHeaders, xhr, STR_KILL_DURATION_HEADER);\r\n                        theHeaders = _appendHeader(theHeaders, xhr, STR_KILL_DURATION_SECONDS_HEADER);\r\n                    }\r\n                    else {\r\n                        theHeaders = _convertAllHeadersToMap(xhr.getAllResponseHeaders());\r\n                    }\r\n                    return theHeaders;\r\n                }\r\n                function xhrComplete(xhr, responseTxt) {\r\n                    _doOnComplete(oncomplete, xhr.status, _getAllResponseHeaders(xhr), responseTxt);\r\n                }\r\n                if (sync && payload.disableXhrSync) {\r\n                    sync = false;\r\n                }\r\n                var xhrRequest = openXhr(STR_POST_METHOD, theUrl, _sendCredentials, true, sync, payload.timeout);\r\n                // Set custom headers (e.g. gzip) here (after open())\r\n                objForEachKey(payload.headers, function (name, value) {\r\n                    xhrRequest.setRequestHeader(name, value);\r\n                });\r\n                xhrRequest.onload = function () {\r\n                    var response = _getResponseText(xhrRequest);\r\n                    xhrComplete(xhrRequest, response);\r\n                    _handleCollectorResponse(response);\r\n                };\r\n                xhrRequest.onerror = function () {\r\n                    xhrComplete(xhrRequest);\r\n                };\r\n                xhrRequest.ontimeout = function () {\r\n                    xhrComplete(xhrRequest);\r\n                };\r\n                xhrRequest.send(payload.data);\r\n            }\r\n            function _doOnComplete(oncomplete, status, headers, response) {\r\n                try {\r\n                    oncomplete(status, headers, response);\r\n                }\r\n                catch (e) {\r\n                    _throwInternal(_logger, 2 /* eLoggingSeverity.WARNING */, 518 /* _eExtendedInternalMessageId.SendPostOnCompleteFailure */, dumpObj(e));\r\n                }\r\n            }\r\n            function _beaconSendPost(payload, oncomplete, sync) {\r\n                // Custom headers not supported in sendBeacon payload.headers would be ignored\r\n                var internalPayloadData = payload;\r\n                var status = 200;\r\n                var thePayload = internalPayloadData._thePayload;\r\n                var theUrl = payload.urlString + (_addNoResponse ? _noResponseQs : STR_EMPTY);\r\n                try {\r\n                    var nav_1 = getNavigator();\r\n                    if (!nav_1.sendBeacon(theUrl, payload.data)) {\r\n                        if (thePayload) {\r\n                            // Failed to send entire payload so try and split data and try to send as much events as possible\r\n                            var droppedBatches_1 = [];\r\n                            arrForEach(thePayload.batches, function (theBatch) {\r\n                                if (droppedBatches_1 && theBatch && theBatch.count() > 0) {\r\n                                    var theEvents = theBatch.events();\r\n                                    for (var lp = 0; lp < theEvents.length; lp++) {\r\n                                        if (!nav_1.sendBeacon(theUrl, _serializer.getEventBlob(theEvents[lp]))) {\r\n                                            // Can't send anymore, so split the batch and drop the rest\r\n                                            droppedBatches_1.push(theBatch.split(lp));\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    // Remove all of the events from the existing batch in the payload as the copy includes the original\r\n                                    droppedBatches_1.push(theBatch.split(0));\r\n                                }\r\n                            });\r\n                            _sendBatchesNotification(droppedBatches_1, 8003 /* EventBatchNotificationReason.SizeLimitExceeded */, thePayload.sendType, true);\r\n                        }\r\n                        else {\r\n                            status = 0;\r\n                        }\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                    _warnToConsole(_logger, \"Failed to send telemetry using sendBeacon API. Ex:\" + dumpObj(ex));\r\n                    status = 0;\r\n                }\r\n                finally {\r\n                    _doOnComplete(oncomplete, status, {}, STR_EMPTY);\r\n                }\r\n            }\r\n            function _isBeaconPayload(sendType) {\r\n                // Sync Fetch has the same payload limitation as sendBeacon -- 64kb limit, so treat both as a beacon send\r\n                return sendType === 2 /* EventSendType.SendBeacon */ || sendType === 3 /* EventSendType.SyncFetch */;\r\n            }\r\n            function _adjustSendType(sendType) {\r\n                if (_isUnloading && _isBeaconPayload(sendType)) {\r\n                    sendType = 2 /* EventSendType.SendBeacon */;\r\n                }\r\n                return sendType;\r\n            }\r\n            _self.addQueryStringParameter = function (name, value) {\r\n                for (var i = 0; i < _queryStringParameters.length; i++) {\r\n                    if (_queryStringParameters[i].name === name) {\r\n                        _queryStringParameters[i].value = value;\r\n                        return;\r\n                    }\r\n                }\r\n                _queryStringParameters.push({ name: name, value: value });\r\n            };\r\n            _self.addHeader = function (name, value) {\r\n                _headers[name] = value;\r\n            };\r\n            _self.canSendRequest = function () {\r\n                return _hasIdleConnection() && _clockSkewManager.allowRequestSending();\r\n            };\r\n            _self.sendQueuedRequests = function (sendType, sendReason) {\r\n                if (isUndefined(sendType)) {\r\n                    sendType = 0 /* EventSendType.Batched */;\r\n                }\r\n                if (_isUnloading) {\r\n                    sendType = _adjustSendType(sendType);\r\n                    sendReason = 2 /* SendRequestReason.Unload */;\r\n                }\r\n                if (_canSendPayload(_batchQueue, sendType, 0)) {\r\n                    _sendBatches(_clearQueue(), 0, false, sendType, sendReason || 0 /* SendRequestReason.Undefined */);\r\n                }\r\n            };\r\n            _self.isCompletelyIdle = function () {\r\n                return !_paused && _outstandingRequests === 0 && _batchQueue.length === 0;\r\n            };\r\n            _self.setUnloading = function (value) {\r\n                _isUnloading = value;\r\n            };\r\n            _self.addBatch = function (theBatch) {\r\n                if (theBatch && theBatch.count() > 0) {\r\n                    // Try and kill the event faster\r\n                    if (_killSwitch.isTenantKilled(theBatch.iKey())) {\r\n                        return false;\r\n                    }\r\n                    _batchQueue.push(theBatch);\r\n                }\r\n                return true;\r\n            };\r\n            /**\r\n             * Queue all the remaining requests to be sent. The requests will be\r\n             * sent using HTML5 Beacons if they are available.\r\n             */\r\n            _self.teardown = function () {\r\n                if (_batchQueue.length > 0) {\r\n                    _sendBatches(_clearQueue(), 0, true, 2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                }\r\n            };\r\n            /**\r\n             * Pause the sending of requests. No new requests will be sent.\r\n             */\r\n            _self.pause = function () {\r\n                _paused = true;\r\n            };\r\n            /**\r\n             * Resume the sending of requests.\r\n             */\r\n            _self.resume = function () {\r\n                _paused = false;\r\n                _self.sendQueuedRequests(0 /* EventSendType.Batched */, 4 /* SendRequestReason.Resumed */);\r\n            };\r\n            /**\r\n             * Sends a request synchronously to the Aria collector. This api is used to send\r\n             * a request containing a single immediate event.\r\n             *\r\n             * @param batch - The request to be sent.\r\n             * @param sendReason   - The token used to send the request.\r\n             */\r\n            _self.sendSynchronousBatch = function (batch, sendType, sendReason) {\r\n                // This will not take into account the max connections restriction. Since this is sync, we can\r\n                // only send one of this request at a time and thus should not worry about multiple connections\r\n                // being used to send synchronous events.\r\n                // Increment active connection since we are still going to use a connection to send the request.\r\n                if (batch && batch.count() > 0) {\r\n                    if (isNullOrUndefined(sendType)) {\r\n                        sendType = 1 /* EventSendType.Synchronous */;\r\n                    }\r\n                    if (_isUnloading) {\r\n                        sendType = _adjustSendType(sendType);\r\n                        sendReason = 2 /* SendRequestReason.Unload */;\r\n                    }\r\n                    // For sync requests we will not wait for the clock skew.\r\n                    _sendBatches([batch], 0, false, sendType, sendReason || 0 /* SendRequestReason.Undefined */);\r\n                }\r\n            };\r\n            function _hasIdleConnection() {\r\n                return !_paused && _outstandingRequests < maxConnections;\r\n            }\r\n            function _clearQueue() {\r\n                var theQueue = _batchQueue;\r\n                _batchQueue = [];\r\n                return theQueue;\r\n            }\r\n            function _canSendPayload(theBatches, sendType, retryCnt) {\r\n                var result = false;\r\n                if (theBatches && theBatches.length > 0 && !_paused && _sendInterfaces[sendType] && _serializer) {\r\n                    // Always attempt to send synchronous events don't wait for idle or clockSkew\r\n                    // and don't block retry requests if clockSkew is not yet set\r\n                    result = (sendType !== 0 /* EventSendType.Batched */) || (_hasIdleConnection() && (retryCnt > 0 || _clockSkewManager.allowRequestSending()));\r\n                }\r\n                return result;\r\n            }\r\n            function _createDebugBatches(theBatches) {\r\n                var values = {};\r\n                if (theBatches) {\r\n                    arrForEach(theBatches, function (theBatch, idx) {\r\n                        values[idx] = {\r\n                            iKey: theBatch.iKey(),\r\n                            evts: theBatch.events()\r\n                        };\r\n                    });\r\n                }\r\n                return values;\r\n            }\r\n            function _sendBatches(theBatches, retryCount, isTeardown, sendType, sendReason) {\r\n                if (!theBatches || theBatches.length === 0) {\r\n                    // Nothing to do\r\n                    return;\r\n                }\r\n                if (_paused) {\r\n                    _sendBatchesNotification(theBatches, 1 /* EventBatchNotificationReason.Paused */, sendType);\r\n                    return;\r\n                }\r\n                // Make sure that if we are unloading the sendType is a supported version\r\n                sendType = _adjustSendType(sendType);\r\n                try {\r\n                    var orgBatches_1 = theBatches;\r\n                    var isSynchronous_1 = sendType !== 0 /* EventSendType.Batched */;\r\n                    doPerf(_core, function () { return \"HttpManager:_sendBatches\"; }, function (perfEvt) {\r\n                        if (perfEvt) {\r\n                            // Perf Monitoring is enabled, so create a \"Quick\" copy of the original batches so we still report\r\n                            // the original values as part of the perfEvent. This is because theBatches uses .shift() to remove each\r\n                            // batch as they are processed - removing from the original array, so by the time the _createDebugBatches()\r\n                            // function is called the passed in value has changed and therefore the reported value for the perfEvent is incorrect\r\n                            theBatches = theBatches.slice(0);\r\n                        }\r\n                        var droppedBatches = [];\r\n                        var thePayload = null;\r\n                        var serializationStart = getTime();\r\n                        var sendInterface = _sendInterfaces[sendType] || (isSynchronous_1 ? _sendInterfaces[1 /* EventSendType.Synchronous */] : _sendInterfaces[0 /* EventSendType.Batched */]);\r\n                        var sendTransport = sendInterface && sendInterface._transport;\r\n                        // Sync Fetch has the same payload limitation as sendBeacon -- 64kb limit\r\n                        var isReducedPayload = _canHaveReducedPayload && (_isUnloading || _isBeaconPayload(sendType) || (sendTransport === 3 /* TransportType.Beacon */ || (sendInterface._isSync && sendTransport === 2 /* TransportType.Fetch */)));\r\n                        while (_canSendPayload(theBatches, sendType, retryCount)) {\r\n                            var theBatch = theBatches.shift();\r\n                            if (theBatch && theBatch.count() > 0) {\r\n                                if (!_killSwitch.isTenantKilled(theBatch.iKey())) {\r\n                                    // Make sure we have a payload object\r\n                                    thePayload = thePayload || _serializer.createPayload(retryCount, isTeardown, isSynchronous_1, isReducedPayload, sendReason, sendType);\r\n                                    // Add the batch to the current payload\r\n                                    if (!_serializer.appendPayload(thePayload, theBatch, maxEventsPerBatch)) {\r\n                                        // Entire batch was not added so send the payload and retry adding this batch\r\n                                        _doPayloadSend(thePayload, serializationStart, getTime(), sendReason);\r\n                                        serializationStart = getTime();\r\n                                        theBatches = [theBatch].concat(theBatches);\r\n                                        thePayload = null;\r\n                                    }\r\n                                    else if (thePayload.overflow !== null) {\r\n                                        // Total Payload size was exceeded so send the payload and add the unsent as the next batch to send\r\n                                        theBatches = [thePayload.overflow].concat(theBatches);\r\n                                        thePayload.overflow = null;\r\n                                        _doPayloadSend(thePayload, serializationStart, getTime(), sendReason);\r\n                                        serializationStart = getTime();\r\n                                        thePayload = null;\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    droppedBatches.push(theBatch);\r\n                                }\r\n                            }\r\n                        }\r\n                        // Make sure to flush any remaining payload\r\n                        if (thePayload) {\r\n                            _doPayloadSend(thePayload, serializationStart, getTime(), sendReason);\r\n                        }\r\n                        if (theBatches.length > 0) {\r\n                            // Add any unsent batches back to the head of the queue\r\n                            _batchQueue = theBatches.concat(_batchQueue);\r\n                        }\r\n                        // Now send notification about any dropped events\r\n                        _sendBatchesNotification(droppedBatches, 8004 /* EventBatchNotificationReason.KillSwitch */, sendType);\r\n                    }, function () { return ({ batches: _createDebugBatches(orgBatches_1), retryCount: retryCount, isTeardown: isTeardown, isSynchronous: isSynchronous_1, sendReason: sendReason, useSendBeacon: _isBeaconPayload(sendType), sendType: sendType }); }, !isSynchronous_1);\r\n                }\r\n                catch (ex) {\r\n                    _throwInternal(_logger, 2 /* eLoggingSeverity.WARNING */, 48 /* _eInternalMessageId.CannotSerializeObject */, \"Unexpected Exception sending batch: \" + dumpObj(ex));\r\n                }\r\n            }\r\n            function _buildRequestDetails(thePayload, useHeaders) {\r\n                var requestDetails = {\r\n                    url: _urlString,\r\n                    hdrs: {},\r\n                    useHdrs: false // Assume no headers\r\n                };\r\n                if (!useHeaders) {\r\n                    // Attempt to map headers to a query string if possible\r\n                    objForEachKey(_headers, function (name, value) {\r\n                        if (_collectorHeaderToQs[name]) {\r\n                            _addRequestDetails(requestDetails, _collectorHeaderToQs[name], value, false);\r\n                        }\r\n                        else {\r\n                            // No mapping, so just include in the headers anyway (may not get sent if using sendBeacon())\r\n                            requestDetails.hdrs[name] = value;\r\n                            requestDetails.useHdrs = true;\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    // Copy the pre-defined headers into the payload headers\r\n                    requestDetails.hdrs = extend(requestDetails.hdrs, _headers);\r\n                    requestDetails.useHdrs = (objKeys(requestDetails.hdrs).length > 0);\r\n                }\r\n                _addRequestDetails(requestDetails, STR_CLIENT_ID, \"NO_AUTH\", useHeaders);\r\n                _addRequestDetails(requestDetails, STR_CLIENT_VERSION, FullVersionString, useHeaders);\r\n                var apiQsKeys = STR_EMPTY;\r\n                arrForEach(thePayload.apiKeys, function (apiKey) {\r\n                    if (apiQsKeys.length > 0) {\r\n                        apiQsKeys += \",\";\r\n                    }\r\n                    apiQsKeys += apiKey;\r\n                });\r\n                _addRequestDetails(requestDetails, STR_API_KEY, apiQsKeys, useHeaders);\r\n                _addRequestDetails(requestDetails, STR_UPLOAD_TIME, dateNow().toString(), useHeaders);\r\n                var msfpc = _getMsfpc(thePayload);\r\n                if (isValueAssigned(msfpc)) {\r\n                    requestDetails.url += \"&ext.intweb.msfpc=\" + msfpc;\r\n                }\r\n                if (_clockSkewManager.shouldAddClockSkewHeaders()) {\r\n                    _addRequestDetails(requestDetails, STR_TIME_DELTA_TO_APPLY, _clockSkewManager.getClockSkewHeaderValue(), useHeaders);\r\n                }\r\n                if (_core.getWParam) {\r\n                    var wParam = _core.getWParam();\r\n                    if (wParam >= 0) {\r\n                        requestDetails.url += \"&w=\" + wParam;\r\n                    }\r\n                }\r\n                for (var i = 0; i < _queryStringParameters.length; i++) {\r\n                    requestDetails.url += \"&\" + _queryStringParameters[i].name + \"=\" + _queryStringParameters[i].value;\r\n                }\r\n                return requestDetails;\r\n            }\r\n            function _setTimingValue(timings, name, value) {\r\n                timings[name] = timings[name] || {};\r\n                timings[name][_postManager.identifier] = value;\r\n            }\r\n            function _doPayloadSend(thePayload, serializationStart, serializationCompleted, sendReason) {\r\n                if (thePayload && thePayload.payloadBlob && thePayload.payloadBlob.length > 0) {\r\n                    var useSendHook_1 = !!_self.sendHook;\r\n                    var sendInterface_1 = _sendInterfaces[thePayload.sendType];\r\n                    // Send all data using a beacon style transport if closing mode is on or channel was teared down\r\n                    if (!_isBeaconPayload(thePayload.sendType) && thePayload.isBeacon && thePayload.sendReason === 2 /* SendRequestReason.Unload */) {\r\n                        sendInterface_1 = _sendInterfaces[2 /* EventSendType.SendBeacon */] || _sendInterfaces[3 /* EventSendType.SyncFetch */] || sendInterface_1;\r\n                    }\r\n                    var useHeaders_1 = _useHeaders;\r\n                    // Disable header usage if we know we are using sendBeacon as additional headers are not supported\r\n                    if (thePayload.isBeacon || sendInterface_1._transport === 3 /* TransportType.Beacon */) {\r\n                        useHeaders_1 = false;\r\n                    }\r\n                    var requestDetails_1 = _buildRequestDetails(thePayload, useHeaders_1);\r\n                    useHeaders_1 = useHeaders_1 || requestDetails_1.useHdrs;\r\n                    var sendEventStart_1 = getTime();\r\n                    doPerf(_core, function () { return \"HttpManager:_doPayloadSend\"; }, function () {\r\n                        // Increment the send attempt count and add timings after packaging (So it's not serialized in the 1st attempt)\r\n                        for (var batchLp = 0; batchLp < thePayload.batches.length; batchLp++) {\r\n                            var theBatch = thePayload.batches[batchLp];\r\n                            var theEvents = theBatch.events();\r\n                            for (var evtLp = 0; evtLp < theEvents.length; evtLp++) {\r\n                                var telemetryItem = theEvents[evtLp];\r\n                                if (_enableEventTimings) {\r\n                                    var timings = telemetryItem.timings = telemetryItem.timings || {};\r\n                                    _setTimingValue(timings, \"sendEventStart\", sendEventStart_1);\r\n                                    _setTimingValue(timings, \"serializationStart\", serializationStart);\r\n                                    _setTimingValue(timings, \"serializationCompleted\", serializationCompleted);\r\n                                }\r\n                                telemetryItem[strSendAttempt] > 0 ? telemetryItem[strSendAttempt]++ : telemetryItem[strSendAttempt] = 1;\r\n                            }\r\n                        }\r\n                        // Note: always sending this notification in a synchronous manner.\r\n                        _sendBatchesNotification(thePayload.batches, (1000 /* EventBatchNotificationReason.SendingUndefined */ + (sendReason || 0 /* SendRequestReason.Undefined */)), thePayload.sendType, true);\r\n                        // Disabling the use of const because of Issue: \r\n                        // - Task 9227844: [1DS] Some environments and packagers automatically \"freeze\" objects which are defined as const which causes any mutations to throw\r\n                        // eslint-disable-next-line prefer-const\r\n                        var orgPayloadData = {\r\n                            data: thePayload.payloadBlob,\r\n                            urlString: requestDetails_1.url,\r\n                            headers: requestDetails_1.hdrs,\r\n                            _thePayload: thePayload,\r\n                            _sendReason: sendReason,\r\n                            timeout: _xhrTimeout,\r\n                            disableXhrSync: _disableXhrSync,\r\n                            disableFetchKeepAlive: _disableFetchKeepAlive\r\n                        };\r\n                        // Only automatically add the following headers if already sending headers and we are not attempting to avoid an options call\r\n                        if (useHeaders_1) {\r\n                            if (!_hasHeader(orgPayloadData.headers, STR_CACHE_CONTROL)) {\r\n                                orgPayloadData.headers[STR_CACHE_CONTROL] = DEFAULT_CACHE_CONTROL;\r\n                            }\r\n                            if (!_hasHeader(orgPayloadData.headers, STR_CONTENT_TYPE_HEADER)) {\r\n                                orgPayloadData.headers[STR_CONTENT_TYPE_HEADER] = DEFAULT_CONTENT_TYPE;\r\n                            }\r\n                        }\r\n                        var sender = null;\r\n                        if (sendInterface_1) {\r\n                            // Send sync requests if the request is immediate or we are tearing down telemetry.\r\n                            sender = function (payload) {\r\n                                // Notify the clock skew manager that we are sending the first request (Potentially blocking all further requests)\r\n                                _clockSkewManager.firstRequestSent();\r\n                                var onComplete = function (status, headers) {\r\n                                    _retryRequestIfNeeded(status, headers, thePayload, sendReason);\r\n                                };\r\n                                var isSync = thePayload.isTeardown || thePayload.isSync;\r\n                                try {\r\n                                    sendInterface_1.sendPOST(payload, onComplete, isSync);\r\n                                    if (_self.sendListener) {\r\n                                        // Send the original payload to the listener\r\n                                        _self.sendListener(orgPayloadData, payload, isSync, thePayload.isBeacon);\r\n                                    }\r\n                                }\r\n                                catch (ex) {\r\n                                    _warnToConsole(_logger, \"Unexpected exception sending payload. Ex:\" + dumpObj(ex));\r\n                                    _doOnComplete(onComplete, 0, {});\r\n                                }\r\n                            };\r\n                        }\r\n                        doPerf(_core, function () { return \"HttpManager:_doPayloadSend.sender\"; }, function () {\r\n                            if (sender) {\r\n                                if (thePayload.sendType === 0 /* EventSendType.Batched */) {\r\n                                    _outstandingRequests++;\r\n                                }\r\n                                // Only call the hook if it's defined and we are not using sendBeacon as additional headers are not supported\r\n                                if (useSendHook_1 && !thePayload.isBeacon && sendInterface_1._transport !== 3 /* TransportType.Beacon */) {\r\n                                    // Create a new IPayloadData that is sent into the hook method, so that the hook method\r\n                                    // can't change the object references to the orgPayloadData (it can still change the content -- mainly the headers)\r\n                                    // Disabling the use of const because of Issue: \r\n                                    // - Task 9227844: [1DS] Some environments and packagers automatically \"freeze\" objects which are defined as const which causes any mutations to throw\r\n                                    // eslint-disable-next-line prefer-const\r\n                                    var hookData_1 = {\r\n                                        data: orgPayloadData.data,\r\n                                        urlString: orgPayloadData.urlString,\r\n                                        headers: extend({}, orgPayloadData.headers),\r\n                                        timeout: orgPayloadData.timeout,\r\n                                        disableXhrSync: orgPayloadData.disableXhrSync,\r\n                                        disableFetchKeepAlive: orgPayloadData.disableFetchKeepAlive\r\n                                    };\r\n                                    var senderCalled_1 = false;\r\n                                    doPerf(_core, function () { return \"HttpManager:_doPayloadSend.sendHook\"; }, function () {\r\n                                        try {\r\n                                            _self.sendHook(hookData_1, function (payload) {\r\n                                                senderCalled_1 = true;\r\n                                                // Add back the internal properties\r\n                                                if (!_customHttpInterface && !payload._thePayload) {\r\n                                                    payload._thePayload = payload._thePayload || orgPayloadData._thePayload;\r\n                                                    payload._sendReason = payload._sendReason || orgPayloadData._sendReason;\r\n                                                }\r\n                                                sender(payload);\r\n                                            }, thePayload.isSync || thePayload.isTeardown);\r\n                                        }\r\n                                        catch (ex) {\r\n                                            if (!senderCalled_1) {\r\n                                                // The hook never called the sender -- assume that it never will\r\n                                                sender(orgPayloadData);\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }\r\n                                else {\r\n                                    sender(orgPayloadData);\r\n                                }\r\n                            }\r\n                        });\r\n                    }, function () { return ({ thePayload: thePayload, serializationStart: serializationStart, serializationCompleted: serializationCompleted, sendReason: sendReason }); }, thePayload.isSync);\r\n                }\r\n                if (thePayload.sizeExceed && thePayload.sizeExceed.length > 0) {\r\n                    // Ensure that we send any discard events for oversize events even when there was no payload to send\r\n                    _sendBatchesNotification(thePayload.sizeExceed, 8003 /* EventBatchNotificationReason.SizeLimitExceeded */, thePayload.sendType);\r\n                }\r\n                if (thePayload.failedEvts && thePayload.failedEvts.length > 0) {\r\n                    // Ensure that we send any discard events for events that could not be serialized even when there was no payload to send\r\n                    _sendBatchesNotification(thePayload.failedEvts, 8002 /* EventBatchNotificationReason.InvalidEvent */, thePayload.sendType);\r\n                }\r\n            }\r\n            function _addEventCompletedTimings(theEvents, sendEventCompleted) {\r\n                if (_enableEventTimings) {\r\n                    arrForEach(theEvents, function (theEvent) {\r\n                        var timings = theEvent.timings = theEvent.timings || {};\r\n                        _setTimingValue(timings, \"sendEventCompleted\", sendEventCompleted);\r\n                    });\r\n                }\r\n            }\r\n            function _retryRequestIfNeeded(status, headers, thePayload, sendReason) {\r\n                var reason = 9000 /* EventBatchNotificationReason.ResponseFailure */;\r\n                var droppedBatches = null;\r\n                var isRetrying = false;\r\n                var backOffTrans = false;\r\n                try {\r\n                    var shouldRetry = true;\r\n                    if (typeof status !== strUndefined) {\r\n                        if (headers) {\r\n                            _clockSkewManager.setClockSkew(headers[STR_TIME_DELTA_HEADER]);\r\n                            var killDuration = headers[STR_KILL_DURATION_HEADER] || headers[\"kill-duration-seconds\"];\r\n                            arrForEach(_killSwitch.setKillSwitchTenants(headers[STR_KILL_TOKENS_HEADER], killDuration), function (killToken) {\r\n                                arrForEach(thePayload.batches, function (theBatch) {\r\n                                    if (theBatch.iKey() === killToken) {\r\n                                        // Make sure we have initialized the array\r\n                                        droppedBatches = droppedBatches || [];\r\n                                        // Create a copy of the batch with all of the events (and more importantly the action functions)\r\n                                        var removedEvents = theBatch.split(0);\r\n                                        // And then remove the events for the payload batch and reduce the actual number of processed\r\n                                        thePayload.numEvents -= removedEvents.count();\r\n                                        droppedBatches.push(removedEvents);\r\n                                    }\r\n                                });\r\n                            });\r\n                        }\r\n                        // Disabling triple-equals rule to avoid httpOverrides from failing because they are returning a string value\r\n                        // tslint:disable-next-line:triple-equals\r\n                        if (status == 200 || status == 204) {\r\n                            // Response was successfully sent\r\n                            reason = 200 /* EventBatchNotificationReason.Complete */;\r\n                            return;\r\n                        }\r\n                        if (!retryPolicyShouldRetryForStatus(status) || thePayload.numEvents <= 0) {\r\n                            // Only retry for specific response codes and if there is still events after kill switch processing\r\n                            shouldRetry = false;\r\n                        }\r\n                        // Derive the notification response from the HttpStatus Code\r\n                        reason = 9000 /* EventBatchNotificationReason.ResponseFailure */ + (status % 1000);\r\n                    }\r\n                    if (shouldRetry) {\r\n                        // The events should be retried -- so change notification to requeue them\r\n                        reason = 100 /* EventBatchNotificationReason.RequeueEvents */;\r\n                        var retryCount_1 = thePayload.retryCnt;\r\n                        if (thePayload.sendType === 0 /* EventSendType.Batched */) {\r\n                            // attempt to resend the entire batch\r\n                            if (retryCount_1 < maxRequestRetriesBeforeBackoff) {\r\n                                isRetrying = true;\r\n                                _doAction(function () {\r\n                                    // try to resend the same batches\r\n                                    if (thePayload.sendType === 0 /* EventSendType.Batched */) {\r\n                                        // Reduce the outstanding request count (if this was an async request) as we didn't reduce the count\r\n                                        // previously and we are about to reschedule our retry attempt and we want an attempt to send\r\n                                        // to occur, it's also required to ensure that a follow up handleRequestFinished() call occurs\r\n                                        _outstandingRequests--;\r\n                                    }\r\n                                    _sendBatches(thePayload.batches, retryCount_1 + 1, thePayload.isTeardown, _isUnloading ? 2 /* EventSendType.SendBeacon */ : thePayload.sendType, 5 /* SendRequestReason.Retry */);\r\n                                }, _isUnloading, retryPolicyGetMillisToBackoffForRetry(retryCount_1));\r\n                            }\r\n                            else {\r\n                                backOffTrans = true;\r\n                                if (_isUnloading) {\r\n                                    // we are unloading so don't try and requeue the events otherwise let the events get requeued and resent during the backoff sending\r\n                                    // This will also cause the events to be purged based on the priority (if necessary)\r\n                                    reason = 8001 /* EventBatchNotificationReason.NonRetryableStatus */;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                finally {\r\n                    if (!isRetrying) {\r\n                        // Make sure the clockSkewManager doesn't blocking further sending of requests once we have a proper response\r\n                        // This won't override any previously sent clock Skew value\r\n                        _clockSkewManager.setClockSkew();\r\n                        _handleRequestFinished(thePayload, reason, sendReason, backOffTrans);\r\n                    }\r\n                    _sendBatchesNotification(droppedBatches, 8004 /* EventBatchNotificationReason.KillSwitch */, thePayload.sendType);\r\n                }\r\n            }\r\n            function _handleRequestFinished(thePayload, batchReason, sendReason, backOffTrans) {\r\n                try {\r\n                    if (backOffTrans) {\r\n                        // Slow down the transmission requests\r\n                        _postManager._backOffTransmission();\r\n                    }\r\n                    if (batchReason === 200 /* EventBatchNotificationReason.Complete */) {\r\n                        if (!backOffTrans && !thePayload.isSync) {\r\n                            // We have a successful async response, so the lets open the floodgates\r\n                            // The reason for checking isSync is to avoid unblocking if beacon send occurred as it\r\n                            // doesn't wait for a response.\r\n                            _postManager._clearBackOff();\r\n                        }\r\n                        _addCompleteTimings(thePayload.batches);\r\n                    }\r\n                    // Send the notifications synchronously\r\n                    _sendBatchesNotification(thePayload.batches, batchReason, thePayload.sendType, true);\r\n                }\r\n                finally {\r\n                    if (thePayload.sendType === 0 /* EventSendType.Batched */) {\r\n                        // we always need to decrement this value otherwise the httpmanager locks up and won't send any more events\r\n                        _outstandingRequests--;\r\n                        // Don't try to send additional queued events if this is a retry operation as the retried\r\n                        // response will eventually call _handleRequestFinished for the retried event\r\n                        if (sendReason !== 5 /* SendRequestReason.Retry */) {\r\n                            // Try and send any other queued batched events\r\n                            _self.sendQueuedRequests(thePayload.sendType, sendReason);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            function _addCompleteTimings(theBatches) {\r\n                if (_enableEventTimings) {\r\n                    var sendEventCompleted_1 = getTime();\r\n                    arrForEach(theBatches, function (theBatch) {\r\n                        if (theBatch && theBatch.count() > 0) {\r\n                            _addEventCompletedTimings(theBatch.events(), sendEventCompleted_1);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            function _doAction(cb, isSync, interval) {\r\n                if (isSync) {\r\n                    cb();\r\n                }\r\n                else {\r\n                    timeoutOverride.set(cb, interval);\r\n                }\r\n            }\r\n            /**\r\n            * Converts the XHR getAllResponseHeaders to a map containing the header key and value.\r\n            */\r\n            // tslint:disable-next-line: align\r\n            function _convertAllHeadersToMap(headersString) {\r\n                var headers = {};\r\n                if (isString(headersString)) {\r\n                    var headersArray = strTrim(headersString).split(/[\\r\\n]+/);\r\n                    arrForEach(headersArray, function (headerEntry) {\r\n                        if (headerEntry) {\r\n                            var idx = headerEntry.indexOf(\": \");\r\n                            if (idx !== -1) {\r\n                                // The new spec has the headers returning all as lowercase -- but not all browsers do this yet\r\n                                var header = strTrim(headerEntry.substring(0, idx)).toLowerCase();\r\n                                var value = strTrim(headerEntry.substring(idx + 1));\r\n                                headers[header] = value;\r\n                            }\r\n                            else {\r\n                                headers[strTrim(headerEntry)] = 1;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                return headers;\r\n            }\r\n            function _getMsfpc(thePayload) {\r\n                for (var lp = 0; lp < thePayload.batches.length; lp++) {\r\n                    var msfpc = thePayload.batches[lp].Msfpc();\r\n                    if (msfpc) {\r\n                        return encodeURIComponent(msfpc);\r\n                    }\r\n                }\r\n                return STR_EMPTY;\r\n            }\r\n            function _handleCollectorResponse(responseText) {\r\n                var responseHandlers = _self._responseHandlers;\r\n                try {\r\n                    for (var i = 0; i < responseHandlers.length; i++) {\r\n                        try {\r\n                            responseHandlers[i](responseText);\r\n                        }\r\n                        catch (e) {\r\n                            _throwInternal(_logger, 1 /* eLoggingSeverity.CRITICAL */, 519 /* _eExtendedInternalMessageId.PostResponseHandler */, \"Response handler failed: \" + e);\r\n                        }\r\n                    }\r\n                    if (responseText) {\r\n                        var response = JSON.parse(responseText);\r\n                        if (isValueAssigned(response.webResult) && isValueAssigned(response.webResult[STR_MSFPC])) {\r\n                            // Set cookie\r\n                            _cookieMgr.set(\"MSFPC\", response.webResult[STR_MSFPC], 365 * 86400);\r\n                        }\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                    // Doing nothing\r\n                }\r\n            }\r\n            function _sendBatchesNotification(theBatches, batchReason, sendType, sendSync) {\r\n                if (theBatches && theBatches.length > 0 && actions) {\r\n                    var theAction_1 = actions[_getNotificationAction(batchReason)];\r\n                    if (theAction_1) {\r\n                        var isSyncRequest_1 = sendType !== 0 /* EventSendType.Batched */;\r\n                        doPerf(_core, function () { return \"HttpManager:_sendBatchesNotification\"; }, function () {\r\n                            _doAction(function () {\r\n                                try {\r\n                                    theAction_1.call(actions, theBatches, batchReason, isSyncRequest_1, sendType);\r\n                                }\r\n                                catch (e) {\r\n                                    _throwInternal(_logger, 1 /* eLoggingSeverity.CRITICAL */, 74 /* _eInternalMessageId.NotificationException */, \"send request notification failed: \" + e);\r\n                                }\r\n                            }, sendSync || isSyncRequest_1, 0);\r\n                        }, function () { return ({ batches: _createDebugBatches(theBatches), reason: batchReason, isSync: isSyncRequest_1, sendSync: sendSync, sendType: sendType }); }, !isSyncRequest_1);\r\n                    }\r\n                }\r\n            }\r\n            function _getNotificationAction(reason) {\r\n                var action = _eventActionMap[reason];\r\n                if (!isValueAssigned(action)) {\r\n                    action = STR_OTHER;\r\n                    if (reason >= 9000 /* EventBatchNotificationReason.ResponseFailure */ && reason <= 9999 /* EventBatchNotificationReason.ResponseFailureMax */) {\r\n                        action = STR_RESPONSE_FAIL;\r\n                    }\r\n                    else if (reason >= 8000 /* EventBatchNotificationReason.EventsDropped */ && reason <= 8999 /* EventBatchNotificationReason.EventsDroppedMax */) {\r\n                        action = STR_DROPPED;\r\n                    }\r\n                    else if (reason >= 1000 /* EventBatchNotificationReason.SendingUndefined */ && reason <= 1999 /* EventBatchNotificationReason.SendingEventMax */) {\r\n                        action = STR_SENDING;\r\n                    }\r\n                }\r\n                return action;\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for HttpManager.prototype.initialize.\r\n// Removed Stub for HttpManager.prototype.addQueryStringParameter.\r\n// Removed Stub for HttpManager.prototype.addHeader.\r\n// Removed Stub for HttpManager.prototype.addBatch.\r\n// Removed Stub for HttpManager.prototype.canSendRequest.\r\n// Removed Stub for HttpManager.prototype.sendQueuedRequests.\r\n// Removed Stub for HttpManager.prototype.isCompletelyIdle.\r\n// Removed Stub for HttpManager.prototype.setUnloading.\r\n// Removed Stub for HttpManager.prototype.teardown.\r\n// Removed Stub for HttpManager.prototype.pause.\r\n// Removed Stub for HttpManager.prototype.resume.\r\n// Removed Stub for HttpManager.prototype.sendSynchronousBatch.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    HttpManager.__ieDyn=1;\n\n    return HttpManager;\r\n}());\r\nexport { HttpManager };\r\n//# sourceMappingURL=HttpManager.js.map","/*\n * 1DS JS SDK POST plugin, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* TimeoutOverrideWrapper.ts\r\n* @author  Nev Wylie (newylie)\r\n* @copyright Microsoft 2022\r\n* Simple internal timeout wrapper\r\n*/\r\nexport function defaultSetTimeout(callback, ms) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    return setTimeout(callback, ms, args);\r\n}\r\nexport function defaultClearTimeout(timeoutId) {\r\n    clearTimeout(timeoutId);\r\n}\r\nexport function createTimeoutWrapper(argSetTimeout, argClearTimeout) {\r\n    return {\r\n        set: argSetTimeout || defaultSetTimeout,\r\n        clear: argClearTimeout || defaultClearTimeout\r\n    };\r\n}\r\n//# sourceMappingURL=TimeoutOverrideWrapper.js.map","/*\n * 1DS JS SDK POST plugin, 3.2.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\n/**\r\n* PostManager.ts\r\n* @author Abhilash Panwar (abpanwar); Hector Hernandez (hectorh); Nev Wylie (newylie)\r\n* @copyright Microsoft 2018-2020\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { BaseTelemetryPlugin, EventsDiscardedReason, _throwInternal, addPageHideEventListener, addPageShowEventListener, addPageUnloadEventListener, arrForEach, createUniqueNamespace, doPerf, getWindow, isChromium, isNumber, isValueAssigned, mergeEvtNamespace, objDefineAccessors, objForEachKey, optimizeObject, removePageHideEventListener, removePageShowEventListener, removePageUnloadEventListener, setProcessTelemetryTimings } from \"@microsoft/1ds-core-js\";\r\nimport { BE_PROFILE, NRT_PROFILE, RT_PROFILE } from \"./DataModels\";\r\nimport { EventBatch } from \"./EventBatch\";\r\nimport { HttpManager } from \"./HttpManager\";\r\nimport { STR_MSA_DEVICE_TICKET, STR_TRACE, STR_USER } from \"./InternalConstants\";\r\nimport { retryPolicyGetMillisToBackoffForRetry } from \"./RetryPolicy\";\r\nimport { createTimeoutWrapper } from \"./TimeoutOverrideWrapper\";\r\nvar FlushCheckTimer = 0.250; // This needs to be in seconds, so this is 250ms\r\nvar MaxNumberEventPerBatch = 500;\r\nvar EventsDroppedAtOneTime = 20;\r\nvar MaxSendAttempts = 6;\r\nvar MaxSyncUnloadSendAttempts = 2; // Assuming 2 based on beforeunload and unload\r\nvar MaxBackoffCount = 4;\r\nvar MaxConnections = 2;\r\nvar MaxRequestRetriesBeforeBackoff = 1;\r\nvar strEventsDiscarded = \"eventsDiscarded\";\r\nvar strOverrideInstrumentationKey = \"overrideInstrumentationKey\";\r\nvar strMaxEventRetryAttempts = \"maxEventRetryAttempts\";\r\nvar strMaxUnloadEventRetryAttempts = \"maxUnloadEventRetryAttempts\";\r\nvar strAddUnloadCb = \"addUnloadCb\";\r\n/**\r\n * Class that manages adding events to inbound queues and batching of events\r\n * into requests.\r\n */\r\nvar PostChannel = /** @class */ (function (_super) {\r\n    __extends(PostChannel, _super);\r\n    function PostChannel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.identifier = \"PostChannel\";\r\n        _this.priority = 1011;\r\n        _this.version = '3.2.18';\r\n        var _config;\r\n        var _isTeardownCalled = false;\r\n        var _flushCallbackQueue = [];\r\n        var _flushCallbackTimerId = null;\r\n        var _paused = false;\r\n        var _immediateQueueSize = 0;\r\n        var _immediateQueueSizeLimit = 500;\r\n        var _queueSize = 0;\r\n        var _queueSizeLimit = 10000;\r\n        var _profiles = {};\r\n        var _currentProfile = RT_PROFILE;\r\n        var _scheduledTimerId = null;\r\n        var _immediateTimerId = null;\r\n        var _currentBackoffCount = 0;\r\n        var _timerCount = 0;\r\n        var _xhrOverride;\r\n        var _httpManager;\r\n        var _batchQueues = {};\r\n        var _autoFlushEventsLimit;\r\n        // either MaxBatchSize * (1+ Max Connections) or _queueLimit / 6 (where 3 latency Queues [normal, realtime, cost deferred] * 2 [allow half full -- allow for retry])\r\n        var _autoFlushBatchLimit;\r\n        var _delayedBatchSendLatency = -1;\r\n        var _delayedBatchReason;\r\n        var _optimizeObject = true;\r\n        var _isPageUnloadTriggered = false;\r\n        var _maxEventSendAttempts = MaxSendAttempts;\r\n        var _maxUnloadEventSendAttempts = MaxSyncUnloadSendAttempts;\r\n        var _evtNamespace;\r\n        var _timeoutWrapper;\r\n        dynamicProto(PostChannel, _this, function (_self, _base) {\r\n            _initDefaults();\r\n            // Special internal method to allow the DebugPlugin to hook embedded objects\r\n            _self[\"_getDbgPlgTargets\"] = function () {\r\n                return [_httpManager];\r\n            };\r\n            _self.initialize = function (coreConfig, core, extensions) {\r\n                doPerf(core, function () { return \"PostChannel:initialize\"; }, function () {\r\n                    var extendedCore = core;\r\n                    _base.initialize(coreConfig, core, extensions);\r\n                    try {\r\n                        var hasAddUnloadCb = !!core[strAddUnloadCb];\r\n                        _evtNamespace = mergeEvtNamespace(createUniqueNamespace(_self.identifier), core.evtNamespace && core.evtNamespace());\r\n                        var ctx = _self._getTelCtx();\r\n                        coreConfig.extensionConfig[_self.identifier] = coreConfig.extensionConfig[_self.identifier] || {};\r\n                        _config = ctx.getExtCfg(_self.identifier);\r\n                        _timeoutWrapper = createTimeoutWrapper(_config.setTimeoutOverride, _config.clearTimeoutOverride);\r\n                        // Only try and use the optimizeObject() if this appears to be a chromium based browser and it has not been explicitly disabled\r\n                        _optimizeObject = !_config.disableOptimizeObj && isChromium();\r\n                        _hookWParam(extendedCore);\r\n                        if (_config.eventsLimitInMem > 0) {\r\n                            _queueSizeLimit = _config.eventsLimitInMem;\r\n                        }\r\n                        if (_config.immediateEventLimit > 0) {\r\n                            _immediateQueueSizeLimit = _config.immediateEventLimit;\r\n                        }\r\n                        if (_config.autoFlushEventsLimit > 0) {\r\n                            _autoFlushEventsLimit = _config.autoFlushEventsLimit;\r\n                        }\r\n                        if (isNumber(_config[strMaxEventRetryAttempts])) {\r\n                            _maxEventSendAttempts = _config[strMaxEventRetryAttempts];\r\n                        }\r\n                        if (isNumber(_config[strMaxUnloadEventRetryAttempts])) {\r\n                            _maxUnloadEventSendAttempts = _config[strMaxUnloadEventRetryAttempts];\r\n                        }\r\n                        _setAutoLimits();\r\n                        if (_config.httpXHROverride && _config.httpXHROverride.sendPOST) {\r\n                            _xhrOverride = _config.httpXHROverride;\r\n                        }\r\n                        if (isValueAssigned(coreConfig.anonCookieName)) {\r\n                            _httpManager.addQueryStringParameter(\"anoncknm\", coreConfig.anonCookieName);\r\n                        }\r\n                        _httpManager.sendHook = _config.payloadPreprocessor;\r\n                        _httpManager.sendListener = _config.payloadListener;\r\n                        // Override endpointUrl if provided in Post config\r\n                        var endpointUrl = _config.overrideEndpointUrl ? _config.overrideEndpointUrl : coreConfig.endpointUrl;\r\n                        _self._notificationManager = core.getNotifyMgr();\r\n                        _httpManager.initialize(endpointUrl, _self.core, _self, _xhrOverride, _config);\r\n                        var excludePageUnloadEvents = coreConfig.disablePageUnloadEvents || [];\r\n                        // When running in Web browsers try to send all telemetry if page is unloaded\r\n                        addPageUnloadEventListener(_handleUnloadEvents, excludePageUnloadEvents, _evtNamespace);\r\n                        addPageHideEventListener(_handleUnloadEvents, excludePageUnloadEvents, _evtNamespace);\r\n                        addPageShowEventListener(_handleShowEvents, coreConfig.disablePageShowEvents, _evtNamespace);\r\n                    }\r\n                    catch (e) {\r\n                        // resetting the initialized state because of failure\r\n                        _self.setInitialized(false);\r\n                        throw e;\r\n                    }\r\n                }, function () { return ({ coreConfig: coreConfig, core: core, extensions: extensions }); });\r\n            };\r\n            _self.processTelemetry = function (ev, itemCtx) {\r\n                setProcessTelemetryTimings(ev, _self.identifier);\r\n                itemCtx = _self._getTelCtx(itemCtx);\r\n                // Get the channel instance from the current request/instance\r\n                var channelConfig = itemCtx.getExtCfg(_self.identifier);\r\n                // DisableTelemetry was defined in the config provided during initialization\r\n                var disableTelemetry = !!_config.disableTelemetry;\r\n                if (channelConfig) {\r\n                    // DisableTelemetry is defined in the config for this request/instance\r\n                    disableTelemetry = disableTelemetry || !!channelConfig.disableTelemetry;\r\n                }\r\n                var event = ev;\r\n                if (!disableTelemetry && !_isTeardownCalled) {\r\n                    // Override iKey if provided in Post config if provided for during initialization\r\n                    if (_config[strOverrideInstrumentationKey]) {\r\n                        event.iKey = _config[strOverrideInstrumentationKey];\r\n                    }\r\n                    // Override iKey if provided in Post config if provided for this instance\r\n                    if (channelConfig && channelConfig[strOverrideInstrumentationKey]) {\r\n                        event.iKey = channelConfig[strOverrideInstrumentationKey];\r\n                    }\r\n                    _addEventToQueues(event, true);\r\n                    if (_isPageUnloadTriggered) {\r\n                        // Unload event has been received so we need to try and flush new events\r\n                        _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                    }\r\n                    else {\r\n                        _scheduleTimer();\r\n                    }\r\n                }\r\n                _self.processNext(event, itemCtx);\r\n            };\r\n            _self._doTeardown = function (unloadCtx, unloadState) {\r\n                _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                _isTeardownCalled = true;\r\n                _httpManager.teardown();\r\n                removePageUnloadEventListener(null, _evtNamespace);\r\n                removePageHideEventListener(null, _evtNamespace);\r\n                removePageShowEventListener(null, _evtNamespace);\r\n                // Just register to remove all events associated with this namespace\r\n                _initDefaults();\r\n            };\r\n            function _hookWParam(extendedCore) {\r\n                var existingGetWParamMethod = extendedCore.getWParam;\r\n                extendedCore.getWParam = function () {\r\n                    var wparam = 0;\r\n                    if (_config.ignoreMc1Ms0CookieProcessing) {\r\n                        wparam = wparam | 2;\r\n                    }\r\n                    return wparam | existingGetWParamMethod();\r\n                };\r\n            }\r\n            // Moving event handlers out from the initialize closure so that any local variables can be garbage collected\r\n            function _handleUnloadEvents(evt) {\r\n                var theEvt = evt || getWindow().event; // IE 8 does not pass the event\r\n                if (theEvt.type !== \"beforeunload\") {\r\n                    // Only set the unload trigger if not beforeunload event as beforeunload can be cancelled while the other events can't\r\n                    _isPageUnloadTriggered = true;\r\n                    _httpManager.setUnloading(_isPageUnloadTriggered);\r\n                }\r\n                _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n            }\r\n            function _handleShowEvents(evt) {\r\n                // Handle the page becoming visible again\r\n                _isPageUnloadTriggered = false;\r\n                _httpManager.setUnloading(_isPageUnloadTriggered);\r\n            }\r\n            function _addEventToQueues(event, append) {\r\n                // If send attempt field is undefined we should set it to 0.\r\n                if (!event.sendAttempt) {\r\n                    event.sendAttempt = 0;\r\n                }\r\n                // Add default latency\r\n                if (!event.latency) {\r\n                    event.latency = 1 /* EventLatencyValue.Normal */;\r\n                }\r\n                // Remove extra AI properties if present\r\n                if (event.ext && event.ext[STR_TRACE]) {\r\n                    delete (event.ext[STR_TRACE]);\r\n                }\r\n                if (event.ext && event.ext[STR_USER] && event.ext[STR_USER][\"id\"]) {\r\n                    delete (event.ext[STR_USER][\"id\"]);\r\n                }\r\n                // v8 performance optimization for iterating over the keys\r\n                if (_optimizeObject) {\r\n                    setProcessTelemetryTimings;\r\n                    event.ext = optimizeObject(event.ext);\r\n                    if (event.baseData) {\r\n                        event.baseData = optimizeObject(event.baseData);\r\n                    }\r\n                    if (event.data) {\r\n                        event.data = optimizeObject(event.data);\r\n                    }\r\n                }\r\n                if (event.sync) {\r\n                    // If the transmission is backed off then do not send synchronous events.\r\n                    // We will convert these events to Real time latency instead.\r\n                    if (_currentBackoffCount || _paused) {\r\n                        event.latency = 3 /* EventLatencyValue.RealTime */;\r\n                        event.sync = false;\r\n                    }\r\n                    else {\r\n                        // Log the event synchronously\r\n                        if (_httpManager) {\r\n                            // v8 performance optimization for iterating over the keys\r\n                            if (_optimizeObject) {\r\n                                event = optimizeObject(event);\r\n                            }\r\n                            _httpManager.sendSynchronousBatch(EventBatch.create(event.iKey, [event]), event.sync === true ? 1 /* EventSendType.Synchronous */ : event.sync, 3 /* SendRequestReason.SyncEvent */);\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                var evtLatency = event.latency;\r\n                var queueSize = _queueSize;\r\n                var queueLimit = _queueSizeLimit;\r\n                if (evtLatency === 4 /* EventLatencyValue.Immediate */) {\r\n                    queueSize = _immediateQueueSize;\r\n                    queueLimit = _immediateQueueSizeLimit;\r\n                }\r\n                var eventDropped = false;\r\n                // Only add the event if the queue isn't full or it's a direct event (which don't add to the queue sizes)\r\n                if (queueSize < queueLimit) {\r\n                    eventDropped = !_addEventToProperQueue(event, append);\r\n                }\r\n                else {\r\n                    var dropLatency = 1 /* EventLatencyValue.Normal */;\r\n                    var dropNumber = EventsDroppedAtOneTime;\r\n                    if (evtLatency === 4 /* EventLatencyValue.Immediate */) {\r\n                        // Only drop other immediate events as they are not technically sharing the general queue\r\n                        dropLatency = 4 /* EventLatencyValue.Immediate */;\r\n                        dropNumber = 1;\r\n                    }\r\n                    // Drop old event from lower or equal latency\r\n                    eventDropped = true;\r\n                    if (_dropEventWithLatencyOrLess(event.iKey, event.latency, dropLatency, dropNumber)) {\r\n                        eventDropped = !_addEventToProperQueue(event, append);\r\n                    }\r\n                }\r\n                if (eventDropped) {\r\n                    // Can't drop events from current queues because the all the slots are taken by queues that are being flushed.\r\n                    _notifyEvents(strEventsDiscarded, [event], EventsDiscardedReason.QueueFull);\r\n                }\r\n            }\r\n            _self.setEventQueueLimits = function (eventLimit, autoFlushLimit) {\r\n                _queueSizeLimit = eventLimit > 0 ? eventLimit : 10000;\r\n                _autoFlushEventsLimit = autoFlushLimit > 0 ? autoFlushLimit : 0;\r\n                _setAutoLimits();\r\n                // We only do this check here as during normal event addition if the queue is > then events start getting dropped\r\n                var doFlush = _queueSize > eventLimit;\r\n                if (!doFlush && _autoFlushBatchLimit > 0) {\r\n                    // Check the auto flush max batch size\r\n                    for (var latency = 1 /* EventLatencyValue.Normal */; !doFlush && latency <= 3 /* EventLatencyValue.RealTime */; latency++) {\r\n                        var batchQueue = _batchQueues[latency];\r\n                        if (batchQueue && batchQueue.batches) {\r\n                            arrForEach(batchQueue.batches, function (theBatch) {\r\n                                if (theBatch && theBatch.count() >= _autoFlushBatchLimit) {\r\n                                    // If any 1 batch is > than the limit then trigger an auto flush\r\n                                    doFlush = true;\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                _performAutoFlush(true, doFlush);\r\n            };\r\n            _self.pause = function () {\r\n                _clearScheduledTimer();\r\n                _paused = true;\r\n                _httpManager.pause();\r\n            };\r\n            _self.resume = function () {\r\n                _paused = false;\r\n                _httpManager.resume();\r\n                _scheduleTimer();\r\n            };\r\n            _self.addResponseHandler = function (responseHandler) {\r\n                _httpManager._responseHandlers.push(responseHandler);\r\n            };\r\n            _self._loadTransmitProfiles = function (profiles) {\r\n                _resetTransmitProfiles();\r\n                objForEachKey(profiles, function (profileName, profileValue) {\r\n                    var profLen = profileValue.length;\r\n                    if (profLen >= 2) {\r\n                        var directValue = (profLen > 2 ? profileValue[2] : 0);\r\n                        profileValue.splice(0, profLen - 2);\r\n                        // Make sure if a higher latency is set to not send then don't send lower latency\r\n                        if (profileValue[1] < 0) {\r\n                            profileValue[0] = -1;\r\n                        }\r\n                        // Make sure each latency is multiple of the latency higher then it. If not a multiple\r\n                        // we round up so that it becomes a multiple.\r\n                        if (profileValue[1] > 0 && profileValue[0] > 0) {\r\n                            var timerMultiplier = profileValue[0] / profileValue[1];\r\n                            profileValue[0] = Math.ceil(timerMultiplier) * profileValue[1];\r\n                        }\r\n                        // Add back the direct profile timeout\r\n                        if (directValue >= 0 && profileValue[1] >= 0 && directValue > profileValue[1]) {\r\n                            // Make sure if it's not disabled (< 0) then make sure it's not larger than RealTime\r\n                            directValue = profileValue[1];\r\n                        }\r\n                        profileValue.push(directValue);\r\n                        _profiles[profileName] = profileValue;\r\n                    }\r\n                });\r\n            };\r\n            _self.flush = function (async, callback, sendReason) {\r\n                if (async === void 0) { async = true; }\r\n                if (!_paused) {\r\n                    sendReason = sendReason || 1 /* SendRequestReason.ManualFlush */;\r\n                    if (async) {\r\n                        if (_flushCallbackTimerId == null) {\r\n                            // Clear the normal schedule timer as we are going to try and flush ASAP\r\n                            _clearScheduledTimer();\r\n                            // Move all queued events to the HttpManager so that we don't discard new events (Auto flush scenario)\r\n                            _queueBatches(1 /* EventLatencyValue.Normal */, 0 /* EventSendType.Batched */, sendReason);\r\n                            _flushCallbackTimerId = _createTimer(function () {\r\n                                _flushCallbackTimerId = null;\r\n                                _flushImpl(callback, sendReason);\r\n                            }, 0);\r\n                        }\r\n                        else {\r\n                            // Even if null (no callback) this will ensure after the flushImpl finishes waiting\r\n                            // for a completely idle connection it will attempt to re-flush any queued events on the next cycle\r\n                            _flushCallbackQueue.push(callback);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Clear the normal schedule timer as we are going to try and flush ASAP\r\n                        var cleared = _clearScheduledTimer();\r\n                        // Now cause all queued events to be sent synchronously\r\n                        _sendEventsForLatencyAndAbove(1 /* EventLatencyValue.Normal */, 1 /* EventSendType.Synchronous */, sendReason);\r\n                        if (callback !== null && callback !== undefined) {\r\n                            callback();\r\n                        }\r\n                        if (cleared) {\r\n                            // restart the normal event timer if it was cleared\r\n                            _scheduleTimer();\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            _self.setMsaAuthTicket = function (ticket) {\r\n                _httpManager.addHeader(STR_MSA_DEVICE_TICKET, ticket);\r\n            };\r\n            _self.hasEvents = _hasEvents;\r\n            _self._setTransmitProfile = function (profileName) {\r\n                if (_currentProfile !== profileName && _profiles[profileName] !== undefined) {\r\n                    _clearScheduledTimer();\r\n                    _currentProfile = profileName;\r\n                    _scheduleTimer();\r\n                }\r\n            };\r\n            /**\r\n             * Batch and send events currently in the queue for the given latency.\r\n             * @param latency - Latency for which to send events.\r\n             */\r\n            function _sendEventsForLatencyAndAbove(latency, sendType, sendReason) {\r\n                var queued = _queueBatches(latency, sendType, sendReason);\r\n                // Always trigger the request as while the post channel may not have queued additional events, the httpManager may already have waiting events\r\n                _httpManager.sendQueuedRequests(sendType, sendReason);\r\n                return queued;\r\n            }\r\n            function _hasEvents() {\r\n                return _queueSize > 0;\r\n            }\r\n            /**\r\n             * Try to schedule the timer after which events will be sent. If there are\r\n             * no events to be sent, or there is already a timer scheduled, or the\r\n             * http manager doesn't have any idle connections this method is no-op.\r\n             */\r\n            function _scheduleTimer() {\r\n                // If we had previously attempted to send requests, but the http manager didn't have any idle connections then the requests where delayed\r\n                // so try and requeue then again now\r\n                if (_delayedBatchSendLatency >= 0 && _queueBatches(_delayedBatchSendLatency, 0 /* EventSendType.Batched */, _delayedBatchReason)) {\r\n                    _httpManager.sendQueuedRequests(0 /* EventSendType.Batched */, _delayedBatchReason);\r\n                }\r\n                if (_immediateQueueSize > 0 && !_immediateTimerId && !_paused) {\r\n                    // During initialization _profiles enforce that the direct [2] is less than real time [1] timer value\r\n                    // If the immediateTimeout is disabled the immediate events will be sent with Real Time events\r\n                    var immediateTimeOut = _profiles[_currentProfile][2];\r\n                    if (immediateTimeOut >= 0) {\r\n                        _immediateTimerId = _createTimer(function () {\r\n                            _immediateTimerId = null;\r\n                            // Only try to send direct events\r\n                            _sendEventsForLatencyAndAbove(4 /* EventLatencyValue.Immediate */, 0 /* EventSendType.Batched */, 1 /* SendRequestReason.NormalSchedule */);\r\n                            _scheduleTimer();\r\n                        }, immediateTimeOut);\r\n                    }\r\n                }\r\n                // During initialization the _profiles enforce that the normal [0] is a multiple of the real time [1] timer value\r\n                var timeOut = _profiles[_currentProfile][1];\r\n                if (!_scheduledTimerId && !_flushCallbackTimerId && timeOut >= 0 && !_paused) {\r\n                    if (_hasEvents()) {\r\n                        _scheduledTimerId = _createTimer(function () {\r\n                            _scheduledTimerId = null;\r\n                            _sendEventsForLatencyAndAbove(_timerCount === 0 ? 3 /* EventLatencyValue.RealTime */ : 1 /* EventLatencyValue.Normal */, 0 /* EventSendType.Batched */, 1 /* SendRequestReason.NormalSchedule */);\r\n                            // Increment the count for next cycle\r\n                            _timerCount++;\r\n                            _timerCount %= 2;\r\n                            _scheduleTimer();\r\n                        }, timeOut);\r\n                    }\r\n                    else {\r\n                        _timerCount = 0;\r\n                    }\r\n                }\r\n            }\r\n            _self._backOffTransmission = function () {\r\n                if (_currentBackoffCount < MaxBackoffCount) {\r\n                    _currentBackoffCount++;\r\n                    _clearScheduledTimer();\r\n                    _scheduleTimer();\r\n                }\r\n            };\r\n            _self._clearBackOff = function () {\r\n                if (_currentBackoffCount) {\r\n                    _currentBackoffCount = 0;\r\n                    _clearScheduledTimer();\r\n                    _scheduleTimer();\r\n                }\r\n            };\r\n            function _initDefaults() {\r\n                _config = null;\r\n                _isTeardownCalled = false;\r\n                _flushCallbackQueue = [];\r\n                _flushCallbackTimerId = null;\r\n                _paused = false;\r\n                _immediateQueueSize = 0;\r\n                _immediateQueueSizeLimit = 500;\r\n                _queueSize = 0;\r\n                _queueSizeLimit = 10000;\r\n                _profiles = {};\r\n                _currentProfile = RT_PROFILE;\r\n                _scheduledTimerId = null;\r\n                _immediateTimerId = null;\r\n                _currentBackoffCount = 0;\r\n                _timerCount = 0;\r\n                _xhrOverride = null;\r\n                _batchQueues = {};\r\n                _autoFlushEventsLimit = undefined;\r\n                // either MaxBatchSize * (1+ Max Connections) or _queueLimit / 6 (where 3 latency Queues [normal, realtime, cost deferred] * 2 [allow half full -- allow for retry])\r\n                _autoFlushBatchLimit = 0;\r\n                _delayedBatchSendLatency = -1;\r\n                _delayedBatchReason = null;\r\n                _optimizeObject = true;\r\n                _isPageUnloadTriggered = false;\r\n                _maxEventSendAttempts = MaxSendAttempts;\r\n                _maxUnloadEventSendAttempts = MaxSyncUnloadSendAttempts;\r\n                _evtNamespace = null;\r\n                _timeoutWrapper = createTimeoutWrapper();\r\n                _httpManager = new HttpManager(MaxNumberEventPerBatch, MaxConnections, MaxRequestRetriesBeforeBackoff, {\r\n                    requeue: _requeueEvents,\r\n                    send: _sendingEvent,\r\n                    sent: _eventsSentEvent,\r\n                    drop: _eventsDropped,\r\n                    rspFail: _eventsResponseFail,\r\n                    oth: _otherEvent\r\n                }, _timeoutWrapper);\r\n                _initializeProfiles();\r\n                _clearQueues();\r\n                _setAutoLimits();\r\n            }\r\n            function _createTimer(theTimerFunc, timeOut) {\r\n                // If the transmission is backed off make the timer at least 1 sec to allow for back off.\r\n                if (timeOut === 0 && _currentBackoffCount) {\r\n                    timeOut = 1;\r\n                }\r\n                var timerMultiplier = 1000;\r\n                if (_currentBackoffCount) {\r\n                    timerMultiplier = retryPolicyGetMillisToBackoffForRetry(_currentBackoffCount - 1);\r\n                }\r\n                return _timeoutWrapper.set(theTimerFunc, timeOut * timerMultiplier);\r\n            }\r\n            function _clearScheduledTimer() {\r\n                if (_scheduledTimerId !== null) {\r\n                    _timeoutWrapper.clear(_scheduledTimerId);\r\n                    _scheduledTimerId = null;\r\n                    _timerCount = 0;\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            // Try to send all queued events using beacons if available\r\n            function _releaseAllQueues(sendType, sendReason) {\r\n                _clearScheduledTimer();\r\n                // Cancel all flush callbacks\r\n                if (_flushCallbackTimerId) {\r\n                    _timeoutWrapper.clear(_flushCallbackTimerId);\r\n                    _flushCallbackTimerId = null;\r\n                }\r\n                if (!_paused) {\r\n                    // Queue all the remaining requests to be sent. The requests will be sent using HTML5 Beacons if they are available.\r\n                    _sendEventsForLatencyAndAbove(1 /* EventLatencyValue.Normal */, sendType, sendReason);\r\n                }\r\n            }\r\n            /**\r\n             * Add empty queues for all latencies in the inbound queues map. This is called\r\n             * when Transmission Manager is being flushed. This ensures that new events added\r\n             * after flush are stored separately till we flush the current events.\r\n             */\r\n            function _clearQueues() {\r\n                _batchQueues[4 /* EventLatencyValue.Immediate */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n                _batchQueues[3 /* EventLatencyValue.RealTime */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n                _batchQueues[2 /* EventLatencyValue.CostDeferred */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n                _batchQueues[1 /* EventLatencyValue.Normal */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n            }\r\n            function _getEventBatch(iKey, latency, create) {\r\n                var batchQueue = _batchQueues[latency];\r\n                if (!batchQueue) {\r\n                    latency = 1 /* EventLatencyValue.Normal */;\r\n                    batchQueue = _batchQueues[latency];\r\n                }\r\n                var eventBatch = batchQueue.iKeyMap[iKey];\r\n                if (!eventBatch && create) {\r\n                    eventBatch = EventBatch.create(iKey);\r\n                    batchQueue.batches.push(eventBatch);\r\n                    batchQueue.iKeyMap[iKey] = eventBatch;\r\n                }\r\n                return eventBatch;\r\n            }\r\n            function _performAutoFlush(isAsync, doFlush) {\r\n                // Only perform the auto flush check if the httpManager has an idle connection and we are not in a backoff situation\r\n                if (_httpManager.canSendRequest() && !_currentBackoffCount) {\r\n                    if (_autoFlushEventsLimit > 0 && _queueSize > _autoFlushEventsLimit) {\r\n                        // Force flushing\r\n                        doFlush = true;\r\n                    }\r\n                    if (doFlush && _flushCallbackTimerId == null) {\r\n                        // Auto flush the queue\r\n                        _self.flush(isAsync, null, 20 /* SendRequestReason.MaxQueuedEvents */);\r\n                    }\r\n                }\r\n            }\r\n            function _addEventToProperQueue(event, append) {\r\n                // v8 performance optimization for iterating over the keys\r\n                if (_optimizeObject) {\r\n                    event = optimizeObject(event);\r\n                }\r\n                var latency = event.latency;\r\n                var eventBatch = _getEventBatch(event.iKey, latency, true);\r\n                if (eventBatch.addEvent(event)) {\r\n                    if (latency !== 4 /* EventLatencyValue.Immediate */) {\r\n                        _queueSize++;\r\n                        // Check for auto flushing based on total events in the queue, but not for requeued or retry events\r\n                        if (append && event.sendAttempt === 0) {\r\n                            // Force the flushing of the batch if the batch (specific iKey / latency combination) reaches it's auto flush limit\r\n                            _performAutoFlush(!event.sync, _autoFlushBatchLimit > 0 && eventBatch.count() >= _autoFlushBatchLimit);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Direct events don't need auto flushing as they are scheduled (by default) for immediate delivery\r\n                        _immediateQueueSize++;\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            function _dropEventWithLatencyOrLess(iKey, latency, currentLatency, dropNumber) {\r\n                while (currentLatency <= latency) {\r\n                    var eventBatch = _getEventBatch(iKey, latency, true);\r\n                    if (eventBatch && eventBatch.count() > 0) {\r\n                        // Dropped oldest events from lowest possible latency\r\n                        var droppedEvents = eventBatch.split(0, dropNumber);\r\n                        var droppedCount = droppedEvents.count();\r\n                        if (droppedCount > 0) {\r\n                            if (currentLatency === 4 /* EventLatencyValue.Immediate */) {\r\n                                _immediateQueueSize -= droppedCount;\r\n                            }\r\n                            else {\r\n                                _queueSize -= droppedCount;\r\n                            }\r\n                            _notifyBatchEvents(strEventsDiscarded, [droppedEvents], EventsDiscardedReason.QueueFull);\r\n                            return true;\r\n                        }\r\n                    }\r\n                    currentLatency++;\r\n                }\r\n                // Unable to drop any events -- lets just make sure the queue counts are correct to avoid exhaustion\r\n                _resetQueueCounts();\r\n                return false;\r\n            }\r\n            /**\r\n             * Internal helper to reset the queue counts, used as a backstop to avoid future queue exhaustion errors\r\n             * that might occur because of counting issues.\r\n             */\r\n            function _resetQueueCounts() {\r\n                var immediateQueue = 0;\r\n                var normalQueue = 0;\r\n                var _loop_1 = function (latency) {\r\n                    var batchQueue = _batchQueues[latency];\r\n                    if (batchQueue && batchQueue.batches) {\r\n                        arrForEach(batchQueue.batches, function (theBatch) {\r\n                            if (latency === 4 /* EventLatencyValue.Immediate */) {\r\n                                immediateQueue += theBatch.count();\r\n                            }\r\n                            else {\r\n                                normalQueue += theBatch.count();\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n                for (var latency = 1 /* EventLatencyValue.Normal */; latency <= 4 /* EventLatencyValue.Immediate */; latency++) {\r\n                    _loop_1(latency);\r\n                }\r\n                _queueSize = normalQueue;\r\n                _immediateQueueSize = immediateQueue;\r\n            }\r\n            function _queueBatches(latency, sendType, sendReason) {\r\n                var eventsQueued = false;\r\n                var isAsync = sendType === 0 /* EventSendType.Batched */;\r\n                // Only queue batches (to the HttpManager) if this is a sync request or the httpManager has an idle connection\r\n                // Thus keeping the events within the PostChannel until the HttpManager has a connection available\r\n                // This is so we can drop \"old\" events if the queue is getting full because we can't successfully send events\r\n                if (!isAsync || _httpManager.canSendRequest()) {\r\n                    doPerf(_self.core, function () { return \"PostChannel._queueBatches\"; }, function () {\r\n                        var droppedEvents = [];\r\n                        var latencyToProcess = 4 /* EventLatencyValue.Immediate */;\r\n                        while (latencyToProcess >= latency) {\r\n                            var batchQueue = _batchQueues[latencyToProcess];\r\n                            if (batchQueue && batchQueue.batches && batchQueue.batches.length > 0) {\r\n                                arrForEach(batchQueue.batches, function (theBatch) {\r\n                                    // Add the batch to the http manager to send the requests\r\n                                    if (!_httpManager.addBatch(theBatch)) {\r\n                                        // The events from this iKey are being dropped (killed)\r\n                                        droppedEvents = droppedEvents.concat(theBatch.events());\r\n                                    }\r\n                                    else {\r\n                                        eventsQueued = eventsQueued || (theBatch && theBatch.count() > 0);\r\n                                    }\r\n                                    if (latencyToProcess === 4 /* EventLatencyValue.Immediate */) {\r\n                                        _immediateQueueSize -= theBatch.count();\r\n                                    }\r\n                                    else {\r\n                                        _queueSize -= theBatch.count();\r\n                                    }\r\n                                });\r\n                                // Remove all batches from this Queue\r\n                                batchQueue.batches = [];\r\n                                batchQueue.iKeyMap = {};\r\n                            }\r\n                            latencyToProcess--;\r\n                        }\r\n                        if (droppedEvents.length > 0) {\r\n                            _notifyEvents(strEventsDiscarded, droppedEvents, EventsDiscardedReason.KillSwitch);\r\n                        }\r\n                        if (eventsQueued && _delayedBatchSendLatency >= latency) {\r\n                            // We have queued events at the same level as the delayed values so clear the setting\r\n                            _delayedBatchSendLatency = -1;\r\n                            _delayedBatchReason = 0 /* SendRequestReason.Undefined */;\r\n                        }\r\n                    }, function () { return ({ latency: latency, sendType: sendType, sendReason: sendReason }); }, !isAsync);\r\n                }\r\n                else {\r\n                    // remember the min latency so that we can re-trigger later\r\n                    _delayedBatchSendLatency = _delayedBatchSendLatency >= 0 ? Math.min(_delayedBatchSendLatency, latency) : latency;\r\n                    _delayedBatchReason = Math.max(_delayedBatchReason, sendReason);\r\n                }\r\n                return eventsQueued;\r\n            }\r\n            /**\r\n             * This is the callback method is called as part of the manual flushing process.\r\n             * @param callback\r\n             * @param sendReason\r\n             */\r\n            function _flushImpl(callback, sendReason) {\r\n                // Add any additional queued events and cause all queued events to be sent asynchronously\r\n                _sendEventsForLatencyAndAbove(1 /* EventLatencyValue.Normal */, 0 /* EventSendType.Batched */, sendReason);\r\n                // All events (should) have been queue -- lets just make sure the queue counts are correct to avoid queue exhaustion (previous bug #9685112)\r\n                _resetQueueCounts();\r\n                _waitForIdleManager(function () {\r\n                    // Only called AFTER the httpManager does not have any outstanding requests\r\n                    if (callback) {\r\n                        callback();\r\n                    }\r\n                    if (_flushCallbackQueue.length > 0) {\r\n                        _flushCallbackTimerId = _createTimer(function () {\r\n                            _flushCallbackTimerId = null;\r\n                            _flushImpl(_flushCallbackQueue.shift(), sendReason);\r\n                        }, 0);\r\n                    }\r\n                    else {\r\n                        // No more flush requests\r\n                        _flushCallbackTimerId = null;\r\n                        // Restart the normal timer schedule\r\n                        _scheduleTimer();\r\n                    }\r\n                });\r\n            }\r\n            function _waitForIdleManager(callback) {\r\n                if (_httpManager.isCompletelyIdle()) {\r\n                    callback();\r\n                }\r\n                else {\r\n                    _flushCallbackTimerId = _createTimer(function () {\r\n                        _flushCallbackTimerId = null;\r\n                        _waitForIdleManager(callback);\r\n                    }, FlushCheckTimer);\r\n                }\r\n            }\r\n            /**\r\n             * Resets the transmit profiles to the default profiles of Real Time, Near Real Time\r\n             * and Best Effort. This removes all the custom profiles that were loaded.\r\n             */\r\n            function _resetTransmitProfiles() {\r\n                _clearScheduledTimer();\r\n                _initializeProfiles();\r\n                _currentProfile = RT_PROFILE;\r\n                _scheduleTimer();\r\n            }\r\n            function _initializeProfiles() {\r\n                _profiles = {};\r\n                _profiles[RT_PROFILE] = [2, 1, 0];\r\n                _profiles[NRT_PROFILE] = [6, 3, 0];\r\n                _profiles[BE_PROFILE] = [18, 9, 0];\r\n            }\r\n            /**\r\n             * The notification handler for requeue events\r\n             * @ignore\r\n             */\r\n            function _requeueEvents(batches, reason) {\r\n                var droppedEvents = [];\r\n                var maxSendAttempts = _maxEventSendAttempts;\r\n                if (_isPageUnloadTriggered) {\r\n                    // If a page unlaod has been triggered reduce the number of times we try to \"retry\"\r\n                    maxSendAttempts = _maxUnloadEventSendAttempts;\r\n                }\r\n                arrForEach(batches, function (theBatch) {\r\n                    if (theBatch && theBatch.count() > 0) {\r\n                        arrForEach(theBatch.events(), function (theEvent) {\r\n                            if (theEvent) {\r\n                                // Check if the request being added back is for a sync event in which case mark it no longer a sync event\r\n                                if (theEvent.sync) {\r\n                                    theEvent.latency = 4 /* EventLatencyValue.Immediate */;\r\n                                    theEvent.sync = false;\r\n                                }\r\n                                if (theEvent.sendAttempt < maxSendAttempts) {\r\n                                    // Reset the event timings\r\n                                    setProcessTelemetryTimings(theEvent, _self.identifier);\r\n                                    _addEventToQueues(theEvent, false);\r\n                                }\r\n                                else {\r\n                                    droppedEvents.push(theEvent);\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n                if (droppedEvents.length > 0) {\r\n                    _notifyEvents(strEventsDiscarded, droppedEvents, EventsDiscardedReason.NonRetryableStatus);\r\n                }\r\n                if (_isPageUnloadTriggered) {\r\n                    // Unload event has been received so we need to try and flush new events\r\n                    _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                }\r\n            }\r\n            function _callNotification(evtName, theArgs) {\r\n                var manager = (_self._notificationManager || {});\r\n                var notifyFunc = manager[evtName];\r\n                if (notifyFunc) {\r\n                    try {\r\n                        notifyFunc.apply(manager, theArgs);\r\n                    }\r\n                    catch (e) {\r\n                        _throwInternal(_self.diagLog(), 1 /* eLoggingSeverity.CRITICAL */, 74 /* _eInternalMessageId.NotificationException */, evtName + \" notification failed: \" + e);\r\n                    }\r\n                }\r\n            }\r\n            function _notifyEvents(evtName, theEvents) {\r\n                var extraArgs = [];\r\n                for (var _i = 2; _i < arguments.length; _i++) {\r\n                    extraArgs[_i - 2] = arguments[_i];\r\n                }\r\n                if (theEvents && theEvents.length > 0) {\r\n                    _callNotification(evtName, [theEvents].concat(extraArgs));\r\n                }\r\n            }\r\n            function _notifyBatchEvents(evtName, batches) {\r\n                var extraArgs = [];\r\n                for (var _i = 2; _i < arguments.length; _i++) {\r\n                    extraArgs[_i - 2] = arguments[_i];\r\n                }\r\n                if (batches && batches.length > 0) {\r\n                    arrForEach(batches, function (theBatch) {\r\n                        if (theBatch && theBatch.count() > 0) {\r\n                            _callNotification(evtName, [theBatch.events()].concat(extraArgs));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            /**\r\n             * The notification handler for when batches are about to be sent\r\n             * @ignore\r\n             */\r\n            function _sendingEvent(batches, reason, isSyncRequest) {\r\n                if (batches && batches.length > 0) {\r\n                    _callNotification(\"eventsSendRequest\", [(reason >= 1000 /* EventBatchNotificationReason.SendingUndefined */ && reason <= 1999 /* EventBatchNotificationReason.SendingEventMax */ ?\r\n                            reason - 1000 /* EventBatchNotificationReason.SendingUndefined */ :\r\n                            0 /* SendRequestReason.Undefined */), isSyncRequest !== true]);\r\n                }\r\n            }\r\n            /**\r\n             * This event represents that a batch of events have been successfully sent and a response received\r\n             * @param batches The notification handler for when the batches have been successfully sent\r\n             * @param reason For this event the reason will always be EventBatchNotificationReason.Complete\r\n             */\r\n            function _eventsSentEvent(batches, reason) {\r\n                _notifyBatchEvents(\"eventsSent\", batches, reason);\r\n                // Try and schedule the processing timer if we have events\r\n                _scheduleTimer();\r\n            }\r\n            function _eventsDropped(batches, reason) {\r\n                _notifyBatchEvents(strEventsDiscarded, batches, (reason >= 8000 /* EventBatchNotificationReason.EventsDropped */ && reason <= 8999 /* EventBatchNotificationReason.EventsDroppedMax */ ?\r\n                    reason - 8000 /* EventBatchNotificationReason.EventsDropped */ :\r\n                    EventsDiscardedReason.Unknown));\r\n            }\r\n            function _eventsResponseFail(batches) {\r\n                _notifyBatchEvents(strEventsDiscarded, batches, EventsDiscardedReason.NonRetryableStatus);\r\n                // Try and schedule the processing timer if we have events\r\n                _scheduleTimer();\r\n            }\r\n            function _otherEvent(batches, reason) {\r\n                _notifyBatchEvents(strEventsDiscarded, batches, EventsDiscardedReason.Unknown);\r\n                // Try and schedule the processing timer if we have events\r\n                _scheduleTimer();\r\n            }\r\n            function _setAutoLimits() {\r\n                if (!_config || !_config.disableAutoBatchFlushLimit) {\r\n                    _autoFlushBatchLimit = Math.max(MaxNumberEventPerBatch * (MaxConnections + 1), _queueSizeLimit / 6);\r\n                }\r\n                else {\r\n                    _autoFlushBatchLimit = 0;\r\n                }\r\n            }\r\n            // Provided for backward compatibility they are not \"expected\" to be in current use but they are public\r\n            objDefineAccessors(_self, \"_setTimeoutOverride\", function () { return _timeoutWrapper.set; }, function (value) {\r\n                // Recreate the timeout wrapper\r\n                _timeoutWrapper = createTimeoutWrapper(value, _timeoutWrapper.clear);\r\n            });\r\n            objDefineAccessors(_self, \"_clearTimeoutOverride\", function () { return _timeoutWrapper.clear; }, function (value) {\r\n                // Recreate the timeout wrapper\r\n                _timeoutWrapper = createTimeoutWrapper(_timeoutWrapper.set, value);\r\n            });\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for PostChannel.prototype.initialize.\r\n// Removed Stub for PostChannel.prototype.processTelemetry.\r\n// Removed Stub for PostChannel.prototype.setEventQueueLimits.\r\n// Removed Stub for PostChannel.prototype.pause.\r\n// Removed Stub for PostChannel.prototype.resume.\r\n// Removed Stub for PostChannel.prototype.addResponseHandler.\r\n// Removed Stub for PostChannel.prototype.flush.\r\n// Removed Stub for PostChannel.prototype.setMsaAuthTicket.\r\n// Removed Stub for PostChannel.prototype.hasEvents.\r\n// Removed Stub for PostChannel.prototype._loadTransmitProfiles.\r\n// Removed Stub for PostChannel.prototype._setTransmitProfile.\r\n// Removed Stub for PostChannel.prototype._backOffTransmission.\r\n// Removed Stub for PostChannel.prototype._clearBackOff.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    PostChannel.__ieDyn=1;\n\n    return PostChannel;\r\n}(BaseTelemetryPlugin));\r\nexport default PostChannel;\r\n//# sourceMappingURL=PostChannel.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { deepFreeze, objForEachKey } from \"../JavaScriptSDK/HelperFuncs\";\r\n/**\r\n * Create an enum style object which has both the key => value and value => key mappings\r\n * @param values - The values to populate on the new object\r\n * @returns\r\n */\r\nexport function createEnumStyle(values) {\r\n    var enumClass = {};\r\n    objForEachKey(values, function (field, value) {\r\n        enumClass[field] = value;\r\n        enumClass[value] = field;\r\n    });\r\n    return deepFreeze(enumClass);\r\n}\r\n/**\r\n * Create a 2 index map that maps an enum's key as both the key and value, X[\"key\"] => \"key\" and X[0] => \"keyof 0\".\r\n * @param values - The values to populate on the new object\r\n * @returns\r\n */\r\nexport function createEnumMap(values) {\r\n    var mapClass = {};\r\n    objForEachKey(values, function (field, value) {\r\n        mapClass[field] = field;\r\n        mapClass[value] = field;\r\n    });\r\n    return deepFreeze(mapClass);\r\n}\r\n/**\r\n * Create a 2 index map that maps an enum's key and value to the defined map value, X[\"key\"] => mapValue and X[0] => mapValue.\r\n * Generic values\r\n * - E = the const enum type (typeof eRequestHeaders);\r\n * - V = Identifies the valid values for the keys, this should include both the enum numeric and string key of the type. The\r\n * resulting \"Value\" of each entry identifies the valid values withing the assignments.\r\n * @param values - The values to populate on the new object\r\n * @returns\r\n */\r\nexport function createValueMap(values) {\r\n    var mapClass = {};\r\n    objForEachKey(values, function (field, value) {\r\n        mapClass[field] = value[1];\r\n        mapClass[value[0]] = value[1];\r\n    });\r\n    return deepFreeze(mapClass);\r\n}\r\n//# sourceMappingURL=EnumHelperFuncs.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { createEnumStyle } from \"../JavaScriptSDK.Enums/EnumHelperFuncs\";\r\n/**\r\n * The EventsDiscardedReason enumeration contains a set of values that specify the reason for discarding an event.\r\n */\r\nexport var EventsDiscardedReason = createEnumStyle({\r\n    /**\r\n     * Unknown.\r\n     */\r\n    Unknown: 0 /* eEventsDiscardedReason.Unknown */,\r\n    /**\r\n     * Status set to non-retryable.\r\n     */\r\n    NonRetryableStatus: 1 /* eEventsDiscardedReason.NonRetryableStatus */,\r\n    /**\r\n     * The event is invalid.\r\n     */\r\n    InvalidEvent: 2 /* eEventsDiscardedReason.InvalidEvent */,\r\n    /**\r\n     * The size of the event is too large.\r\n     */\r\n    SizeLimitExceeded: 3 /* eEventsDiscardedReason.SizeLimitExceeded */,\r\n    /**\r\n     * The server is not accepting events from this instrumentation key.\r\n     */\r\n    KillSwitch: 4 /* eEventsDiscardedReason.KillSwitch */,\r\n    /**\r\n     * The event queue is full.\r\n     */\r\n    QueueFull: 5 /* eEventsDiscardedReason.QueueFull */\r\n});\r\n//# sourceMappingURL=EventsDiscardedReason.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_CREATE_NEW, _DYN_DIAG_LOG, _DYN_GET_NEXT, _DYN_GET_PROCESS_TEL_CONT0, _DYN_INITIALIZE, _DYN_IS_ASYNC, _DYN_IS_INITIALIZED, _DYN_PROCESS_NEXT, _DYN_PUSH, _DYN_SET_NEXT_PLUGIN, _DYN_TEARDOWN, _DYN_UPDATE, _DYN__DO_TEARDOWN } from \"../__DynamicConstants\";\r\nimport { arrForEach, isArray, isFunction, isNullOrUndefined, proxyFunctionAs, setValue } from \"./HelperFuncs\";\r\nimport { STR_CORE, STR_EXTENSION_CONFIG, STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nimport { createProcessTelemetryContext, createProcessTelemetryUnloadContext, createProcessTelemetryUpdateContext } from \"./ProcessTelemetryContext\";\r\nimport { createUnloadHandlerContainer } from \"./UnloadHandlerContainer\";\r\nvar strGetPlugin = \"getPlugin\";\r\n/**\r\n * BaseTelemetryPlugin provides a basic implementation of the ITelemetryPlugin interface so that plugins\r\n * can avoid implementation the same set of boiler plate code as well as provide a base\r\n * implementation so that new default implementations can be added without breaking all plugins.\r\n */\r\nvar BaseTelemetryPlugin = /** @class */ (function () {\r\n    function BaseTelemetryPlugin() {\r\n        var _self = this; // Setting _self here as it's used outside of the dynamicProto as well\r\n        // NOTE!: DON'T set default values here, instead set them in the _initDefaults() function as it is also called during teardown()\r\n        var _isinitialized;\r\n        var _rootCtx; // Used as the root context, holding the current config and initialized core\r\n        var _nextPlugin; // Used for backward compatibility where plugins don't call the main pipeline\r\n        var _unloadHandlerContainer;\r\n        var _hooks;\r\n        _initDefaults();\r\n        dynamicProto(BaseTelemetryPlugin, _self, function (_self) {\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, core, extensions, pluginChain) {\r\n                _setDefaults(config, core, pluginChain);\r\n                _isinitialized = true;\r\n            };\r\n            _self[_DYN_TEARDOWN /* @min:%2eteardown */] = function (unloadCtx, unloadState) {\r\n                var _a;\r\n                // If this plugin has already been torn down (not operational) or is not initialized (core is not set)\r\n                // or the core being used for unload was not the same core used for initialization.\r\n                var core = _self[STR_CORE /* @min:%2ecore */];\r\n                if (!core || (unloadCtx && core !== unloadCtx[STR_CORE /* @min:%2ecore */]())) {\r\n                    // Do Nothing as either the plugin is not initialized or was not initialized by the current core\r\n                    return;\r\n                }\r\n                var result;\r\n                var unloadDone = false;\r\n                var theUnloadCtx = unloadCtx || createProcessTelemetryUnloadContext(null, core, _nextPlugin && _nextPlugin[strGetPlugin] ? _nextPlugin[strGetPlugin]() : _nextPlugin);\r\n                var theUnloadState = unloadState || (_a = {\r\n                        reason: 0 /* TelemetryUnloadReason.ManualTeardown */\r\n                    },\r\n                    _a[_DYN_IS_ASYNC /* @min:isAsync */] = false,\r\n                    _a);\r\n                function _unloadCallback() {\r\n                    if (!unloadDone) {\r\n                        unloadDone = true;\r\n                        _unloadHandlerContainer.run(theUnloadCtx, unloadState);\r\n                        var oldHooks = _hooks;\r\n                        _hooks = [];\r\n                        // Remove all instrumentation hooks\r\n                        arrForEach(oldHooks, function (fn) {\r\n                            fn.rm();\r\n                        });\r\n                        if (result === true) {\r\n                            theUnloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUnloadState);\r\n                        }\r\n                        _initDefaults();\r\n                    }\r\n                }\r\n                if (!_self[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */] || _self[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */](theUnloadCtx, theUnloadState, _unloadCallback) !== true) {\r\n                    _unloadCallback();\r\n                }\r\n                else {\r\n                    // Tell the caller that we will be calling processNext()\r\n                    result = true;\r\n                }\r\n                return result;\r\n            };\r\n            _self[_DYN_UPDATE /* @min:%2eupdate */] = function (updateCtx, updateState) {\r\n                // If this plugin has already been torn down (not operational) or is not initialized (core is not set)\r\n                // or the core being used for unload was not the same core used for initialization.\r\n                var core = _self[STR_CORE /* @min:%2ecore */];\r\n                if (!core || (updateCtx && core !== updateCtx[STR_CORE /* @min:%2ecore */]())) {\r\n                    // Do Nothing\r\n                    return;\r\n                }\r\n                var result;\r\n                var updateDone = false;\r\n                var theUpdateCtx = updateCtx || createProcessTelemetryUpdateContext(null, core, _nextPlugin && _nextPlugin[strGetPlugin] ? _nextPlugin[strGetPlugin]() : _nextPlugin);\r\n                var theUpdateState = updateState || {\r\n                    reason: 0 /* TelemetryUpdateReason.Unknown */\r\n                };\r\n                function _updateCallback() {\r\n                    if (!updateDone) {\r\n                        updateDone = true;\r\n                        _setDefaults(theUpdateCtx.getCfg(), theUpdateCtx.core(), theUpdateCtx[_DYN_GET_NEXT /* @min:%2egetNext */]());\r\n                    }\r\n                }\r\n                if (!_self._doUpdate || _self._doUpdate(theUpdateCtx, theUpdateState, _updateCallback) !== true) {\r\n                    _updateCallback();\r\n                }\r\n                else {\r\n                    result = true;\r\n                }\r\n                return result;\r\n            };\r\n            _self._addHook = function (hooks) {\r\n                if (hooks) {\r\n                    if (isArray(hooks)) {\r\n                        _hooks = _hooks.concat(hooks);\r\n                    }\r\n                    else {\r\n                        _hooks[_DYN_PUSH /* @min:%2epush */](hooks);\r\n                    }\r\n                }\r\n            };\r\n            proxyFunctionAs(_self, \"_addUnloadCb\", function () { return _unloadHandlerContainer; }, \"add\");\r\n        });\r\n        // These are added after the dynamicProto so that are not moved to the prototype\r\n        _self[_DYN_DIAG_LOG /* @min:%2ediagLog */] = function (itemCtx) {\r\n            return _getTelCtx(itemCtx)[_DYN_DIAG_LOG /* @min:%2ediagLog */]();\r\n        };\r\n        _self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = function () {\r\n            return _isinitialized;\r\n        };\r\n        _self.setInitialized = function (isInitialized) {\r\n            _isinitialized = isInitialized;\r\n        };\r\n        // _self.getNextPlugin = () => DO NOT IMPLEMENT\r\n        // Sub-classes of this base class *should* not be relying on this value and instead\r\n        // should use processNext() function. If you require access to the plugin use the\r\n        // IProcessTelemetryContext.getNext().getPlugin() while in the pipeline, Note getNext() may return null.\r\n        _self[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */] = function (next) {\r\n            _nextPlugin = next;\r\n        };\r\n        _self[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = function (env, itemCtx) {\r\n            if (itemCtx) {\r\n                // Normal core execution sequence\r\n                itemCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](env);\r\n            }\r\n            else if (_nextPlugin && isFunction(_nextPlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */])) {\r\n                // Looks like backward compatibility or out of band processing. And as it looks\r\n                // like a ITelemetryPlugin or ITelemetryPluginChain, just call processTelemetry\r\n                _nextPlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */](env, null);\r\n            }\r\n        };\r\n        _self._getTelCtx = _getTelCtx;\r\n        function _getTelCtx(currentCtx) {\r\n            if (currentCtx === void 0) { currentCtx = null; }\r\n            var itemCtx = currentCtx;\r\n            if (!itemCtx) {\r\n                var rootCtx = _rootCtx || createProcessTelemetryContext(null, {}, _self[STR_CORE /* @min:%2ecore */]);\r\n                // tslint:disable-next-line: prefer-conditional-expression\r\n                if (_nextPlugin && _nextPlugin[strGetPlugin]) {\r\n                    // Looks like a chain object\r\n                    itemCtx = rootCtx[_DYN_CREATE_NEW /* @min:%2ecreateNew */](null, _nextPlugin[strGetPlugin]);\r\n                }\r\n                else {\r\n                    itemCtx = rootCtx[_DYN_CREATE_NEW /* @min:%2ecreateNew */](null, _nextPlugin);\r\n                }\r\n            }\r\n            return itemCtx;\r\n        }\r\n        function _setDefaults(config, core, pluginChain) {\r\n            if (config) {\r\n                // Make sure the extensionConfig exists\r\n                setValue(config, STR_EXTENSION_CONFIG, [], null, isNullOrUndefined);\r\n            }\r\n            if (!pluginChain && core) {\r\n                // Get the first plugin from the core\r\n                pluginChain = core[_DYN_GET_PROCESS_TEL_CONT0 /* @min:%2egetProcessTelContext */]()[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n            }\r\n            var nextPlugin = _nextPlugin;\r\n            if (_nextPlugin && _nextPlugin[strGetPlugin]) {\r\n                // If it looks like a proxy/chain then get the plugin\r\n                nextPlugin = _nextPlugin[strGetPlugin]();\r\n            }\r\n            // Support legacy plugins where core was defined as a property\r\n            _self[STR_CORE /* @min:%2ecore */] = core;\r\n            _rootCtx = createProcessTelemetryContext(pluginChain, config, core, nextPlugin);\r\n        }\r\n        function _initDefaults() {\r\n            _isinitialized = false;\r\n            _self[STR_CORE /* @min:%2ecore */] = null;\r\n            _rootCtx = null;\r\n            _nextPlugin = null;\r\n            _hooks = [];\r\n            _unloadHandlerContainer = createUnloadHandlerContainer();\r\n        }\r\n    }\r\n// Removed Stub for BaseTelemetryPlugin.prototype.initialize.\r\n// Removed Stub for BaseTelemetryPlugin.prototype.teardown.\r\n// Removed Stub for BaseTelemetryPlugin.prototype.update.\r\n// Removed Stub for BaseTelemetryPlugin.prototype._addUnloadCb.\r\n// Removed Stub for BaseTelemetryPlugin.prototype._addHook.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    BaseTelemetryPlugin.__ieDyn=1;\n\n    return BaseTelemetryPlugin;\r\n}());\r\nexport { BaseTelemetryPlugin };\r\n//# sourceMappingURL=BaseTelemetryPlugin.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { _DYN_COOKIE_CFG, _DYN_INDEX_OF, _DYN_LENGTH, _DYN_LOGGER, _DYN_SET_ENABLED, _DYN_SPLIT, _DYN_SUBSTRING, _DYN_USER_AGENT } from \"../__DynamicConstants\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nimport { dumpObj, getDocument, getLocation, getNavigator, isIE } from \"./EnvUtils\";\r\nimport { arrForEach, dateNow, getExceptionName, isArray, isFunction, isNotNullOrUndefined, isNullOrUndefined, isString, isTruthy, isUndefined, objForEachKey, setValue, strContains, strEndsWith, strTrim } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nvar strToGMTString = \"toGMTString\";\r\nvar strToUTCString = \"toUTCString\";\r\nvar strCookie = \"cookie\";\r\nvar strExpires = \"expires\";\r\nvar strEnabled = \"enabled\";\r\nvar strIsCookieUseDisabled = \"isCookieUseDisabled\";\r\nvar strDisableCookiesUsage = \"disableCookiesUsage\";\r\nvar strConfigCookieMgr = \"_ckMgr\";\r\nvar _supportsCookies = null;\r\nvar _allowUaSameSite = null;\r\nvar _parsedCookieValue = null;\r\nvar _doc = getDocument();\r\nvar _cookieCache = {};\r\nvar _globalCookieConfig = {};\r\n/**\r\n * @ignore\r\n * DO NOT USE or export from the module, this is exposed as public to support backward compatibility of previous static utility methods only.\r\n * If you want to manager cookies either use the ICookieMgr available from the core instance via getCookieMgr() or create\r\n * your own instance of the CookieMgr and use that.\r\n * Using this directly for enabling / disabling cookie handling will not only affect your usage but EVERY user of cookies.\r\n * Example, if you are using a shared component that is also using Application Insights you will affect their cookie handling.\r\n * @param logger - The DiagnosticLogger to use for reporting errors.\r\n */\r\nexport function _gblCookieMgr(config, logger) {\r\n    // Stash the global instance against the BaseCookieMgr class\r\n    var inst = createCookieMgr[strConfigCookieMgr] || _globalCookieConfig[strConfigCookieMgr];\r\n    if (!inst) {\r\n        // Note: not using the getSetValue() helper as that would require always creating a temporary cookieMgr\r\n        // that ultimately is never used\r\n        inst = createCookieMgr[strConfigCookieMgr] = createCookieMgr(config, logger);\r\n        _globalCookieConfig[strConfigCookieMgr] = inst;\r\n    }\r\n    return inst;\r\n}\r\nfunction _isMgrEnabled(cookieMgr) {\r\n    if (cookieMgr) {\r\n        return cookieMgr.isEnabled();\r\n    }\r\n    return true;\r\n}\r\nfunction _createCookieMgrConfig(rootConfig) {\r\n    var cookieMgrCfg = rootConfig[_DYN_COOKIE_CFG /* @min:%2ecookieCfg */] = rootConfig[_DYN_COOKIE_CFG /* @min:%2ecookieCfg */] || {};\r\n    // Sets the values from the root config if not already present on the cookieMgrCfg\r\n    setValue(cookieMgrCfg, \"domain\", rootConfig.cookieDomain, isNotNullOrUndefined, isNullOrUndefined);\r\n    setValue(cookieMgrCfg, \"path\", rootConfig.cookiePath || \"/\", null, isNullOrUndefined);\r\n    if (isNullOrUndefined(cookieMgrCfg[strEnabled])) {\r\n        // Set the enabled from the provided setting or the legacy root values\r\n        var cookieEnabled = void 0;\r\n        if (!isUndefined(rootConfig[strIsCookieUseDisabled])) {\r\n            cookieEnabled = !rootConfig[strIsCookieUseDisabled];\r\n        }\r\n        if (!isUndefined(rootConfig[strDisableCookiesUsage])) {\r\n            cookieEnabled = !rootConfig[strDisableCookiesUsage];\r\n        }\r\n        cookieMgrCfg[strEnabled] = cookieEnabled;\r\n    }\r\n    return cookieMgrCfg;\r\n}\r\nfunction _isIgnoredCookie(cookieMgrCfg, name) {\r\n    if (name && cookieMgrCfg && isArray(cookieMgrCfg.ignoreCookies)) {\r\n        return cookieMgrCfg.ignoreCookies[_DYN_INDEX_OF /* @min:%2eindexOf */](name) !== -1;\r\n    }\r\n    return false;\r\n}\r\nfunction _isBlockedCookie(cookieMgrCfg, name) {\r\n    if (name && cookieMgrCfg && isArray(cookieMgrCfg.blockedCookies)) {\r\n        if (cookieMgrCfg.blockedCookies[_DYN_INDEX_OF /* @min:%2eindexOf */](name) !== -1) {\r\n            return true;\r\n        }\r\n    }\r\n    return _isIgnoredCookie(cookieMgrCfg, name);\r\n}\r\n/**\r\n * Helper to return the ICookieMgr from the core (if not null/undefined) or a default implementation\r\n * associated with the configuration or a legacy default.\r\n * @param core\r\n * @param config\r\n * @returns\r\n */\r\nexport function safeGetCookieMgr(core, config) {\r\n    var cookieMgr;\r\n    if (core) {\r\n        // Always returns an instance\r\n        cookieMgr = core.getCookieMgr();\r\n    }\r\n    else if (config) {\r\n        var cookieCfg = config[_DYN_COOKIE_CFG /* @min:%2ecookieCfg */];\r\n        if (cookieCfg[strConfigCookieMgr]) {\r\n            cookieMgr = cookieCfg[strConfigCookieMgr];\r\n        }\r\n        else {\r\n            cookieMgr = createCookieMgr(config);\r\n        }\r\n    }\r\n    if (!cookieMgr) {\r\n        // Get or initialize the default global (legacy) cookie manager if we couldn't find one\r\n        cookieMgr = _gblCookieMgr(config, (core || {})[_DYN_LOGGER /* @min:%2elogger */]);\r\n    }\r\n    return cookieMgr;\r\n}\r\nexport function createCookieMgr(rootConfig, logger) {\r\n    var _a;\r\n    var cookieMgrConfig = _createCookieMgrConfig(rootConfig || _globalCookieConfig);\r\n    var _path = cookieMgrConfig.path || \"/\";\r\n    var _domain = cookieMgrConfig.domain;\r\n    // Explicitly checking against false, so that setting to undefined will === true\r\n    var _enabled = cookieMgrConfig[strEnabled] !== false;\r\n    var cookieMgr = (_a = {\r\n            isEnabled: function () {\r\n                var enabled = _enabled && areCookiesSupported(logger);\r\n                // Using an indirect lookup for any global cookie manager to support tree shaking for SDK's\r\n                // that don't use the \"applicationinsights-core\" version of the default cookie function\r\n                var gblManager = _globalCookieConfig[strConfigCookieMgr];\r\n                if (enabled && gblManager && cookieMgr !== gblManager) {\r\n                    // Make sure the GlobalCookie Manager instance (if not this instance) is also enabled.\r\n                    // As the global (deprecated) functions may have been called (for backward compatibility)\r\n                    enabled = _isMgrEnabled(gblManager);\r\n                }\r\n                return enabled;\r\n            }\r\n        },\r\n        _a[_DYN_SET_ENABLED /* @min:setEnabled */] = function (value) {\r\n            // Explicitly checking against false, so that setting to undefined will === true\r\n            _enabled = value !== false;\r\n        },\r\n        _a.set = function (name, value, maxAgeSec, domain, path) {\r\n            var result = false;\r\n            if (_isMgrEnabled(cookieMgr) && !_isBlockedCookie(cookieMgrConfig, name)) {\r\n                var values = {};\r\n                var theValue = strTrim(value || STR_EMPTY);\r\n                var idx = theValue[_DYN_INDEX_OF /* @min:%2eindexOf */](\";\");\r\n                if (idx !== -1) {\r\n                    theValue = strTrim(value[_DYN_SUBSTRING /* @min:%2esubstring */](0, idx));\r\n                    values = _extractParts(value[_DYN_SUBSTRING /* @min:%2esubstring */](idx + 1));\r\n                }\r\n                // Only update domain if not already present (isUndefined) and the value is truthy (not null, undefined or empty string)\r\n                setValue(values, \"domain\", domain || _domain, isTruthy, isUndefined);\r\n                if (!isNullOrUndefined(maxAgeSec)) {\r\n                    var _isIE = isIE();\r\n                    if (isUndefined(values[strExpires])) {\r\n                        var nowMs = dateNow();\r\n                        // Only add expires if not already present\r\n                        var expireMs = nowMs + (maxAgeSec * 1000);\r\n                        // Sanity check, if zero or -ve then ignore\r\n                        if (expireMs > 0) {\r\n                            var expiry = new Date();\r\n                            expiry.setTime(expireMs);\r\n                            setValue(values, strExpires, _formatDate(expiry, !_isIE ? strToUTCString : strToGMTString) || _formatDate(expiry, _isIE ? strToGMTString : strToUTCString) || STR_EMPTY, isTruthy);\r\n                        }\r\n                    }\r\n                    if (!_isIE) {\r\n                        // Only replace if not already present\r\n                        setValue(values, \"max-age\", STR_EMPTY + maxAgeSec, null, isUndefined);\r\n                    }\r\n                }\r\n                var location_1 = getLocation();\r\n                if (location_1 && location_1.protocol === \"https:\") {\r\n                    setValue(values, \"secure\", null, null, isUndefined);\r\n                    // Only set same site if not also secure\r\n                    if (_allowUaSameSite === null) {\r\n                        _allowUaSameSite = !uaDisallowsSameSiteNone((getNavigator() || {})[_DYN_USER_AGENT /* @min:%2euserAgent */]);\r\n                    }\r\n                    if (_allowUaSameSite) {\r\n                        setValue(values, \"SameSite\", \"None\", null, isUndefined);\r\n                    }\r\n                }\r\n                setValue(values, \"path\", path || _path, null, isUndefined);\r\n                var setCookieFn = cookieMgrConfig.setCookie || _setCookieValue;\r\n                setCookieFn(name, _formatCookieValue(theValue, values));\r\n                result = true;\r\n            }\r\n            return result;\r\n        },\r\n        _a.get = function (name) {\r\n            var value = STR_EMPTY;\r\n            if (_isMgrEnabled(cookieMgr) && !_isIgnoredCookie(cookieMgrConfig, name)) {\r\n                value = (cookieMgrConfig.getCookie || _getCookieValue)(name);\r\n            }\r\n            return value;\r\n        },\r\n        _a.del = function (name, path) {\r\n            var result = false;\r\n            if (_isMgrEnabled(cookieMgr)) {\r\n                // Only remove the cookie if the manager and cookie support has not been disabled\r\n                result = cookieMgr.purge(name, path);\r\n            }\r\n            return result;\r\n        },\r\n        _a.purge = function (name, path) {\r\n            var _a;\r\n            var result = false;\r\n            if (areCookiesSupported(logger)) {\r\n                // Setting the expiration date in the past immediately removes the cookie\r\n                var values = (_a = {},\r\n                    _a[\"path\"] = path ? path : \"/\",\r\n                    _a[strExpires] = \"Thu, 01 Jan 1970 00:00:01 GMT\",\r\n                    _a);\r\n                if (!isIE()) {\r\n                    // Set max age to expire now\r\n                    values[\"max-age\"] = \"0\";\r\n                }\r\n                var delCookie = cookieMgrConfig.delCookie || _setCookieValue;\r\n                delCookie(name, _formatCookieValue(STR_EMPTY, values));\r\n                result = true;\r\n            }\r\n            return result;\r\n        },\r\n        _a);\r\n    // Associated this cookie manager with the config\r\n    cookieMgr[strConfigCookieMgr] = cookieMgr;\r\n    return cookieMgr;\r\n}\r\n/*\r\n* Helper method to tell if document.cookie object is supported by the runtime\r\n*/\r\nexport function areCookiesSupported(logger) {\r\n    if (_supportsCookies === null) {\r\n        _supportsCookies = false;\r\n        try {\r\n            var doc = _doc || {};\r\n            _supportsCookies = doc[strCookie] !== undefined;\r\n        }\r\n        catch (e) {\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 68 /* _eInternalMessageId.CannotAccessCookie */, \"Cannot access document.cookie - \" + getExceptionName(e), { exception: dumpObj(e) });\r\n        }\r\n    }\r\n    return _supportsCookies;\r\n}\r\nfunction _extractParts(theValue) {\r\n    var values = {};\r\n    if (theValue && theValue[_DYN_LENGTH /* @min:%2elength */]) {\r\n        var parts = strTrim(theValue)[_DYN_SPLIT /* @min:%2esplit */](\";\");\r\n        arrForEach(parts, function (thePart) {\r\n            thePart = strTrim(thePart || STR_EMPTY);\r\n            if (thePart) {\r\n                var idx = thePart[_DYN_INDEX_OF /* @min:%2eindexOf */](\"=\");\r\n                if (idx === -1) {\r\n                    values[thePart] = null;\r\n                }\r\n                else {\r\n                    values[strTrim(thePart[_DYN_SUBSTRING /* @min:%2esubstring */](0, idx))] = strTrim(thePart[_DYN_SUBSTRING /* @min:%2esubstring */](idx + 1));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return values;\r\n}\r\nfunction _formatDate(theDate, func) {\r\n    if (isFunction(theDate[func])) {\r\n        return theDate[func]();\r\n    }\r\n    return null;\r\n}\r\nfunction _formatCookieValue(value, values) {\r\n    var cookieValue = value || STR_EMPTY;\r\n    objForEachKey(values, function (name, theValue) {\r\n        cookieValue += \"; \" + name + (!isNullOrUndefined(theValue) ? \"=\" + theValue : STR_EMPTY);\r\n    });\r\n    return cookieValue;\r\n}\r\nfunction _getCookieValue(name) {\r\n    var cookieValue = STR_EMPTY;\r\n    if (_doc) {\r\n        var theCookie = _doc[strCookie] || STR_EMPTY;\r\n        if (_parsedCookieValue !== theCookie) {\r\n            _cookieCache = _extractParts(theCookie);\r\n            _parsedCookieValue = theCookie;\r\n        }\r\n        cookieValue = strTrim(_cookieCache[name] || STR_EMPTY);\r\n    }\r\n    return cookieValue;\r\n}\r\nfunction _setCookieValue(name, cookieValue) {\r\n    if (_doc) {\r\n        _doc[strCookie] = name + \"=\" + cookieValue;\r\n    }\r\n}\r\nexport function uaDisallowsSameSiteNone(userAgent) {\r\n    if (!isString(userAgent)) {\r\n        return false;\r\n    }\r\n    // Cover all iOS based browsers here. This includes:\r\n    // - Safari on iOS 12 for iPhone, iPod Touch, iPad\r\n    // - WkWebview on iOS 12 for iPhone, iPod Touch, iPad\r\n    // - Chrome on iOS 12 for iPhone, iPod Touch, iPad\r\n    // All of which are broken by SameSite=None, because they use the iOS networking stack\r\n    if (strContains(userAgent, \"CPU iPhone OS 12\") || strContains(userAgent, \"iPad; CPU OS 12\")) {\r\n        return true;\r\n    }\r\n    // Cover Mac OS X based browsers that use the Mac OS networking stack. This includes:\r\n    // - Safari on Mac OS X\r\n    // This does not include:\r\n    // - Internal browser on Mac OS X\r\n    // - Chrome on Mac OS X\r\n    // - Chromium on Mac OS X\r\n    // Because they do not use the Mac OS networking stack.\r\n    if (strContains(userAgent, \"Macintosh; Intel Mac OS X 10_14\") && strContains(userAgent, \"Version/\") && strContains(userAgent, \"Safari\")) {\r\n        return true;\r\n    }\r\n    // Cover Mac OS X internal browsers that use the Mac OS networking stack. This includes:\r\n    // - Internal browser on Mac OS X\r\n    // This does not include:\r\n    // - Safari on Mac OS X\r\n    // - Chrome on Mac OS X\r\n    // - Chromium on Mac OS X\r\n    // Because they do not use the Mac OS networking stack.\r\n    if (strContains(userAgent, \"Macintosh; Intel Mac OS X 10_14\") && strEndsWith(userAgent, \"AppleWebKit/605.1.15 (KHTML, like Gecko)\")) {\r\n        return true;\r\n    }\r\n    // Cover Chrome 50-69, because some versions are broken by SameSite=None, and none in this range require it.\r\n    // Note: this covers some pre-Chromium Edge versions, but pre-Chromim Edge does not require SameSite=None, so this is fine.\r\n    // Note: this regex applies to Windows, Mac OS X, and Linux, deliberately.\r\n    if (strContains(userAgent, \"Chrome/5\") || strContains(userAgent, \"Chrome/6\")) {\r\n        return true;\r\n    }\r\n    // Unreal Engine runs Chromium 59, but does not advertise as Chrome until 4.23. Treat versions of Unreal\r\n    // that don't specify their Chrome version as lacking support for SameSite=None.\r\n    if (strContains(userAgent, \"UnrealEngine\") && !strContains(userAgent, \"Chrome\")) {\r\n        return true;\r\n    }\r\n    // UCBrowser < 12.13.2 ignores Set-Cookie headers with SameSite=None\r\n    // NB: this rule isn't complete - you need regex to make a complete rule.\r\n    // See: https://www.chromium.org/updates/same-site/incompatible-clients\r\n    if (strContains(userAgent, \"UCBrowser/12\") || strContains(userAgent, \"UCBrowser/11\")) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n//# sourceMappingURL=CookieMgr.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { objCreateFn, strShimUndefined } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_LENGTH, _DYN_PUSH, _DYN_SET_ENABLED, _DYN_SUBSTR, _DYN_SUBSTRING } from \"../__DynamicConstants\";\r\nimport { _gblCookieMgr } from \"./CookieMgr\";\r\nimport { getPerformance, isIE } from \"./EnvUtils\";\r\nimport { addEventHandler, attachEvent, detachEvent } from \"./EventHelpers\";\r\nimport { arrForEach, arrIndexOf, arrMap, arrReduce, dateNow, hasOwnProperty, isArray, isBoolean, isDate, isError, isFunction, isNullOrUndefined, isNumber, isObject, isString, isTypeof, isUndefined, objDefineAccessors, objKeys, strTrim, toISOString } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { mwcRandom32, mwcRandomSeed, newId, random32, randomValue } from \"./RandomHelper\";\r\nvar _cookieMgrs = null;\r\nvar _canUseCookies; // legacy supported config\r\n// Added to help with minfication\r\nexport var Undefined = strShimUndefined;\r\nexport function newGuid() {\r\n    var uuid = generateW3CId();\r\n    return uuid[_DYN_SUBSTRING /* @min:%2esubstring */](0, 8) + \"-\" + uuid[_DYN_SUBSTRING /* @min:%2esubstring */](8, 12) + \"-\" + uuid[_DYN_SUBSTRING /* @min:%2esubstring */](12, 16) + \"-\" + uuid[_DYN_SUBSTRING /* @min:%2esubstring */](16, 20) + \"-\" + uuid[_DYN_SUBSTRING /* @min:%2esubstring */](20);\r\n}\r\n/**\r\n * Return the current value of the Performance Api now() function (if available) and fallback to dateNow() if it is unavailable (IE9 or less)\r\n * https://caniuse.com/#search=performance.now\r\n */\r\nexport function perfNow() {\r\n    var perf = getPerformance();\r\n    if (perf && perf.now) {\r\n        return perf.now();\r\n    }\r\n    return dateNow();\r\n}\r\n/**\r\n * The strEndsWith() method determines whether a string ends with the characters of a specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param search - The characters to be searched for at the end of the value.\r\n * @returns true if the given search value is found at the end of the string, otherwise false.\r\n */\r\nexport function strEndsWith(value, search) {\r\n    if (value && search) {\r\n        var len = value[_DYN_LENGTH /* @min:%2elength */];\r\n        var start = len - search[_DYN_LENGTH /* @min:%2elength */];\r\n        return value[_DYN_SUBSTRING /* @min:%2esubstring */](start >= 0 ? start : 0, len) === search;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * generate W3C trace id\r\n */\r\nexport function generateW3CId() {\r\n    var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n    // rfc4122 version 4 UUID without dashes and with lowercase letters\r\n    var oct = STR_EMPTY, tmp;\r\n    for (var a = 0; a < 4; a++) {\r\n        tmp = random32();\r\n        oct +=\r\n            hexValues[tmp & 0xF] +\r\n                hexValues[tmp >> 4 & 0xF] +\r\n                hexValues[tmp >> 8 & 0xF] +\r\n                hexValues[tmp >> 12 & 0xF] +\r\n                hexValues[tmp >> 16 & 0xF] +\r\n                hexValues[tmp >> 20 & 0xF] +\r\n                hexValues[tmp >> 24 & 0xF] +\r\n                hexValues[tmp >> 28 & 0xF];\r\n    }\r\n    // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\r\n    var clockSequenceHi = hexValues[8 + (random32() & 0x03) | 0];\r\n    return oct[_DYN_SUBSTR /* @min:%2esubstr */](0, 8) + oct[_DYN_SUBSTR /* @min:%2esubstr */](9, 4) + \"4\" + oct[_DYN_SUBSTR /* @min:%2esubstr */](13, 3) + clockSequenceHi + oct[_DYN_SUBSTR /* @min:%2esubstr */](16, 3) + oct[_DYN_SUBSTR /* @min:%2esubstr */](19, 12);\r\n}\r\n/**\r\n * Provides a collection of utility functions, included for backward compatibility with previous releases.\r\n * @deprecated Marking this instance as deprecated in favor of direct usage of the helper functions\r\n * as direct usage provides better tree-shaking and minification by avoiding the inclusion of the unused items\r\n * in your resulting code.\r\n */\r\nexport var CoreUtils = {\r\n    _canUseCookies: undefined,\r\n    isTypeof: isTypeof,\r\n    isUndefined: isUndefined,\r\n    isNullOrUndefined: isNullOrUndefined,\r\n    hasOwnProperty: hasOwnProperty,\r\n    isFunction: isFunction,\r\n    isObject: isObject,\r\n    isDate: isDate,\r\n    isArray: isArray,\r\n    isError: isError,\r\n    isString: isString,\r\n    isNumber: isNumber,\r\n    isBoolean: isBoolean,\r\n    toISOString: toISOString,\r\n    arrForEach: arrForEach,\r\n    arrIndexOf: arrIndexOf,\r\n    arrMap: arrMap,\r\n    arrReduce: arrReduce,\r\n    strTrim: strTrim,\r\n    objCreate: objCreateFn,\r\n    objKeys: objKeys,\r\n    objDefineAccessors: objDefineAccessors,\r\n    addEventHandler: addEventHandler,\r\n    dateNow: dateNow,\r\n    isIE: isIE,\r\n    disableCookies: disableCookies,\r\n    newGuid: newGuid,\r\n    perfNow: perfNow,\r\n    newId: newId,\r\n    randomValue: randomValue,\r\n    random32: random32,\r\n    mwcRandomSeed: mwcRandomSeed,\r\n    mwcRandom32: mwcRandom32,\r\n    generateW3CId: generateW3CId\r\n};\r\nvar GuidRegex = /[xy]/g;\r\nexport var EventHelper = {\r\n    Attach: attachEvent,\r\n    AttachEvent: attachEvent,\r\n    Detach: detachEvent,\r\n    DetachEvent: detachEvent\r\n};\r\n/**\r\n * Helper to support backward compatibility for users that use the legacy cookie handling functions and the use the internal\r\n * CoreUtils._canUseCookies global flag to enable/disable cookies usage.\r\n * Note: This has the following deliberate side-effects\r\n * - Creates the global (legacy) cookie manager if it does not already exist\r\n * - Attempts to add \"listeners\" to the CoreUtils._canUseCookies property to support the legacy usage\r\n * @param config\r\n * @param logger\r\n * @returns\r\n */\r\nexport function _legacyCookieMgr(config, logger) {\r\n    var cookieMgr = _gblCookieMgr(config, logger);\r\n    var legacyCanUseCookies = CoreUtils._canUseCookies;\r\n    if (_cookieMgrs === null) {\r\n        _cookieMgrs = [];\r\n        _canUseCookies = legacyCanUseCookies;\r\n        // Dynamically create get/set property accessors for backward compatibility for enabling / disabling cookies\r\n        // this WILL NOT work for ES3 browsers (< IE8)\r\n        objDefineAccessors(CoreUtils, \"_canUseCookies\", function () {\r\n            return _canUseCookies;\r\n        }, function (value) {\r\n            _canUseCookies = value;\r\n            arrForEach(_cookieMgrs, function (mgr) {\r\n                mgr[_DYN_SET_ENABLED /* @min:%2esetEnabled */](value);\r\n            });\r\n        });\r\n    }\r\n    if (arrIndexOf(_cookieMgrs, cookieMgr) === -1) {\r\n        _cookieMgrs[_DYN_PUSH /* @min:%2epush */](cookieMgr);\r\n    }\r\n    if (isBoolean(legacyCanUseCookies)) {\r\n        cookieMgr[_DYN_SET_ENABLED /* @min:%2esetEnabled */](legacyCanUseCookies);\r\n    }\r\n    if (isBoolean(_canUseCookies)) {\r\n        cookieMgr[_DYN_SET_ENABLED /* @min:%2esetEnabled */](_canUseCookies);\r\n    }\r\n    return cookieMgr;\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().disable()\r\n * Force the SDK not to store and read any data from cookies.\r\n */\r\nexport function disableCookies() {\r\n    _legacyCookieMgr()[_DYN_SET_ENABLED /* @min:%2esetEnabled */](false);\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().isEnabled()\r\n * Helper method to tell if document.cookie object is available and whether it can be used.\r\n */\r\nexport function canUseCookies(logger) {\r\n    return _legacyCookieMgr(null, logger).isEnabled();\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().get()\r\n * helper method to access userId and sessionId cookie\r\n */\r\nexport function getCookie(logger, name) {\r\n    return _legacyCookieMgr(null, logger).get(name);\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().set()\r\n * helper method to set userId and sessionId cookie\r\n */\r\nexport function setCookie(logger, name, value, domain) {\r\n    _legacyCookieMgr(null, logger).set(name, value, null, domain);\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().del()\r\n * Deletes a cookie by setting it's expiration time in the past.\r\n * @param name - The name of the cookie to delete.\r\n */\r\nexport function deleteCookie(logger, name) {\r\n    return _legacyCookieMgr(null, logger).del(name);\r\n}\r\n//# sourceMappingURL=CoreUtils.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { ObjDefineProperty } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_NODE_TYPE } from \"../__DynamicConstants\";\r\nimport { normalizeJsName } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { newId } from \"./RandomHelper\";\r\nvar _objDefineProperty = ObjDefineProperty;\r\nvar version = '2.8.18';\r\nvar instanceName = \".\" + newId(6);\r\nvar _dataUid = 0;\r\nfunction _createAccessor(target, prop, value) {\r\n    if (_objDefineProperty) {\r\n        try {\r\n            _objDefineProperty(target, prop, {\r\n                value: value,\r\n                enumerable: false,\r\n                configurable: true\r\n            });\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            // IE8 Defines a defineProperty on Object but it's only supported for DOM elements so it will throw\r\n            // We will just ignore this here.\r\n        }\r\n    }\r\n    return false;\r\n}\r\n// Accepts only:\r\n//  - Node\r\n//    - Node.ELEMENT_NODE\r\n//    - Node.DOCUMENT_NODE\r\n//  - Object\r\n//    - Any\r\nfunction _canAcceptData(target) {\r\n    return target[_DYN_NODE_TYPE /* @min:%2enodeType */] === 1 || target[_DYN_NODE_TYPE /* @min:%2enodeType */] === 9 || !(+target[_DYN_NODE_TYPE /* @min:%2enodeType */]);\r\n}\r\nfunction _getCache(data, target) {\r\n    var theCache = target[data.id];\r\n    if (!theCache) {\r\n        theCache = {};\r\n        try {\r\n            if (_canAcceptData(target)) {\r\n                if (!_createAccessor(target, data.id, theCache)) {\r\n                    // Environment doesn't support accessor, so just use direct assignment\r\n                    target[data.id] = theCache;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Not all environments allow extending all objects, so just ignore the cache in those cases\r\n        }\r\n    }\r\n    return theCache;\r\n}\r\nexport function createUniqueNamespace(name, includeVersion) {\r\n    if (includeVersion === void 0) { includeVersion = false; }\r\n    return normalizeJsName(name + (_dataUid++) + (includeVersion ? \".\" + version : STR_EMPTY) + instanceName);\r\n}\r\nexport function createElmNodeData(name) {\r\n    var data = {\r\n        id: createUniqueNamespace(\"_aiData-\" + (name || STR_EMPTY) + \".\" + version),\r\n        accept: function (target) {\r\n            return _canAcceptData(target);\r\n        },\r\n        get: function (target, name, defValue, addDefault) {\r\n            var theCache = target[data.id];\r\n            if (!theCache) {\r\n                if (addDefault) {\r\n                    // Side effect is adds the cache\r\n                    theCache = _getCache(data, target);\r\n                    theCache[normalizeJsName(name)] = defValue;\r\n                }\r\n                return defValue;\r\n            }\r\n            return theCache[normalizeJsName(name)];\r\n        },\r\n        kill: function (target, name) {\r\n            if (target && target[name]) {\r\n                try {\r\n                    delete target[name];\r\n                }\r\n                catch (e) {\r\n                    // Just cleaning up, so if this fails -- ignore\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return data;\r\n}\r\n//# sourceMappingURL=DataCacheHelper.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _DYN_APPLY, _DYN_LENGTH } from \"../__DynamicConstants\";\r\nimport { getGlobalInst } from \"./EnvUtils\";\r\nvar listenerFuncs = [\"eventsSent\", \"eventsDiscarded\", \"eventsSendRequest\", \"perfEvent\"];\r\nvar _aiNamespace = null;\r\nvar _debugListener;\r\nfunction _listenerProxyFunc(name, config) {\r\n    return function () {\r\n        var args = arguments;\r\n        var dbgExt = getDebugExt(config);\r\n        if (dbgExt) {\r\n            var listener = dbgExt.listener;\r\n            if (listener && listener[name]) {\r\n                listener[name][_DYN_APPLY /* @min:%2eapply */](listener, args);\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction _getExtensionNamespace() {\r\n    // Cache the lookup of the global namespace object\r\n    var target = getGlobalInst(\"Microsoft\");\r\n    if (target) {\r\n        _aiNamespace = target[\"ApplicationInsights\"];\r\n    }\r\n    return _aiNamespace;\r\n}\r\nexport function getDebugExt(config) {\r\n    var ns = _aiNamespace;\r\n    if (!ns && config.disableDbgExt !== true) {\r\n        ns = _aiNamespace || _getExtensionNamespace();\r\n    }\r\n    return ns ? ns[\"ChromeDbgExt\"] : null;\r\n}\r\nexport function getDebugListener(config) {\r\n    if (!_debugListener) {\r\n        _debugListener = {};\r\n        for (var lp = 0; lp < listenerFuncs[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n            _debugListener[listenerFuncs[lp]] = _listenerProxyFunc(listenerFuncs[lp], config);\r\n        }\r\n    }\r\n    return _debugListener;\r\n}\r\n//# sourceMappingURL=DbgExtensionUtils.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_DIAG_LOG, _DYN_ENABLE_DEBUG_EXCEPTI4, _DYN_LOGGER, _DYN_LOG_INTERNAL_MESSAGE, _DYN_MESSAGE, _DYN_MESSAGE_ID, _DYN_PUSH, _DYN_REPLACE } from \"../__DynamicConstants\";\r\nimport { getDebugExt } from \"./DbgExtensionUtils\";\r\nimport { dumpObj, getConsole, getJSON, hasJSON } from \"./EnvUtils\";\r\nimport { getCfgValue, isFunction, isUndefined } from \"./HelperFuncs\";\r\nimport { STR_EMPTY, STR_ERROR_TO_CONSOLE, STR_WARN_TO_CONSOLE } from \"./InternalConstants\";\r\n/**\r\n * For user non actionable traces use AI Internal prefix.\r\n */\r\nvar AiNonUserActionablePrefix = \"AI (Internal): \";\r\n/**\r\n * Prefix of the traces in portal.\r\n */\r\nvar AiUserActionablePrefix = \"AI: \";\r\n/**\r\n *  Session storage key for the prefix for the key indicating message type already logged\r\n */\r\nvar AIInternalMessagePrefix = \"AITR_\";\r\nfunction _sanitizeDiagnosticText(text) {\r\n    if (text) {\r\n        return \"\\\"\" + text[_DYN_REPLACE /* @min:%2ereplace */](/\\\"/g, STR_EMPTY) + \"\\\"\";\r\n    }\r\n    return STR_EMPTY;\r\n}\r\nfunction _logToConsole(func, message) {\r\n    var theConsole = getConsole();\r\n    if (!!theConsole) {\r\n        var logFunc = \"log\";\r\n        if (theConsole[func]) {\r\n            logFunc = func;\r\n        }\r\n        if (isFunction(theConsole[logFunc])) {\r\n            theConsole[logFunc](message);\r\n        }\r\n    }\r\n}\r\nvar _InternalLogMessage = /** @class */ (function () {\r\n    function _InternalLogMessage(msgId, msg, isUserAct, properties) {\r\n        if (isUserAct === void 0) { isUserAct = false; }\r\n        var _self = this;\r\n        _self[_DYN_MESSAGE_ID /* @min:%2emessageId */] = msgId;\r\n        _self[_DYN_MESSAGE /* @min:%2emessage */] =\r\n            (isUserAct ? AiUserActionablePrefix : AiNonUserActionablePrefix) +\r\n                msgId;\r\n        var strProps = STR_EMPTY;\r\n        if (hasJSON()) {\r\n            strProps = getJSON().stringify(properties);\r\n        }\r\n        var diagnosticText = (msg ? \" message:\" + _sanitizeDiagnosticText(msg) : STR_EMPTY) +\r\n            (properties ? \" props:\" + _sanitizeDiagnosticText(strProps) : STR_EMPTY);\r\n        _self[_DYN_MESSAGE /* @min:%2emessage */] += diagnosticText;\r\n    }\r\n    _InternalLogMessage.dataType = \"MessageData\";\r\n    return _InternalLogMessage;\r\n}());\r\nexport { _InternalLogMessage };\r\nexport function safeGetLogger(core, config) {\r\n    return (core || {})[_DYN_LOGGER /* @min:%2elogger */] || new DiagnosticLogger(config);\r\n}\r\nvar DiagnosticLogger = /** @class */ (function () {\r\n    function DiagnosticLogger(config) {\r\n        this.identifier = \"DiagnosticLogger\";\r\n        /**\r\n         * The internal logging queue\r\n         */\r\n        this.queue = [];\r\n        /**\r\n         * Count of internal messages sent\r\n         */\r\n        var _messageCount = 0;\r\n        /**\r\n         * Holds information about what message types were already logged to console or sent to server.\r\n         */\r\n        var _messageLogged = {};\r\n        var _loggingLevelConsole;\r\n        var _loggingLevelTelemetry;\r\n        var _maxInternalMessageLimit;\r\n        var _enableDebug;\r\n        dynamicProto(DiagnosticLogger, this, function (_self) {\r\n            _setDefaultsFromConfig(config || {});\r\n            _self.consoleLoggingLevel = function () { return _loggingLevelConsole; };\r\n            _self.telemetryLoggingLevel = function () { return _loggingLevelTelemetry; };\r\n            _self.maxInternalMessageLimit = function () { return _maxInternalMessageLimit; };\r\n            _self[_DYN_ENABLE_DEBUG_EXCEPTI4 /* @min:%2eenableDebugExceptions */] = function () { return _enableDebug; };\r\n            /**\r\n             * This method will throw exceptions in debug mode or attempt to log the error as a console warning.\r\n             * @param severity {LoggingSeverity} - The severity of the log message\r\n             * @param message {_InternalLogMessage} - The log message.\r\n             */\r\n            _self.throwInternal = function (severity, msgId, msg, properties, isUserAct) {\r\n                if (isUserAct === void 0) { isUserAct = false; }\r\n                var message = new _InternalLogMessage(msgId, msg, isUserAct, properties);\r\n                if (_enableDebug) {\r\n                    throw dumpObj(message);\r\n                }\r\n                else {\r\n                    // Get the logging function and fallback to warnToConsole of for some reason errorToConsole doesn't exist\r\n                    var logFunc = severity === 1 /* eLoggingSeverity.CRITICAL */ ? STR_ERROR_TO_CONSOLE : STR_WARN_TO_CONSOLE;\r\n                    if (!isUndefined(message[_DYN_MESSAGE /* @min:%2emessage */])) {\r\n                        if (isUserAct) {\r\n                            // check if this message type was already logged to console for this page view and if so, don't log it again\r\n                            var messageKey = +message[_DYN_MESSAGE_ID /* @min:%2emessageId */];\r\n                            if (!_messageLogged[messageKey] && _loggingLevelConsole >= severity) {\r\n                                _self[logFunc](message[_DYN_MESSAGE /* @min:%2emessage */]);\r\n                                _messageLogged[messageKey] = true;\r\n                            }\r\n                        }\r\n                        else {\r\n                            // Only log traces if the console Logging Level is >= the throwInternal severity level\r\n                            if (_loggingLevelConsole >= severity) {\r\n                                _self[logFunc](message[_DYN_MESSAGE /* @min:%2emessage */]);\r\n                            }\r\n                        }\r\n                        _logInternalMessage(severity, message);\r\n                    }\r\n                    else {\r\n                        _debugExtMsg(\"throw\" + (severity === 1 /* eLoggingSeverity.CRITICAL */ ? \"Critical\" : \"Warning\"), message);\r\n                    }\r\n                }\r\n            };\r\n            /**\r\n             * This will write a warning to the console if possible\r\n             * @param message {string} - The warning message\r\n             */\r\n            _self[STR_WARN_TO_CONSOLE /* @min:%2ewarnToConsole */] = function (message) {\r\n                _logToConsole(\"warn\", message);\r\n                _debugExtMsg(\"warning\", message);\r\n            };\r\n            /**\r\n             * This will write an error to the console if possible\r\n             * @param message {string} - The error message\r\n             */\r\n            _self[STR_ERROR_TO_CONSOLE /* @min:%2eerrorToConsole */] = function (message) {\r\n                _logToConsole(\"error\", message);\r\n                _debugExtMsg(\"error\", message);\r\n            };\r\n            /**\r\n             * Resets the internal message count\r\n             */\r\n            _self.resetInternalMessageCount = function () {\r\n                _messageCount = 0;\r\n                _messageLogged = {};\r\n            };\r\n            /**\r\n             * Logs a message to the internal queue.\r\n             * @param severity {LoggingSeverity} - The severity of the log message\r\n             * @param message {_InternalLogMessage} - The message to log.\r\n             */\r\n            _self[_DYN_LOG_INTERNAL_MESSAGE /* @min:%2elogInternalMessage */] = _logInternalMessage;\r\n            function _logInternalMessage(severity, message) {\r\n                if (_areInternalMessagesThrottled()) {\r\n                    return;\r\n                }\r\n                // check if this message type was already logged for this session and if so, don't log it again\r\n                var logMessage = true;\r\n                var messageKey = AIInternalMessagePrefix + message[_DYN_MESSAGE_ID /* @min:%2emessageId */];\r\n                // if the session storage is not available, limit to only one message type per page view\r\n                if (_messageLogged[messageKey]) {\r\n                    logMessage = false;\r\n                }\r\n                else {\r\n                    _messageLogged[messageKey] = true;\r\n                }\r\n                if (logMessage) {\r\n                    // Push the event in the internal queue\r\n                    if (severity <= _loggingLevelTelemetry) {\r\n                        _self.queue[_DYN_PUSH /* @min:%2epush */](message);\r\n                        _messageCount++;\r\n                        _debugExtMsg((severity === 1 /* eLoggingSeverity.CRITICAL */ ? \"error\" : \"warn\"), message);\r\n                    }\r\n                    // When throttle limit reached, send a special event\r\n                    if (_messageCount === _maxInternalMessageLimit) {\r\n                        var throttleLimitMessage = \"Internal events throttle limit per PageView reached for this app.\";\r\n                        var throttleMessage = new _InternalLogMessage(23 /* _eInternalMessageId.MessageLimitPerPVExceeded */, throttleLimitMessage, false);\r\n                        _self.queue[_DYN_PUSH /* @min:%2epush */](throttleMessage);\r\n                        if (severity === 1 /* eLoggingSeverity.CRITICAL */) {\r\n                            _self[STR_ERROR_TO_CONSOLE /* @min:%2eerrorToConsole */](throttleLimitMessage);\r\n                        }\r\n                        else {\r\n                            _self[STR_WARN_TO_CONSOLE /* @min:%2ewarnToConsole */](throttleLimitMessage);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            function _setDefaultsFromConfig(config) {\r\n                _loggingLevelConsole = getCfgValue(config.loggingLevelConsole, 0);\r\n                _loggingLevelTelemetry = getCfgValue(config.loggingLevelTelemetry, 1);\r\n                _maxInternalMessageLimit = getCfgValue(config.maxMessageLimit, 25);\r\n                _enableDebug = getCfgValue(config.enableDebug, getCfgValue(config[_DYN_ENABLE_DEBUG_EXCEPTI4 /* @min:%2eenableDebugExceptions */], false));\r\n            }\r\n            function _areInternalMessagesThrottled() {\r\n                return _messageCount >= _maxInternalMessageLimit;\r\n            }\r\n            function _debugExtMsg(name, data) {\r\n                var dbgExt = getDebugExt(config || {});\r\n                if (dbgExt && dbgExt[_DYN_DIAG_LOG /* @min:%2ediagLog */]) {\r\n                    dbgExt[_DYN_DIAG_LOG /* @min:%2ediagLog */](name, data);\r\n                }\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for DiagnosticLogger.prototype.enableDebugExceptions.\r\n// Removed Stub for DiagnosticLogger.prototype.consoleLoggingLevel.\r\n// Removed Stub for DiagnosticLogger.prototype.telemetryLoggingLevel.\r\n// Removed Stub for DiagnosticLogger.prototype.maxInternalMessageLimit.\r\n// Removed Stub for DiagnosticLogger.prototype.throwInternal.\r\n// Removed Stub for DiagnosticLogger.prototype.warnToConsole.\r\n// Removed Stub for DiagnosticLogger.prototype.errorToConsole.\r\n// Removed Stub for DiagnosticLogger.prototype.resetInternalMessageCount.\r\n// Removed Stub for DiagnosticLogger.prototype.logInternalMessage.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    DiagnosticLogger.__ieDyn=1;\n\n    return DiagnosticLogger;\r\n}());\r\nexport { DiagnosticLogger };\r\nfunction _getLogger(logger) {\r\n    return (logger || new DiagnosticLogger());\r\n}\r\n/**\r\n * This is a helper method which will call throwInternal on the passed logger, will throw exceptions in\r\n * debug mode or attempt to log the error as a console warning. This helper is provided mostly to better\r\n * support minification as logger.throwInternal() will not compress the publish \"throwInternal\" used throughout\r\n * the code.\r\n * @param logger - The Diagnostic Logger instance to use.\r\n * @param severity {LoggingSeverity} - The severity of the log message\r\n * @param message {_InternalLogMessage} - The log message.\r\n */\r\nexport function _throwInternal(logger, severity, msgId, msg, properties, isUserAct) {\r\n    if (isUserAct === void 0) { isUserAct = false; }\r\n    _getLogger(logger).throwInternal(severity, msgId, msg, properties, isUserAct);\r\n}\r\n/**\r\n * This is a helper method which will call warnToConsole on the passed logger with the provided message.\r\n * @param logger - The Diagnostic Logger instance to use.\r\n * @param message {_InternalLogMessage} - The log message.\r\n */\r\nexport function _warnToConsole(logger, message) {\r\n    _getLogger(logger)[STR_WARN_TO_CONSOLE /* @min:%2ewarnToConsole */](message);\r\n}\r\n/**\r\n * Logs a message to the internal queue.\r\n * @param logger - The Diagnostic Logger instance to use.\r\n * @param severity {LoggingSeverity} - The severity of the log message\r\n * @param message {_InternalLogMessage} - The message to log.\r\n */\r\nexport function _logInternalMessage(logger, severity, message) {\r\n    _getLogger(logger)[_DYN_LOG_INTERNAL_MESSAGE /* @min:%2elogInternalMessage */](severity, message);\r\n}\r\n//# sourceMappingURL=DiagnosticLogger.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { getGlobal, strShimObject, strShimPrototype, strShimUndefined } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_CALL, _DYN_INDEX_OF, _DYN_LENGTH, _DYN_NAME, _DYN_SPLIT, _DYN_TO_LOWER_CASE, _DYN_USER_AGENT } from \"../__DynamicConstants\";\r\nimport { isFunction, isString, isUndefined, strContains } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n/**\r\n * This file exists to hold environment utilities that are required to check and\r\n * validate the current operating environment. Unless otherwise required, please\r\n * only use defined methods (functions) in this class so that users of these\r\n * functions/properties only need to include those that are used within their own modules.\r\n */\r\nvar strWindow = \"window\";\r\nvar strDocument = \"document\";\r\nvar strDocumentMode = \"documentMode\";\r\nvar strNavigator = \"navigator\";\r\nvar strHistory = \"history\";\r\nvar strLocation = \"location\";\r\nvar strConsole = \"console\";\r\nvar strPerformance = \"performance\";\r\nvar strJSON = \"JSON\";\r\nvar strCrypto = \"crypto\";\r\nvar strMsCrypto = \"msCrypto\";\r\nvar strReactNative = \"ReactNative\";\r\nvar strMsie = \"msie\";\r\nvar strTrident = \"trident/\";\r\nvar strXMLHttpRequest = \"XMLHttpRequest\";\r\nvar _isTrident = null;\r\nvar _navUserAgentCheck = null;\r\nvar _enableMocks = false;\r\nvar _useXDomainRequest = null;\r\nvar _beaconsSupported = null;\r\nfunction _hasProperty(theClass, property) {\r\n    var supported = false;\r\n    if (theClass) {\r\n        try {\r\n            supported = property in theClass;\r\n            if (!supported) {\r\n                var proto = theClass[strShimPrototype];\r\n                if (proto) {\r\n                    supported = property in proto;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Do Nothing\r\n        }\r\n        if (!supported) {\r\n            try {\r\n                var tmp = new theClass();\r\n                supported = !isUndefined(tmp[property]);\r\n            }\r\n            catch (e) {\r\n                // Do Nothing\r\n            }\r\n        }\r\n    }\r\n    return supported;\r\n}\r\n/**\r\n * Enable the lookup of test mock objects if requested\r\n * @param enabled\r\n */\r\nexport function setEnableEnvMocks(enabled) {\r\n    _enableMocks = enabled;\r\n}\r\n/**\r\n * Return the named global object if available, will return null if the object is not available.\r\n * @param name The globally named object\r\n */\r\nexport function getGlobalInst(name) {\r\n    var gbl = getGlobal();\r\n    if (gbl && gbl[name]) {\r\n        return gbl[name];\r\n    }\r\n    // Test workaround, for environments where <global>.window (when global == window) doesn't return the base window\r\n    if (name === strWindow && hasWindow()) {\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        return window;\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Checks if window object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a window\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: window is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasWindow() {\r\n    return Boolean(typeof window === strShimObject && window);\r\n}\r\n/**\r\n * Returns the global window object if it is present otherwise null.\r\n * This helper is used to access the window object without causing an exception\r\n * \"Uncaught ReferenceError: window is not defined\"\r\n */\r\nexport function getWindow() {\r\n    if (hasWindow()) {\r\n        return window;\r\n    }\r\n    // Return the global instance or null\r\n    return getGlobalInst(strWindow);\r\n}\r\n/**\r\n * Checks if document object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a document\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: document is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasDocument() {\r\n    return Boolean(typeof document === strShimObject && document);\r\n}\r\n/**\r\n * Returns the global document object if it is present otherwise null.\r\n * This helper is used to access the document object without causing an exception\r\n * \"Uncaught ReferenceError: document is not defined\"\r\n */\r\nexport function getDocument() {\r\n    if (hasDocument()) {\r\n        return document;\r\n    }\r\n    return getGlobalInst(strDocument);\r\n}\r\n/**\r\n * Checks if navigator object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a navigator\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: navigator is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasNavigator() {\r\n    return Boolean(typeof navigator === strShimObject && navigator);\r\n}\r\n/**\r\n * Returns the global navigator object if it is present otherwise null.\r\n * This helper is used to access the navigator object without causing an exception\r\n * \"Uncaught ReferenceError: navigator is not defined\"\r\n */\r\nexport function getNavigator() {\r\n    if (hasNavigator()) {\r\n        return navigator;\r\n    }\r\n    return getGlobalInst(strNavigator);\r\n}\r\n/**\r\n * Checks if history object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a history\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: history is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasHistory() {\r\n    return Boolean(typeof history === strShimObject && history);\r\n}\r\n/**\r\n * Returns the global history object if it is present otherwise null.\r\n * This helper is used to access the history object without causing an exception\r\n * \"Uncaught ReferenceError: history is not defined\"\r\n */\r\nexport function getHistory() {\r\n    if (hasHistory()) {\r\n        return history;\r\n    }\r\n    return getGlobalInst(strHistory);\r\n}\r\n/**\r\n * Returns the global location object if it is present otherwise null.\r\n * This helper is used to access the location object without causing an exception\r\n * \"Uncaught ReferenceError: location is not defined\"\r\n */\r\nexport function getLocation(checkForMock) {\r\n    if (checkForMock && _enableMocks) {\r\n        var mockLocation = getGlobalInst(\"__mockLocation\");\r\n        if (mockLocation) {\r\n            return mockLocation;\r\n        }\r\n    }\r\n    if (typeof location === strShimObject && location) {\r\n        return location;\r\n    }\r\n    return getGlobalInst(strLocation);\r\n}\r\n/**\r\n * Returns the global console object\r\n */\r\nexport function getConsole() {\r\n    if (typeof console !== strShimUndefined) {\r\n        return console;\r\n    }\r\n    return getGlobalInst(strConsole);\r\n}\r\n/**\r\n * Returns the performance object if it is present otherwise null.\r\n * This helper is used to access the performance object from the current\r\n * global instance which could be window or globalThis for a web worker\r\n */\r\nexport function getPerformance() {\r\n    return getGlobalInst(strPerformance);\r\n}\r\n/**\r\n * Checks if JSON object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a history\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: JSON is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasJSON() {\r\n    return Boolean((typeof JSON === strShimObject && JSON) || getGlobalInst(strJSON) !== null);\r\n}\r\n/**\r\n * Returns the global JSON object if it is present otherwise null.\r\n * This helper is used to access the JSON object without causing an exception\r\n * \"Uncaught ReferenceError: JSON is not defined\"\r\n */\r\nexport function getJSON() {\r\n    if (hasJSON()) {\r\n        return JSON || getGlobalInst(strJSON);\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Returns the crypto object if it is present otherwise null.\r\n * This helper is used to access the crypto object from the current\r\n * global instance which could be window or globalThis for a web worker\r\n */\r\nexport function getCrypto() {\r\n    return getGlobalInst(strCrypto);\r\n}\r\n/**\r\n * Returns the crypto object if it is present otherwise null.\r\n * This helper is used to access the crypto object from the current\r\n * global instance which could be window or globalThis for a web worker\r\n */\r\nexport function getMsCrypto() {\r\n    return getGlobalInst(strMsCrypto);\r\n}\r\n/**\r\n * Returns whether the environment is reporting that we are running in a React Native Environment\r\n */\r\nexport function isReactNative() {\r\n    // If running in React Native, navigator.product will be populated\r\n    var nav = getNavigator();\r\n    if (nav && nav.product) {\r\n        return nav.product === strReactNative;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Identifies whether the current environment appears to be IE\r\n */\r\nexport function isIE() {\r\n    var nav = getNavigator();\r\n    if (nav && (nav[_DYN_USER_AGENT /* @min:%2euserAgent */] !== _navUserAgentCheck || _isTrident === null)) {\r\n        // Added to support test mocking of the user agent\r\n        _navUserAgentCheck = nav[_DYN_USER_AGENT /* @min:%2euserAgent */];\r\n        var userAgent = (_navUserAgentCheck || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n        _isTrident = (strContains(userAgent, strMsie) || strContains(userAgent, strTrident));\r\n    }\r\n    return _isTrident;\r\n}\r\n/**\r\n * Gets IE version returning the document emulation mode if we are running on IE, or null otherwise\r\n */\r\nexport function getIEVersion(userAgentStr) {\r\n    if (userAgentStr === void 0) { userAgentStr = null; }\r\n    if (!userAgentStr) {\r\n        var navigator_1 = getNavigator() || {};\r\n        userAgentStr = navigator_1 ? (navigator_1[_DYN_USER_AGENT /* @min:%2euserAgent */] || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() : STR_EMPTY;\r\n    }\r\n    var ua = (userAgentStr || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n    // Also check for documentMode in case X-UA-Compatible meta tag was included in HTML.\r\n    if (strContains(ua, strMsie)) {\r\n        var doc = getDocument() || {};\r\n        return Math.max(parseInt(ua[_DYN_SPLIT /* @min:%2esplit */](strMsie)[1]), (doc[strDocumentMode] || 0));\r\n    }\r\n    else if (strContains(ua, strTrident)) {\r\n        var tridentVer = parseInt(ua[_DYN_SPLIT /* @min:%2esplit */](strTrident)[1]);\r\n        if (tridentVer) {\r\n            return tridentVer + 4;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Returns string representation of an object suitable for diagnostics logging.\r\n */\r\nexport function dumpObj(object) {\r\n    var objectTypeDump = Object[strShimPrototype].toString[_DYN_CALL /* @min:%2ecall */](object);\r\n    var propertyValueDump = STR_EMPTY;\r\n    if (objectTypeDump === \"[object Error]\") {\r\n        propertyValueDump = \"{ stack: '\" + object.stack + \"', message: '\" + object.message + \"', name: '\" + object[_DYN_NAME /* @min:%2ename */] + \"'\";\r\n    }\r\n    else if (hasJSON()) {\r\n        propertyValueDump = getJSON().stringify(object);\r\n    }\r\n    return objectTypeDump + propertyValueDump;\r\n}\r\nexport function isSafari(userAgentStr) {\r\n    if (!userAgentStr || !isString(userAgentStr)) {\r\n        var navigator_2 = getNavigator() || {};\r\n        userAgentStr = navigator_2 ? (navigator_2[_DYN_USER_AGENT /* @min:%2euserAgent */] || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() : STR_EMPTY;\r\n    }\r\n    var ua = (userAgentStr || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n    return (ua[_DYN_INDEX_OF /* @min:%2eindexOf */](\"safari\") >= 0);\r\n}\r\n/**\r\n * Checks if HTML5 Beacons are supported in the current environment.\r\n * @returns True if supported, false otherwise.\r\n */\r\nexport function isBeaconsSupported() {\r\n    if (_beaconsSupported === null) {\r\n        _beaconsSupported = hasNavigator() && Boolean(getNavigator().sendBeacon);\r\n    }\r\n    return _beaconsSupported;\r\n}\r\n/**\r\n * Checks if the Fetch API is supported in the current environment.\r\n * @param withKeepAlive - [Optional] If True, check if fetch is available and it supports the keepalive feature, otherwise only check if fetch is supported\r\n * @returns True if supported, otherwise false\r\n */\r\nexport function isFetchSupported(withKeepAlive) {\r\n    var isSupported = false;\r\n    try {\r\n        isSupported = !!getGlobalInst(\"fetch\");\r\n        var request = getGlobalInst(\"Request\");\r\n        if (isSupported && withKeepAlive && request) {\r\n            isSupported = _hasProperty(request, \"keepalive\");\r\n        }\r\n    }\r\n    catch (e) {\r\n        // Just Swallow any failure during availability checks\r\n    }\r\n    return isSupported;\r\n}\r\nexport function useXDomainRequest() {\r\n    if (_useXDomainRequest === null) {\r\n        _useXDomainRequest = (typeof XDomainRequest !== strShimUndefined);\r\n        if (_useXDomainRequest && isXhrSupported()) {\r\n            _useXDomainRequest = _useXDomainRequest && !_hasProperty(getGlobalInst(strXMLHttpRequest), \"withCredentials\");\r\n        }\r\n    }\r\n    return _useXDomainRequest;\r\n}\r\n/**\r\n * Checks if XMLHttpRequest is supported\r\n * @returns True if supported, otherwise false\r\n */\r\nexport function isXhrSupported() {\r\n    var isSupported = false;\r\n    try {\r\n        var xmlHttpRequest = getGlobalInst(strXMLHttpRequest);\r\n        isSupported = !!xmlHttpRequest;\r\n    }\r\n    catch (e) {\r\n        // Just Swallow any failure during availability checks\r\n    }\r\n    return isSupported;\r\n}\r\nfunction _getNamedValue(values, name) {\r\n    if (values) {\r\n        for (var i = 0; i < values[_DYN_LENGTH /* @min:%2elength */]; i++) {\r\n            var value = values[i];\r\n            if (value[_DYN_NAME /* @min:%2ename */]) {\r\n                if (value[_DYN_NAME /* @min:%2ename */] === name) {\r\n                    return value;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return {};\r\n}\r\n/**\r\n * Helper function to fetch the named meta-tag from the page.\r\n * @param name\r\n */\r\nexport function findMetaTag(name) {\r\n    var doc = getDocument();\r\n    if (doc && name) {\r\n        // Look for a meta-tag\r\n        return _getNamedValue(doc.querySelectorAll(\"meta\"), name).content;\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Helper function to fetch the named server timing value from the page response (first navigation event).\r\n * @param name\r\n */\r\nexport function findNamedServerTiming(name) {\r\n    var value;\r\n    var perf = getPerformance();\r\n    if (perf) {\r\n        // Try looking for a server-timing header\r\n        var navPerf = perf.getEntriesByType(\"navigation\") || [];\r\n        value = _getNamedValue((navPerf[_DYN_LENGTH /* @min:%2elength */] > 0 ? navPerf[0] : {}).serverTiming, name).description;\r\n    }\r\n    return value;\r\n}\r\n// TODO: should reuse this method for analytics plugin\r\nexport function dispatchEvent(target, evnt) {\r\n    if (target && target.dispatchEvent && evnt) {\r\n        target.dispatchEvent(evnt);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexport function createCustomDomEvent(eventName, details) {\r\n    var event = null;\r\n    var detail = { detail: details || null };\r\n    if (isFunction(CustomEvent)) { // Use CustomEvent constructor when available\r\n        event = new CustomEvent(eventName, detail);\r\n    }\r\n    else { // CustomEvent has no constructor in IE\r\n        var doc = getDocument();\r\n        if (doc && doc.createEvent) {\r\n            event = doc.createEvent(\"CustomEvent\");\r\n            event.initCustomEvent(eventName, true, true, detail);\r\n        }\r\n    }\r\n    return event;\r\n}\r\nexport function sendCustomEvent(evtName, cfg, customDetails) {\r\n    var global = getGlobal();\r\n    if (global && global.CustomEvent) {\r\n        try {\r\n            var details = { cfg: cfg || null, customDetails: customDetails || null };\r\n            return dispatchEvent(global, createCustomDomEvent(evtName, details));\r\n        }\r\n        catch (e) {\r\n            // eslint-disable-next-line no-empty\r\n        }\r\n    }\r\n    return false;\r\n}\r\n//# sourceMappingURL=EnvUtils.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _DYN_HANDLER, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_REPLACE, _DYN_SPLICE, _DYN_SPLIT, _DYN_TYPE } from \"../__DynamicConstants\";\r\nimport { createElmNodeData, createUniqueNamespace } from \"./DataCacheHelper\";\r\nimport { getDocument, getWindow } from \"./EnvUtils\";\r\nimport { arrForEach, arrIndexOf, isArray, objForEachKey, objKeys } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n// Added to help with minfication\r\nvar strOnPrefix = \"on\";\r\nvar strAttachEvent = \"attachEvent\";\r\nvar strAddEventHelper = \"addEventListener\";\r\nvar strDetachEvent = \"detachEvent\";\r\nvar strRemoveEventListener = \"removeEventListener\";\r\nvar strEvents = \"events\";\r\nvar strVisibilityChangeEvt = \"visibilitychange\";\r\nvar strPageHide = \"pagehide\";\r\nvar strPageShow = \"pageshow\";\r\nvar strUnload = \"unload\";\r\nvar strBeforeUnload = \"beforeunload\";\r\nvar strPageHideNamespace = createUniqueNamespace(\"aiEvtPageHide\");\r\nvar strPageShowNamespace = createUniqueNamespace(\"aiEvtPageShow\");\r\nvar rRemoveEmptyNs = /\\.[\\.]+/g;\r\nvar rRemoveTrailingEmptyNs = /[\\.]+$/;\r\nvar _guid = 1;\r\nvar elmNodeData = createElmNodeData(\"events\");\r\nvar eventNamespace = /^([^.]*)(?:\\.(.+)|)/;\r\nfunction _normalizeNamespace(name) {\r\n    if (name && name[_DYN_REPLACE /* @min:%2ereplace */]) {\r\n        return name[_DYN_REPLACE /* @min:%2ereplace */](/^[\\s\\.]+|(?=[\\s\\.])[\\.\\s]+$/g, STR_EMPTY);\r\n    }\r\n    return name;\r\n}\r\nfunction _getEvtNamespace(eventName, evtNamespace) {\r\n    var _a;\r\n    if (evtNamespace) {\r\n        var theNamespace_1 = STR_EMPTY;\r\n        if (isArray(evtNamespace)) {\r\n            theNamespace_1 = STR_EMPTY;\r\n            arrForEach(evtNamespace, function (name) {\r\n                name = _normalizeNamespace(name);\r\n                if (name) {\r\n                    if (name[0] !== \".\") {\r\n                        name = \".\" + name;\r\n                    }\r\n                    theNamespace_1 += name;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            theNamespace_1 = _normalizeNamespace(evtNamespace);\r\n        }\r\n        if (theNamespace_1) {\r\n            if (theNamespace_1[0] !== \".\") {\r\n                theNamespace_1 = \".\" + theNamespace_1;\r\n            }\r\n            // We may only have the namespace and not an eventName\r\n            eventName = (eventName || STR_EMPTY) + theNamespace_1;\r\n        }\r\n    }\r\n    var parsedEvent = (eventNamespace.exec(eventName || STR_EMPTY) || []);\r\n    return _a = {},\r\n        _a[_DYN_TYPE /* @min:type */] = parsedEvent[1],\r\n        _a.ns = ((parsedEvent[2] || STR_EMPTY).replace(rRemoveEmptyNs, \".\").replace(rRemoveTrailingEmptyNs, STR_EMPTY)[_DYN_SPLIT /* @min:%2esplit */](\".\").sort()).join(\".\"),\r\n        _a;\r\n}\r\n/**\r\n * Get all of the registered events on the target object, this is primarily used for testing cleanup but may also be used by\r\n * applications to remove their own events\r\n * @param target - The EventTarget that has registered events\r\n * @param eventName - [Optional] The name of the event to return the registered handlers and full name (with namespaces)\r\n * @param evtNamespace - [Optional] Additional namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace,\r\n * if the eventName also includes a namespace the namespace(s) are merged into a single namespace\r\n */\r\nexport function __getRegisteredEvents(target, eventName, evtNamespace) {\r\n    var theEvents = [];\r\n    var eventCache = elmNodeData.get(target, strEvents, {}, false);\r\n    var evtName = _getEvtNamespace(eventName, evtNamespace);\r\n    objForEachKey(eventCache, function (evtType, registeredEvents) {\r\n        arrForEach(registeredEvents, function (value) {\r\n            var _a;\r\n            if (!evtName[_DYN_TYPE /* @min:%2etype */] || evtName[_DYN_TYPE /* @min:%2etype */] === value.evtName[_DYN_TYPE /* @min:%2etype */]) {\r\n                if (!evtName.ns || evtName.ns === evtName.ns) {\r\n                    theEvents[_DYN_PUSH /* @min:%2epush */]((_a = {},\r\n                        _a[_DYN_NAME /* @min:name */] = value.evtName[_DYN_TYPE /* @min:%2etype */] + (value.evtName.ns ? \".\" + value.evtName.ns : STR_EMPTY),\r\n                        _a.handler = value[_DYN_HANDLER /* @min:%2ehandler */],\r\n                        _a));\r\n                }\r\n            }\r\n        });\r\n    });\r\n    return theEvents;\r\n}\r\n// Exported for internal unit testing only\r\nfunction _getRegisteredEvents(target, evtName, addDefault) {\r\n    if (addDefault === void 0) { addDefault = true; }\r\n    var aiEvts = elmNodeData.get(target, strEvents, {}, addDefault);\r\n    var registeredEvents = aiEvts[evtName];\r\n    if (!registeredEvents) {\r\n        registeredEvents = aiEvts[evtName] = [];\r\n    }\r\n    return registeredEvents;\r\n}\r\nfunction _doDetach(obj, evtName, handlerRef, useCapture) {\r\n    if (obj && evtName && evtName[_DYN_TYPE /* @min:%2etype */]) {\r\n        if (obj[strRemoveEventListener]) {\r\n            obj[strRemoveEventListener](evtName[_DYN_TYPE /* @min:%2etype */], handlerRef, useCapture);\r\n        }\r\n        else if (obj[strDetachEvent]) {\r\n            obj[strDetachEvent](strOnPrefix + evtName[_DYN_TYPE /* @min:%2etype */], handlerRef);\r\n        }\r\n    }\r\n}\r\nfunction _doAttach(obj, evtName, handlerRef, useCapture) {\r\n    var result = false;\r\n    if (obj && evtName && evtName[_DYN_TYPE /* @min:%2etype */] && handlerRef) {\r\n        if (obj[strAddEventHelper]) {\r\n            // all browsers except IE before version 9\r\n            obj[strAddEventHelper](evtName[_DYN_TYPE /* @min:%2etype */], handlerRef, useCapture);\r\n            result = true;\r\n        }\r\n        else if (obj[strAttachEvent]) {\r\n            // IE before version 9\r\n            obj[strAttachEvent](strOnPrefix + evtName[_DYN_TYPE /* @min:%2etype */], handlerRef);\r\n            result = true;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction _doUnregister(target, events, evtName, unRegFn) {\r\n    var idx = events[_DYN_LENGTH /* @min:%2elength */];\r\n    while (idx--) {\r\n        var theEvent = events[idx];\r\n        if (theEvent) {\r\n            if (!evtName.ns || evtName.ns === theEvent.evtName.ns) {\r\n                if (!unRegFn || unRegFn(theEvent)) {\r\n                    _doDetach(target, theEvent.evtName, theEvent[_DYN_HANDLER /* @min:%2ehandler */], theEvent.capture);\r\n                    // Remove the registered event\r\n                    events[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction _unregisterEvents(target, evtName, unRegFn) {\r\n    if (evtName[_DYN_TYPE /* @min:%2etype */]) {\r\n        _doUnregister(target, _getRegisteredEvents(target, evtName[_DYN_TYPE /* @min:%2etype */]), evtName, unRegFn);\r\n    }\r\n    else {\r\n        var eventCache = elmNodeData.get(target, strEvents, {});\r\n        objForEachKey(eventCache, function (evtType, events) {\r\n            _doUnregister(target, events, evtName, unRegFn);\r\n        });\r\n        // Cleanup\r\n        if (objKeys(eventCache)[_DYN_LENGTH /* @min:%2elength */] === 0) {\r\n            elmNodeData.kill(target, strEvents);\r\n        }\r\n    }\r\n}\r\nexport function mergeEvtNamespace(theNamespace, namespaces) {\r\n    var newNamespaces;\r\n    if (namespaces) {\r\n        if (isArray(namespaces)) {\r\n            newNamespaces = [theNamespace].concat(namespaces);\r\n        }\r\n        else {\r\n            newNamespaces = [theNamespace, namespaces];\r\n        }\r\n        // resort the namespaces so they are always in order\r\n        newNamespaces = (_getEvtNamespace(\"xx\", newNamespaces).ns)[_DYN_SPLIT /* @min:%2esplit */](\".\");\r\n    }\r\n    else {\r\n        newNamespaces = theNamespace;\r\n    }\r\n    return newNamespaces;\r\n}\r\n/**\r\n * Binds the specified function to an event, so that the function gets called whenever the event fires on the object\r\n * @param obj Object to add the event too.\r\n * @param eventName String that specifies any of the standard DHTML Events without \"on\" prefix, if may also include an optional (dot \".\" prefixed)\r\n * namespaces \"click\" \"click.mynamespace\" in addition to specific namespaces.\r\n * @param handlerRef Pointer that specifies the function to call when event fires\r\n * @param evtNamespace - [Optional] Additional namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace,\r\n * if the eventName also includes a namespace the namespace(s) are merged into a single namespace\r\n * @param useCapture [Optional] Defaults to false\r\n * @returns True if the function was bound successfully to the event, otherwise false\r\n */\r\nexport function eventOn(target, eventName, handlerRef, evtNamespace, useCapture) {\r\n    var _a;\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    var result = false;\r\n    if (target) {\r\n        try {\r\n            var evtName = _getEvtNamespace(eventName, evtNamespace);\r\n            result = _doAttach(target, evtName, handlerRef, useCapture);\r\n            if (result && elmNodeData.accept(target)) {\r\n                var registeredEvent = (_a = {\r\n                        guid: _guid++,\r\n                        evtName: evtName\r\n                    },\r\n                    _a[_DYN_HANDLER /* @min:handler */] = handlerRef,\r\n                    _a.capture = useCapture,\r\n                    _a);\r\n                _getRegisteredEvents(target, evtName.type)[_DYN_PUSH /* @min:%2epush */](registeredEvent);\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Just Ignore any error so that we don't break any execution path\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Removes an event handler for the specified event\r\n * @param Object to remove the event from\r\n * @param eventName {string} - The name of the event, with optional namespaces or just the namespaces,\r\n * such as \"click\", \"click.mynamespace\" or \".mynamespace\"\r\n * @param handlerRef {any} - The callback function that needs to be removed from the given event, when using a\r\n * namespace (with or without a qualifying event) this may be null to remove all previously attached event handlers\r\n * otherwise this will only remove events with this specific handler.\r\n * @param evtNamespace - [Optional] Additional namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace,\r\n * if the eventName also includes a namespace the namespace(s) are merged into a single namespace\r\n * @param useCapture [Optional] Defaults to false\r\n */\r\nexport function eventOff(target, eventName, handlerRef, evtNamespace, useCapture) {\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    if (target) {\r\n        try {\r\n            var evtName_1 = _getEvtNamespace(eventName, evtNamespace);\r\n            var found_1 = false;\r\n            _unregisterEvents(target, evtName_1, function (regEvent) {\r\n                if ((evtName_1.ns && !handlerRef) || regEvent[_DYN_HANDLER /* @min:%2ehandler */] === handlerRef) {\r\n                    found_1 = true;\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if (!found_1) {\r\n                // fallback to try and remove as requested\r\n                _doDetach(target, evtName_1, handlerRef, useCapture);\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Just Ignore any error so that we don't break any execution path\r\n        }\r\n    }\r\n}\r\n/**\r\n * Binds the specified function to an event, so that the function gets called whenever the event fires on the object\r\n * @param obj Object to add the event too.\r\n * @param eventNameWithoutOn String that specifies any of the standard DHTML Events without \"on\" prefix and optional (dot \".\" prefixed) namespaces \"click\" \"click.mynamespace\".\r\n * @param handlerRef Pointer that specifies the function to call when event fires\r\n * @param useCapture [Optional] Defaults to false\r\n * @returns True if the function was bound successfully to the event, otherwise false\r\n */\r\nexport function attachEvent(obj, eventNameWithoutOn, handlerRef, useCapture) {\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    return eventOn(obj, eventNameWithoutOn, handlerRef, null, useCapture);\r\n}\r\n/**\r\n * Removes an event handler for the specified event\r\n * @param Object to remove the event from\r\n * @param eventNameWithoutOn {string} - The name of the event, with optional namespaces or just the namespaces,\r\n * such as \"click\", \"click.mynamespace\" or \".mynamespace\"\r\n * @param handlerRef {any} - The callback function that needs to be removed from the given event, when using a\r\n * namespace (with or without a qualifying event) this may be null to remove all previously attached event handlers\r\n * otherwise this will only remove events with this specific handler.\r\n * @param useCapture [Optional] Defaults to false\r\n */\r\nexport function detachEvent(obj, eventNameWithoutOn, handlerRef, useCapture) {\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    eventOff(obj, eventNameWithoutOn, handlerRef, null, useCapture);\r\n}\r\n/**\r\n * Trys to add an event handler for the specified event to the window, body and document\r\n * @param eventName {string} - The name of the event\r\n * @param callback {any} - The callback function that needs to be executed for the given event\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @return {boolean} - true if the handler was successfully added\r\n */\r\nexport function addEventHandler(eventName, callback, evtNamespace) {\r\n    var result = false;\r\n    var w = getWindow();\r\n    if (w) {\r\n        result = eventOn(w, eventName, callback, evtNamespace);\r\n        result = eventOn(w[\"body\"], eventName, callback, evtNamespace) || result;\r\n    }\r\n    var doc = getDocument();\r\n    if (doc) {\r\n        result = eventOn(doc, eventName, callback, evtNamespace) || result;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Trys to remove event handler(s) for the specified event/namespace to the window, body and document\r\n * @param eventName {string} - The name of the event, with optional namespaces or just the namespaces,\r\n * such as \"click\", \"click.mynamespace\" or \".mynamespace\"\r\n * @param callback {any} - - The callback function that needs to be removed from the given event, when using a\r\n * namespace (with or without a qualifying event) this may be null to remove all previously attached event handlers\r\n * otherwise this will only remove events with this specific handler.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n */\r\nexport function removeEventHandler(eventName, callback, evtNamespace) {\r\n    var w = getWindow();\r\n    if (w) {\r\n        eventOff(w, eventName, callback, evtNamespace);\r\n        eventOff(w[\"body\"], eventName, callback, evtNamespace);\r\n    }\r\n    var doc = getDocument();\r\n    if (doc) {\r\n        eventOff(doc, eventName, callback, evtNamespace);\r\n    }\r\n}\r\n/**\r\n * Bind the listener to the array of events\r\n * @param events An string array of event names to bind the listener to\r\n * @param listener The event callback to call when the event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nfunction _addEventListeners(events, listener, excludeEvents, evtNamespace) {\r\n    var added = false;\r\n    if (listener && events && events[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        arrForEach(events, function (name) {\r\n            if (name) {\r\n                if (!excludeEvents || arrIndexOf(excludeEvents, name) === -1) {\r\n                    added = addEventHandler(name, listener, evtNamespace) || added;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return added;\r\n}\r\n/**\r\n * Bind the listener to the array of events\r\n * @param events An string array of event names to bind the listener to\r\n * @param listener The event callback to call when the event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addEventListeners(events, listener, excludeEvents, evtNamespace) {\r\n    var added = false;\r\n    if (listener && events && isArray(events)) {\r\n        added = _addEventListeners(events, listener, excludeEvents, evtNamespace);\r\n        if (!added && excludeEvents && excludeEvents[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n            // Failed to add any listeners and we excluded some, so just attempt to add the excluded events\r\n            added = _addEventListeners(events, listener, null, evtNamespace);\r\n        }\r\n    }\r\n    return added;\r\n}\r\n/**\r\n * Remove the listener from the array of events\r\n * @param events An string array of event names to bind the listener to\r\n * @param listener The event callback to call when the event is triggered\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n */\r\nexport function removeEventListeners(events, listener, evtNamespace) {\r\n    if (events && isArray(events)) {\r\n        arrForEach(events, function (name) {\r\n            if (name) {\r\n                removeEventHandler(name, listener, evtNamespace);\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Listen to the 'beforeunload', 'unload' and 'pagehide' events which indicates a page unload is occurring,\r\n * this does NOT listen to the 'visibilitychange' event as while it does indicate that the page is being hidden\r\n * it does not *necessarily* mean that the page is being completely unloaded, it can mean that the user is\r\n * just navigating to a different Tab and may come back (without unloading the page). As such you may also\r\n * need to listen to the 'addPageHideEventListener' and 'addPageShowEventListener' events.\r\n * @param listener - The event callback to call when a page unload event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked, unless no other events can be.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addPageUnloadEventListener(listener, excludeEvents, evtNamespace) {\r\n    // Hook the unload event for the document, window and body to ensure that the client events are flushed to the server\r\n    // As just hooking the window does not always fire (on chrome) for page navigation's.\r\n    return addEventListeners([strBeforeUnload, strUnload, strPageHide], listener, excludeEvents, evtNamespace);\r\n}\r\n/**\r\n * Remove any matching 'beforeunload', 'unload' and 'pagehide' events that may have been added via addEventListener,\r\n * addEventListeners, addPageUnloadEventListener or addPageHideEventListener.\r\n * @param listener - The specific event callback to to be removed\r\n * @param evtNamespace - [Optional] Namespace(s) uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function removePageUnloadEventListener(listener, evtNamespace) {\r\n    removeEventListeners([strBeforeUnload, strUnload, strPageHide], listener, evtNamespace);\r\n}\r\n/**\r\n * Listen to the pagehide and visibility changing to 'hidden' events, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when if you plan to call\r\n * removePageShowEventListener as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The event callback to call when a page hide event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional] A Namespace to append to the event listeners so they can be uniquely identified and removed\r\n * based on this namespace. This call also adds an additional unique \"pageshow\" namespace to the events\r\n * so that only the matching \"removePageHideEventListener\" can remove these events.\r\n * Suggestion: pass as true if you are also calling addPageUnloadEventListener as that also hooks pagehide\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addPageHideEventListener(listener, excludeEvents, evtNamespace) {\r\n    function _handlePageVisibility(evt) {\r\n        var doc = getDocument();\r\n        if (listener && doc && doc.visibilityState === \"hidden\") {\r\n            listener(evt);\r\n        }\r\n    }\r\n    // add the unique page show namespace to any provided namespace so we can only remove the ones added by \"pagehide\"\r\n    var newNamespaces = mergeEvtNamespace(strPageHideNamespace, evtNamespace);\r\n    var pageUnloadAdded = _addEventListeners([strPageHide], listener, excludeEvents, newNamespaces);\r\n    if (!excludeEvents || arrIndexOf(excludeEvents, strVisibilityChangeEvt) === -1) {\r\n        pageUnloadAdded = _addEventListeners([strVisibilityChangeEvt], _handlePageVisibility, excludeEvents, newNamespaces) || pageUnloadAdded;\r\n    }\r\n    if (!pageUnloadAdded && excludeEvents) {\r\n        // Failed to add any listeners and we where requested to exclude some, so just call again without excluding anything\r\n        pageUnloadAdded = addPageHideEventListener(listener, null, evtNamespace);\r\n    }\r\n    return pageUnloadAdded;\r\n}\r\n/**\r\n * Removes the pageHide event listeners added by addPageHideEventListener, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when calling addPageHideEventListener\r\n * as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The specific listener to remove for the 'pageshow' event only (ignored for 'visibilitychange')\r\n * @param evtNamespace - The unique namespace used when calling addPageShowEventListener\r\n */\r\nexport function removePageHideEventListener(listener, evtNamespace) {\r\n    // add the unique page show namespace to any provided namespace so we only remove the ones added by \"pagehide\"\r\n    var newNamespaces = mergeEvtNamespace(strPageHideNamespace, evtNamespace);\r\n    removeEventListeners([strPageHide], listener, newNamespaces);\r\n    removeEventListeners([strVisibilityChangeEvt], null, newNamespaces);\r\n}\r\n/**\r\n * Listen to the pageshow and visibility changing to 'visible' events, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when if you plan to call\r\n * removePageShowEventListener as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The event callback to call when a page is show event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional/Recommended] A Namespace to append to the event listeners so they can be uniquely\r\n * identified and removed based on this namespace. This call also adds an additional unique \"pageshow\" namespace to the events\r\n * so that only the matching \"removePageShowEventListener\" can remove these events.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addPageShowEventListener(listener, excludeEvents, evtNamespace) {\r\n    function _handlePageVisibility(evt) {\r\n        var doc = getDocument();\r\n        if (listener && doc && doc.visibilityState === \"visible\") {\r\n            listener(evt);\r\n        }\r\n    }\r\n    // add the unique page show namespace to any provided namespace so we can only remove the ones added by \"pageshow\"\r\n    var newNamespaces = mergeEvtNamespace(strPageShowNamespace, evtNamespace);\r\n    var pageShowAdded = _addEventListeners([strPageShow], listener, excludeEvents, newNamespaces);\r\n    pageShowAdded = _addEventListeners([strVisibilityChangeEvt], _handlePageVisibility, excludeEvents, newNamespaces) || pageShowAdded;\r\n    if (!pageShowAdded && excludeEvents) {\r\n        // Failed to add any listeners and we where requested to exclude some, so just call again without excluding anything\r\n        pageShowAdded = addPageShowEventListener(listener, null, evtNamespace);\r\n    }\r\n    return pageShowAdded;\r\n}\r\n/**\r\n * Removes the pageShow event listeners added by addPageShowEventListener, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when calling addPageShowEventListener\r\n * as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The specific listener to remove for the 'pageshow' event only (ignored for 'visibilitychange')\r\n * @param evtNamespace - The unique namespace used when calling addPageShowEventListener\r\n */\r\nexport function removePageShowEventListener(listener, evtNamespace) {\r\n    // add the unique page show namespace to any provided namespace so we only remove the ones added by \"pageshow\"\r\n    var newNamespaces = mergeEvtNamespace(strPageShowNamespace, evtNamespace);\r\n    removeEventListeners([strPageShow], listener, newNamespaces);\r\n    removeEventListeners([strVisibilityChangeEvt], null, newNamespaces);\r\n}\r\n//# sourceMappingURL=EventHelpers.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { ObjAssign, ObjClass, ObjDefineProperty, ObjHasOwnProperty, ObjProto, strShimFunction, strShimObject, strShimPrototype, strShimUndefined, throwTypeError } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_APPLY, _DYN_CALL, _DYN_INDEX_OF, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_REPLACE } from \"../__DynamicConstants\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n// RESTRICT and AVOID circular dependencies you should not import other contained modules or export the contents of this file directly\r\n// Added to help with minfication\r\nvar strToISOString = \"toISOString\";\r\nvar cStrEndsWith = \"endsWith\";\r\nvar cStrStartsWith = \"startsWith\";\r\nvar strIndexOf = \"indexOf\";\r\nvar strMap = \"map\";\r\nvar strReduce = \"reduce\";\r\nvar cStrTrim = \"trim\";\r\nvar strToString = \"toString\";\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar str__Proto = \"__proto__\";\r\n/**\r\n  * Constant string defined to support minimization\r\n  * @ignore\r\n  */\r\nvar strConstructor = \"constructor\";\r\nvar _objDefineProperty = ObjDefineProperty;\r\nvar _objFreeze = ObjClass.freeze;\r\nvar _objSeal = ObjClass.seal;\r\nvar _objKeys = ObjClass.keys;\r\nvar StringProto = String[strShimPrototype];\r\nvar _strTrim = StringProto[cStrTrim];\r\nvar _strEndsWith = StringProto[cStrEndsWith];\r\nvar _strStartsWith = StringProto[cStrStartsWith];\r\nvar DateProto = Date[strShimPrototype];\r\nvar _dataToISOString = DateProto[strToISOString];\r\nvar _isArray = Array.isArray;\r\nvar _objToString = ObjProto[strToString];\r\nvar _fnToString = ObjHasOwnProperty[strToString];\r\n// Cache what this browser reports as the object function constructor (as a string)\r\nvar _objFunctionString = _fnToString[_DYN_CALL /* @min:%2ecall */](ObjClass);\r\nvar rCamelCase = /-([a-z])/g;\r\nvar rNormalizeInvalid = /([^\\w\\d_$])/g;\r\nvar rLeadingNumeric = /^(\\d+[\\w\\d_$])/;\r\n/**\r\n * Pre-lookup to check if we are running on a modern browser (i.e. not IE8)\r\n * @ignore\r\n */\r\nvar _objGetPrototypeOf = Object[\"getPrototypeOf\"];\r\n/**\r\n  * Helper used to get the prototype of the target object as getPrototypeOf is not available in an ES3 environment.\r\n  * @ignore\r\n  */\r\nexport function _getObjProto(target) {\r\n    if (target) {\r\n        // This method doesn't existing in older browsers (e.g. IE8)\r\n        if (_objGetPrototypeOf) {\r\n            return _objGetPrototypeOf(target);\r\n        }\r\n        // target[Constructor] May break if the constructor has been changed or removed\r\n        var newProto = target[str__Proto] || target[strShimPrototype] || target[strConstructor];\r\n        if (newProto) {\r\n            return newProto;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexport function objToString(obj) {\r\n    return _objToString[_DYN_CALL /* @min:%2ecall */](obj);\r\n}\r\nexport function isTypeof(value, theType) {\r\n    return typeof value === theType;\r\n}\r\nexport function isUndefined(value) {\r\n    return value === undefined || typeof value === strShimUndefined;\r\n}\r\nexport function isNotUndefined(value) {\r\n    return !isUndefined(value);\r\n}\r\nexport function isNullOrUndefined(value) {\r\n    return (value === null || isUndefined(value));\r\n}\r\nexport function isNotNullOrUndefined(value) {\r\n    return !isNullOrUndefined(value);\r\n}\r\nexport function hasOwnProperty(obj, prop) {\r\n    return !!(obj && ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](obj, prop));\r\n}\r\nexport function isObject(value) {\r\n    // Changing to inline for performance\r\n    return !!(value && typeof value === strShimObject);\r\n}\r\nexport function isFunction(value) {\r\n    // Changing to inline for performance\r\n    return !!(value && typeof value === strShimFunction);\r\n}\r\nexport function isPromiseLike(value) {\r\n    return value && isFunction(value.then);\r\n}\r\n/**\r\n * Validates that the string name conforms to the JS IdentifierName specification and if not\r\n * normalizes the name so that it would. This method does not identify or change any keywords\r\n * meaning that if you pass in a known keyword the same value will be returned.\r\n * This is a simplified version\r\n * @param name The name to validate\r\n */\r\nexport function normalizeJsName(name) {\r\n    var value = name;\r\n    if (value && isString(value)) {\r\n        // CamelCase everything after the \"-\" and remove the dash\r\n        value = value[_DYN_REPLACE /* @min:%2ereplace */](rCamelCase, function (_all, letter) {\r\n            return letter.toUpperCase();\r\n        });\r\n        value = value[_DYN_REPLACE /* @min:%2ereplace */](rNormalizeInvalid, \"_\");\r\n        value = value[_DYN_REPLACE /* @min:%2ereplace */](rLeadingNumeric, function (_all, match) {\r\n            return \"_\" + match;\r\n        });\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * This is a helper function for the equivalent of arForEach(objKeys(target), callbackFn), this is a\r\n * performance optimization to avoid the creation of a new array for large objects\r\n * @param target The target object to find and process the keys\r\n * @param callbackfn The function to call with the details\r\n */\r\nexport function objForEachKey(target, callbackfn) {\r\n    if (target) {\r\n        for (var prop in target) {\r\n            if (ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](target, prop)) {\r\n                callbackfn[_DYN_CALL /* @min:%2ecall */](target, prop, target[prop]);\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * The strEndsWith() method determines whether a string ends with the characters of a specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param search - The characters to be searched for at the end of the value.\r\n * @returns true if the given search value is found at the end of the string, otherwise false.\r\n */\r\nexport function strEndsWith(value, search) {\r\n    var result = false;\r\n    if (value && search && !(result = value === search)) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        result = _strEndsWith ? value[cStrEndsWith](search) : _strEndsWithPoly(value, search);\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * The _strEndsWith() method determines whether a string ends with the characters of a specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param search - The characters to be searched for at the end of the value.\r\n * @returns true if the given search value is found at the end of the string, otherwise false.\r\n */\r\nexport function _strEndsWithPoly(value, search) {\r\n    var result = false;\r\n    var searchLen = search ? search[_DYN_LENGTH /* @min:%2elength */] : 0;\r\n    var valLen = value ? value[_DYN_LENGTH /* @min:%2elength */] : 0;\r\n    if (searchLen && valLen && valLen >= searchLen && !(result = value === search)) {\r\n        var pos = valLen - 1;\r\n        for (var lp = searchLen - 1; lp >= 0; lp--) {\r\n            if (value[pos] != search[lp]) {\r\n                return false;\r\n            }\r\n            pos--;\r\n        }\r\n        result = true;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * The strStartsWith() method determines whether a string starts with the characters of the specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param checkValue - The characters to be searched for at the start of the value.\r\n * @returns true if the given search value is found at the start of the string, otherwise false.\r\n */\r\nexport function strStartsWith(value, checkValue) {\r\n    var result = false;\r\n    if (value && checkValue && !(result = value === checkValue)) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        result = _strStartsWith ? value[cStrStartsWith](checkValue) : _strStartsWithPoly(value, checkValue);\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * The strStartsWith() method determines whether a string starts with the characters of the specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param checkValue - The characters to be searched for at the start of the value.\r\n * @returns true if the given search value is found at the start of the string, otherwise false.\r\n */\r\nexport function _strStartsWithPoly(value, checkValue) {\r\n    // Using helper for performance and because string startsWith() is not available on IE\r\n    var result = false;\r\n    var chkLen = checkValue ? checkValue[_DYN_LENGTH /* @min:%2elength */] : 0;\r\n    if (value && chkLen && value[_DYN_LENGTH /* @min:%2elength */] >= chkLen && !(result = value === checkValue)) {\r\n        for (var lp = 0; lp < chkLen; lp++) {\r\n            if (value[lp] !== checkValue[lp]) {\r\n                return false;\r\n            }\r\n        }\r\n        result = true;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * A simple wrapper (for minification support) to check if the value contains the search string.\r\n * @param value - The string value to check for the existence of the search value\r\n * @param search - The value search within the value\r\n */\r\nexport function strContains(value, search) {\r\n    if (value && search) {\r\n        return value[_DYN_INDEX_OF /* @min:%2eindexOf */](search) !== -1;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Check if an object is of type Date\r\n */\r\nexport function isDate(obj) {\r\n    return !!(obj && _objToString[_DYN_CALL /* @min:%2ecall */](obj) === \"[object Date]\");\r\n}\r\n/**\r\n * Check if an object is of type Array with optional generic T, the generic type is not validated\r\n * and exists to help with TypeScript validation only.\r\n */\r\nexport var isArray = _isArray || _isArrayPoly;\r\nfunction _isArrayPoly(obj) {\r\n    return !!(obj && _objToString[_DYN_CALL /* @min:%2ecall */](obj) === \"[object Array]\");\r\n}\r\n/**\r\n * Check if an object is of type Error\r\n */\r\nexport function isError(obj) {\r\n    return !!(obj && _objToString[_DYN_CALL /* @min:%2ecall */](obj) === \"[object Error]\");\r\n}\r\n/**\r\n * Checks if the type of value is a string.\r\n * @param {any} value - Value to be checked.\r\n * @return {boolean} True if the value is a string, false otherwise.\r\n */\r\nexport function isString(value) {\r\n    // Changing to inline for performance\r\n    return typeof value === \"string\";\r\n}\r\n/**\r\n * Checks if the type of value is a number.\r\n * @param {any} value - Value to be checked.\r\n * @return {boolean} True if the value is a number, false otherwise.\r\n */\r\nexport function isNumber(value) {\r\n    // Changing to inline for performance\r\n    return typeof value === \"number\";\r\n}\r\n/**\r\n * Checks if the type of value is a boolean.\r\n * @param {any} value - Value to be checked.\r\n * @return {boolean} True if the value is a boolean, false otherwise.\r\n */\r\nexport function isBoolean(value) {\r\n    // Changing to inline for performance\r\n    return typeof value === \"boolean\";\r\n}\r\n/**\r\n * Checks if the type of value is a Symbol.\r\n * This only returns a boolean as returning value is Symbol will cause issues for older TypeScript consumers\r\n * @param {any} value - Value to be checked.\r\n * @return {boolean} True if the value is a Symbol, false otherwise.\r\n */\r\nexport function isSymbol(value) {\r\n    return typeof value === \"symbol\";\r\n}\r\n/**\r\n * Checks if the type of the value is a normal plain object (not a null or data)\r\n * @param value\r\n */\r\nexport function isPlainObject(value) {\r\n    var result = false;\r\n    if (value && typeof value === \"object\") {\r\n        // Inlining _objGetPrototypeOf for performance to avoid an additional function call\r\n        var proto = _objGetPrototypeOf ? _objGetPrototypeOf(value) : _getObjProto(value);\r\n        if (!proto) {\r\n            // No prototype found so this is a plain Object eg. 'Object.create(null)'\r\n            result = true;\r\n        }\r\n        else {\r\n            // Objects that have a prototype are plain only if they were created using the Object global (native) function\r\n            if (proto[strConstructor] && ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](proto, strConstructor)) {\r\n                proto = proto[strConstructor];\r\n            }\r\n            result = typeof proto === strShimFunction && _fnToString[_DYN_CALL /* @min:%2ecall */](proto) === _objFunctionString;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Convert a date to I.S.O. format in IE8\r\n */\r\nexport function toISOString(date) {\r\n    if (date) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        return _dataToISOString ? date[strToISOString]() : _toISOStringPoly(date);\r\n    }\r\n}\r\n/**\r\n * Convert a date to I.S.O. format in IE8\r\n */\r\nexport function _toISOStringPoly(date) {\r\n    if (date && date.getUTCFullYear) {\r\n        var pad = function (num) {\r\n            var r = String(num);\r\n            if (r[_DYN_LENGTH /* @min:%2elength */] === 1) {\r\n                r = \"0\" + r;\r\n            }\r\n            return r;\r\n        };\r\n        return date.getUTCFullYear()\r\n            + \"-\" + pad(date.getUTCMonth() + 1)\r\n            + \"-\" + pad(date.getUTCDate())\r\n            + \"T\" + pad(date.getUTCHours())\r\n            + \":\" + pad(date.getUTCMinutes())\r\n            + \":\" + pad(date.getUTCSeconds())\r\n            + \".\" + String((date.getUTCMilliseconds() / 1000).toFixed(3)).slice(2, 5)\r\n            + \"Z\";\r\n    }\r\n}\r\n/**\r\n * Performs the specified action for each element in an array. This helper exists to avoid adding a polyfil for older browsers\r\n * that do not define Array.prototype.xxxx (eg. ES3 only, IE8) just in case any page checks for presence/absence of the prototype\r\n * implementation. Note: For consistency this will not use the Array.prototype.xxxx implementation if it exists as this would\r\n * cause a testing requirement to test with and without the implementations\r\n * @param callbackfn  A function that accepts up to three arguments. forEach calls the callbackfn function one time for each element in the array. It can return -1 to break out of the loop\r\n * @param thisArg  [Optional] An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r\n */\r\nexport function arrForEach(arr, callbackfn, thisArg) {\r\n    var len = arr[_DYN_LENGTH /* @min:%2elength */];\r\n    try {\r\n        for (var idx = 0; idx < len; idx++) {\r\n            if (idx in arr) {\r\n                if (callbackfn[_DYN_CALL /* @min:%2ecall */](thisArg || arr, arr[idx], idx, arr) === -1) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        // This can happen with some native browser objects, but should not happen for the type we are checking for\r\n    }\r\n}\r\n/**\r\n * Returns the index of the first occurrence of a value in an array. This helper exists to avoid adding a polyfil for older browsers\r\n * that do not define Array.prototype.xxxx (eg. ES3 only, IE8) just in case any page checks for presence/absence of the prototype\r\n * implementation. Note: For consistency this will not use the Array.prototype.xxxx implementation if it exists as this would\r\n * cause a testing requirement to test with and without the implementations\r\n * @param searchElement The value to locate in the array.\r\n * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the search starts at index 0.\r\n */\r\nexport function arrIndexOf(arr, searchElement, fromIndex) {\r\n    if (arr) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        if (arr[strIndexOf]) {\r\n            return arr[strIndexOf](searchElement, fromIndex);\r\n        }\r\n        var len = arr[_DYN_LENGTH /* @min:%2elength */];\r\n        var from = fromIndex || 0;\r\n        try {\r\n            for (var lp = Math.max(from >= 0 ? from : len - Math.abs(from), 0); lp < len; lp++) {\r\n                if (lp in arr && arr[lp] === searchElement) {\r\n                    return lp;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // This can happen with some native browser objects, but should not happen for the type we are checking for\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Calls a defined callback function on each element of an array, and returns an array that contains the results. This helper exists\r\n * to avoid adding a polyfil for older browsers that do not define Array.prototype.xxxx (eg. ES3 only, IE8) just in case any page\r\n * checks for presence/absence of the prototype implementation. Note: For consistency this will not use the Array.prototype.xxxx\r\n * implementation if it exists as this would cause a testing requirement to test with and without the implementations\r\n * @param callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.\r\n * @param thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r\n */\r\nexport function arrMap(arr, callbackfn, thisArg) {\r\n    var results;\r\n    if (arr) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        if (arr[strMap]) {\r\n            return arr[strMap](callbackfn, thisArg);\r\n        }\r\n        var len = arr[_DYN_LENGTH /* @min:%2elength */];\r\n        var _this = thisArg || arr;\r\n        results = new Array(len);\r\n        try {\r\n            for (var lp = 0; lp < len; lp++) {\r\n                if (lp in arr) {\r\n                    results[lp] = callbackfn[_DYN_CALL /* @min:%2ecall */](_this, arr[lp], arr);\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // This can happen with some native browser objects, but should not happen for the type we are checking for\r\n        }\r\n    }\r\n    return results;\r\n}\r\n/**\r\n * Calls the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is\r\n * provided as an argument in the next call to the callback function. This helper exists to avoid adding a polyfil for older browsers that do not define\r\n * Array.prototype.xxxx (eg. ES3 only, IE8) just in case any page checks for presence/absence of the prototype implementation. Note: For consistency\r\n * this will not use the Array.prototype.xxxx implementation if it exists as this would cause a testing requirement to test with and without the implementations\r\n * @param callbackfn A function that accepts up to four arguments. The reduce method calls the callbackfn function one time for each element in the array.\r\n * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r\n */\r\nexport function arrReduce(arr, callbackfn, initialValue) {\r\n    var value;\r\n    if (arr) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        if (arr[strReduce]) {\r\n            return arr[strReduce](callbackfn, initialValue);\r\n        }\r\n        var len = arr[_DYN_LENGTH /* @min:%2elength */];\r\n        var lp = 0;\r\n        // Specifically checking the number of passed arguments as the value could be anything\r\n        if (arguments[_DYN_LENGTH /* @min:%2elength */] >= 3) {\r\n            value = arguments[2];\r\n        }\r\n        else {\r\n            while (lp < len && !(lp in arr)) {\r\n                lp++;\r\n            }\r\n            value = arr[lp++];\r\n        }\r\n        while (lp < len) {\r\n            if (lp in arr) {\r\n                value = callbackfn(value, arr[lp], lp, arr);\r\n            }\r\n            lp++;\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * helper method to trim strings (IE8 does not implement String.prototype.trim)\r\n */\r\nexport function strTrim(str) {\r\n    if (str) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        str = (_strTrim && str[cStrTrim]) ? str[cStrTrim]() : (str[_DYN_REPLACE /* @min:%2ereplace */] ? str[_DYN_REPLACE /* @min:%2ereplace */](/^\\s+|(?=\\s)\\s+$/g, STR_EMPTY) : str);\r\n    }\r\n    return str;\r\n}\r\nvar _objKeysHasDontEnumBug = !({ toString: null }).propertyIsEnumerable(\"toString\");\r\nvar _objKeysDontEnums = [\r\n    \"toString\",\r\n    \"toLocaleString\",\r\n    \"valueOf\",\r\n    \"hasOwnProperty\",\r\n    \"isPrototypeOf\",\r\n    \"propertyIsEnumerable\",\r\n    \"constructor\"\r\n];\r\n/**\r\n * Returns the names of the enumerable string properties and methods of an object. This helper exists to avoid adding a polyfil for older browsers\r\n * that do not define Object.keys eg. ES3 only, IE8 just in case any page checks for presence/absence of the prototype implementation.\r\n * Note: For consistency this will not use the Object.keys implementation if it exists as this would cause a testing requirement to test with and without the implementations\r\n * @param obj Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\r\n */\r\nexport function objKeys(obj) {\r\n    var objType = typeof obj;\r\n    if (objType !== strShimFunction && (objType !== strShimObject || obj === null)) {\r\n        throwTypeError(\"objKeys called on non-object\");\r\n    }\r\n    // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n    if (!_objKeysHasDontEnumBug && _objKeys) {\r\n        return _objKeys(obj);\r\n    }\r\n    var result = [];\r\n    for (var prop in obj) {\r\n        if (obj && ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](obj, prop)) {\r\n            result[_DYN_PUSH /* @min:%2epush */](prop);\r\n        }\r\n    }\r\n    if (_objKeysHasDontEnumBug) {\r\n        var dontEnumsLength = _objKeysDontEnums[_DYN_LENGTH /* @min:%2elength */];\r\n        for (var lp = 0; lp < dontEnumsLength; lp++) {\r\n            if (obj && ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](obj, _objKeysDontEnums[lp])) {\r\n                result[_DYN_PUSH /* @min:%2epush */](_objKeysDontEnums[lp]);\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Try to define get/set object property accessors for the target object/prototype, this will provide compatibility with\r\n * existing API definition when run within an ES5+ container that supports accessors but still enable the code to be loaded\r\n * and executed in an ES3 container, providing basic IE8 compatibility.\r\n * @param target The object on which to define the property.\r\n * @param prop The name of the property to be defined or modified.\r\n * @param getProp The getter function to wire against the getter.\r\n * @param setProp The setter function to wire against the setter.\r\n * @returns True if it was able to create the accessors otherwise false\r\n */\r\nexport function objDefineAccessors(target, prop, getProp, setProp) {\r\n    if (_objDefineProperty) {\r\n        try {\r\n            var descriptor = {\r\n                enumerable: true,\r\n                configurable: true\r\n            };\r\n            if (getProp) {\r\n                descriptor.get = getProp;\r\n            }\r\n            if (setProp) {\r\n                descriptor.set = setProp;\r\n            }\r\n            _objDefineProperty(target, prop, descriptor);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            // IE8 Defines a defineProperty on Object but it's only supported for DOM elements so it will throw\r\n            // We will just ignore this here.\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction _doNothing(value) {\r\n    return value;\r\n}\r\nexport function deepFreeze(obj) {\r\n    if (_objFreeze) {\r\n        objForEachKey(obj, function (name, value) {\r\n            if (isArray(value) || isObject(value)) {\r\n                _objFreeze(value);\r\n            }\r\n        });\r\n    }\r\n    return objFreeze(obj);\r\n}\r\nexport var objFreeze = _objFreeze || _doNothing;\r\nexport var objSeal = _objSeal || _doNothing;\r\n/**\r\n * Return the current time via the Date now() function (if available) and falls back to (new Date()).getTime() if now() is unavailable (IE8 or less)\r\n * https://caniuse.com/#search=Date.now\r\n */\r\nexport function dateNow() {\r\n    var dt = Date;\r\n    return dt.now ? dt.now() : new dt().getTime();\r\n}\r\n/**\r\n * Returns the name of object if it's an Error. Otherwise, returns empty string.\r\n */\r\nexport function getExceptionName(object) {\r\n    if (isError(object)) {\r\n        return object[_DYN_NAME /* @min:%2ename */];\r\n    }\r\n    return STR_EMPTY;\r\n}\r\n/**\r\n * Sets the provided value on the target instance using the field name when the provided chk function returns true, the chk\r\n * function will only be called if the new value is no equal to the original value.\r\n * @param target - The target object\r\n * @param field - The key of the target\r\n * @param value - The value to set\r\n * @param valChk - [Optional] Callback to check the value that if supplied will be called check if the new value can be set\r\n * @param srcChk - [Optional] Callback to check to original value that if supplied will be called if the new value should be set (if allowed)\r\n * @returns The existing or new value, depending what was set\r\n */\r\nexport function setValue(target, field, value, valChk, srcChk) {\r\n    var theValue = value;\r\n    if (target) {\r\n        theValue = target[field];\r\n        if (theValue !== value && (!srcChk || srcChk(theValue)) && (!valChk || valChk(value))) {\r\n            theValue = value;\r\n            target[field] = theValue;\r\n        }\r\n    }\r\n    return theValue;\r\n}\r\n/**\r\n * Returns the current value from the target object if not null or undefined otherwise sets the new value and returns it\r\n * @param target - The target object to return or set the default value\r\n * @param field - The key for the field to set on the target\r\n * @param defValue - [Optional] The value to set if not already present, when not provided a empty object will be added\r\n */\r\nexport function getSetValue(target, field, defValue) {\r\n    var theValue;\r\n    if (target) {\r\n        theValue = target[field];\r\n        if (!theValue && isNullOrUndefined(theValue)) {\r\n            // Supports having the default as null\r\n            theValue = !isUndefined(defValue) ? defValue : {};\r\n            target[field] = theValue;\r\n        }\r\n    }\r\n    else {\r\n        // Expanded for performance so we only check defValue if required\r\n        theValue = !isUndefined(defValue) ? defValue : {};\r\n    }\r\n    return theValue;\r\n}\r\n/**\r\n * Get the mapped config value, if null or undefined any supplied defaultValue will be returned.\r\n * @param field - The name of the field as the named enum value (number) or the string name.\r\n * @param defaultValue - The default value to return if the config field is not present, null or undefined.\r\n */\r\nexport function getCfgValue(theValue, defaultValue) {\r\n    return !isNullOrUndefined(theValue) ? theValue : defaultValue;\r\n}\r\nexport function isNotTruthy(value) {\r\n    return !value;\r\n}\r\nexport function isTruthy(value) {\r\n    return !!value;\r\n}\r\nexport function throwError(message) {\r\n    throw new Error(message);\r\n}\r\nfunction _createProxyFunction(source, funcName) {\r\n    var srcFunc = null;\r\n    var src = null;\r\n    if (isFunction(source)) {\r\n        srcFunc = source;\r\n    }\r\n    else {\r\n        src = source;\r\n    }\r\n    return function () {\r\n        // Capture the original arguments passed to the method\r\n        var originalArguments = arguments;\r\n        if (srcFunc) {\r\n            src = srcFunc();\r\n        }\r\n        if (src) {\r\n            return src[funcName][_DYN_APPLY /* @min:%2eapply */](src, originalArguments);\r\n        }\r\n    };\r\n}\r\n/**\r\n * Effectively assigns all enumerable properties (not just own properties) and functions (including inherited prototype) from\r\n * the source object to the target, it attempts to use proxy getters / setters (if possible) and proxy functions to avoid potential\r\n * implementation issues by assigning prototype functions as instance ones\r\n *\r\n * This method is the primary method used to \"update\" the snippet proxy with the ultimate implementations.\r\n *\r\n * Special ES3 Notes:\r\n * Updates (setting) of direct property values on the target or indirectly on the source object WILL NOT WORK PROPERLY, updates to the\r\n * properties of \"referenced\" object will work (target.context.newValue = 10 => will be reflected in the source.context as it's the\r\n * same object). ES3 Failures: assigning target.myProp = 3 -> Won't change source.myProp = 3, likewise the reverse would also fail.\r\n * @param target - The target object to be assigned with the source properties and functions\r\n * @param source - The source object which will be assigned / called by setting / calling the targets proxies\r\n * @param chkSet - An optional callback to determine whether a specific property/function should be proxied\r\n */\r\nexport function proxyAssign(target, source, chkSet) {\r\n    if (target && source && isObject(target) && isObject(source)) {\r\n        var _loop_1 = function (field) {\r\n            if (isString(field)) {\r\n                var value = source[field];\r\n                if (isFunction(value)) {\r\n                    if (!chkSet || chkSet(field, true, source, target)) {\r\n                        // Create a proxy function rather than just copying the (possible) prototype to the new object as an instance function\r\n                        target[field] = _createProxyFunction(source, field);\r\n                    }\r\n                }\r\n                else if (!chkSet || chkSet(field, false, source, target)) {\r\n                    if (hasOwnProperty(target, field)) {\r\n                        // Remove any previous instance property\r\n                        delete target[field];\r\n                    }\r\n                    if (!objDefineAccessors(target, field, function () {\r\n                        return source[field];\r\n                    }, function (theValue) {\r\n                        source[field] = theValue;\r\n                    })) {\r\n                        // Unable to create an accessor, so just assign the values as a fallback\r\n                        // -- this will (mostly) work for objects\r\n                        // -- but will fail for accessing primitives (if the source changes it) and all types of \"setters\" as the source won't be modified\r\n                        target[field] = value;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        // effectively apply/proxy full source to the target instance\r\n        for (var field in source) {\r\n            _loop_1(field);\r\n        }\r\n    }\r\n    return target;\r\n}\r\n/**\r\n * Creates a proxy function on the target which internally will call the source version with all arguments passed to the target method.\r\n *\r\n * @param target - The target object to be assigned with the source properties and functions\r\n * @param name - The function name that will be added on the target\r\n * @param source - The source object which will be assigned / called by setting / calling the targets proxies\r\n * @param theFunc - The function name on the source that will be proxied on the target\r\n * @param overwriteTarget - If `false` this will not replace any pre-existing name otherwise (the default) it will overwrite any existing name\r\n */\r\nexport function proxyFunctionAs(target, name, source, theFunc, overwriteTarget) {\r\n    if (target && name && source) {\r\n        if (overwriteTarget !== false || isUndefined(target[name])) {\r\n            target[name] = _createProxyFunction(source, theFunc);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Creates proxy functions on the target which internally will call the source version with all arguments passed to the target method.\r\n *\r\n * @param target - The target object to be assigned with the source properties and functions\r\n * @param source - The source object which will be assigned / called by setting / calling the targets proxies\r\n * @param functionsToProxy - An array of function names that will be proxied on the target\r\n * @param overwriteTarget - If false this will not replace any pre-existing name otherwise (the default) it will overwrite any existing name\r\n */\r\nexport function proxyFunctions(target, source, functionsToProxy, overwriteTarget) {\r\n    if (target && source && isObject(target) && isArray(functionsToProxy)) {\r\n        arrForEach(functionsToProxy, function (theFuncName) {\r\n            if (isString(theFuncName)) {\r\n                proxyFunctionAs(target, theFuncName, source, theFuncName, overwriteTarget);\r\n            }\r\n        });\r\n    }\r\n    return target;\r\n}\r\n/**\r\n * Simpler helper to create a dynamic class that implements the interface and populates the values with the defaults.\r\n * Only instance properties (hasOwnProperty) values are copied from the defaults to the new instance\r\n * @param defaults Simple helper\r\n */\r\nexport function createClassFromInterface(defaults) {\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            var _this_1 = this;\r\n            if (defaults) {\r\n                objForEachKey(defaults, function (field, value) {\r\n                    _this_1[field] = value;\r\n                });\r\n            }\r\n        }\r\n        return class_1;\r\n    }());\r\n}\r\n/**\r\n * A helper function to assist with JIT performance for objects that have properties added / removed dynamically\r\n * this is primarily for chromium based browsers and has limited effects on Firefox and none of IE. Only call this\r\n * function after you have finished \"updating\" the object, calling this within loops reduces or defeats the benefits.\r\n * This helps when iterating using for..in, objKeys() and objForEach()\r\n * @param theObject - The object to be optimized if possible\r\n */\r\nexport function optimizeObject(theObject) {\r\n    // V8 Optimization to cause the JIT compiler to create a new optimized object for looking up the own properties\r\n    // primarily for object with <= 19 properties for >= 20 the effect is reduced or non-existent\r\n    if (theObject && ObjAssign) {\r\n        theObject = ObjClass(ObjAssign({}, theObject));\r\n    }\r\n    return theObject;\r\n}\r\nexport function objExtend(obj1, obj2, obj3, obj4, obj5, obj6) {\r\n    // Variables\r\n    var theArgs = arguments;\r\n    var extended = theArgs[0] || {};\r\n    var argLen = theArgs[_DYN_LENGTH /* @min:%2elength */];\r\n    var deep = false;\r\n    var idx = 1;\r\n    // Check for \"Deep\" flag\r\n    if (argLen > 0 && isBoolean(extended)) {\r\n        deep = extended;\r\n        extended = theArgs[idx] || {};\r\n        idx++;\r\n    }\r\n    // Handle case when target is a string or something (possible in deep copy)\r\n    if (!isObject(extended)) {\r\n        extended = {};\r\n    }\r\n    // Loop through each remaining object and conduct a merge\r\n    for (; idx < argLen; idx++) {\r\n        var arg = theArgs[idx];\r\n        var isArgArray = isArray(arg);\r\n        var isArgObj = isObject(arg);\r\n        for (var prop in arg) {\r\n            var propOk = (isArgArray && (prop in arg)) || (isArgObj && (ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](arg, prop)));\r\n            if (!propOk) {\r\n                continue;\r\n            }\r\n            var newValue = arg[prop];\r\n            var isNewArray = void 0;\r\n            // If deep merge and property is an object, merge properties\r\n            if (deep && newValue && ((isNewArray = isArray(newValue)) || isPlainObject(newValue))) {\r\n                // Grab the current value of the extended object\r\n                var clone = extended[prop];\r\n                if (isNewArray) {\r\n                    if (!isArray(clone)) {\r\n                        // We can't \"merge\" an array with a non-array so overwrite the original\r\n                        clone = [];\r\n                    }\r\n                }\r\n                else if (!isPlainObject(clone)) {\r\n                    // We can't \"merge\" an object with a non-object\r\n                    clone = {};\r\n                }\r\n                // Never move the original objects always clone them\r\n                newValue = objExtend(deep, clone, newValue);\r\n            }\r\n            // Assign the new (or previous) value (unless undefined)\r\n            if (newValue !== undefined) {\r\n                extended[prop] = newValue;\r\n            }\r\n        }\r\n    }\r\n    return extended;\r\n}\r\n//# sourceMappingURL=HelperFuncs.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n// ###################################################################################################################################################\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// ###################################################################################################################################################\r\nexport var STR_EMPTY = \"\";\r\nexport var STR_CHANNELS = \"channels\";\r\nexport var STR_CORE = \"core\";\r\nexport var STR_CREATE_PERF_MGR = \"createPerfMgr\";\r\nexport var STR_DISABLED = \"disabled\";\r\nexport var STR_EXTENSION_CONFIG = \"extensionConfig\";\r\nexport var STR_EXTENSIONS = \"extensions\";\r\nexport var STR_PROCESS_TELEMETRY = \"processTelemetry\";\r\nexport var STR_PRIORITY = \"priority\";\r\nexport var STR_EVENTS_SENT = \"eventsSent\";\r\nexport var STR_EVENTS_DISCARDED = \"eventsDiscarded\";\r\nexport var STR_EVENTS_SEND_REQUEST = \"eventsSendRequest\";\r\nexport var STR_PERF_EVENT = \"perfEvent\";\r\nexport var STR_ERROR_TO_CONSOLE = \"errorToConsole\";\r\nexport var STR_WARN_TO_CONSOLE = \"warnToConsole\";\r\nexport var STR_GET_PERF_MGR = \"getPerfMgr\";\r\n//# sourceMappingURL=InternalConstants.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_COMPLETE, _DYN_GET_CTX, _DYN_IS_ASYNC, _DYN_IS_CHILD_EVT, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_SET_CTX, _DYN_TIME } from \"../__DynamicConstants\";\r\nimport { dateNow, isArray, isFunction, objDefineAccessors } from \"./HelperFuncs\";\r\nimport { STR_GET_PERF_MGR, STR_PERF_EVENT } from \"./InternalConstants\";\r\nvar strExecutionContextKey = \"ctx\";\r\nvar strParentContextKey = \"ParentContextKey\";\r\nvar strChildrenContextKey = \"ChildrenContextKey\";\r\nvar _defaultPerfManager = null;\r\nvar PerfEvent = /** @class */ (function () {\r\n    function PerfEvent(name, payloadDetails, isAsync) {\r\n        var _self = this;\r\n        var accessorDefined = false;\r\n        _self.start = dateNow();\r\n        _self[_DYN_NAME /* @min:%2ename */] = name;\r\n        _self[_DYN_IS_ASYNC /* @min:%2eisAsync */] = isAsync;\r\n        _self[_DYN_IS_CHILD_EVT /* @min:%2eisChildEvt */] = function () { return false; };\r\n        if (isFunction(payloadDetails)) {\r\n            // Create an accessor to minimize the potential performance impact of executing the payloadDetails callback\r\n            var theDetails_1;\r\n            accessorDefined = objDefineAccessors(_self, \"payload\", function () {\r\n                // Delay the execution of the payloadDetails until needed\r\n                if (!theDetails_1 && isFunction(payloadDetails)) {\r\n                    theDetails_1 = payloadDetails();\r\n                    // clear it out now so the referenced objects can be garbage collected\r\n                    payloadDetails = null;\r\n                }\r\n                return theDetails_1;\r\n            });\r\n        }\r\n        _self[_DYN_GET_CTX /* @min:%2egetCtx */] = function (key) {\r\n            if (key) {\r\n                // The parent and child links are located directly on the object (for better viewing in the DebugPlugin)\r\n                if (key === PerfEvent[strParentContextKey] || key === PerfEvent[strChildrenContextKey]) {\r\n                    return _self[key];\r\n                }\r\n                return (_self[strExecutionContextKey] || {})[key];\r\n            }\r\n            return null;\r\n        };\r\n        _self[_DYN_SET_CTX /* @min:%2esetCtx */] = function (key, value) {\r\n            if (key) {\r\n                // Put the parent and child links directly on the object (for better viewing in the DebugPlugin)\r\n                if (key === PerfEvent[strParentContextKey]) {\r\n                    // Simple assumption, if we are setting a parent then we must be a child\r\n                    if (!_self[key]) {\r\n                        _self[_DYN_IS_CHILD_EVT /* @min:%2eisChildEvt */] = function () { return true; };\r\n                    }\r\n                    _self[key] = value;\r\n                }\r\n                else if (key === PerfEvent[strChildrenContextKey]) {\r\n                    _self[key] = value;\r\n                }\r\n                else {\r\n                    var ctx = _self[strExecutionContextKey] = _self[strExecutionContextKey] || {};\r\n                    ctx[key] = value;\r\n                }\r\n            }\r\n        };\r\n        _self[_DYN_COMPLETE /* @min:%2ecomplete */] = function () {\r\n            var childTime = 0;\r\n            var childEvts = _self[_DYN_GET_CTX /* @min:%2egetCtx */](PerfEvent[strChildrenContextKey]);\r\n            if (isArray(childEvts)) {\r\n                for (var lp = 0; lp < childEvts[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                    var childEvt = childEvts[lp];\r\n                    if (childEvt) {\r\n                        childTime += childEvt[_DYN_TIME /* @min:%2etime */];\r\n                    }\r\n                }\r\n            }\r\n            _self[_DYN_TIME /* @min:%2etime */] = dateNow() - _self.start;\r\n            _self.exTime = _self[_DYN_TIME /* @min:%2etime */] - childTime;\r\n            _self[_DYN_COMPLETE /* @min:%2ecomplete */] = function () { };\r\n            if (!accessorDefined && isFunction(payloadDetails)) {\r\n                // If we couldn't define the property set during complete -- to minimize the perf impact until after the time\r\n                _self.payload = payloadDetails();\r\n            }\r\n        };\r\n    }\r\n    PerfEvent.ParentContextKey = \"parent\";\r\n    PerfEvent.ChildrenContextKey = \"childEvts\";\r\n    return PerfEvent;\r\n}());\r\nexport { PerfEvent };\r\nvar PerfManager = /** @class */ (function () {\r\n    function PerfManager(manager) {\r\n        /**\r\n         * General bucket used for execution context set and retrieved via setCtx() and getCtx.\r\n         * Defined as private so it can be visualized via the DebugPlugin\r\n         */\r\n        this.ctx = {};\r\n        dynamicProto(PerfManager, this, function (_self) {\r\n            _self.create = function (src, payloadDetails, isAsync) {\r\n                // TODO (@MSNev): at some point we will want to add additional configuration to \"select\" which events to instrument\r\n                // for now this is just a simple do everything.\r\n                return new PerfEvent(src, payloadDetails, isAsync);\r\n            };\r\n            _self.fire = function (perfEvent) {\r\n                if (perfEvent) {\r\n                    perfEvent[_DYN_COMPLETE /* @min:%2ecomplete */]();\r\n                    if (manager && isFunction(manager[STR_PERF_EVENT /* @min:%2eperfEvent */])) {\r\n                        manager[STR_PERF_EVENT /* @min:%2eperfEvent */](perfEvent);\r\n                    }\r\n                }\r\n            };\r\n            _self[_DYN_SET_CTX /* @min:%2esetCtx */] = function (key, value) {\r\n                if (key) {\r\n                    var ctx = _self[strExecutionContextKey] = _self[strExecutionContextKey] || {};\r\n                    ctx[key] = value;\r\n                }\r\n            };\r\n            _self[_DYN_GET_CTX /* @min:%2egetCtx */] = function (key) {\r\n                return (_self[strExecutionContextKey] || {})[key];\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for PerfManager.prototype.create.\r\n// Removed Stub for PerfManager.prototype.fire.\r\n// Removed Stub for PerfManager.prototype.setCtx.\r\n// Removed Stub for PerfManager.prototype.getCtx.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    PerfManager.__ieDyn=1;\n\n    return PerfManager;\r\n}());\r\nexport { PerfManager };\r\nvar doPerfActiveKey = \"CoreUtils.doPerf\";\r\n/**\r\n * Helper function to wrap a function with a perf event\r\n * @param mgrSource - The Performance Manager or a Performance provider source (may be null)\r\n * @param getSource - The callback to create the source name for the event (if perf monitoring is enabled)\r\n * @param func - The function to call and measure\r\n * @param details - A function to return the payload details\r\n * @param isAsync - Is the event / function being call asynchronously or synchronously\r\n */\r\nexport function doPerf(mgrSource, getSource, func, details, isAsync) {\r\n    if (mgrSource) {\r\n        var perfMgr = mgrSource;\r\n        if (perfMgr[STR_GET_PERF_MGR]) {\r\n            // Looks like a perf manager provider object\r\n            perfMgr = perfMgr[STR_GET_PERF_MGR]();\r\n        }\r\n        if (perfMgr) {\r\n            var perfEvt = void 0;\r\n            var currentActive = perfMgr[_DYN_GET_CTX /* @min:%2egetCtx */](doPerfActiveKey);\r\n            try {\r\n                perfEvt = perfMgr.create(getSource(), details, isAsync);\r\n                if (perfEvt) {\r\n                    if (currentActive && perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */]) {\r\n                        perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */](PerfEvent[strParentContextKey], currentActive);\r\n                        if (currentActive[_DYN_GET_CTX /* @min:%2egetCtx */] && currentActive[_DYN_SET_CTX /* @min:%2esetCtx */]) {\r\n                            var children = currentActive[_DYN_GET_CTX /* @min:%2egetCtx */](PerfEvent[strChildrenContextKey]);\r\n                            if (!children) {\r\n                                children = [];\r\n                                currentActive[_DYN_SET_CTX /* @min:%2esetCtx */](PerfEvent[strChildrenContextKey], children);\r\n                            }\r\n                            children[_DYN_PUSH /* @min:%2epush */](perfEvt);\r\n                        }\r\n                    }\r\n                    // Set this event as the active event now\r\n                    perfMgr[_DYN_SET_CTX /* @min:%2esetCtx */](doPerfActiveKey, perfEvt);\r\n                    return func(perfEvt);\r\n                }\r\n            }\r\n            catch (ex) {\r\n                if (perfEvt && perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */]) {\r\n                    perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */](\"exception\", ex);\r\n                }\r\n            }\r\n            finally {\r\n                // fire the perf event\r\n                if (perfEvt) {\r\n                    perfMgr.fire(perfEvt);\r\n                }\r\n                // Reset the active event to the previous value\r\n                perfMgr[_DYN_SET_CTX /* @min:%2esetCtx */](doPerfActiveKey, currentActive);\r\n            }\r\n        }\r\n    }\r\n    return func();\r\n}\r\n/**\r\n * Set the global performance manager to use when there is no core instance or it has not been initialized yet.\r\n * @param perfManager - The IPerfManager instance to use when no performance manager is supplied.\r\n */\r\nexport function setGblPerfMgr(perfManager) {\r\n    _defaultPerfManager = perfManager;\r\n}\r\n/**\r\n * Get the current global performance manager that will be used with no performance manager is supplied.\r\n * @returns - The current default manager\r\n */\r\nexport function getGblPerfMgr() {\r\n    return _defaultPerfManager;\r\n}\r\n//# sourceMappingURL=PerfManager.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { _DYN_CALL, _DYN_CONFIG, _DYN_CREATE_NEW, _DYN_DIAG_LOG, _DYN_GET_NEXT, _DYN_GET_PLUGIN, _DYN_IDENTIFIER, _DYN_IS_ASYNC, _DYN_IS_INITIALIZED, _DYN_LENGTH, _DYN_LOGGER, _DYN_PROCESS_NEXT, _DYN_PUSH, _DYN_SET_NEXT_PLUGIN, _DYN_TEARDOWN, _DYN_UPDATE } from \"../__DynamicConstants\";\r\nimport { _throwInternal, safeGetLogger } from \"./DiagnosticLogger\";\r\nimport { dumpObj } from \"./EnvUtils\";\r\nimport { arrForEach, isArray, isFunction, isNullOrUndefined, isObject, isUndefined, objExtend, objForEachKey, objFreeze, objKeys, proxyFunctions } from \"./HelperFuncs\";\r\nimport { STR_CORE, STR_DISABLED, STR_EMPTY, STR_EXTENSION_CONFIG, STR_PRIORITY, STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nimport { doPerf } from \"./PerfManager\";\r\nimport { _getPluginState } from \"./TelemetryHelpers\";\r\nvar strTelemetryPluginChain = \"TelemetryPluginChain\";\r\nvar strHasRunFlags = \"_hasRun\";\r\nvar strGetTelCtx = \"_getTelCtx\";\r\nvar _chainId = 0;\r\nfunction _getNextProxyStart(proxy, core, startAt) {\r\n    while (proxy) {\r\n        if (proxy[_DYN_GET_PLUGIN /* @min:%2egetPlugin */]() === startAt) {\r\n            return proxy;\r\n        }\r\n        proxy = proxy[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n    }\r\n    // This wasn't found in the existing chain so create an isolated one with just this plugin\r\n    return createTelemetryProxyChain([startAt], core[_DYN_CONFIG /* @min:%2econfig */] || {}, core);\r\n}\r\n/**\r\n * @ignore\r\n * @param telemetryChain\r\n * @param config\r\n * @param core\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n * @returns\r\n */\r\nfunction _createInternalContext(telemetryChain, config, core, startAt) {\r\n    // We have a special case where we want to start execution from this specific plugin\r\n    // or we simply reuse the existing telemetry plugin chain (normal execution case)\r\n    var _nextProxy = null; // By Default set as no next plugin\r\n    var _onComplete = [];\r\n    if (startAt !== null) {\r\n        // There is no next element (null) vs not defined (undefined) so use the full chain\r\n        _nextProxy = startAt ? _getNextProxyStart(telemetryChain, core, startAt) : telemetryChain;\r\n    }\r\n    var context = {\r\n        _next: _moveNext,\r\n        ctx: {\r\n            core: function () {\r\n                return core;\r\n            },\r\n            diagLog: function () {\r\n                return safeGetLogger(core, config);\r\n            },\r\n            getCfg: function () {\r\n                return config;\r\n            },\r\n            getExtCfg: _getExtCfg,\r\n            getConfig: _getConfig,\r\n            hasNext: function () {\r\n                return !!_nextProxy;\r\n            },\r\n            getNext: function () {\r\n                return _nextProxy;\r\n            },\r\n            setNext: function (nextPlugin) {\r\n                _nextProxy = nextPlugin;\r\n            },\r\n            iterate: _iterateChain,\r\n            onComplete: _addOnComplete\r\n        }\r\n    };\r\n    function _addOnComplete(onComplete, that) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        if (onComplete) {\r\n            _onComplete[_DYN_PUSH /* @min:%2epush */]({\r\n                func: onComplete,\r\n                self: !isUndefined(that) ? that : context.ctx,\r\n                args: args\r\n            });\r\n        }\r\n    }\r\n    function _moveNext() {\r\n        var nextProxy = _nextProxy;\r\n        // Automatically move to the next plugin\r\n        _nextProxy = nextProxy ? nextProxy[_DYN_GET_NEXT /* @min:%2egetNext */]() : null;\r\n        if (!nextProxy) {\r\n            var onComplete = _onComplete;\r\n            if (onComplete && onComplete[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                arrForEach(onComplete, function (completeDetails) {\r\n                    try {\r\n                        completeDetails.func[_DYN_CALL /* @min:%2ecall */](completeDetails.self, completeDetails.args);\r\n                    }\r\n                    catch (e) {\r\n                        _throwInternal(core[_DYN_LOGGER /* @min:%2elogger */], 2 /* eLoggingSeverity.WARNING */, 73 /* _eInternalMessageId.PluginException */, \"Unexpected Exception during onComplete - \" + dumpObj(e));\r\n                    }\r\n                });\r\n                _onComplete = [];\r\n            }\r\n        }\r\n        return nextProxy;\r\n    }\r\n    function _getExtCfg(identifier, defaultValue, mergeDefault) {\r\n        if (defaultValue === void 0) { defaultValue = {}; }\r\n        if (mergeDefault === void 0) { mergeDefault = 0 /* GetExtCfgMergeType.None */; }\r\n        var theConfig;\r\n        if (config) {\r\n            var extConfig = config[STR_EXTENSION_CONFIG /* @min:%2eextensionConfig */];\r\n            if (extConfig && identifier) {\r\n                theConfig = extConfig[identifier];\r\n            }\r\n        }\r\n        if (!theConfig) {\r\n            // Just use the defaults\r\n            theConfig = defaultValue;\r\n        }\r\n        else if (isObject(defaultValue)) {\r\n            if (mergeDefault !== 0 /* GetExtCfgMergeType.None */) {\r\n                // Merge the defaults and configured values\r\n                var newConfig_1 = objExtend(true, defaultValue, theConfig);\r\n                if (config && mergeDefault === 2 /* GetExtCfgMergeType.MergeDefaultFromRootOrDefault */) {\r\n                    // Enumerate over the defaultValues and if not already populated attempt to\r\n                    // find a value from the root config\r\n                    objForEachKey(defaultValue, function (field) {\r\n                        // for each unspecified field, set the default value\r\n                        if (isNullOrUndefined(newConfig_1[field])) {\r\n                            var cfgValue = config[field];\r\n                            if (!isNullOrUndefined(cfgValue)) {\r\n                                newConfig_1[field] = cfgValue;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                theConfig = newConfig_1;\r\n            }\r\n        }\r\n        return theConfig;\r\n    }\r\n    function _getConfig(identifier, field, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = false; }\r\n        var theValue;\r\n        var extConfig = _getExtCfg(identifier, null);\r\n        if (extConfig && !isNullOrUndefined(extConfig[field])) {\r\n            theValue = extConfig[field];\r\n        }\r\n        else if (config && !isNullOrUndefined(config[field])) {\r\n            theValue = config[field];\r\n        }\r\n        return !isNullOrUndefined(theValue) ? theValue : defaultValue;\r\n    }\r\n    function _iterateChain(cb) {\r\n        // Keep processing until we reach the end of the chain\r\n        var nextPlugin;\r\n        while (!!(nextPlugin = context._next())) {\r\n            var plugin = nextPlugin[_DYN_GET_PLUGIN /* @min:%2egetPlugin */]();\r\n            if (plugin) {\r\n                // callback with the current on\r\n                cb(plugin);\r\n            }\r\n        }\r\n    }\r\n    return context;\r\n}\r\n/**\r\n * Creates a new Telemetry Item context with the current config, core and plugin execution chain\r\n * @param plugins - The plugin instances that will be executed\r\n * @param config - The current config\r\n * @param core - The current core instance\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n */\r\nexport function createProcessTelemetryContext(telemetryChain, config, core, startAt) {\r\n    var internalContext = _createInternalContext(telemetryChain, config, core, startAt);\r\n    var context = internalContext.ctx;\r\n    function _processNext(env) {\r\n        var nextPlugin = internalContext._next();\r\n        // Run the next plugin which will call \"processNext()\"\r\n        nextPlugin && nextPlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */](env, context);\r\n        return !nextPlugin;\r\n    }\r\n    function _createNew(plugins, startAt) {\r\n        if (plugins === void 0) { plugins = null; }\r\n        if (isArray(plugins)) {\r\n            plugins = createTelemetryProxyChain(plugins, config, core, startAt);\r\n        }\r\n        return createProcessTelemetryContext(plugins || context[_DYN_GET_NEXT /* @min:%2egetNext */](), config, core, startAt);\r\n    }\r\n    context[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = _processNext;\r\n    context[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = _createNew;\r\n    return context;\r\n}\r\n/**\r\n * Creates a new Telemetry Item context with the current config, core and plugin execution chain for handling the unloading of the chain\r\n * @param plugins - The plugin instances that will be executed\r\n * @param config - The current config\r\n * @param core - The current core instance\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n */\r\nexport function createProcessTelemetryUnloadContext(telemetryChain, core, startAt) {\r\n    var config = core[_DYN_CONFIG /* @min:%2econfig */] || {};\r\n    var internalContext = _createInternalContext(telemetryChain, config, core, startAt);\r\n    var context = internalContext.ctx;\r\n    function _processNext(unloadState) {\r\n        var nextPlugin = internalContext._next();\r\n        nextPlugin && nextPlugin.unload(context, unloadState);\r\n        return !nextPlugin;\r\n    }\r\n    function _createNew(plugins, startAt) {\r\n        if (plugins === void 0) { plugins = null; }\r\n        if (isArray(plugins)) {\r\n            plugins = createTelemetryProxyChain(plugins, config, core, startAt);\r\n        }\r\n        return createProcessTelemetryUnloadContext(plugins || context[_DYN_GET_NEXT /* @min:%2egetNext */](), core, startAt);\r\n    }\r\n    context[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = _processNext;\r\n    context[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = _createNew;\r\n    return context;\r\n}\r\n/**\r\n * Creates a new Telemetry Item context with the current config, core and plugin execution chain for updating the configuration\r\n * @param plugins - The plugin instances that will be executed\r\n * @param config - The current config\r\n * @param core - The current core instance\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n */\r\nexport function createProcessTelemetryUpdateContext(telemetryChain, core, startAt) {\r\n    var config = core[_DYN_CONFIG /* @min:%2econfig */] || {};\r\n    var internalContext = _createInternalContext(telemetryChain, config, core, startAt);\r\n    var context = internalContext.ctx;\r\n    function _processNext(updateState) {\r\n        return context.iterate(function (plugin) {\r\n            if (isFunction(plugin[_DYN_UPDATE /* @min:%2eupdate */])) {\r\n                plugin[_DYN_UPDATE /* @min:%2eupdate */](context, updateState);\r\n            }\r\n        });\r\n    }\r\n    function _createNew(plugins, startAt) {\r\n        if (plugins === void 0) { plugins = null; }\r\n        if (isArray(plugins)) {\r\n            plugins = createTelemetryProxyChain(plugins, config, core, startAt);\r\n        }\r\n        return createProcessTelemetryUpdateContext(plugins || context[_DYN_GET_NEXT /* @min:%2egetNext */](), core, startAt);\r\n    }\r\n    context[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = _processNext;\r\n    context[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = _createNew;\r\n    return context;\r\n}\r\n/**\r\n * Creates an execution chain from the array of plugins\r\n * @param plugins - The array of plugins that will be executed in this order\r\n * @param defItemCtx - The default execution context to use when no telemetry context is passed to processTelemetry(), this\r\n * should be for legacy plugins only. Currently, only used for passing the current core instance and to provide better error\r\n * reporting (hasRun) when errors occur.\r\n */\r\nexport function createTelemetryProxyChain(plugins, config, core, startAt) {\r\n    var firstProxy = null;\r\n    var add = startAt ? false : true;\r\n    if (isArray(plugins) && plugins[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        // Create the proxies and wire up the next plugin chain\r\n        var lastProxy_1 = null;\r\n        arrForEach(plugins, function (thePlugin) {\r\n            if (!add && startAt === thePlugin) {\r\n                add = true;\r\n            }\r\n            if (add && thePlugin && isFunction(thePlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */])) {\r\n                // Only add plugins that are processors\r\n                var newProxy = createTelemetryPluginProxy(thePlugin, config, core);\r\n                if (!firstProxy) {\r\n                    firstProxy = newProxy;\r\n                }\r\n                if (lastProxy_1) {\r\n                    // Set this new proxy as the next for the previous one\r\n                    lastProxy_1._setNext(newProxy);\r\n                }\r\n                lastProxy_1 = newProxy;\r\n            }\r\n        });\r\n    }\r\n    if (startAt && !firstProxy) {\r\n        // Special case where the \"startAt\" was not in the original list of plugins\r\n        return createTelemetryProxyChain([startAt], config, core);\r\n    }\r\n    return firstProxy;\r\n}\r\n/**\r\n * Create the processing telemetry proxy instance, the proxy is used to abstract the current plugin to allow monitoring and\r\n * execution plugins while passing around the dynamic execution state (IProcessTelemetryContext), the proxy instance no longer\r\n * contains any execution state and can be reused between requests (this was not the case for 2.7.2 and earlier with the\r\n * TelemetryPluginChain class).\r\n * @param plugin - The plugin instance to proxy\r\n * @param config - The default execution context to use when no telemetry context is passed to processTelemetry(), this\r\n * should be for legacy plugins only. Currently, only used for passing the current core instance and to provide better error\r\n * reporting (hasRun) when errors occur.\r\n * @returns\r\n */\r\nexport function createTelemetryPluginProxy(plugin, config, core) {\r\n    var nextProxy = null;\r\n    var hasProcessTelemetry = isFunction(plugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */]);\r\n    var hasSetNext = isFunction(plugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */]);\r\n    var chainId;\r\n    if (plugin) {\r\n        chainId = plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] + \"-\" + plugin[STR_PRIORITY /* @min:%2epriority */] + \"-\" + _chainId++;\r\n    }\r\n    else {\r\n        chainId = \"Unknown-0-\" + _chainId++;\r\n    }\r\n    var proxyChain = {\r\n        getPlugin: function () {\r\n            return plugin;\r\n        },\r\n        getNext: function () {\r\n            return nextProxy;\r\n        },\r\n        processTelemetry: _processTelemetry,\r\n        unload: _unloadPlugin,\r\n        update: _updatePlugin,\r\n        _id: chainId,\r\n        _setNext: function (nextPlugin) {\r\n            nextProxy = nextPlugin;\r\n        }\r\n    };\r\n    function _getTelCtx() {\r\n        var itemCtx;\r\n        // Looks like a plugin didn't pass the (optional) context, so create a new one\r\n        if (plugin && isFunction(plugin[strGetTelCtx])) {\r\n            // This plugin extends from the BaseTelemetryPlugin so lets use it\r\n            itemCtx = plugin[strGetTelCtx]();\r\n        }\r\n        if (!itemCtx) {\r\n            // Create a temporary one\r\n            itemCtx = createProcessTelemetryContext(proxyChain, config, core);\r\n        }\r\n        return itemCtx;\r\n    }\r\n    function _processChain(itemCtx, processPluginFn, name, details, isAsync) {\r\n        var hasRun = false;\r\n        var identifier = plugin ? plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] : strTelemetryPluginChain;\r\n        var hasRunContext = itemCtx[strHasRunFlags];\r\n        if (!hasRunContext) {\r\n            // Assign and populate\r\n            hasRunContext = itemCtx[strHasRunFlags] = {};\r\n        }\r\n        // Ensure that we keep the context in sync\r\n        itemCtx.setNext(nextProxy);\r\n        if (plugin) {\r\n            doPerf(itemCtx[STR_CORE /* @min:%2ecore */](), function () { return identifier + \":\" + name; }, function () {\r\n                // Mark this component as having run\r\n                hasRunContext[chainId] = true;\r\n                try {\r\n                    // Set a flag on the next plugin so we know if it was attempted to be executed\r\n                    var nextId = nextProxy ? nextProxy._id : STR_EMPTY;\r\n                    if (nextId) {\r\n                        hasRunContext[nextId] = false;\r\n                    }\r\n                    hasRun = processPluginFn(itemCtx);\r\n                }\r\n                catch (error) {\r\n                    var hasNextRun = nextProxy ? hasRunContext[nextProxy._id] : true;\r\n                    if (hasNextRun) {\r\n                        // The next plugin after us has already run so set this one as complete\r\n                        hasRun = true;\r\n                    }\r\n                    if (!nextProxy || !hasNextRun) {\r\n                        // Either we have no next plugin or the current one did not attempt to call the next plugin\r\n                        // Which means the current one is the root of the failure so log/report this failure\r\n                        _throwInternal(itemCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 73 /* _eInternalMessageId.PluginException */, \"Plugin [\" + identifier + \"] failed during \" + name + \" - \" + dumpObj(error) + \", run flags: \" + dumpObj(hasRunContext));\r\n                    }\r\n                }\r\n            }, details, isAsync);\r\n        }\r\n        return hasRun;\r\n    }\r\n    function _processTelemetry(env, itemCtx) {\r\n        itemCtx = itemCtx || _getTelCtx();\r\n        function _callProcessTelemetry(itemCtx) {\r\n            if (!plugin || !hasProcessTelemetry) {\r\n                return false;\r\n            }\r\n            var pluginState = _getPluginState(plugin);\r\n            if (pluginState[_DYN_TEARDOWN /* @min:%2eteardown */] || pluginState[STR_DISABLED]) {\r\n                return false;\r\n            }\r\n            // Ensure that we keep the context in sync (for processNext()), just in case a plugin\r\n            // doesn't calls processTelemetry() instead of itemContext.processNext() or some\r\n            // other form of error occurred\r\n            if (hasSetNext) {\r\n                // Backward compatibility setting the next plugin on the instance\r\n                plugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */](nextProxy);\r\n            }\r\n            plugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */](env, itemCtx);\r\n            // Process Telemetry is expected to call itemCtx.processNext() or nextPlugin.processTelemetry()\r\n            return true;\r\n        }\r\n        if (!_processChain(itemCtx, _callProcessTelemetry, \"processTelemetry\", function () { return ({ item: env }); }, !(env.sync))) {\r\n            // The underlying plugin is either not defined, not enabled or does not have a processTelemetry implementation\r\n            // so we still want the next plugin to be executed.\r\n            itemCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](env);\r\n        }\r\n    }\r\n    function _unloadPlugin(unloadCtx, unloadState) {\r\n        function _callTeardown() {\r\n            // Setting default of hasRun as false so the proxyProcessFn() is called as teardown() doesn't have to exist or call unloadNext().\r\n            var hasRun = false;\r\n            if (plugin) {\r\n                var pluginState = _getPluginState(plugin);\r\n                var pluginCore = plugin[STR_CORE] || pluginState[STR_CORE /* @min:%2ecore */];\r\n                // Only teardown the plugin if it was initialized by the current core (i.e. It's not a shared plugin)\r\n                if (plugin && (!pluginCore || pluginCore === unloadCtx.core()) && !pluginState[_DYN_TEARDOWN /* @min:%2eteardown */]) {\r\n                    // Handle plugins that don't extend from the BaseTelemetryPlugin\r\n                    pluginState[STR_CORE /* @min:%2ecore */] = null;\r\n                    pluginState[_DYN_TEARDOWN /* @min:%2eteardown */] = true;\r\n                    pluginState[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = false;\r\n                    if (plugin[_DYN_TEARDOWN /* @min:%2eteardown */] && plugin[_DYN_TEARDOWN /* @min:%2eteardown */](unloadCtx, unloadState) === true) {\r\n                        // plugin told us that it was going to (or has) call unloadCtx.processNext()\r\n                        hasRun = true;\r\n                    }\r\n                }\r\n            }\r\n            return hasRun;\r\n        }\r\n        if (!_processChain(unloadCtx, _callTeardown, \"unload\", function () { }, unloadState[_DYN_IS_ASYNC /* @min:%2eisAsync */])) {\r\n            // Only called if we hasRun was not true\r\n            unloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](unloadState);\r\n        }\r\n    }\r\n    function _updatePlugin(updateCtx, updateState) {\r\n        function _callUpdate() {\r\n            // Setting default of hasRun as false so the proxyProcessFn() is called as teardown() doesn't have to exist or call unloadNext().\r\n            var hasRun = false;\r\n            if (plugin) {\r\n                var pluginState = _getPluginState(plugin);\r\n                var pluginCore = plugin[STR_CORE] || pluginState[STR_CORE /* @min:%2ecore */];\r\n                // Only update the plugin if it was initialized by the current core (i.e. It's not a shared plugin)\r\n                if (plugin && (!pluginCore || pluginCore === updateCtx.core()) && !pluginState[_DYN_TEARDOWN /* @min:%2eteardown */]) {\r\n                    if (plugin[_DYN_UPDATE /* @min:%2eupdate */] && plugin[_DYN_UPDATE /* @min:%2eupdate */](updateCtx, updateState) === true) {\r\n                        // plugin told us that it was going to (or has) call unloadCtx.processNext()\r\n                        hasRun = true;\r\n                    }\r\n                }\r\n            }\r\n            return hasRun;\r\n        }\r\n        if (!_processChain(updateCtx, _callUpdate, \"update\", function () { }, false)) {\r\n            // Only called if we hasRun was not true\r\n            updateCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](updateState);\r\n        }\r\n    }\r\n    return objFreeze(proxyChain);\r\n}\r\n/**\r\n * This class will be removed!\r\n * @deprecated use createProcessTelemetryContext() instead\r\n */\r\nvar ProcessTelemetryContext = /** @class */ (function () {\r\n    /**\r\n     * Creates a new Telemetry Item context with the current config, core and plugin execution chain\r\n     * @param plugins - The plugin instances that will be executed\r\n     * @param config - The current config\r\n     * @param core - The current core instance\r\n     */\r\n    function ProcessTelemetryContext(pluginChain, config, core, startAt) {\r\n        var _self = this;\r\n        var context = createProcessTelemetryContext(pluginChain, config, core, startAt);\r\n        // Proxy all functions of the context to this object\r\n        proxyFunctions(_self, context, objKeys(context));\r\n    }\r\n    return ProcessTelemetryContext;\r\n}());\r\nexport { ProcessTelemetryContext };\r\n//# sourceMappingURL=ProcessTelemetryContext.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _DYN_LENGTH } from \"../__DynamicConstants\";\r\nimport { getCrypto, getMsCrypto, isIE } from \"./EnvUtils\";\r\nimport { dateNow } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nvar UInt32Mask = 0x100000000;\r\nvar MaxUInt32 = 0xffffffff;\r\n// MWC based Random generator (for IE)\r\nvar _mwcSeeded = false;\r\nvar _mwcW = 123456789;\r\nvar _mwcZ = 987654321;\r\n// Takes any integer\r\nfunction _mwcSeed(seedValue) {\r\n    if (seedValue < 0) {\r\n        // Make sure we end up with a positive number and not -ve one.\r\n        seedValue >>>= 0;\r\n    }\r\n    _mwcW = (123456789 + seedValue) & MaxUInt32;\r\n    _mwcZ = (987654321 - seedValue) & MaxUInt32;\r\n    _mwcSeeded = true;\r\n}\r\nfunction _autoSeedMwc() {\r\n    // Simple initialization using default Math.random() - So we inherit any entropy from the browser\r\n    // and bitwise XOR with the current milliseconds\r\n    try {\r\n        var now = dateNow() & 0x7fffffff;\r\n        _mwcSeed(((Math.random() * UInt32Mask) ^ now) + now);\r\n    }\r\n    catch (e) {\r\n        // Don't crash if something goes wrong\r\n    }\r\n}\r\n/**\r\n * Generate a random value between 0 and maxValue, max value should be limited to a 32-bit maximum.\r\n * So maxValue(16) will produce a number from 0..16 (range of 17)\r\n * @param maxValue\r\n */\r\nexport function randomValue(maxValue) {\r\n    if (maxValue > 0) {\r\n        return Math.floor((random32() / MaxUInt32) * (maxValue + 1)) >>> 0;\r\n    }\r\n    return 0;\r\n}\r\n/**\r\n * generate a random 32-bit number (0x000000..0xFFFFFFFF) or (-0x80000000..0x7FFFFFFF), defaults un-unsigned.\r\n * @param signed - True to return a signed 32-bit number (-0x80000000..0x7FFFFFFF) otherwise an unsigned one (0x000000..0xFFFFFFFF)\r\n */\r\nexport function random32(signed) {\r\n    var value = 0;\r\n    var c = getCrypto() || getMsCrypto();\r\n    if (c && c.getRandomValues) {\r\n        // Make sure the number is converted into the specified range (-0x80000000..0x7FFFFFFF)\r\n        value = c.getRandomValues(new Uint32Array(1))[0] & MaxUInt32;\r\n    }\r\n    if (value === 0 && isIE()) {\r\n        // For IE 6, 7, 8 (especially on XP) Math.random is not very random\r\n        if (!_mwcSeeded) {\r\n            // Set the seed for the Mwc algorithm\r\n            _autoSeedMwc();\r\n        }\r\n        // Don't use Math.random for IE\r\n        // Make sure the number is converted into the specified range (-0x80000000..0x7FFFFFFF)\r\n        value = mwcRandom32() & MaxUInt32;\r\n    }\r\n    if (value === 0) {\r\n        // Make sure the number is converted into the specified range (-0x80000000..0x7FFFFFFF)\r\n        value = Math.floor((UInt32Mask * Math.random()) | 0);\r\n    }\r\n    if (!signed) {\r\n        // Make sure we end up with a positive number and not -ve one.\r\n        value >>>= 0;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Seed the MWC random number generator with the specified seed or a random value\r\n * @param value - optional the number to used as the seed, if undefined, null or zero a random value will be chosen\r\n */\r\nexport function mwcRandomSeed(value) {\r\n    if (!value) {\r\n        _autoSeedMwc();\r\n    }\r\n    else {\r\n        _mwcSeed(value);\r\n    }\r\n}\r\n/**\r\n * Generate a random 32-bit number between (0x000000..0xFFFFFFFF) or (-0x80000000..0x7FFFFFFF), using MWC (Multiply with carry)\r\n * instead of Math.random() defaults to un-signed.\r\n * Used as a replacement random generator for IE to avoid issues with older IE instances.\r\n * @param signed - True to return a signed 32-bit number (-0x80000000..0x7FFFFFFF) otherwise an unsigned one (0x000000..0xFFFFFFFF)\r\n */\r\nexport function mwcRandom32(signed) {\r\n    _mwcZ = (36969 * (_mwcZ & 0xFFFF) + (_mwcZ >> 16)) & MaxUInt32;\r\n    _mwcW = (18000 * (_mwcW & 0xFFFF) + (_mwcW >> 16)) & MaxUInt32;\r\n    var value = (((_mwcZ << 16) + (_mwcW & 0xFFFF)) >>> 0) & MaxUInt32 | 0;\r\n    if (!signed) {\r\n        // Make sure we end up with a positive number and not -ve one.\r\n        value >>>= 0;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Generate random base64 id string.\r\n * The default length is 22 which is 132-bits so almost the same as a GUID but as base64 (the previous default was 5)\r\n * @param maxLength - Optional value to specify the length of the id to be generated, defaults to 22\r\n */\r\nexport function newId(maxLength) {\r\n    if (maxLength === void 0) { maxLength = 22; }\r\n    var base64chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n    // Start with an initial random number, consuming the value in reverse byte order\r\n    var number = random32() >>> 0; // Make sure it's a +ve number\r\n    var chars = 0;\r\n    var result = STR_EMPTY;\r\n    while (result[_DYN_LENGTH /* @min:%2elength */] < maxLength) {\r\n        chars++;\r\n        result += base64chars.charAt(number & 0x3F);\r\n        number >>>= 6; // Zero fill with right shift\r\n        if (chars === 5) {\r\n            // 5 base64 characters === 30 bits so we don't have enough bits for another base64 char\r\n            // So add on another 30 bits and make sure it's +ve\r\n            number = (((random32() << 2) & 0xFFFFFFFF) | (number & 0x03)) >>> 0;\r\n            chars = 0; // We need to reset the number every 5 chars (30 bits)\r\n        }\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=RandomHelper.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { _DYN_CALL, _DYN_GET_NEXT, _DYN_GET_PLUGIN, _DYN_INITIALIZE, _DYN_IS_INITIALIZED, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_SET_NEXT_PLUGIN, _DYN_SPAN_ID, _DYN_TEARDOWN, _DYN_TRACE_FLAGS, _DYN_TRACE_ID, _DYN__DO_TEARDOWN } from \"../__DynamicConstants\";\r\nimport { createElmNodeData } from \"./DataCacheHelper\";\r\nimport { arrForEach, isFunction } from \"./HelperFuncs\";\r\nimport { STR_CORE, STR_PRIORITY, STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nimport { isValidSpanId, isValidTraceId } from \"./W3cTraceParent\";\r\nvar pluginStateData = createElmNodeData(\"plugin\");\r\nexport function _getPluginState(plugin) {\r\n    return pluginStateData.get(plugin, \"state\", {}, true);\r\n}\r\n/**\r\n * Initialize the queue of plugins\r\n * @param plugins - The array of plugins to initialize and setting of the next plugin\r\n * @param config The current config for the instance\r\n * @param core THe current core instance\r\n * @param extensions The extensions\r\n */\r\nexport function initializePlugins(processContext, extensions) {\r\n    // Set the next plugin and identified the uninitialized plugins\r\n    var initPlugins = [];\r\n    var lastPlugin = null;\r\n    var proxy = processContext[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n    var pluginState;\r\n    while (proxy) {\r\n        var thePlugin = proxy[_DYN_GET_PLUGIN /* @min:%2egetPlugin */]();\r\n        if (thePlugin) {\r\n            if (lastPlugin &&\r\n                isFunction(lastPlugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */]) &&\r\n                isFunction(thePlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */])) {\r\n                // Set this plugin as the next for the previous one\r\n                lastPlugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */](thePlugin);\r\n            }\r\n            var isInitialized = false;\r\n            if (isFunction(thePlugin[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */])) {\r\n                isInitialized = thePlugin[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]();\r\n            }\r\n            else {\r\n                pluginState = _getPluginState(thePlugin);\r\n                isInitialized = pluginState[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */];\r\n            }\r\n            if (!isInitialized) {\r\n                initPlugins[_DYN_PUSH /* @min:%2epush */](thePlugin);\r\n            }\r\n            lastPlugin = thePlugin;\r\n            proxy = proxy[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n        }\r\n    }\r\n    // Now initialize the plugins\r\n    arrForEach(initPlugins, function (thePlugin) {\r\n        var core = processContext[STR_CORE]();\r\n        thePlugin[_DYN_INITIALIZE /* @min:%2einitialize */](processContext.getCfg(), core, extensions, processContext[_DYN_GET_NEXT /* @min:%2egetNext */]());\r\n        pluginState = _getPluginState(thePlugin);\r\n        // Only add the core to the state if the plugin didn't set it (doesn't extent from BaseTelemetryPlugin)\r\n        if (!thePlugin[STR_CORE] && !pluginState[STR_CORE]) {\r\n            pluginState[STR_CORE] = core;\r\n        }\r\n        pluginState[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = true;\r\n        delete pluginState[_DYN_TEARDOWN /* @min:%2eteardown */];\r\n    });\r\n}\r\nexport function sortPlugins(plugins) {\r\n    // Sort by priority\r\n    return plugins.sort(function (extA, extB) {\r\n        var result = 0;\r\n        if (extB) {\r\n            var bHasProcess = isFunction(extB[STR_PROCESS_TELEMETRY]);\r\n            if (isFunction(extA[STR_PROCESS_TELEMETRY])) {\r\n                result = bHasProcess ? extA[STR_PRIORITY] - extB[STR_PRIORITY] : 1;\r\n            }\r\n            else if (bHasProcess) {\r\n                result = -1;\r\n            }\r\n        }\r\n        else {\r\n            result = extA ? 1 : -1;\r\n        }\r\n        return result;\r\n    });\r\n    // sort complete\r\n}\r\n/**\r\n * Teardown / Unload helper to perform teardown/unloading operations for the provided components synchronously or asynchronously, this will call any\r\n * _doTeardown() or _doUnload() functions on the provided components to allow them to finish removal.\r\n * @param components - The components you want to unload\r\n * @param unloadCtx - This is the context that should be used during unloading.\r\n * @param unloadState - The details / state of the unload process, it holds details like whether it should be unloaded synchronously or asynchronously and the reason for the unload.\r\n * @param asyncCallback - An optional callback that the plugin must call if it returns true to inform the caller that it has completed any async unload/teardown operations.\r\n * @returns boolean - true if the plugin has or will call asyncCallback, this allows the plugin to perform any asynchronous operations.\r\n */\r\nexport function unloadComponents(components, unloadCtx, unloadState, asyncCallback) {\r\n    var idx = 0;\r\n    function _doUnload() {\r\n        while (idx < components[_DYN_LENGTH /* @min:%2elength */]) {\r\n            var component = components[idx++];\r\n            if (component) {\r\n                var func = component._doUnload || component[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */];\r\n                if (isFunction(func)) {\r\n                    if (func[_DYN_CALL /* @min:%2ecall */](component, unloadCtx, unloadState, _doUnload) === true) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return _doUnload();\r\n}\r\n/**\r\n * Creates a IDistributedTraceContext which optionally also \"sets\" the value on a parent\r\n * @param parentCtx - An optional parent distributed trace instance\r\n * @returns A new IDistributedTraceContext instance that uses an internal temporary object\r\n */\r\nexport function createDistributedTraceContext(parentCtx) {\r\n    var trace = {};\r\n    return {\r\n        getName: function () {\r\n            return trace[_DYN_NAME /* @min:%2ename */];\r\n        },\r\n        setName: function (newValue) {\r\n            parentCtx && parentCtx.setName(newValue);\r\n            trace[_DYN_NAME /* @min:%2ename */] = newValue;\r\n        },\r\n        getTraceId: function () {\r\n            return trace[_DYN_TRACE_ID /* @min:%2etraceId */];\r\n        },\r\n        setTraceId: function (newValue) {\r\n            parentCtx && parentCtx.setTraceId(newValue);\r\n            if (isValidTraceId(newValue)) {\r\n                trace[_DYN_TRACE_ID /* @min:%2etraceId */] = newValue;\r\n            }\r\n        },\r\n        getSpanId: function () {\r\n            return trace[_DYN_SPAN_ID /* @min:%2espanId */];\r\n        },\r\n        setSpanId: function (newValue) {\r\n            parentCtx && parentCtx.setSpanId(newValue);\r\n            if (isValidSpanId(newValue)) {\r\n                trace[_DYN_SPAN_ID /* @min:%2espanId */] = newValue;\r\n            }\r\n        },\r\n        getTraceFlags: function () {\r\n            return trace[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */];\r\n        },\r\n        setTraceFlags: function (newTraceFlags) {\r\n            parentCtx && parentCtx.setTraceFlags(newTraceFlags);\r\n            trace[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */] = newTraceFlags;\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=TelemetryHelpers.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _DYN_DIAG_LOG, _DYN_PUSH } from \"../__DynamicConstants\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nimport { dumpObj } from \"./EnvUtils\";\r\nimport { arrForEach } from \"./HelperFuncs\";\r\nexport function createUnloadHandlerContainer() {\r\n    var handlers = [];\r\n    function _addHandler(handler) {\r\n        if (handler) {\r\n            handlers[_DYN_PUSH /* @min:%2epush */](handler);\r\n        }\r\n    }\r\n    function _runHandlers(unloadCtx, unloadState) {\r\n        arrForEach(handlers, function (handler) {\r\n            try {\r\n                handler(unloadCtx, unloadState);\r\n            }\r\n            catch (e) {\r\n                _throwInternal(unloadCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 2 /* eLoggingSeverity.WARNING */, 73 /* _eInternalMessageId.PluginException */, \"Unexpected error calling unload handler - \" + dumpObj(e));\r\n            }\r\n        });\r\n        handlers = [];\r\n    }\r\n    return {\r\n        add: _addHandler,\r\n        run: _runHandlers\r\n    };\r\n}\r\n//# sourceMappingURL=UnloadHandlerContainer.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { _DYN_INDEX_OF, _DYN_LENGTH, _DYN_SPAN_ID, _DYN_SPLIT, _DYN_SUBSTR, _DYN_TO_LOWER_CASE, _DYN_TRACE_FLAGS, _DYN_TRACE_ID, _DYN_VERSION } from \"../__DynamicConstants\";\r\nimport { generateW3CId } from \"./CoreUtils\";\r\nimport { findMetaTag, findNamedServerTiming } from \"./EnvUtils\";\r\nimport { isArray, isString, strTrim } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n// using {0,16} for leading and trailing whitespace just to constrain the possible runtime of a random string\r\nvar TRACE_PARENT_REGEX = /^([\\da-f]{2})-([\\da-f]{32})-([\\da-f]{16})-([\\da-f]{2})(-[^\\s]{1,64})?$/i;\r\nvar DEFAULT_VERSION = \"00\";\r\nvar INVALID_VERSION = \"ff\";\r\nvar INVALID_TRACE_ID = \"00000000000000000000000000000000\";\r\nvar INVALID_SPAN_ID = \"0000000000000000\";\r\nvar SAMPLED_FLAG = 0x01;\r\nfunction _isValid(value, len, invalidValue) {\r\n    if (value && value[_DYN_LENGTH /* @min:%2elength */] === len && value !== invalidValue) {\r\n        return !!value.match(/^[\\da-f]*$/i);\r\n    }\r\n    return false;\r\n}\r\nfunction _formatValue(value, len, defValue) {\r\n    if (_isValid(value, len)) {\r\n        return value;\r\n    }\r\n    return defValue;\r\n}\r\nfunction _formatFlags(value) {\r\n    if (isNaN(value) || value < 0 || value > 255) {\r\n        value = 0x01;\r\n    }\r\n    var result = value.toString(16);\r\n    while (result[_DYN_LENGTH /* @min:%2elength */] < 2) {\r\n        result = \"0\" + result;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Create a new ITraceParent instance using the provided values.\r\n * @param traceId - The traceId to use, when invalid a new random W3C id will be generated.\r\n * @param spanId - The parent/span id to use, a new random value will be generated if it is invalid.\r\n * @param flags - The traceFlags to use, defaults to zero (0) if not supplied or invalid\r\n * @param version - The version to used, defaults to version \"01\" if not supplied or invalid.\r\n * @returns\r\n */\r\nexport function createTraceParent(traceId, spanId, flags, version) {\r\n    var _a;\r\n    return _a = {},\r\n        _a[_DYN_VERSION /* @min:version */] = _isValid(version, 2, INVALID_VERSION) ? version : DEFAULT_VERSION,\r\n        _a[_DYN_TRACE_ID /* @min:traceId */] = isValidTraceId(traceId) ? traceId : generateW3CId(),\r\n        _a.spanId = isValidSpanId(spanId) ? spanId : generateW3CId()[_DYN_SUBSTR /* @min:%2esubstr */](0, 16),\r\n        _a.traceFlags = flags >= 0 && flags <= 0xFF ? flags : 1,\r\n        _a;\r\n}\r\n/**\r\n * Attempt to parse the provided string as a W3C TraceParent header value (https://www.w3.org/TR/trace-context/#traceparent-header)\r\n *\r\n * @param value - The value to be parsed\r\n * @param selectIdx - If the found value is comma separated which is the preferred entry to select, defaults to the first\r\n * @returns\r\n */\r\nexport function parseTraceParent(value, selectIdx) {\r\n    var _a;\r\n    if (!value) {\r\n        // Don't pass a null/undefined or empty string\r\n        return null;\r\n    }\r\n    if (isArray(value)) {\r\n        // The value may have been encoded on the page into an array so handle this automatically\r\n        value = value[0] || \"\";\r\n    }\r\n    if (!value || !isString(value) || value[_DYN_LENGTH /* @min:%2elength */] > 8192) {\r\n        // limit potential processing based on total length\r\n        return null;\r\n    }\r\n    if (value[_DYN_INDEX_OF /* @min:%2eindexOf */](\",\") !== -1) {\r\n        var values = value[_DYN_SPLIT /* @min:%2esplit */](\",\");\r\n        value = values[selectIdx > 0 && values[_DYN_LENGTH /* @min:%2elength */] > selectIdx ? selectIdx : 0];\r\n    }\r\n    // See https://www.w3.org/TR/trace-context/#versioning-of-traceparent\r\n    var match = TRACE_PARENT_REGEX.exec(strTrim(value));\r\n    if (!match || // No match\r\n        match[1] === INVALID_VERSION || // version ff is forbidden\r\n        match[2] === INVALID_TRACE_ID || // All zeros is considered to be invalid\r\n        match[3] === INVALID_SPAN_ID) { // All zeros is considered to be invalid\r\n        return null;\r\n    }\r\n    return _a = {\r\n            version: (match[1] || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */](),\r\n            traceId: (match[2] || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */](),\r\n            spanId: (match[3] || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]()\r\n        },\r\n        _a[_DYN_TRACE_FLAGS /* @min:traceFlags */] = parseInt(match[4], 16),\r\n        _a;\r\n}\r\n/**\r\n * Is the provided W3c Trace Id a valid string representation, it must be a 32-character string\r\n * of lowercase hexadecimal characters for example, 4bf92f3577b34da6a3ce929d0e0e4736.\r\n * If all characters as zero (00000000000000000000000000000000) it will be considered an invalid value.\r\n * @param value - The W3c trace Id to be validated\r\n * @returns true if valid otherwise false\r\n */\r\nexport function isValidTraceId(value) {\r\n    return _isValid(value, 32, INVALID_TRACE_ID);\r\n}\r\n/**\r\n * Is the provided W3c span id (aka. parent id) a valid string representation, it must be a 16-character\r\n * string of lowercase hexadecimal characters, for example, 00f067aa0ba902b7.\r\n * If all characters are zero (0000000000000000) this is considered an invalid value.\r\n * @param value - The W3c span id to be validated\r\n * @returns true if valid otherwise false\r\n */\r\nexport function isValidSpanId(value) {\r\n    return _isValid(value, 16, INVALID_SPAN_ID);\r\n}\r\n/**\r\n * Validates that the provided ITraceParent instance conforms to the currently supported specifications\r\n * @param value\r\n * @returns\r\n */\r\nexport function isValidTraceParent(value) {\r\n    if (!value ||\r\n        !_isValid(value[_DYN_VERSION /* @min:%2eversion */], 2, INVALID_VERSION) ||\r\n        !_isValid(value[_DYN_TRACE_ID /* @min:%2etraceId */], 32, INVALID_TRACE_ID) ||\r\n        !_isValid(value[_DYN_SPAN_ID /* @min:%2espanId */], 16, INVALID_SPAN_ID) ||\r\n        !_isValid(_formatFlags(value[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */]), 2)) {\r\n        // Each known field must contain a valid value\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Is the parsed traceParent indicating that the trace is currently sampled.\r\n * @param value - The parsed traceParent value\r\n * @returns\r\n */\r\nexport function isSampledFlag(value) {\r\n    if (isValidTraceParent(value)) {\r\n        return (value[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */] & SAMPLED_FLAG) === SAMPLED_FLAG;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Format the ITraceParent value as a string using the supported and know version formats.\r\n * So even if the passed traceParent is a later version the string value returned from this\r\n * function will convert it to only the known version formats.\r\n * This currently only supports version \"00\" and invalid \"ff\"\r\n * @param value - The parsed traceParent value\r\n * @returns\r\n */\r\nexport function formatTraceParent(value) {\r\n    if (value) {\r\n        // Special Note: This only supports formatting as version 00, future versions should encode any known supported version\r\n        // So parsing a future version will populate the correct version value but reformatting will reduce it to version 00.\r\n        var flags = _formatFlags(value[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */]);\r\n        if (!_isValid(flags, 2)) {\r\n            flags = \"01\";\r\n        }\r\n        var version = value[_DYN_VERSION /* @min:%2eversion */] || DEFAULT_VERSION;\r\n        if (version !== \"00\" && version !== \"ff\") {\r\n            // Reduce version to \"00\"\r\n            version = DEFAULT_VERSION;\r\n        }\r\n        // Format as version 00\r\n        return \"\".concat(version.toLowerCase(), \"-\").concat(_formatValue(value.traceId, 32, INVALID_TRACE_ID).toLowerCase(), \"-\").concat(_formatValue(value.spanId, 16, INVALID_SPAN_ID).toLowerCase(), \"-\").concat(flags.toLowerCase());\r\n    }\r\n    return \"\";\r\n}\r\n/**\r\n * Helper function to fetch the passed traceparent from the page, looking for it as a meta-tag or a Server-Timing header.\r\n * @param selectIdx - If the found value is comma separated which is the preferred entry to select, defaults to the first\r\n * @returns\r\n */\r\nexport function findW3cTraceParent(selectIdx) {\r\n    var name = \"traceparent\";\r\n    var traceParent = parseTraceParent(findMetaTag(name), selectIdx);\r\n    if (!traceParent) {\r\n        traceParent = parseTraceParent(findNamedServerTiming(name), selectIdx);\r\n    }\r\n    return traceParent;\r\n}\r\n//# sourceMappingURL=W3cTraceParent.js.map","/*\n * Application Insights JavaScript SDK - Core, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n// @skip-file-minify\r\n// ##############################################################\r\n// AUTO GENERATED FILE: This file is Auto Generated during build.\r\n// ##############################################################\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\nexport var _DYN_INITIALIZE = \"initialize\"; // Count: 8\r\nexport var _DYN_NAME = \"name\"; // Count: 11\r\nexport var _DYN_GET_NOTIFY_MGR = \"getNotifyMgr\"; // Count: 3\r\nexport var _DYN_IDENTIFIER = \"identifier\"; // Count: 8\r\nexport var _DYN_PUSH = \"push\"; // Count: 30\r\nexport var _DYN_IS_INITIALIZED = \"isInitialized\"; // Count: 10\r\nexport var _DYN_CONFIG = \"config\"; // Count: 7\r\nexport var _DYN_INSTRUMENTATION_KEY = \"instrumentationKey\"; // Count: 3\r\nexport var _DYN_LOGGER = \"logger\"; // Count: 10\r\nexport var _DYN_LENGTH = \"length\"; // Count: 45\r\nexport var _DYN_TIME = \"time\"; // Count: 5\r\nexport var _DYN_PROCESS_NEXT = \"processNext\"; // Count: 21\r\nexport var _DYN_GET_PROCESS_TEL_CONT0 = \"getProcessTelContext\"; // Count: 2\r\nexport var _DYN_ADD_NOTIFICATION_LIS1 = \"addNotificationListener\"; // Count: 5\r\nexport var _DYN_REMOVE_NOTIFICATION_2 = \"removeNotificationListener\"; // Count: 5\r\nexport var _DYN_STOP_POLLING_INTERNA3 = \"stopPollingInternalLogs\"; // Count: 2\r\nexport var _DYN_ON_COMPLETE = \"onComplete\"; // Count: 6\r\nexport var _DYN_GET_PLUGIN = \"getPlugin\"; // Count: 5\r\nexport var _DYN_FLUSH = \"flush\"; // Count: 5\r\nexport var _DYN__EXTENSIONS = \"_extensions\"; // Count: 4\r\nexport var _DYN_SPLICE = \"splice\"; // Count: 6\r\nexport var _DYN_TEARDOWN = \"teardown\"; // Count: 10\r\nexport var _DYN_MESSAGE_ID = \"messageId\"; // Count: 4\r\nexport var _DYN_MESSAGE = \"message\"; // Count: 7\r\nexport var _DYN_IS_ASYNC = \"isAsync\"; // Count: 7\r\nexport var _DYN__DO_TEARDOWN = \"_doTeardown\"; // Count: 4\r\nexport var _DYN_UPDATE = \"update\"; // Count: 7\r\nexport var _DYN_GET_NEXT = \"getNext\"; // Count: 12\r\nexport var _DYN_DIAG_LOG = \"diagLog\"; // Count: 8\r\nexport var _DYN_SET_NEXT_PLUGIN = \"setNextPlugin\"; // Count: 5\r\nexport var _DYN_CREATE_NEW = \"createNew\"; // Count: 6\r\nexport var _DYN_COOKIE_CFG = \"cookieCfg\"; // Count: 3\r\nexport var _DYN_INDEX_OF = \"indexOf\"; // Count: 7\r\nexport var _DYN_SUBSTRING = \"substring\"; // Count: 10\r\nexport var _DYN_USER_AGENT = \"userAgent\"; // Count: 5\r\nexport var _DYN_SPLIT = \"split\"; // Count: 6\r\nexport var _DYN_SET_ENABLED = \"setEnabled\"; // Count: 5\r\nexport var _DYN_SUBSTR = \"substr\"; // Count: 6\r\nexport var _DYN_NODE_TYPE = \"nodeType\"; // Count: 3\r\nexport var _DYN_APPLY = \"apply\"; // Count: 6\r\nexport var _DYN_REPLACE = \"replace\"; // Count: 10\r\nexport var _DYN_ENABLE_DEBUG_EXCEPTI4 = \"enableDebugExceptions\"; // Count: 2\r\nexport var _DYN_LOG_INTERNAL_MESSAGE = \"logInternalMessage\"; // Count: 2\r\nexport var _DYN_TO_LOWER_CASE = \"toLowerCase\"; // Count: 8\r\nexport var _DYN_CALL = \"call\"; // Count: 18\r\nexport var _DYN_TYPE = \"type\"; // Count: 14\r\nexport var _DYN_HANDLER = \"handler\"; // Count: 5\r\nexport var _DYN_LISTENERS = \"listeners\"; // Count: 6\r\nexport var _DYN_IS_CHILD_EVT = \"isChildEvt\"; // Count: 3\r\nexport var _DYN_GET_CTX = \"getCtx\"; // Count: 6\r\nexport var _DYN_SET_CTX = \"setCtx\"; // Count: 10\r\nexport var _DYN_COMPLETE = \"complete\"; // Count: 3\r\nexport var _DYN_TRACE_ID = \"traceId\"; // Count: 5\r\nexport var _DYN_SPAN_ID = \"spanId\"; // Count: 5\r\nexport var _DYN_TRACE_FLAGS = \"traceFlags\"; // Count: 6\r\nexport var _DYN_VERSION = \"version\"; // Count: 4\r\n//# sourceMappingURL=__DynamicConstants.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport var strShimFunction = \"function\";\r\nexport var strShimObject = \"object\";\r\nexport var strShimUndefined = \"undefined\";\r\nexport var strShimPrototype = \"prototype\";\r\nexport var strShimHasOwnProperty = \"hasOwnProperty\";\r\nexport var strDefault = \"default\";\r\nexport var ObjClass = Object;\r\nexport var ObjProto = ObjClass[strShimPrototype];\r\nexport var ObjAssign = ObjClass[\"assign\"];\r\nexport var ObjCreate = ObjClass[\"create\"];\r\nexport var ObjDefineProperty = ObjClass[\"defineProperty\"];\r\nexport var ObjHasOwnProperty = ObjProto[strShimHasOwnProperty];\r\n//# sourceMappingURL=Constants.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { ObjCreate, strShimFunction, strShimObject, strShimPrototype, strShimUndefined } from \"./Constants\";\r\nvar _cachedGlobal = null;\r\n/**\r\n * Returns the current global scope object, for a normal web page this will be the current\r\n * window, for a Web Worker this will be current worker global scope via \"self\". The internal\r\n * implementation returns the first available instance object in the following order\r\n * - globalThis (New standard)\r\n * - self (Will return the current window instance for supported browsers)\r\n * - window (fallback for older browser implementations)\r\n * - global (NodeJS standard)\r\n * - <null> (When all else fails)\r\n * While the return type is a Window for the normal case, not all environments will support all\r\n * of the properties or functions.\r\n */\r\nexport function getGlobal(useCached) {\r\n    if (useCached === void 0) { useCached = true; }\r\n    var result = useCached === false ? null : _cachedGlobal;\r\n    if (!result) {\r\n        if (typeof globalThis !== strShimUndefined) {\r\n            result = globalThis;\r\n        }\r\n        if (!result && typeof self !== strShimUndefined) {\r\n            result = self;\r\n        }\r\n        if (!result && typeof window !== strShimUndefined) {\r\n            result = window;\r\n        }\r\n        if (!result && typeof global !== strShimUndefined) {\r\n            result = global;\r\n        }\r\n        _cachedGlobal = result;\r\n    }\r\n    return result;\r\n}\r\nexport function throwTypeError(message) {\r\n    throw new TypeError(message);\r\n}\r\n/**\r\n * Creates an object that has the specified prototype, and that optionally contains specified properties. This helper exists to avoid adding a polyfil\r\n * for older browsers that do not define Object.create eg. ES3 only, IE8 just in case any page checks for presence/absence of the prototype implementation.\r\n * Note: For consistency this will not use the Object.create implementation if it exists as this would cause a testing requirement to test with and without the implementations\r\n * @param obj Object to use as a prototype. May be null\r\n */\r\nexport function objCreateFn(obj) {\r\n    var func = ObjCreate;\r\n    // Use build in Object.create\r\n    if (func) {\r\n        // Use Object create method if it exists\r\n        return func(obj);\r\n    }\r\n    if (obj == null) {\r\n        return {};\r\n    }\r\n    var type = typeof obj;\r\n    if (type !== strShimObject && type !== strShimFunction) {\r\n        throwTypeError(\"Object prototype may only be an Object:\" + obj);\r\n    }\r\n    function tmpFunc() { }\r\n    tmpFunc[strShimPrototype] = obj;\r\n    return new tmpFunc();\r\n}\r\n//# sourceMappingURL=Helpers.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { ObjAssign, ObjClass, ObjCreate, ObjDefineProperty, ObjHasOwnProperty, ObjProto, strDefault, strShimFunction, strShimHasOwnProperty, strShimPrototype } from \"./Constants\";\r\nimport { getGlobal, objCreateFn, throwTypeError } from \"./Helpers\";\r\n// Most of these functions have been directly shamelessly \"lifted\" from the https://github.com/@microsoft/tslib and\r\n// modified to be ES3 compatible and applying several minification and tree-shaking techniques so that Application Insights\r\n// can successfully use TypeScript \"importHelpers\" which imports tslib during compilation but it will use these at runtime\r\n// Which is also why all of the functions have not been included as Application Insights currently doesn't use or require\r\n// them.\r\nexport var SymbolObj = (getGlobal() || {})[\"Symbol\"];\r\nexport var ReflectObj = (getGlobal() || {})[\"Reflect\"];\r\nexport var __hasSymbol = !!SymbolObj;\r\nexport var __hasReflect = !!ReflectObj;\r\nvar strDecorate = \"decorate\";\r\nvar strMetadata = \"metadata\";\r\nvar strGetOwnPropertySymbols = \"getOwnPropertySymbols\";\r\nvar strIterator = \"iterator\";\r\nexport var __objAssignFnImpl = function (t) {\r\n    // tslint:disable-next-line: ban-comma-operator\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) {\r\n            if (ObjProto[strShimHasOwnProperty].call(s, p)) {\r\n                t[p] = s[p];\r\n            }\r\n        }\r\n    }\r\n    return t;\r\n};\r\nexport var __assignFn = ObjAssign || __objAssignFnImpl;\r\n// tslint:disable-next-line: only-arrow-functions\r\nvar extendStaticsFn = function (d, b) {\r\n    extendStaticsFn = ObjClass[\"setPrototypeOf\"] ||\r\n        // tslint:disable-next-line: only-arrow-functions\r\n        ({ __proto__: [] } instanceof Array && function (d, b) {\r\n            d.__proto__ = b;\r\n        }) ||\r\n        // tslint:disable-next-line: only-arrow-functions\r\n        function (d, b) {\r\n            for (var p in b) {\r\n                if (b[strShimHasOwnProperty](p)) {\r\n                    d[p] = b[p];\r\n                }\r\n            }\r\n        };\r\n    return extendStaticsFn(d, b);\r\n};\r\nexport function __extendsFn(d, b) {\r\n    if (typeof b !== strShimFunction && b !== null) {\r\n        throwTypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    }\r\n    extendStaticsFn(d, b);\r\n    function __() {\r\n        this.constructor = d;\r\n    }\r\n    // tslint:disable-next-line: ban-comma-operator\r\n    d[strShimPrototype] = b === null ? objCreateFn(b) : (__[strShimPrototype] = b[strShimPrototype], new __());\r\n}\r\nexport function __restFn(s, e) {\r\n    var t = {};\r\n    for (var k in s) {\r\n        if (ObjHasOwnProperty.call(s, k) && e.indexOf(k) < 0) {\r\n            t[k] = s[k];\r\n        }\r\n    }\r\n    if (s != null && typeof ObjClass[strGetOwnPropertySymbols] === strShimFunction) {\r\n        for (var i = 0, p = ObjClass[strGetOwnPropertySymbols](s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && ObjProto[\"propertyIsEnumerable\"].call(s, p[i])) {\r\n                t[p[i]] = s[p[i]];\r\n            }\r\n        }\r\n    }\r\n    return t;\r\n}\r\nexport function __decorateFn(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = ObjClass[\"getOwnPropertyDescriptor\"](target, key) : desc, d;\r\n    if (__hasReflect && typeof ReflectObj[strDecorate] === strShimFunction) {\r\n        r = ReflectObj[strDecorate](decorators, target, key, desc);\r\n    }\r\n    else {\r\n        for (var i = decorators.length - 1; i >= 0; i--) {\r\n            // eslint-disable-next-line no-cond-assign\r\n            if (d = decorators[i]) {\r\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n            }\r\n        }\r\n    }\r\n    // tslint:disable-next-line:ban-comma-operator\r\n    return c > 3 && r && ObjDefineProperty(target, key, r), r;\r\n}\r\nexport function __paramFn(paramIndex, decorator) {\r\n    return function (target, key) {\r\n        decorator(target, key, paramIndex);\r\n    };\r\n}\r\nexport function __metadataFn(metadataKey, metadataValue) {\r\n    if (__hasReflect && ReflectObj[strMetadata] === strShimFunction) {\r\n        return ReflectObj[strMetadata](metadataKey, metadataValue);\r\n    }\r\n}\r\nexport function __exportStarFn(m, o) {\r\n    for (var p in m) {\r\n        if (p !== strDefault && !ObjHasOwnProperty.call(o, p)) {\r\n            __createBindingFn(o, m, p);\r\n        }\r\n    }\r\n}\r\nexport function __createBindingFn(o, m, k, k2) {\r\n    if (k2 === undefined) {\r\n        k2 = k;\r\n    }\r\n    if (!!ObjCreate) {\r\n        ObjDefineProperty(o, k2, {\r\n            enumerable: true,\r\n            get: function () {\r\n                return m[k];\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        o[k2] = m[k];\r\n    }\r\n}\r\nexport function __valuesFn(o) {\r\n    var s = typeof SymbolObj === strShimFunction && SymbolObj[strIterator], m = s && o[s], i = 0;\r\n    if (m) {\r\n        return m.call(o);\r\n    }\r\n    if (o && typeof o.length === \"number\") {\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) {\r\n                    o = void 0;\r\n                }\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    }\r\n    throwTypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\nexport function __readFn(o, n) {\r\n    var m = typeof SymbolObj === strShimFunction && o[SymbolObj[strIterator]];\r\n    if (!m) {\r\n        return o;\r\n    }\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\r\n            ar.push(r.value);\r\n        }\r\n    }\r\n    catch (error) {\r\n        e = {\r\n            error: error\r\n        };\r\n    }\r\n    finally {\r\n        try {\r\n            // tslint:disable-next-line:no-conditional-assignment\r\n            if (r && !r.done && (m = i[\"return\"])) {\r\n                m.call(i);\r\n            }\r\n        }\r\n        finally {\r\n            if (e) {\r\n                // eslint-disable-next-line no-unsafe-finally\r\n                throw e.error;\r\n            }\r\n        }\r\n    }\r\n    return ar;\r\n}\r\n/** @deprecated */\r\nexport function __spreadArraysFn() {\r\n    var theArgs = arguments;\r\n    // Calculate new total size\r\n    for (var s = 0, i = 0, il = theArgs.length; i < il; i++) {\r\n        s += theArgs[i].length;\r\n    }\r\n    // Create new full array\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++) {\r\n        for (var a = theArgs[i], j = 0, jl = a.length; j < jl; j++, k++) {\r\n            r[k] = a[j];\r\n        }\r\n    }\r\n    return r;\r\n}\r\nexport function __spreadArrayFn(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\r\n        to[j] = from[i];\r\n    }\r\n    return to;\r\n}\r\nexport function __makeTemplateObjectFn(cooked, raw) {\r\n    if (ObjDefineProperty) {\r\n        ObjDefineProperty(cooked, \"raw\", { value: raw });\r\n    }\r\n    else {\r\n        cooked.raw = raw;\r\n    }\r\n    return cooked;\r\n}\r\nexport function __importStarFn(mod) {\r\n    if (mod && mod.__esModule) {\r\n        return mod;\r\n    }\r\n    var result = {};\r\n    if (mod != null) {\r\n        for (var k in mod) {\r\n            if (k !== strDefault && Object.prototype.hasOwnProperty.call(mod, k)) {\r\n                __createBindingFn(result, mod, k);\r\n            }\r\n        }\r\n    }\r\n    // Set default module\r\n    if (!!ObjCreate) {\r\n        ObjDefineProperty(result, strDefault, { enumerable: true, value: mod });\r\n    }\r\n    else {\r\n        result[strDefault] = mod;\r\n    }\r\n    return result;\r\n}\r\nexport function __importDefaultFn(mod) {\r\n    return (mod && mod.__esModule) ? mod : { strDefault: mod };\r\n}\r\n//# sourceMappingURL=TsLibShims.js.map","/*!\n * Microsoft Dynamic Proto Utility, 1.1.11\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nvar _a;\r\nvar UNDEFINED = \"undefined\";\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar Constructor = 'constructor';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar Prototype = 'prototype';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strFunction = 'function';\r\n/**\r\n * Used to define the name of the instance function lookup table\r\n * @ignore\r\n */\r\nvar DynInstFuncTable = '_dynInstFuncs';\r\n/**\r\n * Name used to tag the dynamic prototype function\r\n * @ignore\r\n */\r\nvar DynProxyTag = '_isDynProxy';\r\n/**\r\n * Name added to a prototype to define the dynamic prototype \"class\" name used to lookup the function table\r\n * @ignore\r\n */\r\nvar DynClassName = '_dynClass';\r\n/**\r\n * Prefix added to the classname to avoid any name clashes with other instance level properties\r\n * @ignore\r\n */\r\nvar DynClassNamePrefix = '_dynCls$';\r\n/**\r\n * A tag which is used to check if we have already to attempted to set the instance function if one is not present\r\n * @ignore\r\n */\r\nvar DynInstChkTag = '_dynInstChk';\r\n/**\r\n * A tag which is used to check if we are allows to try and set an instance function is one is not present. Using the same\r\n * tag name as the function level but a different const name for readability only.\r\n */\r\nvar DynAllowInstChkTag = DynInstChkTag;\r\n/**\r\n * The global (imported) instances where the global performance options are stored\r\n */\r\nvar DynProtoDefaultOptions = '_dfOpts';\r\n/**\r\n * Value used as the name of a class when it cannot be determined\r\n * @ignore\r\n */\r\nvar UnknownValue = '_unknown_';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar str__Proto = \"__proto__\";\r\n/**\r\n * The polyfill version of __proto__ so that it doesn't cause issues for anyone not expecting it to exist\r\n */\r\nvar DynProtoBaseProto = \"_dyn\" + str__Proto;\r\n/**\r\n * Runtime Global holder for dynamicProto settings\r\n */\r\nvar DynProtoGlobalSettings = \"__dynProto$Gbl\";\r\n/**\r\n * Track the current prototype for IE8 as you can't look back to get the prototype\r\n */\r\nvar DynProtoCurrent = \"_dynInstProto\";\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strUseBaseInst = 'useBaseInst';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strSetInstFuncs = 'setInstFuncs';\r\nvar Obj = Object;\r\n/**\r\n * Pre-lookup to check if we are running on a modern browser (i.e. not IE8)\r\n * @ignore\r\n */\r\nvar _objGetPrototypeOf = Obj[\"getPrototypeOf\"];\r\n/**\r\n * Pre-lookup to check for the existence of this function\r\n */\r\nvar _objGetOwnProps = Obj[\"getOwnPropertyNames\"];\r\n/**\r\n * Gets the runtime global reference\r\n * @returns\r\n */\r\nfunction _getGlobal() {\r\n    var result;\r\n    if (typeof globalThis !== UNDEFINED) {\r\n        result = globalThis;\r\n    }\r\n    if (!result && typeof self !== UNDEFINED) {\r\n        result = self;\r\n    }\r\n    if (!result && typeof window !== UNDEFINED) {\r\n        result = window;\r\n    }\r\n    if (!result && typeof global !== UNDEFINED) {\r\n        result = global;\r\n    }\r\n    return result || {};\r\n}\r\n// Since 1.1.7 moving these to the runtime global to work around mixed version and module issues\r\n// See Issue https://github.com/microsoft/DynamicProto-JS/issues/57 for details\r\nvar _gbl = _getGlobal();\r\nvar _gblInst = _gbl[DynProtoGlobalSettings] || (_gbl[DynProtoGlobalSettings] = {\r\n    o: (_a = {},\r\n        _a[strSetInstFuncs] = true,\r\n        _a[strUseBaseInst] = true,\r\n        _a),\r\n    n: 1000 // Start new global index @ 1000 so we \"fix\" some cases when mixed with 1.1.6 or earlier\r\n});\r\n/**\r\n * Helper to check if the object contains a property of the name\r\n * @ignore\r\n */\r\nfunction _hasOwnProperty(obj, prop) {\r\n    return obj && Obj[Prototype].hasOwnProperty.call(obj, prop);\r\n}\r\n/**\r\n * Helper used to check whether the target is an Object prototype or Array prototype\r\n * @ignore\r\n */\r\nfunction _isObjectOrArrayPrototype(target) {\r\n    return target && (target === Obj[Prototype] || target === Array[Prototype]);\r\n}\r\n/**\r\n * Helper used to check whether the target is an Object prototype, Array prototype or Function prototype\r\n * @ignore\r\n */\r\nfunction _isObjectArrayOrFunctionPrototype(target) {\r\n    return _isObjectOrArrayPrototype(target) || target === Function[Prototype];\r\n}\r\n/**\r\n * Helper used to get the prototype of the target object as getPrototypeOf is not available in an ES3 environment.\r\n * @ignore\r\n */\r\nfunction _getObjProto(target) {\r\n    var newProto;\r\n    if (target) {\r\n        // This method doesn't exist in older browsers (e.g. IE8)\r\n        if (_objGetPrototypeOf) {\r\n            return _objGetPrototypeOf(target);\r\n        }\r\n        var curProto = target[str__Proto] || target[Prototype] || (target[Constructor] ? target[Constructor][Prototype] : null);\r\n        // Using the pre-calculated value as IE8 doesn't support looking up the prototype of a prototype and thus fails for more than 1 base class\r\n        newProto = target[DynProtoBaseProto] || curProto;\r\n        if (!_hasOwnProperty(target, DynProtoBaseProto)) {\r\n            // As this prototype doesn't have this property then this is from an inherited class so newProto is the base to return so save it\r\n            // so we can look it up value (which for a multiple hierarchy dynamicProto will be the base class)\r\n            delete target[DynProtoCurrent]; // Delete any current value allocated to this instance so we pick up the value from prototype hierarchy\r\n            newProto = target[DynProtoBaseProto] = target[DynProtoCurrent] || target[DynProtoBaseProto];\r\n            target[DynProtoCurrent] = curProto;\r\n        }\r\n    }\r\n    return newProto;\r\n}\r\n/**\r\n * Helper to get the properties of an object, including none enumerable ones as functions on a prototype in ES6\r\n * are not enumerable.\r\n * @param target\r\n */\r\nfunction _forEachProp(target, func) {\r\n    var props = [];\r\n    if (_objGetOwnProps) {\r\n        props = _objGetOwnProps(target);\r\n    }\r\n    else {\r\n        for (var name_1 in target) {\r\n            if (typeof name_1 === \"string\" && _hasOwnProperty(target, name_1)) {\r\n                props.push(name_1);\r\n            }\r\n        }\r\n    }\r\n    if (props && props.length > 0) {\r\n        for (var lp = 0; lp < props.length; lp++) {\r\n            func(props[lp]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Helper function to check whether the provided function name is a potential candidate for dynamic\r\n * callback and prototype generation.\r\n * @param target The target object, may be a prototype or class object\r\n * @param funcName The function name\r\n * @param skipOwn Skips the check for own property\r\n * @ignore\r\n */\r\nfunction _isDynamicCandidate(target, funcName, skipOwn) {\r\n    return (funcName !== Constructor && typeof target[funcName] === strFunction && (skipOwn || _hasOwnProperty(target, funcName)) && funcName !== str__Proto && funcName !== Prototype);\r\n}\r\n/**\r\n * Helper to throw a TypeError exception\r\n * @param message the message\r\n * @ignore\r\n */\r\nfunction _throwTypeError(message) {\r\n    throw new TypeError(\"DynamicProto: \" + message);\r\n}\r\nfunction _newObject() {\r\n    return Object.create ? (function(obj) { /* ai_es3_polyfil create */ var func = Object[\"create\"]; if (func) { return func(obj); } if (obj == null) { return {}; } var type = typeof obj; if (type !== 'object' && type !== 'function') { throw new TypeError('Object prototype may only be an Object:' + obj); } function tmpFunc() {} tmpFunc.prototype = obj; return new tmpFunc(); })(null) : {};\r\n}\r\n/**\r\n * Returns a collection of the instance functions that are defined directly on the thisTarget object, it does\r\n * not return any inherited functions\r\n * @param thisTarget The object to get the instance functions from\r\n * @ignore\r\n */\r\nfunction _getInstanceFuncs(thisTarget) {\r\n    // Get the base proto\r\n    var instFuncs = _newObject();\r\n    // Save any existing instance functions\r\n    _forEachProp(thisTarget, function (name) {\r\n        // Don't include any dynamic prototype instances - as we only want the real functions\r\n        if (!instFuncs[name] && _isDynamicCandidate(thisTarget, name, false)) {\r\n            // Create an instance callback for passing the base function to the caller\r\n            instFuncs[name] = thisTarget[name];\r\n        }\r\n    });\r\n    return instFuncs;\r\n}\r\n/**\r\n * Returns whether the value is included in the array\r\n * @param values The array of values\r\n * @param value  The value\r\n */\r\nfunction _hasVisited(values, value) {\r\n    for (var lp = values.length - 1; lp >= 0; lp--) {\r\n        if (values[lp] === value) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Returns an object that contains callback functions for all \"base/super\" functions, this is used to \"save\"\r\n * enabling calling super.xxx() functions without requiring that the base \"class\" has defined a prototype references\r\n * @param target The current instance\r\n * @ignore\r\n */\r\nfunction _getBaseFuncs(classProto, thisTarget, instFuncs, useBaseInst) {\r\n    function _instFuncProxy(target, funcHost, funcName) {\r\n        var theFunc = funcHost[funcName];\r\n        if (theFunc[DynProxyTag] && useBaseInst) {\r\n            // grab and reuse the hosted looking function (if available) otherwise the original passed function\r\n            var instFuncTable = target[DynInstFuncTable] || {};\r\n            if (instFuncTable[DynAllowInstChkTag] !== false) {\r\n                theFunc = (instFuncTable[funcHost[DynClassName]] || {})[funcName] || theFunc;\r\n            }\r\n        }\r\n        return function () {\r\n            // eslint-disable-next-line prefer-rest-params\r\n            return theFunc.apply(target, arguments);\r\n        };\r\n    }\r\n    // Start creating a new baseFuncs by creating proxies for the instance functions (as they may get replaced)\r\n    var baseFuncs = _newObject();\r\n    _forEachProp(instFuncs, function (name) {\r\n        // Create an instance callback for passing the base function to the caller\r\n        baseFuncs[name] = _instFuncProxy(thisTarget, instFuncs, name);\r\n    });\r\n    // Get the base prototype functions\r\n    var baseProto = _getObjProto(classProto);\r\n    var visited = [];\r\n    // Don't include base object functions for Object, Array or Function\r\n    while (baseProto && !_isObjectArrayOrFunctionPrototype(baseProto) && !_hasVisited(visited, baseProto)) {\r\n        // look for prototype functions\r\n        _forEachProp(baseProto, function (name) {\r\n            // Don't include any dynamic prototype instances - as we only want the real functions\r\n            // For IE 7/8 the prototype lookup doesn't provide the full chain so we need to bypass the \r\n            // hasOwnProperty check we get all of the methods, main difference is that IE7/8 doesn't return\r\n            // the Object prototype methods while bypassing the check\r\n            if (!baseFuncs[name] && _isDynamicCandidate(baseProto, name, !_objGetPrototypeOf)) {\r\n                // Create an instance callback for passing the base function to the caller\r\n                baseFuncs[name] = _instFuncProxy(thisTarget, baseProto, name);\r\n            }\r\n        });\r\n        // We need to find all possible functions that might be overloaded by walking the entire prototype chain\r\n        // This avoids the caller from needing to check whether it's direct base class implements the function or not\r\n        // by walking the entire chain it simplifies the usage and issues from upgrading any of the base classes.\r\n        visited.push(baseProto);\r\n        baseProto = _getObjProto(baseProto);\r\n    }\r\n    return baseFuncs;\r\n}\r\nfunction _getInstFunc(target, funcName, proto, currentDynProtoProxy) {\r\n    var instFunc = null;\r\n    // We need to check whether the class name is defined directly on this prototype otherwise\r\n    // it will walk the proto chain and return any parent proto classname.\r\n    if (target && _hasOwnProperty(proto, DynClassName)) {\r\n        var instFuncTable = target[DynInstFuncTable] || _newObject();\r\n        instFunc = (instFuncTable[proto[DynClassName]] || _newObject())[funcName];\r\n        if (!instFunc) {\r\n            // Avoid stack overflow from recursive calling the same function\r\n            _throwTypeError(\"Missing [\" + funcName + \"] \" + strFunction);\r\n        }\r\n        // We have the instance function, lets check it we can speed up further calls\r\n        // by adding the instance function back directly on the instance (avoiding the dynamic func lookup)\r\n        if (!instFunc[DynInstChkTag] && instFuncTable[DynAllowInstChkTag] !== false) {\r\n            // If the instance already has an instance function we can't replace it\r\n            var canAddInst = !_hasOwnProperty(target, funcName);\r\n            // Get current prototype\r\n            var objProto = _getObjProto(target);\r\n            var visited = [];\r\n            // Lookup the function starting at the top (instance level prototype) and traverse down, if the first matching function\r\n            // if nothing is found or if the first hit is a dynamic proto instance then we can safely add an instance shortcut\r\n            while (canAddInst && objProto && !_isObjectArrayOrFunctionPrototype(objProto) && !_hasVisited(visited, objProto)) {\r\n                var protoFunc = objProto[funcName];\r\n                if (protoFunc) {\r\n                    canAddInst = (protoFunc === currentDynProtoProxy);\r\n                    break;\r\n                }\r\n                // We need to find all possible initial functions to ensure that we don't bypass a valid override function\r\n                visited.push(objProto);\r\n                objProto = _getObjProto(objProto);\r\n            }\r\n            try {\r\n                if (canAddInst) {\r\n                    // This instance doesn't have an instance func and the class hierarchy does have a higher level prototype version\r\n                    // so it's safe to directly assign for any subsequent calls (for better performance)\r\n                    target[funcName] = instFunc;\r\n                }\r\n                // Block further attempts to set the instance function for any\r\n                instFunc[DynInstChkTag] = 1;\r\n            }\r\n            catch (e) {\r\n                // Don't crash if the object is readonly or the runtime doesn't allow changing this\r\n                // And set a flag so we don't try again for any function\r\n                instFuncTable[DynAllowInstChkTag] = false;\r\n            }\r\n        }\r\n    }\r\n    return instFunc;\r\n}\r\nfunction _getProtoFunc(funcName, proto, currentDynProtoProxy) {\r\n    var protoFunc = proto[funcName];\r\n    // Check that the prototype function is not a self reference -- try to avoid stack overflow!\r\n    if (protoFunc === currentDynProtoProxy) {\r\n        // It is so lookup the base prototype\r\n        protoFunc = _getObjProto(proto)[funcName];\r\n    }\r\n    if (typeof protoFunc !== strFunction) {\r\n        _throwTypeError(\"[\" + funcName + \"] is not a \" + strFunction);\r\n    }\r\n    return protoFunc;\r\n}\r\n/**\r\n * Add the required dynamic prototype methods to the the class prototype\r\n * @param proto - The class prototype\r\n * @param className - The instance classname\r\n * @param target - The target instance\r\n * @param baseInstFuncs - The base instance functions\r\n * @param setInstanceFunc - Flag to allow prototype function to reset the instance function if one does not exist\r\n * @ignore\r\n */\r\nfunction _populatePrototype(proto, className, target, baseInstFuncs, setInstanceFunc) {\r\n    function _createDynamicPrototype(proto, funcName) {\r\n        var dynProtoProxy = function () {\r\n            // Use the instance or prototype function\r\n            var instFunc = _getInstFunc(this, funcName, proto, dynProtoProxy) || _getProtoFunc(funcName, proto, dynProtoProxy);\r\n            // eslint-disable-next-line prefer-rest-params\r\n            return instFunc.apply(this, arguments);\r\n        };\r\n        // Tag this function as a proxy to support replacing dynamic proxy elements (primary use case is for unit testing\r\n        // via which can dynamically replace the prototype function reference)\r\n        dynProtoProxy[DynProxyTag] = 1;\r\n        return dynProtoProxy;\r\n    }\r\n    if (!_isObjectOrArrayPrototype(proto)) {\r\n        var instFuncTable = target[DynInstFuncTable] = target[DynInstFuncTable] || _newObject();\r\n        if (!_isObjectOrArrayPrototype(instFuncTable)) {\r\n            var instFuncs_1 = instFuncTable[className] = (instFuncTable[className] || _newObject()); // fetch and assign if as it may not exist yet\r\n            // Set whether we are allow to lookup instances, if someone has set to false then do not re-enable\r\n            if (instFuncTable[DynAllowInstChkTag] !== false) {\r\n                instFuncTable[DynAllowInstChkTag] = !!setInstanceFunc;\r\n            }\r\n            if (!_isObjectOrArrayPrototype(instFuncs_1)) {\r\n                _forEachProp(target, function (name) {\r\n                    // Only add overridden functions\r\n                    if (_isDynamicCandidate(target, name, false) && target[name] !== baseInstFuncs[name]) {\r\n                        // Save the instance Function to the lookup table and remove it from the instance as it's not a dynamic proto function\r\n                        instFuncs_1[name] = target[name];\r\n                        delete target[name];\r\n                        // Add a dynamic proto if one doesn't exist or if a prototype function exists and it's not a dynamic one\r\n                        if (!_hasOwnProperty(proto, name) || (proto[name] && !proto[name][DynProxyTag])) {\r\n                            proto[name] = _createDynamicPrototype(proto, name);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Checks whether the passed prototype object appears to be correct by walking the prototype hierarchy of the instance\r\n * @param classProto The class prototype instance\r\n * @param thisTarget The current instance that will be checked whether the passed prototype instance is in the hierarchy\r\n * @ignore\r\n */\r\nfunction _checkPrototype(classProto, thisTarget) {\r\n    // This method doesn't existing in older browsers (e.g. IE8)\r\n    if (_objGetPrototypeOf) {\r\n        // As this is primarily a coding time check, don't bother checking if running in IE8 or lower\r\n        var visited = [];\r\n        var thisProto = _getObjProto(thisTarget);\r\n        while (thisProto && !_isObjectArrayOrFunctionPrototype(thisProto) && !_hasVisited(visited, thisProto)) {\r\n            if (thisProto === classProto) {\r\n                return true;\r\n            }\r\n            // This avoids the caller from needing to check whether it's direct base class implements the function or not\r\n            // by walking the entire chain it simplifies the usage and issues from upgrading any of the base classes.\r\n            visited.push(thisProto);\r\n            thisProto = _getObjProto(thisProto);\r\n        }\r\n        return false;\r\n    }\r\n    // If objGetPrototypeOf doesn't exist then just assume everything is ok.\r\n    return true;\r\n}\r\n/**\r\n * Gets the current prototype name using the ES6 name if available otherwise falling back to a use unknown as the name.\r\n * It's not critical for this to return a name, it's used to decorate the generated unique name for easier debugging only.\r\n * @param target\r\n * @param unknownValue\r\n * @ignore\r\n */\r\nfunction _getObjName(target, unknownValue) {\r\n    if (_hasOwnProperty(target, Prototype)) {\r\n        // Look like a prototype\r\n        return target.name || unknownValue || UnknownValue;\r\n    }\r\n    return (((target || {})[Constructor]) || {}).name || unknownValue || UnknownValue;\r\n}\r\n/**\r\n * Helper function when creating dynamic (inline) functions for classes, this helper performs the following tasks :-\r\n * - Saves references to all defined base class functions\r\n * - Calls the delegateFunc with the current target (this) and a base object reference that can be used to call all \"super\" functions.\r\n * - Will populate the class prototype for all overridden functions to support class extension that call the prototype instance.\r\n * Callers should use this helper when declaring all function within the constructor of a class, as mentioned above the delegateFunc is\r\n * passed both the target \"this\" and an object that can be used to call any base (super) functions, using this based object in place of\r\n * super.XXX() (which gets expanded to _super.prototype.XXX()) provides a better minification outcome and also ensures the correct \"this\"\r\n * context is maintained as TypeScript creates incorrect references using super.XXXX() for dynamically defined functions i.e. Functions\r\n * defined in the constructor or some other function (rather than declared as complete typescript functions).\r\n * ### Usage\r\n * ```typescript\r\n * import dynamicProto from \"@microsoft/dynamicproto-js\";\r\n * class ExampleClass extends BaseClass {\r\n *     constructor() {\r\n *         dynamicProto(ExampleClass, this, (_self, base) => {\r\n *             // This will define a function that will be converted to a prototype function\r\n *             _self.newFunc = () => {\r\n *                 // Access any \"this\" instance property\r\n *                 if (_self.someProperty) {\r\n *                     ...\r\n *                 }\r\n *             }\r\n *             // This will define a function that will be converted to a prototype function\r\n *             _self.myFunction = () => {\r\n *                 // Access any \"this\" instance property\r\n *                 if (_self.someProperty) {\r\n *                     // Call the base version of the function that we are overriding\r\n *                     base.myFunction();\r\n *                 }\r\n *                 ...\r\n *             }\r\n *             _self.initialize = () => {\r\n *                 ...\r\n *             }\r\n *             // Warnings: While the following will work as _self is simply a reference to\r\n *             // this, if anyone overrides myFunction() the overridden will be called first\r\n *             // as the normal JavaScript method resolution will occur and the defined\r\n *             // _self.initialize() function is actually gets removed from the instance and\r\n *             // a proxy prototype version is created to reference the created method.\r\n *             _self.initialize();\r\n *         });\r\n *     }\r\n * }\r\n * ```\r\n * @typeparam DPType This is the generic type of the class, used to keep intellisense valid\r\n * @typeparam DPCls The type that contains the prototype of the current class\r\n * @param theClass - This is the current class instance which contains the prototype for the current class\r\n * @param target - The current \"this\" (target) reference, when the class has been extended this.prototype will not be the 'theClass' value.\r\n * @param delegateFunc - The callback function (closure) that will create the dynamic function\r\n * @param options - Additional options to configure how the dynamic prototype operates\r\n */\r\nfunction dynamicProto(theClass, target, delegateFunc, options) {\r\n    // Make sure that the passed theClass argument looks correct\r\n    if (!_hasOwnProperty(theClass, Prototype)) {\r\n        _throwTypeError(\"theClass is an invalid class definition.\");\r\n    }\r\n    // Quick check to make sure that the passed theClass argument looks correct (this is a common copy/paste error)\r\n    var classProto = theClass[Prototype];\r\n    if (!_checkPrototype(classProto, target)) {\r\n        _throwTypeError(\"[\" + _getObjName(theClass) + \"] not in hierarchy of [\" + _getObjName(target) + \"]\");\r\n    }\r\n    var className = null;\r\n    if (_hasOwnProperty(classProto, DynClassName)) {\r\n        // Only grab the class name if it's defined on this prototype (i.e. don't walk the prototype chain)\r\n        className = classProto[DynClassName];\r\n    }\r\n    else {\r\n        // As not all browser support name on the prototype creating a unique dynamic one if we have not already\r\n        // assigned one, so we can use a simple string as the lookup rather than an object for the dynamic instance\r\n        // function table lookup.\r\n        className = DynClassNamePrefix + _getObjName(theClass, \"_\") + \"$\" + _gblInst.n;\r\n        _gblInst.n++;\r\n        classProto[DynClassName] = className;\r\n    }\r\n    var perfOptions = dynamicProto[DynProtoDefaultOptions];\r\n    var useBaseInst = !!perfOptions[strUseBaseInst];\r\n    if (useBaseInst && options && options[strUseBaseInst] !== undefined) {\r\n        useBaseInst = !!options[strUseBaseInst];\r\n    }\r\n    // Get the current instance functions\r\n    var instFuncs = _getInstanceFuncs(target);\r\n    // Get all of the functions for any base instance (before they are potentially overridden)\r\n    var baseFuncs = _getBaseFuncs(classProto, target, instFuncs, useBaseInst);\r\n    // Execute the delegate passing in both the current target \"this\" and \"base\" function references\r\n    // Note casting the same type as we don't actually have the base class here and this will provide some intellisense support\r\n    delegateFunc(target, baseFuncs);\r\n    // Don't allow setting instance functions for older IE instances\r\n    var setInstanceFunc = !!_objGetPrototypeOf && !!perfOptions[strSetInstFuncs];\r\n    if (setInstanceFunc && options) {\r\n        setInstanceFunc = !!options[strSetInstFuncs];\r\n    }\r\n    // Populate the Prototype for any overridden instance functions\r\n    _populatePrototype(classProto, className, target, instFuncs, setInstanceFunc !== false);\r\n}\r\n/**\r\n * Exposes the default global options to allow global configuration, if the global values are disabled these will override\r\n * any passed values. This is primarily exposed to support unit-testing without the need for individual classes to expose\r\n * their internal usage of dynamic proto.\r\n */\r\ndynamicProto[DynProtoDefaultOptions] = _gblInst.o;\n\nexport { dynamicProto as default };\n//# sourceMappingURL=dynamicproto-js.js.map\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PythonExtension = exports.PVSC_EXTENSION_ID = void 0;\nconst vscode_1 = require(\"vscode\");\nexports.PVSC_EXTENSION_ID = 'ms-python.python';\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar PythonExtension;\n(function (PythonExtension) {\n    /**\n     * Returns the API exposed by the Python extension in VS Code.\n     */\n    async function api() {\n        const extension = vscode_1.extensions.getExtension(exports.PVSC_EXTENSION_ID);\n        if (extension === undefined) {\n            throw new Error(`Python extension is not installed or is disabled`);\n        }\n        if (!extension.isActive) {\n            await extension.activate();\n        }\n        const pythonApi = extension.exports;\n        return pythonApi;\n    }\n    PythonExtension.api = api;\n})(PythonExtension = exports.PythonExtension || (exports.PythonExtension = {}));\n//# sourceMappingURL=main.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst events_1 = require(\"events\");\nconst debug_1 = __importDefault(require(\"debug\"));\nconst promisify_1 = __importDefault(require(\"./promisify\"));\nconst debug = debug_1.default('agent-base');\nfunction isAgent(v) {\n    return Boolean(v) && typeof v.addRequest === 'function';\n}\nfunction isSecureEndpoint() {\n    const { stack } = new Error();\n    if (typeof stack !== 'string')\n        return false;\n    return stack.split('\\n').some(l => l.indexOf('(https.js:') !== -1 || l.indexOf('node:https:') !== -1);\n}\nfunction createAgent(callback, opts) {\n    return new createAgent.Agent(callback, opts);\n}\n(function (createAgent) {\n    /**\n     * Base `http.Agent` implementation.\n     * No pooling/keep-alive is implemented by default.\n     *\n     * @param {Function} callback\n     * @api public\n     */\n    class Agent extends events_1.EventEmitter {\n        constructor(callback, _opts) {\n            super();\n            let opts = _opts;\n            if (typeof callback === 'function') {\n                this.callback = callback;\n            }\n            else if (callback) {\n                opts = callback;\n            }\n            // Timeout for the socket to be returned from the callback\n            this.timeout = null;\n            if (opts && typeof opts.timeout === 'number') {\n                this.timeout = opts.timeout;\n            }\n            // These aren't actually used by `agent-base`, but are required\n            // for the TypeScript definition files in `@types/node` :/\n            this.maxFreeSockets = 1;\n            this.maxSockets = 1;\n            this.maxTotalSockets = Infinity;\n            this.sockets = {};\n            this.freeSockets = {};\n            this.requests = {};\n            this.options = {};\n        }\n        get defaultPort() {\n            if (typeof this.explicitDefaultPort === 'number') {\n                return this.explicitDefaultPort;\n            }\n            return isSecureEndpoint() ? 443 : 80;\n        }\n        set defaultPort(v) {\n            this.explicitDefaultPort = v;\n        }\n        get protocol() {\n            if (typeof this.explicitProtocol === 'string') {\n                return this.explicitProtocol;\n            }\n            return isSecureEndpoint() ? 'https:' : 'http:';\n        }\n        set protocol(v) {\n            this.explicitProtocol = v;\n        }\n        callback(req, opts, fn) {\n            throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`');\n        }\n        /**\n         * Called by node-core's \"_http_client.js\" module when creating\n         * a new HTTP request with this Agent instance.\n         *\n         * @api public\n         */\n        addRequest(req, _opts) {\n            const opts = Object.assign({}, _opts);\n            if (typeof opts.secureEndpoint !== 'boolean') {\n                opts.secureEndpoint = isSecureEndpoint();\n            }\n            if (opts.host == null) {\n                opts.host = 'localhost';\n            }\n            if (opts.port == null) {\n                opts.port = opts.secureEndpoint ? 443 : 80;\n            }\n            if (opts.protocol == null) {\n                opts.protocol = opts.secureEndpoint ? 'https:' : 'http:';\n            }\n            if (opts.host && opts.path) {\n                // If both a `host` and `path` are specified then it's most\n                // likely the result of a `url.parse()` call... we need to\n                // remove the `path` portion so that `net.connect()` doesn't\n                // attempt to open that as a unix socket file.\n                delete opts.path;\n            }\n            delete opts.agent;\n            delete opts.hostname;\n            delete opts._defaultAgent;\n            delete opts.defaultPort;\n            delete opts.createConnection;\n            // Hint to use \"Connection: close\"\n            // XXX: non-documented `http` module API :(\n            req._last = true;\n            req.shouldKeepAlive = false;\n            let timedOut = false;\n            let timeoutId = null;\n            const timeoutMs = opts.timeout || this.timeout;\n            const onerror = (err) => {\n                if (req._hadError)\n                    return;\n                req.emit('error', err);\n                // For Safety. Some additional errors might fire later on\n                // and we need to make sure we don't double-fire the error event.\n                req._hadError = true;\n            };\n            const ontimeout = () => {\n                timeoutId = null;\n                timedOut = true;\n                const err = new Error(`A \"socket\" was not created for HTTP request before ${timeoutMs}ms`);\n                err.code = 'ETIMEOUT';\n                onerror(err);\n            };\n            const callbackError = (err) => {\n                if (timedOut)\n                    return;\n                if (timeoutId !== null) {\n                    clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                onerror(err);\n            };\n            const onsocket = (socket) => {\n                if (timedOut)\n                    return;\n                if (timeoutId != null) {\n                    clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                if (isAgent(socket)) {\n                    // `socket` is actually an `http.Agent` instance, so\n                    // relinquish responsibility for this `req` to the Agent\n                    // from here on\n                    debug('Callback returned another Agent instance %o', socket.constructor.name);\n                    socket.addRequest(req, opts);\n                    return;\n                }\n                if (socket) {\n                    socket.once('free', () => {\n                        this.freeSocket(socket, opts);\n                    });\n                    req.onSocket(socket);\n                    return;\n                }\n                const err = new Error(`no Duplex stream was returned to agent-base for \\`${req.method} ${req.path}\\``);\n                onerror(err);\n            };\n            if (typeof this.callback !== 'function') {\n                onerror(new Error('`callback` is not defined'));\n                return;\n            }\n            if (!this.promisifiedCallback) {\n                if (this.callback.length >= 3) {\n                    debug('Converting legacy callback function to promise');\n                    this.promisifiedCallback = promisify_1.default(this.callback);\n                }\n                else {\n                    this.promisifiedCallback = this.callback;\n                }\n            }\n            if (typeof timeoutMs === 'number' && timeoutMs > 0) {\n                timeoutId = setTimeout(ontimeout, timeoutMs);\n            }\n            if ('port' in opts && typeof opts.port !== 'number') {\n                opts.port = Number(opts.port);\n            }\n            try {\n                debug('Resolving socket for %o request: %o', opts.protocol, `${req.method} ${req.path}`);\n                Promise.resolve(this.promisifiedCallback(req, opts)).then(onsocket, callbackError);\n            }\n            catch (err) {\n                Promise.reject(err).catch(callbackError);\n            }\n        }\n        freeSocket(socket, opts) {\n            debug('Freeing socket %o %o', socket.constructor.name, opts);\n            socket.destroy();\n        }\n        destroy() {\n            debug('Destroying agent %o', this.constructor.name);\n        }\n    }\n    createAgent.Agent = Agent;\n    // So that `instanceof` works correctly\n    createAgent.prototype = createAgent.Agent.prototype;\n})(createAgent || (createAgent = {}));\nmodule.exports = createAgent;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction promisify(fn) {\n    return function (req, opts) {\n        return new Promise((resolve, reject) => {\n            fn.call(this, req, opts, (err, rtn) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(rtn);\n                }\n            });\n        });\n    };\n}\nexports.default = promisify;\n//# sourceMappingURL=promisify.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AsyncScopeManager = exports.OpenTelemetryScopeManagerWrapper = void 0;\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar events_1 = require(\"events\");\r\nvar OpenTelemetryScopeManagerWrapper = /** @class */ (function () {\r\n    function OpenTelemetryScopeManagerWrapper() {\r\n    }\r\n    OpenTelemetryScopeManagerWrapper.prototype.active = function () {\r\n        var _this = this;\r\n        var context = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        return __assign(__assign({}, context), { getValue: function (key) {\r\n                // todo: lazy import activeSymbol from opentelemetry/api\r\n                if (!_this._activeSymbol) {\r\n                    _this._activeSymbol = key;\r\n                    return context;\r\n                }\r\n                if (key === _this._activeSymbol) {\r\n                    return context;\r\n                }\r\n                return false;\r\n            }, setValue: function () { } });\r\n    };\r\n    OpenTelemetryScopeManagerWrapper.prototype.with = function (span, fn) {\r\n        var parentSpanId = span.parentSpanId;\r\n        var name = span.name;\r\n        var correlationContext = OpenTelemetryScopeManagerWrapper._spanToContext(span, parentSpanId, name);\r\n        return CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, fn)();\r\n    };\r\n    OpenTelemetryScopeManagerWrapper.prototype.bind = function (target) {\r\n        if (typeof target === \"function\") {\r\n            return CorrelationContextManager_1.CorrelationContextManager.wrapCallback(target);\r\n        }\r\n        else if (target instanceof events_1.EventEmitter) {\r\n            CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(target);\r\n        }\r\n        return target;\r\n    };\r\n    OpenTelemetryScopeManagerWrapper.prototype.enable = function () {\r\n        CorrelationContextManager_1.CorrelationContextManager.enable();\r\n        return this;\r\n    };\r\n    OpenTelemetryScopeManagerWrapper.prototype.disable = function () {\r\n        CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        return this;\r\n    };\r\n    OpenTelemetryScopeManagerWrapper._spanToContext = function (span, parentSpanId, name) {\r\n        var spanContext = span.spanContext ? span.spanContext() : span.context(); // context is available in OT API <v0.19.0\r\n        var context = __assign(__assign({}, span.spanContext()), { traceFlags: span.spanContext().traceFlags });\r\n        var parentId = parentSpanId ? \"|\" + spanContext.traceId + \".\" + parentSpanId + \".\" : spanContext.traceId;\r\n        var aiContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        if (aiContext) {\r\n            context.traceId = aiContext.operation.id;\r\n            // If parent is no available use current context\r\n            if (!parentSpanId) {\r\n                parentId = aiContext.operation.parentId;\r\n            }\r\n        }\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.spanToContextObject(context, parentId, name);\r\n        return correlationContext;\r\n    };\r\n    return OpenTelemetryScopeManagerWrapper;\r\n}());\r\nexports.OpenTelemetryScopeManagerWrapper = OpenTelemetryScopeManagerWrapper;\r\nexports.AsyncScopeManager = new OpenTelemetryScopeManagerWrapper();\r\n//# sourceMappingURL=AsyncHooksScopeManager.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AzureFunctionsHook = void 0;\r\nvar Logging = require(\"../Library/Logging\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\n/** Node.js Azure Functions handle incoming HTTP requests before Application Insights SDK is available,\r\n * this code generate incoming request telemetry and generate correlation context to be used\r\n * by outgoing requests and other telemetry, we rely on hooks provided by Azure Functions\r\n*/\r\nvar AzureFunctionsHook = /** @class */ (function () {\r\n    function AzureFunctionsHook(client) {\r\n        this._client = client;\r\n        this._autoGenerateIncomingRequests = false;\r\n        try {\r\n            this._functionsCoreModule = require(\"@azure/functions-core\");\r\n            this._addPreInvocationHook();\r\n            this._addPostInvocationHook();\r\n        }\r\n        catch (error) {\r\n            Logging.info(\"AzureFunctionsHook failed to load, not running in Azure Functions\");\r\n        }\r\n    }\r\n    /**\r\n     * NOTE: The programming model can be changed any time until the first invocation\r\n     * For that reason, we delay setting the model helper until the first hook is called, but we can cache it after that\r\n     */\r\n    AzureFunctionsHook.prototype._getFuncModelHelper = function () {\r\n        if (this._cachedModelHelper === undefined) {\r\n            var funcProgModel = this._functionsCoreModule.getProgrammingModel();\r\n            if (funcProgModel.name === \"@azure/functions\") {\r\n                if (funcProgModel.version.startsWith(\"3.\")) {\r\n                    this._cachedModelHelper = new FuncModelV3Helper();\r\n                }\r\n                else if (funcProgModel.version.startsWith(\"4.\")) {\r\n                    this._cachedModelHelper = new FuncModelV4Helper();\r\n                }\r\n            }\r\n            if (!this._cachedModelHelper) {\r\n                this._cachedModelHelper = null;\r\n                Logging.warn(\"AzureFunctionsHook does not support model \\\"\" + funcProgModel.name + \"\\\" version \\\"\" + funcProgModel.version + \"\\\"\");\r\n            }\r\n        }\r\n        return this._cachedModelHelper;\r\n    };\r\n    AzureFunctionsHook.prototype.enable = function (isEnabled) {\r\n        this._autoGenerateIncomingRequests = isEnabled;\r\n    };\r\n    AzureFunctionsHook.prototype.dispose = function () {\r\n        this.enable(false);\r\n        this._removeInvocationHooks();\r\n        this._functionsCoreModule = undefined;\r\n    };\r\n    AzureFunctionsHook.prototype._addPreInvocationHook = function () {\r\n        var _this = this;\r\n        if (!this._preInvocationHook) {\r\n            this._preInvocationHook = this._functionsCoreModule.registerHook(\"preInvocation\", function (preInvocationContext) { return __awaiter(_this, void 0, void 0, function () {\r\n                var modelHelper, sharedContext, extractedContext, traceContext;\r\n                return __generator(this, function (_a) {\r\n                    try {\r\n                        modelHelper = this._getFuncModelHelper();\r\n                        if (modelHelper) {\r\n                            sharedContext = preInvocationContext.invocationContext;\r\n                            extractedContext = CorrelationContextManager_1.CorrelationContextManager.startOperation(sharedContext);\r\n                            if (extractedContext) { // Will be null if CorrelationContextManager is not enabled, we should not try to propagate context in that case\r\n                                extractedContext.customProperties.setProperty(\"InvocationId\", sharedContext.invocationId);\r\n                                traceContext = sharedContext.traceContext;\r\n                                if (traceContext.attributes) {\r\n                                    extractedContext.customProperties.setProperty(\"ProcessId\", traceContext.attributes[\"ProcessId\"]);\r\n                                    extractedContext.customProperties.setProperty(\"LogLevel\", traceContext.attributes[\"LogLevel\"]);\r\n                                    extractedContext.customProperties.setProperty(\"Category\", traceContext.attributes[\"Category\"]);\r\n                                    extractedContext.customProperties.setProperty(\"HostInstanceId\", traceContext.attributes[\"HostInstanceId\"]);\r\n                                    extractedContext.customProperties.setProperty(\"AzFuncLiveLogsSessionId\", traceContext.attributes[\"#AzFuncLiveLogsSessionId\"]);\r\n                                }\r\n                                preInvocationContext.functionCallback = CorrelationContextManager_1.CorrelationContextManager.wrapCallback(preInvocationContext.functionCallback, extractedContext);\r\n                                if (modelHelper.isHttpTrigger(preInvocationContext) && this._autoGenerateIncomingRequests) {\r\n                                    preInvocationContext.hookData.appInsightsExtractedContext = extractedContext;\r\n                                    preInvocationContext.hookData.appInsightsStartTime = Date.now(); // Start trackRequest timer\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n                        Logging.warn(\"Failed to propagate context in Azure Functions\", err);\r\n                        return [2 /*return*/];\r\n                    }\r\n                    return [2 /*return*/];\r\n                });\r\n            }); });\r\n        }\r\n    };\r\n    AzureFunctionsHook.prototype._addPostInvocationHook = function () {\r\n        var _this = this;\r\n        if (!this._postInvocationHook) {\r\n            this._postInvocationHook = this._functionsCoreModule.registerHook(\"postInvocation\", function (postInvocationContext) { return __awaiter(_this, void 0, void 0, function () {\r\n                var modelHelper, request_1, startTime_1, extractedContext_1;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    try {\r\n                        modelHelper = this._getFuncModelHelper();\r\n                        if (modelHelper) {\r\n                            if (this._autoGenerateIncomingRequests) {\r\n                                if (modelHelper.isHttpTrigger(postInvocationContext)) {\r\n                                    request_1 = postInvocationContext.inputs[0];\r\n                                    if (request_1) {\r\n                                        startTime_1 = postInvocationContext.hookData.appInsightsStartTime || Date.now();\r\n                                        extractedContext_1 = postInvocationContext.hookData.appInsightsExtractedContext;\r\n                                        if (!extractedContext_1) {\r\n                                            this._createIncomingRequestTelemetry(request_1, postInvocationContext, startTime_1, null);\r\n                                        }\r\n                                        else {\r\n                                            CorrelationContextManager_1.CorrelationContextManager.runWithContext(extractedContext_1, function () {\r\n                                                _this._createIncomingRequestTelemetry(request_1, postInvocationContext, startTime_1, extractedContext_1.operation.parentId);\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n                        Logging.warn(\"Error creating automatic incoming request in Azure Functions\", err);\r\n                    }\r\n                    return [2 /*return*/];\r\n                });\r\n            }); });\r\n        }\r\n    };\r\n    AzureFunctionsHook.prototype._createIncomingRequestTelemetry = function (request, hookContext, startTime, parentId) {\r\n        var values = this._getFuncModelHelper().getStatusCodes(hookContext);\r\n        var statusCode = 200; //Default\r\n        if (values) {\r\n            for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\r\n                var value = values_1[_i];\r\n                if (typeof value === \"number\" && Number.isInteger(value)) {\r\n                    statusCode = value;\r\n                    break;\r\n                }\r\n                else if (typeof value === \"string\") {\r\n                    var parsedVal = parseInt(value);\r\n                    if (!isNaN(parsedVal)) {\r\n                        statusCode = parsedVal;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            statusCode = undefined;\r\n        }\r\n        this._client.trackRequest({\r\n            name: request.method + \" \" + request.url,\r\n            resultCode: statusCode,\r\n            success: typeof (statusCode) === \"number\" ? (0 < statusCode) && (statusCode < 400) : undefined,\r\n            url: request.url,\r\n            time: new Date(startTime),\r\n            duration: Date.now() - startTime,\r\n            id: parentId\r\n        });\r\n        this._client.flush();\r\n    };\r\n    AzureFunctionsHook.prototype._removeInvocationHooks = function () {\r\n        if (this._preInvocationHook) {\r\n            this._preInvocationHook.dispose();\r\n            this._preInvocationHook = undefined;\r\n        }\r\n        if (this._postInvocationHook) {\r\n            this._postInvocationHook.dispose();\r\n            this._postInvocationHook = undefined;\r\n        }\r\n    };\r\n    return AzureFunctionsHook;\r\n}());\r\nexports.AzureFunctionsHook = AzureFunctionsHook;\r\nvar FuncModelV3Helper = /** @class */ (function () {\r\n    function FuncModelV3Helper() {\r\n    }\r\n    FuncModelV3Helper.prototype._getInvocationContext = function (hookContext) {\r\n        return hookContext.invocationContext;\r\n    };\r\n    FuncModelV3Helper.prototype.getStatusCodes = function (hookContext) {\r\n        var ctx = this._getInvocationContext(hookContext);\r\n        var response;\r\n        var httpOutputBinding = ctx.bindingDefinitions.find(function (b) { return b.direction === \"out\" && b.type.toLowerCase() === \"http\"; });\r\n        if ((httpOutputBinding === null || httpOutputBinding === void 0 ? void 0 : httpOutputBinding.name) === \"$return\") {\r\n            response = hookContext.result;\r\n        }\r\n        else if (httpOutputBinding && ctx.bindings && ctx.bindings[httpOutputBinding.name] !== undefined) {\r\n            response = ctx.bindings[httpOutputBinding.name];\r\n        }\r\n        else {\r\n            response = ctx.res;\r\n        }\r\n        return response ? [response.statusCode, response.status] : undefined;\r\n    };\r\n    FuncModelV3Helper.prototype.isHttpTrigger = function (hookContext) {\r\n        var ctx = this._getInvocationContext(hookContext);\r\n        return !!ctx.bindingDefinitions.find(function (b) { var _a; return ((_a = b.type) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === \"httptrigger\"; });\r\n    };\r\n    return FuncModelV3Helper;\r\n}());\r\n/**\r\n * V4 is only supported on Node.js v18+\r\n * Unfortunately that means we can't use the \"@azure/functions\" types for v4 or we break the build on Node <v18\r\n */\r\nvar FuncModelV4Helper = /** @class */ (function () {\r\n    function FuncModelV4Helper() {\r\n    }\r\n    FuncModelV4Helper.prototype._getInvocationContext = function (hookContext) {\r\n        return hookContext.invocationContext;\r\n    };\r\n    FuncModelV4Helper.prototype.getStatusCodes = function (hookContext) {\r\n        var response = hookContext.result;\r\n        return response ? [response.status] : undefined;\r\n    };\r\n    FuncModelV4Helper.prototype.isHttpTrigger = function (hookContext) {\r\n        var ctx = this._getInvocationContext(hookContext);\r\n        return ctx.options.trigger.type.toLowerCase() === \"httptrigger\";\r\n    };\r\n    return FuncModelV4Helper;\r\n}());\r\n//# sourceMappingURL=AzureFunctionsHook.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar DiagChannel = __importStar(require(\"./diagnostic-channel/initialization\"));\r\nvar AutoCollectConsole = /** @class */ (function () {\r\n    function AutoCollectConsole(client) {\r\n        if (!!AutoCollectConsole.INSTANCE) {\r\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\r\n        }\r\n        this._client = client;\r\n        AutoCollectConsole.INSTANCE = this;\r\n    }\r\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\r\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\r\n        }\r\n    };\r\n    AutoCollectConsole.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectConsole.prototype.dispose = function () {\r\n        AutoCollectConsole.INSTANCE = null;\r\n        this.enable(false, false);\r\n    };\r\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\r\n    return AutoCollectConsole;\r\n}());\r\nmodule.exports = AutoCollectConsole;\r\n//# sourceMappingURL=Console.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CorrelationContextManager = void 0;\r\nvar Logging = require(\"../Library/Logging\");\r\nvar DiagChannel = __importStar(require(\"./diagnostic-channel/initialization\"));\r\nvar Traceparent = require(\"../Library/Traceparent\");\r\nvar Tracestate = require(\"../Library/Tracestate\");\r\nvar HttpRequestParser = require(\"./HttpRequestParser\");\r\nvar Util = require(\"../Library/Util\");\r\nvar CorrelationContextManager = /** @class */ (function () {\r\n    function CorrelationContextManager() {\r\n    }\r\n    /**\r\n     *  Provides the current Context.\r\n     *  The context is the most recent one entered into for the current\r\n     *  logical chain of execution, including across asynchronous calls.\r\n     */\r\n    CorrelationContextManager.getCurrentContext = function () {\r\n        if (!CorrelationContextManager.enabled) {\r\n            return null;\r\n        }\r\n        var context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\r\n        if (context === undefined) { // cast undefined to null\r\n            return null;\r\n        }\r\n        return context;\r\n    };\r\n    /**\r\n     *  A helper to generate objects conforming to the CorrelationContext interface\r\n     */\r\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader, traceparent, tracestate) {\r\n        parentId = parentId || operationId;\r\n        if (this.enabled) {\r\n            return {\r\n                operation: {\r\n                    name: operationName,\r\n                    id: operationId,\r\n                    parentId: parentId,\r\n                    traceparent: traceparent,\r\n                    tracestate: tracestate\r\n                },\r\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    CorrelationContextManager.spanToContextObject = function (spanContext, parentId, name) {\r\n        var traceContext = new Traceparent();\r\n        traceContext.traceId = spanContext.traceId;\r\n        traceContext.spanId = spanContext.spanId;\r\n        traceContext.traceFlag = Traceparent.formatOpenTelemetryTraceFlags(spanContext.traceFlags) || Traceparent.DEFAULT_TRACE_FLAG;\r\n        traceContext.parentId = parentId;\r\n        return CorrelationContextManager.generateContextObject(traceContext.traceId, traceContext.parentId, name, null, traceContext);\r\n    };\r\n    /**\r\n     *  Runs a function inside a given Context.\r\n     *  All logical children of the execution path that entered this Context\r\n     *  will receive this Context object on calls to GetCurrentContext.\r\n     */\r\n    CorrelationContextManager.runWithContext = function (context, fn) {\r\n        var _a;\r\n        if (CorrelationContextManager.enabled) {\r\n            try {\r\n                return CorrelationContextManager.session.bind(fn, (_a = {}, _a[CorrelationContextManager.CONTEXT_NAME] = context, _a))();\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n            }\r\n        }\r\n        return fn();\r\n    };\r\n    /**\r\n     * Wrapper for cls-hooked bindEmitter method\r\n     */\r\n    CorrelationContextManager.wrapEmitter = function (emitter) {\r\n        if (CorrelationContextManager.enabled) {\r\n            try {\r\n                CorrelationContextManager.session.bindEmitter(emitter);\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *  Patches a callback to restore the correct Context when getCurrentContext\r\n     *  is run within it. This is necessary if automatic correlation fails to work\r\n     *  with user-included libraries.\r\n     *\r\n     *  The supplied callback will be given the same context that was present for\r\n     *  the call to wrapCallback.  */\r\n    CorrelationContextManager.wrapCallback = function (fn, context) {\r\n        var _a;\r\n        if (CorrelationContextManager.enabled) {\r\n            try {\r\n                return CorrelationContextManager.session.bind(fn, context ? (_a = {},\r\n                    _a[CorrelationContextManager.CONTEXT_NAME] = context,\r\n                    _a) : undefined);\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n            }\r\n        }\r\n        return fn;\r\n    };\r\n    /**\r\n     *  Enables the CorrelationContextManager.\r\n     */\r\n    CorrelationContextManager.enable = function (forceClsHooked) {\r\n        if (this.enabled) {\r\n            return;\r\n        }\r\n        if (!this.isNodeVersionCompatible()) {\r\n            this.enabled = false;\r\n            return;\r\n        }\r\n        if (!CorrelationContextManager.hasEverEnabled) {\r\n            this.forceClsHooked = forceClsHooked;\r\n            this.hasEverEnabled = true;\r\n            if (typeof this.cls === \"undefined\") {\r\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\r\n                    this.cls = require(\"cls-hooked\");\r\n                }\r\n                else {\r\n                    this.cls = require(\"continuation-local-storage\");\r\n                }\r\n            }\r\n            try {\r\n                CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Failed to create AI-CLS-Session namespace. Correlation of requests may be lost\", Util.dumpObj(error));\r\n                this.enabled = false;\r\n                return;\r\n            }\r\n            DiagChannel.registerContextPreservation(function (cb) {\r\n                try {\r\n                    return CorrelationContextManager.session.bind(cb);\r\n                }\r\n                catch (error) {\r\n                    Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n                }\r\n            });\r\n        }\r\n        this.enabled = true;\r\n    };\r\n    /**\r\n     * Create new correlation context.\r\n     */\r\n    CorrelationContextManager.startOperation = function (input, request) {\r\n        var traceContext = input && input.traceContext || null;\r\n        var span = input && input.spanContext ? input : null;\r\n        var spanContext = input && input.traceId ? input : null;\r\n        var headers = input && input.headers;\r\n        // OpenTelemetry Span\r\n        if (span) {\r\n            return this.spanToContextObject(span.spanContext(), span.parentSpanId, span.name);\r\n        }\r\n        // OpenTelemetry SpanContext\r\n        if (spanContext) {\r\n            return this.spanToContextObject(spanContext, \"|\" + spanContext.traceId + \".\" + spanContext.spanId + \".\", typeof request === \"string\" ? request : \"\");\r\n        }\r\n        var operationName = typeof request === \"string\" ? request : \"\";\r\n        // AzFunction TraceContext\r\n        if (traceContext) {\r\n            var traceparent = null;\r\n            var tracestate = null;\r\n            operationName = traceContext.attributes[\"OperationName\"] || operationName;\r\n            if (request) {\r\n                var azureFnRequest = request;\r\n                if (azureFnRequest.headers) {\r\n                    if (azureFnRequest.headers.traceparent) {\r\n                        traceparent = new Traceparent(azureFnRequest.headers.traceparent);\r\n                    }\r\n                    else if (azureFnRequest.headers[\"request-id\"]) {\r\n                        traceparent = new Traceparent(null, azureFnRequest.headers[\"request-id\"]);\r\n                    }\r\n                    if (azureFnRequest.headers.tracestate) {\r\n                        tracestate = new Tracestate(azureFnRequest.headers.tracestate);\r\n                    }\r\n                }\r\n            }\r\n            if (!traceparent) {\r\n                traceparent = new Traceparent(traceContext.traceParent || traceContext.traceparent);\r\n            }\r\n            if (!tracestate) {\r\n                tracestate = new Tracestate(traceContext.traceState || traceContext.tracestate);\r\n            }\r\n            var correlationContextHeader = undefined;\r\n            if (typeof request === \"object\") {\r\n                var parser = new HttpRequestParser(request);\r\n                correlationContextHeader = parser.getCorrelationContextHeader();\r\n                operationName = parser.getOperationName({});\r\n            }\r\n            var correlationContext = CorrelationContextManager.generateContextObject(traceparent.traceId, traceparent.parentId, operationName, correlationContextHeader, traceparent, tracestate);\r\n            return correlationContext;\r\n        }\r\n        // No TraceContext available, parse as http.IncomingMessage\r\n        if (headers) {\r\n            var traceparent = new Traceparent(headers.traceparent ? headers.traceparent.toString() : null);\r\n            var tracestate = new Tracestate(headers.tracestate ? headers.tracestate.toString() : null);\r\n            var parser = new HttpRequestParser(input);\r\n            var correlationContext = CorrelationContextManager.generateContextObject(traceparent.traceId, traceparent.parentId, parser.getOperationName({}), parser.getCorrelationContextHeader(), traceparent, tracestate);\r\n            return correlationContext;\r\n        }\r\n        Logging.warn(\"startOperation was called with invalid arguments\", arguments);\r\n        return null;\r\n    };\r\n    /**\r\n     *  Disables the CorrelationContextManager.\r\n     */\r\n    CorrelationContextManager.disable = function () {\r\n        this.enabled = false;\r\n    };\r\n    /**\r\n     * Reset the namespace\r\n     */\r\n    CorrelationContextManager.reset = function () {\r\n        if (CorrelationContextManager.hasEverEnabled) {\r\n            CorrelationContextManager.session = null;\r\n            try {\r\n                CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Failed to create AI-CLS-Session namespace. Correlation of requests may be lost\", Util.dumpObj(error));\r\n                this.enabled = false;\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *  Reports if CorrelationContextManager is able to run in this environment\r\n     */\r\n    CorrelationContextManager.isNodeVersionCompatible = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\r\n    };\r\n    /**\r\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\r\n     * use async-listener (plain -cls)\r\n     */\r\n    CorrelationContextManager.shouldUseClsHooked = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\r\n    };\r\n    /**\r\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\r\n     * @internal Used in tests only\r\n     */\r\n    CorrelationContextManager.canUseClsHooked = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\r\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2);\r\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7); // cls-hooked requires node 4.7+\r\n        return !(greater800 && less820) && greater470;\r\n    };\r\n    CorrelationContextManager.enabled = false;\r\n    CorrelationContextManager.hasEverEnabled = false;\r\n    CorrelationContextManager.forceClsHooked = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\r\n    CorrelationContextManager.CONTEXT_NAME = \"ApplicationInsights-Context\";\r\n    return CorrelationContextManager;\r\n}());\r\nexports.CorrelationContextManager = CorrelationContextManager;\r\nvar CustomPropertiesImpl = /** @class */ (function () {\r\n    function CustomPropertiesImpl(header) {\r\n        this.props = [];\r\n        this.addHeaderData(header);\r\n    }\r\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\r\n        var keyvals = header ? header.split(\", \") : [];\r\n        this.props = keyvals.map(function (keyval) {\r\n            var parts = keyval.split(\"=\");\r\n            return { key: parts[0], value: parts[1] };\r\n        }).concat(this.props);\r\n    };\r\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\r\n        return this.props.map(function (keyval) {\r\n            return keyval.key + \"=\" + keyval.value;\r\n        }).join(\", \");\r\n    };\r\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\r\n        for (var i = 0; i < this.props.length; ++i) {\r\n            var keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                return keyval.value;\r\n            }\r\n        }\r\n        return;\r\n    };\r\n    // TODO: Strictly according to the spec, properties which are recieved from\r\n    // an incoming request should be left untouched, while we may add our own new\r\n    // properties. The logic here will need to change to track that.\r\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\r\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\r\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\r\n            return;\r\n        }\r\n        for (var i = 0; i < this.props.length; ++i) {\r\n            var keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                keyval.value = val;\r\n                return;\r\n            }\r\n        }\r\n        this.props.push({ key: prop, value: val });\r\n    };\r\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\r\n    return CustomPropertiesImpl;\r\n}());\r\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\r\nvar AutoCollectExceptions = /** @class */ (function () {\r\n    function AutoCollectExceptions(client) {\r\n        if (!!AutoCollectExceptions.INSTANCE) {\r\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectExceptions.INSTANCE = this;\r\n        this._client = client;\r\n        // Only use for 13.7.0+\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        AutoCollectExceptions._canUseUncaughtExceptionMonitor = parseInt(nodeVer[0]) > 13 || (parseInt(nodeVer[0]) === 13 && parseInt(nodeVer[1]) >= 7);\r\n    }\r\n    AutoCollectExceptions.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\r\n        var _this = this;\r\n        if (isEnabled) {\r\n            this._isInitialized = true;\r\n            if (!this._exceptionListenerHandle) {\r\n                // For scenarios like Promise.reject(), an error won't be passed to the handle. Create a placeholder\r\n                // error for these scenarios.\r\n                var handle = function (reThrow, name, error) {\r\n                    if (error === void 0) { error = new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE); }\r\n                    var exceptionTelemetry = { exception: error };\r\n                    // Add full error in context so it could used in telemetryProcessors\r\n                    exceptionTelemetry.contextObjects = {};\r\n                    exceptionTelemetry.contextObjects[\"Error\"] = error;\r\n                    _this._client.trackException(exceptionTelemetry);\r\n                    _this._client.flush({ isAppCrashing: true });\r\n                    // only rethrow when we are the only listener\r\n                    if (reThrow && name && process.listeners(name).length === 1) {\r\n                        console.error(error);\r\n                        process.exit(1);\r\n                    }\r\n                };\r\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\r\n                    // Node.js >= 13.7.0, use uncaughtExceptionMonitor. It handles both promises and exceptions\r\n                    this._exceptionListenerHandle = handle.bind(this, false, undefined); // never rethrows\r\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\r\n                }\r\n                else {\r\n                    this._exceptionListenerHandle = handle.bind(this, true, AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME);\r\n                    this._rejectionListenerHandle = handle.bind(this, false, undefined); // never rethrows\r\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                    process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (this._exceptionListenerHandle) {\r\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\r\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\r\n                }\r\n                else {\r\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                    process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n                }\r\n                this._exceptionListenerHandle = undefined;\r\n                this._rejectionListenerHandle = undefined;\r\n                delete this._exceptionListenerHandle;\r\n                delete this._rejectionListenerHandle;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectExceptions.prototype.dispose = function () {\r\n        AutoCollectExceptions.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectExceptions.INSTANCE = null;\r\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME = \"uncaughtExceptionMonitor\";\r\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME = \"uncaughtException\";\r\n    AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME = \"unhandledRejection\";\r\n    AutoCollectExceptions._RETHROW_EXIT_MESSAGE = \"Application Insights Rethrow Exception Handler\";\r\n    AutoCollectExceptions._FALLBACK_ERROR_MESSAGE = \"A promise was rejected without providing an error. Application Insights generated this error stack for you.\";\r\n    AutoCollectExceptions._canUseUncaughtExceptionMonitor = false;\r\n    return AutoCollectExceptions;\r\n}());\r\nmodule.exports = AutoCollectExceptions;\r\n//# sourceMappingURL=Exceptions.js.map","\"use strict\";\r\nvar crypto = require(\"crypto\");\r\nvar os = require(\"os\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Context = require(\"../Library/Context\");\r\nvar HeartBeat = /** @class */ (function () {\r\n    function HeartBeat(client) {\r\n        this._collectionInterval = 900000;\r\n        if (!HeartBeat.INSTANCE) {\r\n            HeartBeat.INSTANCE = this;\r\n        }\r\n        this._isInitialized = false;\r\n        this._client = client;\r\n    }\r\n    HeartBeat.prototype.enable = function (isEnabled) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._handle = setInterval(function () { return _this.trackHeartBeat(_this._client.config, function () { }); }, this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = null;\r\n            }\r\n        }\r\n    };\r\n    HeartBeat.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    HeartBeat.isEnabled = function () {\r\n        return HeartBeat.INSTANCE && HeartBeat.INSTANCE._isEnabled;\r\n    };\r\n    HeartBeat.prototype.trackHeartBeat = function (config, callback) {\r\n        var properties = {};\r\n        var sdkVersion = Context.sdkVersion; // \"node\" or \"node-nativeperf\"\r\n        properties[\"sdkVersion\"] = sdkVersion;\r\n        properties[\"osType\"] = os.type();\r\n        properties[\"osVersion\"] = os.release();\r\n        //  Random GUID that would help in analysis when app has stopped and restarted.\r\n        if (!this._uniqueProcessId) {\r\n            this._uniqueProcessId = crypto.randomBytes(16).toString(\"hex\");\r\n        }\r\n        properties[\"processSessionId\"] = this._uniqueProcessId;\r\n        if (process.env.WEBSITE_SITE_NAME) {\r\n            properties[\"appSrv_SiteName\"] = process.env.WEBSITE_SITE_NAME;\r\n        }\r\n        if (process.env.WEBSITE_HOME_STAMPNAME) {\r\n            properties[\"appSrv_wsStamp\"] = process.env.WEBSITE_HOME_STAMPNAME;\r\n        }\r\n        if (process.env.WEBSITE_HOSTNAME) {\r\n            properties[\"appSrv_wsHost\"] = process.env.WEBSITE_HOSTNAME;\r\n        }\r\n        if (process.env.WEBSITE_OWNER_NAME) {\r\n            properties[\"appSrv_wsOwner\"] = process.env.WEBSITE_OWNER_NAME;\r\n        }\r\n        if (process.env.WEBSITE_RESOURCE_GROUP) {\r\n            properties[\"appSrv_ResourceGroup\"] = process.env.WEBSITE_RESOURCE_GROUP;\r\n        }\r\n        if (process.env.WEBSITE_SLOT_NAME) {\r\n            properties[\"appSrv_SlotName\"] = process.env.WEBSITE_SLOT_NAME;\r\n        }\r\n        this._client.trackMetric({ name: Constants.HeartBeatMetricName, value: 0, properties: properties });\r\n        callback();\r\n    };\r\n    HeartBeat.prototype.dispose = function () {\r\n        HeartBeat.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    return HeartBeat;\r\n}());\r\nmodule.exports = HeartBeat;\r\n//# sourceMappingURL=HeartBeat.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar Traceparent = require(\"../Library/Traceparent\");\r\nvar DiagChannel = __importStar(require(\"./diagnostic-channel/initialization\"));\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\nvar AutoCollectHttpDependencies = /** @class */ (function () {\r\n    function AutoCollectHttpDependencies(client) {\r\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\r\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectHttpDependencies.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._initialize();\r\n        }\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/azure-coretracing.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\r\n        }\r\n    };\r\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectHttpDependencies.prototype._initialize = function () {\r\n        var _this = this;\r\n        this._isInitialized = true;\r\n        var originalRequest = http.request;\r\n        var originalHttpsRequest = https.request;\r\n        var clientRequestPatch = function (request, options) {\r\n            try {\r\n                var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\r\n                    !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\r\n                // If someone else patched traceparent headers onto this request\r\n                var userAgentHeader = null;\r\n                // Azure SDK special handling\r\n                if (options.headers) {\r\n                    userAgentHeader = options.headers[\"User-Agent\"] || options.headers[\"user-agent\"];\r\n                    if (userAgentHeader && userAgentHeader.toString().indexOf(\"azsdk-js\") !== -1) {\r\n                        shouldCollect = false;\r\n                    }\r\n                }\r\n                if (request && options && shouldCollect) {\r\n                    CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\r\n                    if (_this._isEnabled) {\r\n                        // Mark as auto collected\r\n                        request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\r\n                        // If there is no context create one, this apply when no request is triggering the dependency\r\n                        if (!CorrelationContextManager_1.CorrelationContextManager.getCurrentContext()) {\r\n                            // Create correlation context and wrap execution\r\n                            var operationId = null;\r\n                            if (CorrelationIdManager.w3cEnabled) {\r\n                                var traceparent = new Traceparent();\r\n                                operationId = traceparent.traceId;\r\n                            }\r\n                            else {\r\n                                var requestId = CorrelationIdManager.generateRequestId(null);\r\n                                operationId = CorrelationIdManager.getRootId(requestId);\r\n                            }\r\n                            var correlationContext = CorrelationContextManager_1.CorrelationContextManager.generateContextObject(operationId);\r\n                            CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\r\n                                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\r\n                            });\r\n                        }\r\n                        else {\r\n                            AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                Logging.warn(\"Failed to generate dependency telemetry.\", Util.dumpObj(err));\r\n            }\r\n        };\r\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\r\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\r\n        // Patch both and leave a flag to not double-count on versions that just call through\r\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\r\n        http.request = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = originalRequest.call.apply(originalRequest, __spreadArrays([http, options], requestArgs));\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n        https.request = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, __spreadArrays([https, options], requestArgs));\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n        // Node 8 calls http.request from http.get using a local reference!\r\n        // We have to patch .get manually in this case and can't just assume request is enough\r\n        // We have to replace the entire method in this case. We can't call the original.\r\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\r\n        http.get = function (options) {\r\n            var _a;\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = (_a = http.request).call.apply(_a, __spreadArrays([http, options], requestArgs));\r\n            request.end();\r\n            return request;\r\n        };\r\n        https.get = function (options) {\r\n            var _a;\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = (_a = https.request).call.apply(_a, __spreadArrays([https, options], requestArgs));\r\n            request.end();\r\n            return request;\r\n        };\r\n    };\r\n    /**\r\n     * Tracks an outgoing request. Because it may set headers this method must be called before\r\n     * writing content to or ending the request.\r\n     */\r\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\r\n        if (!telemetry.options || !telemetry.request || !client) {\r\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\r\n            return;\r\n        }\r\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\r\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var uniqueRequestId;\r\n        var uniqueTraceparent;\r\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\r\n            currentContext.operation.traceparent.updateSpanId();\r\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\r\n        }\r\n        else if (CorrelationIdManager.w3cEnabled) {\r\n            // Start an operation now so that we can include the w3c headers in the outgoing request\r\n            var traceparent = new Traceparent();\r\n            uniqueTraceparent = traceparent.toString();\r\n            uniqueRequestId = traceparent.getBackCompatRequestId();\r\n        }\r\n        else {\r\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + \".\");\r\n        }\r\n        // Add the source correlationId to the request headers, if a value was not already provided.\r\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\r\n        // are not included in the v0.10 type declarations currently used. So check if the\r\n        // methods exist before invoking them.\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\r\n            if (client.config && client.config.correlationId) {\r\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\r\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\r\n                try {\r\n                    Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\r\n                }\r\n                catch (err) {\r\n                    Logging.warn(\"Request-Context header could not be set. Correlation of requests may be lost\", err);\r\n                }\r\n                if (currentContext && currentContext.operation) {\r\n                    try {\r\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\r\n                        // Also set legacy headers\r\n                        if (!client.config.ignoreLegacyHeaders) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\r\n                            telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\r\n                        }\r\n                        // Set W3C headers, if available\r\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\r\n                        }\r\n                        else if (CorrelationIdManager.w3cEnabled) {\r\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\r\n                            var traceparent = new Traceparent().toString();\r\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\r\n                        }\r\n                        if (currentContext.operation.tracestate) {\r\n                            var tracestate = currentContext.operation.tracestate.toString();\r\n                            if (tracestate) {\r\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\r\n                            }\r\n                        }\r\n                        var correlationContextHeader = currentContext.customProperties.serializeToHeader();\r\n                        if (correlationContextHeader) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Collect dependency telemetry about the request when it finishes.\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"response\", function (response) {\r\n                if (telemetry.isProcessed) {\r\n                    return;\r\n                }\r\n                telemetry.isProcessed = true;\r\n                requestParser.onResponse(response);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n            telemetry.request.on(\"error\", function (error) {\r\n                if (telemetry.isProcessed) {\r\n                    return;\r\n                }\r\n                telemetry.isProcessed = true;\r\n                requestParser.onError(error);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"Error\"] = error;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n            telemetry.request.on(\"abort\", function () {\r\n                if (telemetry.isProcessed) {\r\n                    return;\r\n                }\r\n                telemetry.isProcessed = true;\r\n                requestParser.onError(new Error(\"The request has been aborted and the network socket has closed.\"));\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n        }\r\n    };\r\n    AutoCollectHttpDependencies.prototype.dispose = function () {\r\n        AutoCollectHttpDependencies.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectHttpDependencies.disableCollectionRequestOption = \"disableAppInsightsAutoCollection\";\r\n    AutoCollectHttpDependencies.requestNumber = 1;\r\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = \"_appInsightsAutoCollected\";\r\n    return AutoCollectHttpDependencies;\r\n}());\r\nmodule.exports = AutoCollectHttpDependencies;\r\n//# sourceMappingURL=HttpDependencies.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar url = require(\"url\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar RequestParser = require(\"./RequestParser\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\n/**\r\n * Helper class to read data from the request/response objects and convert them into the telemetry contract\r\n */\r\nvar HttpDependencyParser = /** @class */ (function (_super) {\r\n    __extends(HttpDependencyParser, _super);\r\n    function HttpDependencyParser(requestOptions, request) {\r\n        var _this = _super.call(this) || this;\r\n        if (request && request.method && requestOptions) {\r\n            // The ClientRequest.method property isn't documented, but is always there.\r\n            _this.method = request.method;\r\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\r\n            _this.startTime = +new Date();\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Called when the ClientRequest emits an error event.\r\n     */\r\n    HttpDependencyParser.prototype.onError = function (error) {\r\n        this._setStatus(undefined, error);\r\n    };\r\n    /**\r\n     * Called when the ClientRequest emits a response event.\r\n     */\r\n    HttpDependencyParser.prototype.onResponse = function (response) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\r\n    };\r\n    /**\r\n     * Gets a dependency data contract object for a completed ClientRequest.\r\n     */\r\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\r\n        var dependencyName = this.method.toUpperCase();\r\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        var remoteDependencyTarget = \"\";\r\n        try {\r\n            var urlObject = new url.URL(this.url);\r\n            urlObject.search = undefined;\r\n            urlObject.hash = undefined;\r\n            dependencyName += \" \" + urlObject.pathname;\r\n            remoteDependencyTarget = urlObject.hostname;\r\n            if (urlObject.port) {\r\n                remoteDependencyTarget += \":\" + urlObject.port;\r\n            }\r\n        }\r\n        catch (ex) { // Invalid URL\r\n            // Ignore error\r\n        }\r\n        if (this.correlationId) {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\r\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\r\n                remoteDependencyTarget += \" | \" + this.correlationId;\r\n            }\r\n        }\r\n        else {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        }\r\n        var dependencyTelemetry = {\r\n            id: dependencyId,\r\n            name: dependencyName,\r\n            data: this.url,\r\n            duration: this.duration,\r\n            success: this._isSuccess(),\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            properties: this.properties || {},\r\n            dependencyTypeName: remoteDependencyType,\r\n            target: remoteDependencyTarget\r\n        };\r\n        if (baseTelemetry && baseTelemetry.time) {\r\n            dependencyTelemetry.time = baseTelemetry.time;\r\n        }\r\n        else if (this.startTime) {\r\n            dependencyTelemetry.time = new Date(this.startTime);\r\n        }\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (var key in baseTelemetry) {\r\n                if (!dependencyTelemetry[key]) {\r\n                    dependencyTelemetry[key] = baseTelemetry[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (var key in baseTelemetry.properties) {\r\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n        return dependencyTelemetry;\r\n    };\r\n    /**\r\n     * Builds a URL from request options, using the same logic as http.request(). This is\r\n     * necessary because a ClientRequest object does not expose a url property.\r\n     */\r\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\r\n        if (typeof options === \"string\") {\r\n            if (options.indexOf(\"http://\") === 0 || options.indexOf(\"https://\") === 0) {\r\n                // protocol exists, parse normally\r\n                try {\r\n                    options = new url.URL(options);\r\n                }\r\n                catch (ex) {\r\n                    // Ignore error\r\n                }\r\n            }\r\n            else {\r\n                // protocol not found, insert http/https where appropriate\r\n                try {\r\n                    var parsed = new url.URL(\"http://\" + options);\r\n                    if (parsed.port === \"443\") {\r\n                        options = new url.URL(\"https://\" + options);\r\n                    }\r\n                    else {\r\n                        options = new url.URL(\"http://\" + options);\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                    // Ignore error\r\n                }\r\n            }\r\n        }\r\n        else if (options && typeof url.URL === \"function\" && options instanceof url.URL) {\r\n            return url.format(options);\r\n        }\r\n        else {\r\n            // Avoid modifying the original options object.\r\n            var originalOptions_1 = options;\r\n            options = {};\r\n            if (originalOptions_1) {\r\n                Object.keys(originalOptions_1).forEach(function (key) {\r\n                    options[key] = originalOptions_1[key];\r\n                });\r\n            }\r\n        }\r\n        // Oddly, url.format ignores path and only uses pathname and search,\r\n        // so create them from the path, if path was specified\r\n        if (options.path && options.host) {\r\n            // need to force a protocol to make parameter valid - base url is required when input is a relative url\r\n            try {\r\n                var parsedQuery = new url.URL(options.path, \"http://\" + options.host + options.path);\r\n                options.pathname = parsedQuery.pathname;\r\n                options.search = parsedQuery.search;\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n        }\r\n        // Sometimes the hostname is provided but not the host\r\n        // Add in the path when this occurs\r\n        if (options.path && options.hostname && !options.host) {\r\n            // need to force a protocol to make parameter valid - base url is required when input is a relative url\r\n            try {\r\n                var parsedQuery = new url.URL(options.path, \"http://\" + options.hostname + options.path);\r\n                options.pathname = parsedQuery.pathname;\r\n                options.search = parsedQuery.search;\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n        }\r\n        // Similarly, url.format ignores hostname and port if host is specified,\r\n        // even if host doesn't have the port, but http.request does not work\r\n        // this way. It will use the port if one is not specified in host,\r\n        // effectively treating host as hostname, but will use the port specified\r\n        // in host if it exists.\r\n        if (options.host && options.port) {\r\n            // Force a protocol so it will parse the host as the host, not path.\r\n            // It is discarded and not used, so it doesn't matter if it doesn't match\r\n            try {\r\n                var parsedHost = new url.URL(\"http://\" + options.host);\r\n                if (!parsedHost.port && options.port) {\r\n                    options.hostname = options.host;\r\n                    delete options.host;\r\n                }\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n        }\r\n        // Mix in default values used by http.request and others\r\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || (request.protocol) || undefined;\r\n        options.hostname = options.hostname || \"localhost\";\r\n        return url.format(options);\r\n    };\r\n    return HttpDependencyParser;\r\n}(RequestParser));\r\nmodule.exports = HttpDependencyParser;\r\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar url = require(\"url\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar RequestParser = require(\"./RequestParser\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\nvar Tracestate = require(\"../Library/Tracestate\");\r\nvar Traceparent = require(\"../Library/Traceparent\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Constants_1 = require(\"../Declarations/Constants\");\r\n/**\r\n * Helper class to read data from the request/response objects and convert them into the telemetry contract\r\n */\r\nvar HttpRequestParser = /** @class */ (function (_super) {\r\n    __extends(HttpRequestParser, _super);\r\n    function HttpRequestParser(request, requestId) {\r\n        var _this = _super.call(this) || this;\r\n        if (request) {\r\n            _this.method = request.method;\r\n            _this.url = _this._getAbsoluteUrl(request);\r\n            _this.startTime = +new Date();\r\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\r\n            _this.parseHeaders(request, requestId);\r\n            if (request.connection) {\r\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\r\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\r\n        this._setStatus(undefined, error);\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    };\r\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    };\r\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\r\n        var name = this.method;\r\n        try {\r\n            name += \" \" + new url.URL(this.url).pathname;\r\n        }\r\n        catch (ex) { // Invalid URL\r\n            // Ignore error\r\n        }\r\n        var requestTelemetry = {\r\n            id: this.requestId,\r\n            name: name,\r\n            url: this.url,\r\n            /*\r\n            See https://github.com/microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\r\n            for reference\r\n            */\r\n            source: this.sourceCorrelationId,\r\n            duration: this.duration,\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            success: this._isSuccess(),\r\n            properties: this.properties\r\n        };\r\n        if (baseTelemetry && baseTelemetry.time) {\r\n            requestTelemetry.time = baseTelemetry.time;\r\n        }\r\n        else if (this.startTime) {\r\n            requestTelemetry.time = new Date(this.startTime);\r\n        }\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (var key in baseTelemetry) {\r\n                if (!requestTelemetry[key]) {\r\n                    requestTelemetry[key] = baseTelemetry[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (var key in baseTelemetry.properties) {\r\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n        return requestTelemetry;\r\n    };\r\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\r\n        // create a copy of the context for requests since client info will be used here\r\n        var newTags = {};\r\n        for (var key in tags) {\r\n            newTags[key] = tags[key];\r\n        }\r\n        // don't override tags if they are already set\r\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\r\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(Constants_1.HttpRequestCookieNames.SESSION);\r\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(Constants_1.HttpRequestCookieNames.USER);\r\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(Constants_1.HttpRequestCookieNames.AUTH_USER);\r\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\r\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\r\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\r\n        return newTags;\r\n    };\r\n    HttpRequestParser.prototype.getOperationId = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\r\n    };\r\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\r\n    };\r\n    HttpRequestParser.prototype.getOperationName = function (tags) {\r\n        if (tags[HttpRequestParser.keys.operationName]) {\r\n            return tags[HttpRequestParser.keys.operationName];\r\n        }\r\n        var pathName = \"\";\r\n        try {\r\n            pathName = new url.URL(this.url).pathname;\r\n        }\r\n        catch (ex) { // Invalid URL\r\n            // Ignore error\r\n        }\r\n        var operationName = this.method;\r\n        if (pathName) {\r\n            operationName += \" \" + pathName;\r\n        }\r\n        return operationName;\r\n    };\r\n    HttpRequestParser.prototype.getRequestId = function () {\r\n        return this.requestId;\r\n    };\r\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\r\n        return this.correlationContextHeader;\r\n    };\r\n    HttpRequestParser.prototype.getTraceparent = function () {\r\n        return this.traceparent;\r\n    };\r\n    HttpRequestParser.prototype.getTracestate = function () {\r\n        return this.tracestate;\r\n    };\r\n    HttpRequestParser.prototype.getLegacyRootId = function () {\r\n        return this.legacyRootId;\r\n    };\r\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\r\n        if (!request.headers) {\r\n            return request.url;\r\n        }\r\n        var encrypted = request.connection ? request.connection.encrypted : null;\r\n        var protocol = (encrypted || request.headers[\"x-forwarded-proto\"] == \"https\") ? \"https\" : \"http\";\r\n        var baseUrl = protocol + \"://\" + request.headers.host + \"/\";\r\n        var pathName = \"\";\r\n        var search = \"\";\r\n        try {\r\n            var requestUrl = new url.URL(request.url, baseUrl);\r\n            pathName = requestUrl.pathname;\r\n            search = requestUrl.search;\r\n        }\r\n        catch (ex) {\r\n            // Ignore errors\r\n        }\r\n        var absoluteUrl = url.format({\r\n            protocol: protocol,\r\n            host: request.headers.host,\r\n            pathname: pathName,\r\n            search: search\r\n        });\r\n        return absoluteUrl;\r\n    };\r\n    HttpRequestParser.prototype._getIp = function () {\r\n        // regex to match ipv4 without port\r\n        // Note: including the port would cause the payload to be rejected by the data collector\r\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\r\n        var check = function (str) {\r\n            var results = ipMatch.exec(str);\r\n            if (results) {\r\n                return results[0];\r\n            }\r\n        };\r\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\r\n            || check(this.rawHeaders[\"x-client-ip\"])\r\n            || check(this.rawHeaders[\"x-real-ip\"])\r\n            || check(this.connectionRemoteAddress)\r\n            || check(this.socketRemoteAddress)\r\n            || check(this.legacySocketRemoteAddress);\r\n        // node v12 returns this if the address is \"localhost\"\r\n        if (!ip\r\n            && this.connectionRemoteAddress\r\n            && this.connectionRemoteAddress.substr\r\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\r\n            ip = \"127.0.0.1\";\r\n        }\r\n        return ip;\r\n    };\r\n    HttpRequestParser.prototype._getId = function (name) {\r\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\r\n            typeof this.rawHeaders[\"cookie\"] === \"string\" && this.rawHeaders[\"cookie\"]) || \"\";\r\n        if (name === Constants_1.HttpRequestCookieNames.AUTH_USER) {\r\n            try {\r\n                cookie = decodeURI(cookie);\r\n            }\r\n            catch (error) {\r\n                // Failed to decode, ignore cookie\r\n                cookie = \"\";\r\n                Logging.warn(\"Could not decode the auth cookie with error: \", Util.dumpObj(error));\r\n            }\r\n        }\r\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\r\n        return value;\r\n    };\r\n    /**\r\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\r\n     */\r\n    HttpRequestParser.prototype.setBackCompatFromThisTraceContext = function () {\r\n        // Set operationId\r\n        this.operationId = this.traceparent.traceId;\r\n        if (this.traceparent.legacyRootId) {\r\n            this.legacyRootId = this.traceparent.legacyRootId;\r\n        }\r\n        // Set parentId with existing spanId\r\n        this.parentId = this.traceparent.parentId;\r\n        // Update the spanId and set the current requestId\r\n        this.traceparent.updateSpanId();\r\n        this.requestId = this.traceparent.getBackCompatRequestId();\r\n    };\r\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\r\n        this.rawHeaders = request.headers || request.rawHeaders;\r\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\r\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\r\n        if (request.headers) {\r\n            var tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader] ? request.headers[RequestResponseHeaders.traceStateHeader].toString() : null; // w3c header\r\n            var traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader] ? request.headers[RequestResponseHeaders.traceparentHeader].toString() : null; // w3c header\r\n            var requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader] ? request.headers[RequestResponseHeaders.requestIdHeader].toString() : null; // default AI header\r\n            var legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader] ? request.headers[RequestResponseHeaders.parentIdHeader].toString() : null; // legacy AI header\r\n            var legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader] ? request.headers[RequestResponseHeaders.rootIdHeader].toString() : null; // legacy AI header\r\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader] ? request.headers[RequestResponseHeaders.correlationContextHeader].toString() : null;\r\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\r\n                // Parse W3C Trace Context headers\r\n                this.traceparent = new Traceparent(traceparentHeader ? traceparentHeader.toString() : null); // new traceparent is always created from this\r\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader ? tracestateHeader.toString() : null); // discard tracestate if no traceparent is present\r\n                this.setBackCompatFromThisTraceContext();\r\n            }\r\n            else if (requestIdHeader) {\r\n                // Parse AI headers\r\n                if (CorrelationIdManager.w3cEnabled) {\r\n                    this.traceparent = new Traceparent(null, requestIdHeader);\r\n                    this.setBackCompatFromThisTraceContext();\r\n                }\r\n                else {\r\n                    this.parentId = requestIdHeader;\r\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\r\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n                }\r\n            }\r\n            else {\r\n                // Legacy fallback\r\n                if (CorrelationIdManager.w3cEnabled) {\r\n                    this.traceparent = new Traceparent();\r\n                    this.traceparent.parentId = legacy_parentId;\r\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\r\n                    this.setBackCompatFromThisTraceContext();\r\n                }\r\n                else {\r\n                    this.parentId = legacy_parentId;\r\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\r\n                    this.correlationContextHeader = null;\r\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n                }\r\n            }\r\n            if (requestId) {\r\n                // For the scenarios that don't guarantee an AI-created context,\r\n                // override the requestId with the provided one.\r\n                this.requestId = requestId;\r\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n            }\r\n        }\r\n    };\r\n    HttpRequestParser.parseId = function (cookieValue) {\r\n        var cookieParts = cookieValue.split(\"|\");\r\n        if (cookieParts.length > 0) {\r\n            return cookieParts[0];\r\n        }\r\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\r\n    };\r\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\r\n    return HttpRequestParser;\r\n}(RequestParser));\r\nmodule.exports = HttpRequestParser;\r\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar HttpRequestParser = require(\"./HttpRequestParser\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar AutoCollectPerformance = require(\"./Performance\");\r\nvar AutoCollectHttpRequests = /** @class */ (function () {\r\n    function AutoCollectHttpRequests(client) {\r\n        if (!!AutoCollectHttpRequests.INSTANCE) {\r\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectHttpRequests.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\r\n        this._isEnabled = isEnabled;\r\n        // Autocorrelation requires automatic monitoring of incoming server requests\r\n        // Disabling autocollection but enabling autocorrelation will still enable\r\n        // request monitoring but will not produce request events\r\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\r\n            this.useAutoCorrelation(this._isAutoCorrelating);\r\n            this._initialize();\r\n        }\r\n    };\r\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled, forceClsHooked) {\r\n        if (isEnabled && !this._isAutoCorrelating) {\r\n            CorrelationContextManager_1.CorrelationContextManager.enable(forceClsHooked);\r\n        }\r\n        else if (!isEnabled && this._isAutoCorrelating) {\r\n            CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        }\r\n        this._isAutoCorrelating = isEnabled;\r\n    };\r\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\r\n        return this._isAutoCorrelating;\r\n    };\r\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\r\n        if (!this._isAutoCorrelating) {\r\n            return;\r\n        }\r\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader(), requestParser.getTraceparent(), requestParser.getTracestate());\r\n    };\r\n    AutoCollectHttpRequests.prototype._registerRequest = function (request, response, onRequest) {\r\n        var _this = this;\r\n        // Set up correlation context\r\n        var requestParser = new HttpRequestParser(request);\r\n        var correlationContext = this._generateCorrelationContext(requestParser);\r\n        // Note: Check for if correlation is enabled happens within this method.\r\n        // If not enabled, function will directly call the callback.\r\n        CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\r\n            if (_this._isEnabled) {\r\n                // Mark as auto collected\r\n                request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\r\n                // Auto collect request\r\n                AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser);\r\n            }\r\n            if (typeof onRequest === \"function\") {\r\n                onRequest(request, response);\r\n            }\r\n        });\r\n    };\r\n    AutoCollectHttpRequests.prototype._initialize = function () {\r\n        this._isInitialized = true;\r\n        // Avoid the creation of multiple handler on http(s).createServer\r\n        if (AutoCollectHttpRequests.HANDLER_READY) {\r\n            return;\r\n        }\r\n        AutoCollectHttpRequests.HANDLER_READY = true;\r\n        var wrapOnRequestHandler = function (onRequest) {\r\n            if (!onRequest) {\r\n                return undefined;\r\n            }\r\n            if (typeof onRequest !== \"function\") {\r\n                throw new Error(\"onRequest handler must be a function\");\r\n            }\r\n            return function (request, response) {\r\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\r\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(response);\r\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\r\n                if (request && shouldCollect && AutoCollectHttpRequests.INSTANCE) {\r\n                    AutoCollectHttpRequests.INSTANCE._registerRequest(request, response, onRequest);\r\n                }\r\n                else {\r\n                    onRequest(request, response);\r\n                }\r\n            };\r\n        };\r\n        // The `http.createServer` function will instantiate a new http.Server object.\r\n        // Inside the Server's constructor, it is using addListener to register the\r\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\r\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\r\n        //    the http.createServer call. Or\r\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\r\n        //    fresh server instance. This seems more stable for possible future changes as\r\n        //    it also covers the case where the Server might not use addListener to manage\r\n        //    the callback internally.\r\n        //    And also as long as the constructor uses addListener to add the handle, it is\r\n        //    ok to patch the addListener after construction only. Because if we would patch\r\n        //    the prototype one and the createServer method, we would wrap the handler twice\r\n        //    in case of the constructor call.\r\n        var wrapServerEventHandler = function (server) {\r\n            var originalAddListener = server.addListener.bind(server);\r\n            server.addListener = function (eventType, eventHandler) {\r\n                switch (eventType) {\r\n                    case \"request\":\r\n                    case \"checkContinue\":\r\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\r\n                    default:\r\n                        return originalAddListener(eventType, eventHandler);\r\n                }\r\n            };\r\n            // on is an alias to addListener only\r\n            server.on = server.addListener;\r\n        };\r\n        var originalHttpServer = http.createServer;\r\n        // options parameter was added in Node.js v9.6.0, v8.12.0\r\n        // function createServer(requestListener?: RequestListener): Server;\r\n        // function createServer(options: ServerOptions, requestListener?: RequestListener): Server;\r\n        http.createServer = function (param1, param2) {\r\n            // todo: get a pointer to the server so the IP address can be read from server.address\r\n            if (param2 && typeof param2 === \"function\") {\r\n                var server = originalHttpServer(param1, wrapOnRequestHandler(param2));\r\n                wrapServerEventHandler(server);\r\n                return server;\r\n            }\r\n            else {\r\n                var server = originalHttpServer(wrapOnRequestHandler(param1));\r\n                wrapServerEventHandler(server);\r\n                return server;\r\n            }\r\n        };\r\n        var originalHttpsServer = https.createServer;\r\n        https.createServer = function (options, onRequest) {\r\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\r\n            wrapServerEventHandler(server);\r\n            return server;\r\n        };\r\n    };\r\n    /**\r\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\r\n     */\r\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        telemetry.isProcessed = false;\r\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\r\n        // Overwrite correlation context with request parser results\r\n        if (correlationContext) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\r\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\r\n    };\r\n    /**\r\n     * Tracks a request by listening to the response 'finish' event\r\n     */\r\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        telemetry.isProcessed = false;\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\r\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        }\r\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\r\n        if (correlationContext && !_requestParser) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\r\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n        // response listeners\r\n        if (telemetry.response.once) {\r\n            telemetry.response.once(\"finish\", function () {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\r\n            });\r\n        }\r\n        // track a failed request if an error is emitted\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"error\", function (error) {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\r\n            });\r\n        }\r\n        // track an aborted request if an aborted event is emitted\r\n        // Newer versions of Node.js runtime will trigger error event as well, we need to ensure telemetry is not generated multiple times\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"aborted\", function () {\r\n                var errorMessage = \"The request has been aborted and the network socket has closed.\";\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, errorMessage);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Add the target correlationId to the response headers, if not already provided.\r\n     */\r\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\r\n        if (client.config && client.config.correlationId &&\r\n            response.getHeader && response.setHeader && !response.headersSent) {\r\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\r\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\r\n        }\r\n    };\r\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\r\n        if (telemetry.isProcessed) {\r\n            return;\r\n        }\r\n        telemetry.isProcessed = true;\r\n        if (error) {\r\n            requestParser.onError(error, ellapsedMilliseconds);\r\n        }\r\n        else {\r\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\r\n        }\r\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\r\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\r\n        if (telemetry.tagOverrides) {\r\n            for (var key in telemetry.tagOverrides) {\r\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\r\n            }\r\n        }\r\n        var legacyRootId = requestParser.getLegacyRootId();\r\n        if (legacyRootId) {\r\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\r\n        }\r\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\r\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\r\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\r\n        client.trackRequest(requestTelemetry);\r\n    };\r\n    AutoCollectHttpRequests.prototype.dispose = function () {\r\n        AutoCollectHttpRequests.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n        CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        this._isAutoCorrelating = false;\r\n    };\r\n    AutoCollectHttpRequests.HANDLER_READY = false;\r\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = \"_appInsightsAutoCollected\";\r\n    return AutoCollectHttpRequests;\r\n}());\r\nmodule.exports = AutoCollectHttpRequests;\r\n//# sourceMappingURL=HttpRequests.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AutoCollectNativePerformance = void 0;\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Context = require(\"../Library/Context\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar AutoCollectNativePerformance = /** @class */ (function () {\r\n    function AutoCollectNativePerformance(client) {\r\n        var _a;\r\n        this._disabledMetrics = {};\r\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\r\n        // just disable old native instance and reset JS member variables\r\n        if (AutoCollectNativePerformance.INSTANCE) {\r\n            AutoCollectNativePerformance.INSTANCE.dispose();\r\n        }\r\n        AutoCollectNativePerformance.INSTANCE = this;\r\n        this._client = client;\r\n        this._statsbeat = (_a = this._client) === null || _a === void 0 ? void 0 : _a.getStatsbeat();\r\n    }\r\n    /**\r\n     * Start instance of native metrics agent.\r\n     *\r\n     * @param {boolean} isEnabled\r\n     * @param {number} [collectionInterval=60000]\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype.enable = function (isEnabled, disabledMetrics, collectionInterval) {\r\n        var _this = this;\r\n        if (disabledMetrics === void 0) { disabledMetrics = {}; }\r\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\r\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\r\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\r\n            try {\r\n                var NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\r\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\r\n                AutoCollectNativePerformance._metricsAvailable = true;\r\n                Logging.info(\"Native metrics module successfully loaded!\");\r\n            }\r\n            catch (err) {\r\n                // Package not available. Never try again\r\n                AutoCollectNativePerformance._metricsAvailable = false;\r\n                return;\r\n            }\r\n        }\r\n        this._isEnabled = isEnabled;\r\n        this._disabledMetrics = disabledMetrics;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        // Enable the emitter if we were able to construct one\r\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.addFeature(Constants.StatsbeatFeature.NATIVE_METRICS);\r\n            }\r\n            // enable self\r\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\r\n            if (!this._handle) {\r\n                this._handle = setInterval(function () { return _this._trackNativeMetrics(); }, collectionInterval);\r\n                this._handle.unref();\r\n            }\r\n        }\r\n        else if (AutoCollectNativePerformance._emitter) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.removeFeature(Constants.StatsbeatFeature.NATIVE_METRICS);\r\n            }\r\n            // disable self\r\n            AutoCollectNativePerformance._emitter.enable(false);\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Cleanup this instance of AutoCollectNativePerformance\r\n     *\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype.dispose = function () {\r\n        this.enable(false);\r\n    };\r\n    /**\r\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\r\n     *\r\n     * @private\r\n     * @static\r\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\r\n     * @param {(IBaseConfig)} customConfig\r\n     * @returns {(boolean | IDisabledExtendedMetrics)}\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.parseEnabled = function (collectExtendedMetrics, customConfig) {\r\n        var disableAll = customConfig.disableAllExtendedMetrics;\r\n        var individualOptOuts = customConfig.extendedMetricDisablers;\r\n        // case 1: disable all env var set, RETURN with isEnabled=false\r\n        if (disableAll) {\r\n            return { isEnabled: false, disabledMetrics: {} };\r\n        }\r\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\r\n        if (individualOptOuts) {\r\n            var optOutsArr = individualOptOuts.split(\",\");\r\n            var disabledMetrics = {};\r\n            if (optOutsArr.length > 0) {\r\n                for (var _i = 0, optOutsArr_1 = optOutsArr; _i < optOutsArr_1.length; _i++) {\r\n                    var opt = optOutsArr_1[_i];\r\n                    disabledMetrics[opt] = true;\r\n                }\r\n            }\r\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\r\n            if (typeof collectExtendedMetrics === \"object\") {\r\n                return { isEnabled: true, disabledMetrics: __assign(__assign({}, collectExtendedMetrics), disabledMetrics) };\r\n            }\r\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\r\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: disabledMetrics };\r\n        }\r\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\r\n        if (typeof collectExtendedMetrics === \"boolean\") {\r\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\r\n        }\r\n        else { // use else so we don't need to force typing on collectExtendedMetrics\r\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\r\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\r\n        }\r\n    };\r\n    /**\r\n     * Trigger an iteration of native metrics collection\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackNativeMetrics = function () {\r\n        var shouldSendAll = true;\r\n        if (typeof this._isEnabled !== \"object\") {\r\n            shouldSendAll = this._isEnabled;\r\n        }\r\n        if (shouldSendAll) {\r\n            this._trackGarbageCollection();\r\n            this._trackEventLoop();\r\n            this._trackHeapUsage();\r\n        }\r\n    };\r\n    /**\r\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\r\n     * collection that occurred during this collection interval.\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackGarbageCollection = function () {\r\n        var _a;\r\n        if (this._disabledMetrics.gc) {\r\n            return;\r\n        }\r\n        var gcData = AutoCollectNativePerformance._emitter.getGCData();\r\n        for (var gc in gcData) {\r\n            var metrics = gcData[gc].metrics;\r\n            var name_1 = gc + \" Garbage Collection Duration\";\r\n            var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\r\n            this._client.trackMetric({\r\n                name: name_1,\r\n                value: metrics.total,\r\n                count: metrics.count,\r\n                max: metrics.max,\r\n                min: metrics.min,\r\n                stdDev: stdDev,\r\n                tagOverrides: (_a = {},\r\n                    _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                    _a)\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\r\n     * time spent in event loop for this interval.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackEventLoop = function () {\r\n        var _a;\r\n        if (this._disabledMetrics.loop) {\r\n            return;\r\n        }\r\n        var loopData = AutoCollectNativePerformance._emitter.getLoopData();\r\n        var metrics = loopData.loopUsage;\r\n        if (metrics.count == 0) {\r\n            return;\r\n        }\r\n        var name = \"Event Loop CPU Time\";\r\n        var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\r\n        this._client.trackMetric({\r\n            name: name,\r\n            value: metrics.total,\r\n            count: metrics.count,\r\n            min: metrics.min,\r\n            max: metrics.max,\r\n            stdDev: stdDev,\r\n            tagOverrides: (_a = {},\r\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _a)\r\n        });\r\n    };\r\n    /**\r\n     * Track heap memory usage metrics as a custom metric.\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackHeapUsage = function () {\r\n        var _a, _b, _c;\r\n        if (this._disabledMetrics.heap) {\r\n            return;\r\n        }\r\n        var memoryUsage = process.memoryUsage();\r\n        var heapUsed = memoryUsage.heapUsed, heapTotal = memoryUsage.heapTotal, rss = memoryUsage.rss;\r\n        this._client.trackMetric({\r\n            name: \"Memory Usage (Heap)\",\r\n            value: heapUsed,\r\n            count: 1,\r\n            tagOverrides: (_a = {},\r\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _a)\r\n        });\r\n        this._client.trackMetric({\r\n            name: \"Memory Total (Heap)\",\r\n            value: heapTotal,\r\n            count: 1,\r\n            tagOverrides: (_b = {},\r\n                _b[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _b)\r\n        });\r\n        this._client.trackMetric({\r\n            name: \"Memory Usage (Non-Heap)\",\r\n            value: rss - heapTotal,\r\n            count: 1,\r\n            tagOverrides: (_c = {},\r\n                _c[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _c)\r\n        });\r\n    };\r\n    return AutoCollectNativePerformance;\r\n}());\r\nexports.AutoCollectNativePerformance = AutoCollectNativePerformance;\r\n//# sourceMappingURL=NativePerformance.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NetworkStatsbeat = void 0;\r\nvar NetworkStatsbeat = /** @class */ (function () {\r\n    function NetworkStatsbeat(endpoint, host) {\r\n        this.endpoint = endpoint;\r\n        this.host = host;\r\n        this.totalRequestCount = 0;\r\n        this.totalSuccesfulRequestCount = 0;\r\n        this.totalFailedRequestCount = [];\r\n        this.retryCount = [];\r\n        this.exceptionCount = [];\r\n        this.throttleCount = [];\r\n        this.intervalRequestExecutionTime = 0;\r\n        this.lastIntervalRequestExecutionTime = 0;\r\n        this.lastTime = +new Date;\r\n        this.lastRequestCount = 0;\r\n    }\r\n    return NetworkStatsbeat;\r\n}());\r\nexports.NetworkStatsbeat = NetworkStatsbeat;\r\n//# sourceMappingURL=NetworkStatsbeat.js.map","\"use strict\";\r\nvar os = require(\"os\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar AutoCollectPerformance = /** @class */ (function () {\r\n    /**\r\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\r\n     */\r\n    function AutoCollectPerformance(client, collectionInterval, enableLiveMetricsCounters) {\r\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\r\n        if (enableLiveMetricsCounters === void 0) { enableLiveMetricsCounters = false; }\r\n        this._lastIntervalRequestExecutionTime = 0; // the sum of durations which took place during from app start until last interval\r\n        this._lastIntervalDependencyExecutionTime = 0;\r\n        if (!AutoCollectPerformance.INSTANCE) {\r\n            AutoCollectPerformance.INSTANCE = this;\r\n        }\r\n        this._lastRequests = { totalRequestCount: 0, totalFailedRequestCount: 0, time: 0 };\r\n        this._lastDependencies = { totalDependencyCount: 0, totalFailedDependencyCount: 0, time: 0 };\r\n        this._lastExceptions = { totalExceptionCount: 0, time: 0 };\r\n        this._isInitialized = false;\r\n        this._client = client;\r\n        this._collectionInterval = collectionInterval;\r\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\r\n    }\r\n    AutoCollectPerformance.prototype.enable = function (isEnabled, collectionInterval) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._lastCpus = os.cpus();\r\n                this._lastRequests = {\r\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n                    time: +new Date\r\n                };\r\n                this._lastDependencies = {\r\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\r\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\r\n                    time: +new Date\r\n                };\r\n                this._lastExceptions = {\r\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\r\n                    time: +new Date\r\n                };\r\n                if (typeof process.cpuUsage === \"function\") {\r\n                    this._lastAppCpuUsage = process.cpuUsage();\r\n                }\r\n                this._lastHrtime = process.hrtime();\r\n                this._collectionInterval = collectionInterval || this._collectionInterval;\r\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectPerformance.countRequest = function (duration, success) {\r\n        var durationMs;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        }\r\n        else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        AutoCollectPerformance._intervalRequestExecutionTime += durationMs;\r\n        if (success === false) {\r\n            AutoCollectPerformance._totalFailedRequestCount++;\r\n        }\r\n        AutoCollectPerformance._totalRequestCount++;\r\n    };\r\n    AutoCollectPerformance.countException = function () {\r\n        AutoCollectPerformance._totalExceptionCount++;\r\n    };\r\n    AutoCollectPerformance.countDependency = function (duration, success) {\r\n        var durationMs;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        }\r\n        else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\r\n        if (success === false) {\r\n            AutoCollectPerformance._totalFailedDependencyCount++;\r\n        }\r\n        AutoCollectPerformance._totalDependencyCount++;\r\n    };\r\n    AutoCollectPerformance.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectPerformance.isEnabled = function () {\r\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\r\n    };\r\n    AutoCollectPerformance.prototype.trackPerformance = function () {\r\n        this._trackCpu();\r\n        this._trackMemory();\r\n        this._trackNetwork();\r\n        this._trackDependencyRate();\r\n        this._trackExceptionRate();\r\n    };\r\n    AutoCollectPerformance.prototype._trackCpu = function () {\r\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\r\n        // to find the delta since the last measurement\r\n        var cpus = os.cpus();\r\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\r\n            var totalUser = 0;\r\n            var totalSys = 0;\r\n            var totalNice = 0;\r\n            var totalIdle = 0;\r\n            var totalIrq = 0;\r\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\r\n                var cpu = cpus[i];\r\n                var lastCpu = this._lastCpus[i];\r\n                var name = \"% cpu(\" + i + \") \";\r\n                var model = cpu.model;\r\n                var speed = cpu.speed;\r\n                var times = cpu.times;\r\n                var lastTimes = lastCpu.times;\r\n                // user cpu time (or) % CPU time spent in user space\r\n                var user = (times.user - lastTimes.user) || 0;\r\n                totalUser += user;\r\n                // system cpu time (or) % CPU time spent in kernel space\r\n                var sys = (times.sys - lastTimes.sys) || 0;\r\n                totalSys += sys;\r\n                // user nice cpu time (or) % CPU time spent on low priority processes\r\n                var nice = (times.nice - lastTimes.nice) || 0;\r\n                totalNice += nice;\r\n                // idle cpu time (or) % CPU time spent idle\r\n                var idle = (times.idle - lastTimes.idle) || 0;\r\n                totalIdle += idle;\r\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\r\n                var irq = (times.irq - lastTimes.irq) || 0;\r\n                totalIrq += irq;\r\n            }\r\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\r\n            var appCpuPercent = undefined;\r\n            if (typeof process.cpuUsage === \"function\") {\r\n                var appCpuUsage = process.cpuUsage();\r\n                var hrtime = process.hrtime();\r\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\r\n                if (typeof this._lastHrtime !== \"undefined\" && this._lastHrtime.length === 2) {\r\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\r\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\r\n                }\r\n                // Set previous\r\n                this._lastAppCpuUsage = appCpuUsage;\r\n                this._lastHrtime = hrtime;\r\n            }\r\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\r\n        }\r\n        this._lastCpus = cpus;\r\n    };\r\n    AutoCollectPerformance.prototype._trackMemory = function () {\r\n        var freeMem = os.freemem();\r\n        var usedMem = process.memoryUsage().rss;\r\n        var committedMemory = os.totalmem() - freeMem;\r\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\r\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\r\n        // Only supported by quickpulse service\r\n        if (this._enableLiveMetricsCounters) {\r\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\r\n        }\r\n    };\r\n    AutoCollectPerformance.prototype._trackNetwork = function () {\r\n        // track total request counters\r\n        var lastRequests = this._lastRequests;\r\n        var requests = {\r\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n            time: +new Date\r\n        };\r\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\r\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\r\n        var elapsedMs = requests.time - lastRequests.time;\r\n        var elapsedSeconds = elapsedMs / 1000;\r\n        var averageRequestExecutionTime = ((AutoCollectPerformance._intervalRequestExecutionTime - this._lastIntervalRequestExecutionTime) / intervalRequests) || 0; // default to 0 in case no requests in this interval\r\n        this._lastIntervalRequestExecutionTime = AutoCollectPerformance._intervalRequestExecutionTime; // reset\r\n        if (elapsedMs > 0) {\r\n            var requestsPerSec = intervalRequests / elapsedSeconds;\r\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\r\n            // Only send duration to live metrics if it has been updated!\r\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\r\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\r\n            }\r\n            // Only supported by quickpulse service\r\n            if (this._enableLiveMetricsCounters) {\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\r\n            }\r\n        }\r\n        this._lastRequests = requests;\r\n    };\r\n    // Static counter is accumulated externally. Report the rate to client here\r\n    // Note: This is currently only used with QuickPulse client\r\n    AutoCollectPerformance.prototype._trackDependencyRate = function () {\r\n        if (this._enableLiveMetricsCounters) {\r\n            var lastDependencies = this._lastDependencies;\r\n            var dependencies = {\r\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\r\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\r\n                time: +new Date\r\n            };\r\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\r\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\r\n            var elapsedMs = dependencies.time - lastDependencies.time;\r\n            var elapsedSeconds = elapsedMs / 1000;\r\n            var averageDependencyExecutionTime = ((AutoCollectPerformance._intervalDependencyExecutionTime - this._lastIntervalDependencyExecutionTime) / intervalDependencies) || 0;\r\n            this._lastIntervalDependencyExecutionTime = AutoCollectPerformance._intervalDependencyExecutionTime; // reset\r\n            if (elapsedMs > 0) {\r\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\r\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\r\n                // redundant check for livemetrics, but kept for consistency w/ requests\r\n                // Only send duration to live metrics if it has been updated!\r\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\r\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\r\n                }\r\n            }\r\n            this._lastDependencies = dependencies;\r\n        }\r\n    };\r\n    // Static counter is accumulated externally. Report the rate to client here\r\n    // Note: This is currently only used with QuickPulse client\r\n    AutoCollectPerformance.prototype._trackExceptionRate = function () {\r\n        if (this._enableLiveMetricsCounters) {\r\n            var lastExceptions = this._lastExceptions;\r\n            var exceptions = {\r\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\r\n                time: +new Date\r\n            };\r\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\r\n            var elapsedMs = exceptions.time - lastExceptions.time;\r\n            var elapsedSeconds = elapsedMs / 1000;\r\n            if (elapsedMs > 0) {\r\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\r\n            }\r\n            this._lastExceptions = exceptions;\r\n        }\r\n    };\r\n    AutoCollectPerformance.prototype.dispose = function () {\r\n        AutoCollectPerformance.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectPerformance._totalRequestCount = 0;\r\n    AutoCollectPerformance._totalFailedRequestCount = 0;\r\n    AutoCollectPerformance._totalDependencyCount = 0;\r\n    AutoCollectPerformance._totalFailedDependencyCount = 0;\r\n    AutoCollectPerformance._totalExceptionCount = 0;\r\n    AutoCollectPerformance._intervalDependencyExecutionTime = 0;\r\n    AutoCollectPerformance._intervalRequestExecutionTime = 0;\r\n    return AutoCollectPerformance;\r\n}());\r\nmodule.exports = AutoCollectPerformance;\r\n//# sourceMappingURL=Performance.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar AggregatedMetricCounters_1 = require(\"../Declarations/Metrics/AggregatedMetricCounters\");\r\nvar AggregatedMetricDimensions_1 = require(\"../Declarations/Metrics/AggregatedMetricDimensions\");\r\nvar AutoCollectPreAggregatedMetrics = /** @class */ (function () {\r\n    /**\r\n     * @param client - Telemetry Client\r\n     * @param collectionInterval - Metric collection interval in ms\r\n     */\r\n    function AutoCollectPreAggregatedMetrics(client, collectionInterval) {\r\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\r\n        if (!AutoCollectPreAggregatedMetrics.INSTANCE) {\r\n            AutoCollectPreAggregatedMetrics.INSTANCE = this;\r\n        }\r\n        this._isInitialized = false;\r\n        AutoCollectPreAggregatedMetrics._dependencyCountersCollection = [];\r\n        AutoCollectPreAggregatedMetrics._requestCountersCollection = [];\r\n        AutoCollectPreAggregatedMetrics._exceptionCountersCollection = [];\r\n        AutoCollectPreAggregatedMetrics._traceCountersCollection = [];\r\n        this._client = client;\r\n        this._collectionInterval = collectionInterval;\r\n    }\r\n    AutoCollectPreAggregatedMetrics.prototype.enable = function (isEnabled, collectionInterval) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._collectionInterval = collectionInterval || this._collectionInterval;\r\n                this._handle = setInterval(function () { return _this.trackPreAggregatedMetrics(); }, this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectPreAggregatedMetrics.countException = function (dimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._exceptionCountersCollection);\r\n        counter.totalCount++;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.countTrace = function (dimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._traceCountersCollection);\r\n        counter.totalCount++;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.countRequest = function (duration, dimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        var durationMs;\r\n        var counter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._requestCountersCollection);\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        }\r\n        else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        counter.intervalExecutionTime += durationMs;\r\n        counter.totalCount++;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.countDependency = function (duration, dimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._dependencyCountersCollection);\r\n        var durationMs;\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        }\r\n        else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        counter.intervalExecutionTime += durationMs;\r\n        counter.totalCount++;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.isEnabled = function () {\r\n        return AutoCollectPreAggregatedMetrics.INSTANCE && AutoCollectPreAggregatedMetrics.INSTANCE._isEnabled;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype.trackPreAggregatedMetrics = function () {\r\n        this._trackRequestMetrics();\r\n        this._trackDependencyMetrics();\r\n        this._trackExceptionMetrics();\r\n        this._trackTraceMetrics();\r\n    };\r\n    AutoCollectPreAggregatedMetrics._getAggregatedCounter = function (dimensions, counterCollection) {\r\n        var notMatch = false;\r\n        // Check if counter with specified dimensions is available\r\n        for (var i = 0; i < counterCollection.length; i++) {\r\n            // Same object\r\n            if (dimensions === counterCollection[i].dimensions) {\r\n                return counterCollection[i];\r\n            }\r\n            // Diferent number of keys skip\r\n            if (Object.keys(dimensions).length !== Object.keys(counterCollection[i].dimensions).length) {\r\n                continue;\r\n            }\r\n            // Check dimension values\r\n            for (var dim in dimensions) {\r\n                if (dimensions[dim] != counterCollection[i].dimensions[dim]) {\r\n                    notMatch = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!notMatch) { // Found\r\n                return counterCollection[i];\r\n            }\r\n            notMatch = false;\r\n        }\r\n        // Create a new one if not found\r\n        var newCounter = new AggregatedMetricCounters_1.AggregatedMetricCounter(dimensions);\r\n        counterCollection.push(newCounter);\r\n        return newCounter;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype._trackRequestMetrics = function () {\r\n        for (var i = 0; i < AutoCollectPreAggregatedMetrics._requestCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._requestCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalRequests = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            var averageRequestExecutionTime = ((currentCounter.intervalExecutionTime - currentCounter.lastIntervalExecutionTime) / intervalRequests) || 0;\r\n            currentCounter.lastIntervalExecutionTime = currentCounter.intervalExecutionTime; // reset\r\n            if (elapsedMs > 0 && intervalRequests > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Server response time\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: averageRequestExecutionTime,\r\n                    count: intervalRequests,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.REQUESTS_DURATION\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype._trackDependencyMetrics = function () {\r\n        for (var i = 0; i < AutoCollectPreAggregatedMetrics._dependencyCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._dependencyCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalDependencies = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            var averageDependencyExecutionTime = ((currentCounter.intervalExecutionTime - currentCounter.lastIntervalExecutionTime) / intervalDependencies) || 0;\r\n            currentCounter.lastIntervalExecutionTime = currentCounter.intervalExecutionTime; // reset\r\n            if (elapsedMs > 0 && intervalDependencies > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Dependency duration\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: averageDependencyExecutionTime,\r\n                    count: intervalDependencies,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.DEPENDENCIES_DURATION\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype._trackExceptionMetrics = function () {\r\n        for (var i = 0; i < AutoCollectPreAggregatedMetrics._exceptionCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._exceptionCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalExceptions = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            if (elapsedMs > 0 && intervalExceptions > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Exceptions\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: intervalExceptions,\r\n                    count: intervalExceptions,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.EXCEPTIONS_COUNT\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype._trackTraceMetrics = function () {\r\n        for (var i = 0; i < AutoCollectPreAggregatedMetrics._traceCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._traceCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalTraces = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            if (elapsedMs > 0 && intervalTraces > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Traces\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: intervalTraces,\r\n                    count: intervalTraces,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.TRACES_COUNT\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype._trackPreAggregatedMetric = function (metric) {\r\n        // Build metric properties\r\n        var metricProperties = {};\r\n        for (var dim in metric.dimensions) {\r\n            metricProperties[AggregatedMetricDimensions_1.PreaggregatedMetricPropertyNames[dim]] = metric.dimensions[dim];\r\n        }\r\n        metricProperties = __assign(__assign({}, metricProperties), { \"_MS.MetricId\": metric.metricType, \"_MS.AggregationIntervalMs\": String(metric.aggregationInterval), \"_MS.IsAutocollected\": \"True\" });\r\n        var telemetry = {\r\n            name: metric.name,\r\n            value: metric.value,\r\n            count: metric.count,\r\n            properties: metricProperties,\r\n            kind: \"Aggregation\"\r\n        };\r\n        this._client.trackMetric(telemetry);\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype.dispose = function () {\r\n        AutoCollectPreAggregatedMetrics.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    return AutoCollectPreAggregatedMetrics;\r\n}());\r\nmodule.exports = AutoCollectPreAggregatedMetrics;\r\n//# sourceMappingURL=PreAggregatedMetrics.js.map","\"use strict\";\r\n/**\r\n * Base class for helpers that read data from HTTP request/response objects and convert them\r\n * into the telemetry contract objects.\r\n */\r\nvar RequestParser = /** @class */ (function () {\r\n    function RequestParser() {\r\n    }\r\n    /**\r\n     * Gets a url parsed out from request options\r\n     */\r\n    RequestParser.prototype.getUrl = function () {\r\n        return this.url;\r\n    };\r\n    RequestParser.prototype.RequestParser = function () {\r\n        this.startTime = +new Date();\r\n    };\r\n    RequestParser.prototype._setStatus = function (status, error) {\r\n        var endTime = +new Date();\r\n        this.duration = endTime - this.startTime;\r\n        this.statusCode = status;\r\n        var properties = this.properties || {};\r\n        if (error) {\r\n            if (typeof error === \"string\") {\r\n                properties[\"error\"] = error;\r\n            }\r\n            else if (error instanceof Error) {\r\n                properties[\"error\"] = error.message;\r\n            }\r\n            else if (typeof error === \"object\") {\r\n                for (var key in error) {\r\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\r\n                }\r\n            }\r\n        }\r\n        this.properties = properties;\r\n    };\r\n    RequestParser.prototype._isSuccess = function () {\r\n        return (0 < this.statusCode) && (this.statusCode < 400);\r\n    };\r\n    return RequestParser;\r\n}());\r\nmodule.exports = RequestParser;\r\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar os = require(\"os\");\r\nvar EnvelopeFactory = require(\"../Library/EnvelopeFactory\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Sender = require(\"../Library/Sender\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Vm = require(\"../Library/AzureVirtualMachine\");\r\nvar Config = require(\"../Library/Config\");\r\nvar Context = require(\"../Library/Context\");\r\nvar Network = require(\"./NetworkStatsbeat\");\r\nvar Util = require(\"../Library/Util\");\r\nvar STATSBEAT_LANGUAGE = \"node\";\r\nvar Statsbeat = /** @class */ (function () {\r\n    function Statsbeat(config, context) {\r\n        this._attach = Constants.StatsbeatAttach.sdk; // Default is SDK\r\n        this._feature = Constants.StatsbeatFeature.NONE;\r\n        this._instrumentation = Constants.StatsbeatInstrumentation.NONE;\r\n        this._isInitialized = false;\r\n        this._statbeatMetrics = [];\r\n        this._networkStatsbeatCollection = [];\r\n        this._config = config;\r\n        this._context = context || new Context();\r\n        var statsbeatConnectionString = this._getConnectionString(config);\r\n        this._statsbeatConfig = new Config(statsbeatConnectionString);\r\n        this._statsbeatConfig.samplingPercentage = 100; // Do not sample\r\n        this._sender = new Sender(this._statsbeatConfig, null, null, null, null, true, this._shutdownStatsbeat.bind(this));\r\n    }\r\n    Statsbeat.prototype.enable = function (isEnabled) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._getCustomProperties();\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._handle = setInterval(function () {\r\n                    _this.trackShortIntervalStatsbeats();\r\n                }, Statsbeat.STATS_COLLECTION_SHORT_INTERVAL);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n            if (!this._longHandle) {\r\n                // On first enablement\r\n                this.trackLongIntervalStatsbeats();\r\n                this._longHandle = setInterval(function () {\r\n                    _this.trackLongIntervalStatsbeats();\r\n                }, Statsbeat.STATS_COLLECTION_LONG_INTERVAL);\r\n                this._longHandle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = null;\r\n            }\r\n            if (this._longHandle) {\r\n                clearInterval(this._longHandle);\r\n                this._longHandle = null;\r\n            }\r\n        }\r\n    };\r\n    Statsbeat.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    Statsbeat.prototype.isEnabled = function () {\r\n        return this._isEnabled;\r\n    };\r\n    Statsbeat.prototype.setCodelessAttach = function () {\r\n        this._attach = Constants.StatsbeatAttach.codeless;\r\n    };\r\n    Statsbeat.prototype.addFeature = function (feature) {\r\n        this._feature |= feature;\r\n    };\r\n    Statsbeat.prototype.removeFeature = function (feature) {\r\n        this._feature &= ~feature;\r\n    };\r\n    Statsbeat.prototype.addInstrumentation = function (instrumentation) {\r\n        this._instrumentation |= instrumentation;\r\n    };\r\n    Statsbeat.prototype.removeInstrumentation = function (instrumentation) {\r\n        this._instrumentation &= ~instrumentation;\r\n    };\r\n    Statsbeat.prototype.countRequest = function (endpoint, host, duration, success, statusCode) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        counter.totalRequestCount++;\r\n        counter.intervalRequestExecutionTime += duration;\r\n        if (success === false) {\r\n            if (!statusCode) {\r\n                return;\r\n            }\r\n            var currentStatusCounter = counter.totalFailedRequestCount.find(function (statusCounter) { return statusCode === statusCounter.statusCode; });\r\n            if (currentStatusCounter) {\r\n                currentStatusCounter.count++;\r\n            }\r\n            else {\r\n                counter.totalFailedRequestCount.push({ statusCode: statusCode, count: 1 });\r\n            }\r\n        }\r\n        else {\r\n            counter.totalSuccesfulRequestCount++;\r\n        }\r\n    };\r\n    Statsbeat.prototype.countException = function (endpoint, host, exceptionType) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        var currentErrorCounter = counter.exceptionCount.find(function (exceptionCounter) { return exceptionType.name === exceptionCounter.exceptionType; });\r\n        if (currentErrorCounter) {\r\n            currentErrorCounter.count++;\r\n        }\r\n        else {\r\n            counter.exceptionCount.push({ exceptionType: exceptionType.name, count: 1 });\r\n        }\r\n    };\r\n    Statsbeat.prototype.countThrottle = function (endpoint, host, statusCode) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        var currentStatusCounter = counter.throttleCount.find(function (statusCounter) { return statusCode === statusCounter.statusCode; });\r\n        if (currentStatusCounter) {\r\n            currentStatusCounter.count++;\r\n        }\r\n        else {\r\n            counter.throttleCount.push({ statusCode: statusCode, count: 1 });\r\n        }\r\n    };\r\n    Statsbeat.prototype.countRetry = function (endpoint, host, statusCode) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        var currentStatusCounter = counter.retryCount.find(function (statusCounter) { return statusCode === statusCounter.statusCode; });\r\n        if (currentStatusCounter) {\r\n            currentStatusCounter.count++;\r\n        }\r\n        else {\r\n            counter.retryCount.push({ statusCode: statusCode, count: 1 });\r\n        }\r\n    };\r\n    Statsbeat.prototype.trackShortIntervalStatsbeats = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var networkProperties, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 3, , 4]);\r\n                        return [4 /*yield*/, this._getResourceProvider()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        networkProperties = {\r\n                            \"os\": this._os,\r\n                            \"rp\": this._resourceProvider,\r\n                            \"cikey\": this._cikey,\r\n                            \"runtimeVersion\": this._runtimeVersion,\r\n                            \"language\": this._language,\r\n                            \"version\": this._sdkVersion,\r\n                            \"attach\": this._attach\r\n                        };\r\n                        this._trackRequestDuration(networkProperties);\r\n                        this._trackRequestsCount(networkProperties);\r\n                        return [4 /*yield*/, this._sendStatsbeats()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        Logging.info(Statsbeat.TAG, \"Failed to send Statsbeat metrics: \" + Util.dumpObj(error_1));\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Statsbeat.prototype.trackLongIntervalStatsbeats = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var commonProperties, attachProperties, instrumentationProperties, featureProperties, error_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 3, , 4]);\r\n                        return [4 /*yield*/, this._getResourceProvider()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        commonProperties = {\r\n                            \"os\": this._os,\r\n                            \"rp\": this._resourceProvider,\r\n                            \"cikey\": this._cikey,\r\n                            \"runtimeVersion\": this._runtimeVersion,\r\n                            \"language\": this._language,\r\n                            \"version\": this._sdkVersion,\r\n                            \"attach\": this._attach\r\n                        };\r\n                        attachProperties = Object.assign({\r\n                            \"rpId\": this._resourceIdentifier\r\n                        }, commonProperties);\r\n                        this._statbeatMetrics.push({ name: Constants.StatsbeatCounter.ATTACH, value: 1, properties: attachProperties });\r\n                        if (this._instrumentation != Constants.StatsbeatInstrumentation.NONE) { // Only send if there are some instrumentations enabled\r\n                            instrumentationProperties = Object.assign({ \"feature\": this._instrumentation, \"type\": Constants.StatsbeatFeatureType.Instrumentation }, commonProperties);\r\n                            this._statbeatMetrics.push({ name: Constants.StatsbeatCounter.FEATURE, value: 1, properties: instrumentationProperties });\r\n                        }\r\n                        if (this._feature != Constants.StatsbeatFeature.NONE) { // Only send if there are some features enabled\r\n                            featureProperties = Object.assign({ \"feature\": this._feature, \"type\": Constants.StatsbeatFeatureType.Feature }, commonProperties);\r\n                            this._statbeatMetrics.push({ name: Constants.StatsbeatCounter.FEATURE, value: 1, properties: featureProperties });\r\n                        }\r\n                        return [4 /*yield*/, this._sendStatsbeats()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        error_2 = _a.sent();\r\n                        Logging.info(Statsbeat.TAG, \"Failed to send Statsbeat metrics: \" + Util.dumpObj(error_2));\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Statsbeat.prototype._getNetworkStatsbeatCounter = function (endpoint, host) {\r\n        var shortHost = this._getShortHost(host);\r\n        // Check if counter is available\r\n        for (var i = 0; i < this._networkStatsbeatCollection.length; i++) {\r\n            // Same object\r\n            if (endpoint === this._networkStatsbeatCollection[i].endpoint &&\r\n                shortHost === this._networkStatsbeatCollection[i].host) {\r\n                return this._networkStatsbeatCollection[i];\r\n            }\r\n        }\r\n        // Create a new one if not found\r\n        var newCounter = new Network.NetworkStatsbeat(endpoint, shortHost);\r\n        this._networkStatsbeatCollection.push(newCounter);\r\n        return newCounter;\r\n    };\r\n    Statsbeat.prototype._trackRequestDuration = function (commonProperties) {\r\n        for (var i = 0; i < this._networkStatsbeatCollection.length; i++) {\r\n            var currentCounter = this._networkStatsbeatCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalRequests = (currentCounter.totalRequestCount - currentCounter.lastRequestCount) || 0;\r\n            var totalRequestExecutionTime = currentCounter.intervalRequestExecutionTime - currentCounter.lastIntervalRequestExecutionTime;\r\n            var averageRequestExecutionTime = totalRequestExecutionTime > 0 ? (totalRequestExecutionTime / intervalRequests) || 0 : 0;\r\n            currentCounter.lastIntervalRequestExecutionTime = currentCounter.intervalRequestExecutionTime; // reset\r\n            if (intervalRequests > 0) {\r\n                // Add extra properties\r\n                var properties = Object.assign({\r\n                    \"endpoint\": this._networkStatsbeatCollection[i].endpoint,\r\n                    \"host\": this._networkStatsbeatCollection[i].host\r\n                }, commonProperties);\r\n                this._statbeatMetrics.push({\r\n                    name: Constants.StatsbeatCounter.REQUEST_DURATION,\r\n                    value: averageRequestExecutionTime,\r\n                    properties: properties\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastRequestCount = currentCounter.totalRequestCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    };\r\n    Statsbeat.prototype._getShortHost = function (originalHost) {\r\n        var shortHost = originalHost;\r\n        try {\r\n            var hostRegex = new RegExp(/^https?:\\/\\/(?:www\\.)?([^\\/.-]+)/);\r\n            var res = hostRegex.exec(originalHost);\r\n            if (res != null && res.length > 1) {\r\n                shortHost = res[1];\r\n            }\r\n            shortHost = shortHost.replace(\".in.applicationinsights.azure.com\", \"\");\r\n        }\r\n        catch (error) {\r\n            // Ignore error\r\n        }\r\n        return shortHost;\r\n    };\r\n    Statsbeat.prototype._trackRequestsCount = function (commonProperties) {\r\n        var _this = this;\r\n        var _loop_1 = function (i) {\r\n            currentCounter = this_1._networkStatsbeatCollection[i];\r\n            var properties = Object.assign({ \"endpoint\": currentCounter.endpoint, \"host\": currentCounter.host }, commonProperties);\r\n            if (currentCounter.totalSuccesfulRequestCount > 0) {\r\n                this_1._statbeatMetrics.push({\r\n                    name: Constants.StatsbeatCounter.REQUEST_SUCCESS,\r\n                    value: currentCounter.totalSuccesfulRequestCount,\r\n                    properties: properties\r\n                });\r\n                currentCounter.totalSuccesfulRequestCount = 0; //Reset\r\n            }\r\n            if (currentCounter.totalFailedRequestCount.length > 0) {\r\n                currentCounter.totalFailedRequestCount.forEach(function (currentCounter) {\r\n                    properties = Object.assign(__assign(__assign({}, properties), { \"statusCode\": currentCounter.statusCode }));\r\n                    _this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.REQUEST_FAILURE,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.totalFailedRequestCount = []; //Reset\r\n            }\r\n            if (currentCounter.retryCount.length > 0) {\r\n                currentCounter.retryCount.forEach(function (currentCounter) {\r\n                    properties = Object.assign(__assign(__assign({}, properties), { \"statusCode\": currentCounter.statusCode }));\r\n                    _this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.RETRY_COUNT,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.retryCount = []; //Reset\r\n            }\r\n            if (currentCounter.throttleCount.length > 0) {\r\n                currentCounter.throttleCount.forEach(function (currentCounter) {\r\n                    properties = Object.assign(__assign(__assign({}, properties), { \"statusCode\": currentCounter.statusCode }));\r\n                    _this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.THROTTLE_COUNT,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.throttleCount = []; //Reset\r\n            }\r\n            if (currentCounter.exceptionCount.length > 0) {\r\n                currentCounter.exceptionCount.forEach(function (currentCounter) {\r\n                    properties = Object.assign(__assign(__assign({}, properties), { \"exceptionType\": currentCounter.exceptionType }));\r\n                    _this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.EXCEPTION_COUNT,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.exceptionCount = []; //Reset\r\n            }\r\n        };\r\n        var this_1 = this, currentCounter;\r\n        for (var i = 0; i < this._networkStatsbeatCollection.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n    };\r\n    Statsbeat.prototype._sendStatsbeats = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var envelopes, i, statsbeat, envelope;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        envelopes = [];\r\n                        for (i = 0; i < this._statbeatMetrics.length; i++) {\r\n                            statsbeat = {\r\n                                name: this._statbeatMetrics[i].name,\r\n                                value: this._statbeatMetrics[i].value,\r\n                                properties: this._statbeatMetrics[i].properties\r\n                            };\r\n                            envelope = EnvelopeFactory.createEnvelope(statsbeat, Contracts.TelemetryType.Metric, null, this._context, this._statsbeatConfig);\r\n                            envelope.name = Constants.StatsbeatTelemetryName;\r\n                            envelopes.push(envelope);\r\n                        }\r\n                        this._statbeatMetrics = [];\r\n                        return [4 /*yield*/, this._sender.send(envelopes)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Statsbeat.prototype._getCustomProperties = function () {\r\n        this._language = STATSBEAT_LANGUAGE;\r\n        this._cikey = this._config.instrumentationKey;\r\n        this._sdkVersion = Context.sdkVersion; // \"node\" or \"node-nativeperf\"\r\n        this._os = os.type();\r\n        this._runtimeVersion = process.version;\r\n    };\r\n    Statsbeat.prototype._getResourceProvider = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            // Check resource provider\r\n            var waiting = false;\r\n            _this._resourceProvider = Constants.StatsbeatResourceProvider.unknown;\r\n            _this._resourceIdentifier = Constants.StatsbeatResourceProvider.unknown;\r\n            if (process.env.AKS_ARM_NAMESPACE_ID) { //AKS\r\n                _this._resourceProvider = Constants.StatsbeatResourceProvider.aks;\r\n                _this._resourceIdentifier = process.env.AKS_ARM_NAMESPACE_ID;\r\n            }\r\n            else if (process.env.WEBSITE_SITE_NAME) { // Web apps\r\n                _this._resourceProvider = Constants.StatsbeatResourceProvider.appsvc;\r\n                _this._resourceIdentifier = process.env.WEBSITE_SITE_NAME;\r\n                if (process.env.WEBSITE_HOME_STAMPNAME) {\r\n                    _this._resourceIdentifier += \"/\" + process.env.WEBSITE_HOME_STAMPNAME;\r\n                }\r\n            }\r\n            else if (process.env.FUNCTIONS_WORKER_RUNTIME) { // Function apps\r\n                _this._resourceProvider = Constants.StatsbeatResourceProvider.functions;\r\n                if (process.env.WEBSITE_HOSTNAME) {\r\n                    _this._resourceIdentifier = process.env.WEBSITE_HOSTNAME;\r\n                }\r\n            }\r\n            else if (_this._config) {\r\n                if (_this._isVM === undefined || _this._isVM == true) {\r\n                    waiting = true;\r\n                    Vm.AzureVirtualMachine.getAzureComputeMetadata(_this._config, function (vmInfo) {\r\n                        _this._isVM = vmInfo.isVM;\r\n                        if (_this._isVM) {\r\n                            _this._resourceProvider = Constants.StatsbeatResourceProvider.vm;\r\n                            _this._resourceIdentifier = vmInfo.id + \"/\" + vmInfo.subscriptionId;\r\n                            // Override OS as VM info have higher precedence\r\n                            if (vmInfo.osType) {\r\n                                _this._os = vmInfo.osType;\r\n                            }\r\n                        }\r\n                        resolve();\r\n                    });\r\n                }\r\n                else {\r\n                    _this._resourceProvider = Constants.StatsbeatResourceProvider.unknown;\r\n                }\r\n            }\r\n            if (!waiting) {\r\n                resolve();\r\n            }\r\n        });\r\n    };\r\n    Statsbeat.prototype._shutdownStatsbeat = function () {\r\n        this.enable(false); // Disable Statsbeat as is it failed 3 times consecutively during initialization, is possible SDK is running in private or restricted network\r\n    };\r\n    Statsbeat.prototype._getConnectionString = function (config) {\r\n        var currentEndpoint = config.endpointUrl;\r\n        var euEndpoints = [\r\n            \"westeurope\",\r\n            \"northeurope\",\r\n            \"francecentral\",\r\n            \"francesouth\",\r\n            \"germanywestcentral\",\r\n            \"norwayeast\",\r\n            \"norwaywest\",\r\n            \"swedencentral\",\r\n            \"switzerlandnorth\",\r\n            \"switzerlandwest\",\r\n            \"uksouth\",\r\n            \"ukwest\"\r\n        ];\r\n        for (var i = 0; i < euEndpoints.length; i++) {\r\n            if (currentEndpoint.indexOf(euEndpoints[i]) > -1) {\r\n                return Statsbeat.EU_CONNECTION_STRING;\r\n            }\r\n        }\r\n        return Statsbeat.NON_EU_CONNECTION_STRING;\r\n    };\r\n    Statsbeat.NON_EU_CONNECTION_STRING = \"InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com\";\r\n    Statsbeat.EU_CONNECTION_STRING = \"InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com\";\r\n    Statsbeat.STATS_COLLECTION_SHORT_INTERVAL = 900000; // 15 minutes\r\n    Statsbeat.STATS_COLLECTION_LONG_INTERVAL = 86400000; // 1 day\r\n    Statsbeat.TAG = \"Statsbeat\";\r\n    return Statsbeat;\r\n}());\r\nmodule.exports = Statsbeat;\r\n//# sourceMappingURL=Statsbeat.js.map","\"use strict\";\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar zlib = require(\"zlib\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar snippetInjectionHelper = require(\"../Library/SnippetInjectionHelper\");\r\nvar prefixHelper = require(\"../Library/PrefixHelper\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar ConnectionStringParser = require(\"../Library/ConnectionStringParser\");\r\nvar applicationinsights_web_snippet_1 = require(\"@microsoft/applicationinsights-web-snippet\");\r\nvar WebSnippet = /** @class */ (function () {\r\n    function WebSnippet(client) {\r\n        var _a;\r\n        this._isIkeyValid = true;\r\n        if (!!WebSnippet.INSTANCE) {\r\n            throw new Error(\"Web snippet injection should be configured from the applicationInsights object\");\r\n        }\r\n        WebSnippet.INSTANCE = this;\r\n        // AI URL used to validate if snippet already included\r\n        WebSnippet._aiUrl = Constants.WEB_INSTRUMENTATION_DEFAULT_SOURCE;\r\n        WebSnippet._aiDeprecatedUrl = Constants.WEB_INSTRUMENTATION_DEPRECATED_SOURCE;\r\n        var clientWebIkey = this._getWebSnippetIkey((_a = client.config) === null || _a === void 0 ? void 0 : _a.webInstrumentationConnectionString);\r\n        this._webInstrumentationIkey = clientWebIkey || client.config.instrumentationKey;\r\n        this._clientWebInstrumentationConfig = client.config.webInstrumentationConfig;\r\n        this._clientWebInstrumentationSrc = client.config.webInstrumentationSrc;\r\n        this._statsbeat = client === null || client === void 0 ? void 0 : client.getStatsbeat();\r\n    }\r\n    WebSnippet.prototype.enable = function (isEnabled, webInstrumentationConnectionString) {\r\n        this._isEnabled = isEnabled;\r\n        this._webInstrumentationIkey = this._getWebSnippetIkey(webInstrumentationConnectionString) || this._webInstrumentationIkey;\r\n        WebSnippet._snippet = this._getWebInstrumentationReplacedStr();\r\n        if (this._isEnabled && !this._isInitialized && this._isIkeyValid) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.addFeature(Constants.StatsbeatFeature.BROWSER_SDK_LOADER);\r\n            }\r\n            this._initialize();\r\n        }\r\n        else if (!this._isEnabled) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.removeFeature(Constants.StatsbeatFeature.BROWSER_SDK_LOADER);\r\n            }\r\n        }\r\n    };\r\n    WebSnippet.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    WebSnippet.prototype._getWebSnippetIkey = function (connectionString) {\r\n        var iKey = null;\r\n        try {\r\n            var csCode = ConnectionStringParser.parse(connectionString);\r\n            var iKeyCode = csCode.instrumentationkey || \"\";\r\n            if (!ConnectionStringParser.isIkeyValid(iKeyCode)) {\r\n                this._isIkeyValid = false;\r\n                Logging.info(\"Invalid web Instrumentation connection string, web Instrumentation is not enabled.\");\r\n            }\r\n            else {\r\n                this._isIkeyValid = true;\r\n                iKey = iKeyCode;\r\n            }\r\n        }\r\n        catch (err) {\r\n            Logging.info(\"get web snippet ikey error: \" + err);\r\n        }\r\n        return iKey;\r\n    };\r\n    WebSnippet.prototype._getWebInstrumentationReplacedStr = function () {\r\n        var configStr = this._getClientWebInstrumentationConfigStr(this._clientWebInstrumentationConfig);\r\n        var osStr = prefixHelper.getOsPrefix();\r\n        var rpStr = prefixHelper.getResourceProvider();\r\n        var snippetReplacedStr = this._webInstrumentationIkey + \"\\\",\\r\\n\" + configStr + \" disableIkeyDeprecationMessage: true,\\r\\n sdkExtension: \\\"\" + rpStr + osStr + \"d_n_\";\r\n        var replacedSnippet = applicationinsights_web_snippet_1.webSnippet.replace(\"INSTRUMENTATION_KEY\", snippetReplacedStr);\r\n        if (this._clientWebInstrumentationSrc) {\r\n            return replacedSnippet.replace(Constants.WEB_INSTRUMENTATION_DEFAULT_SOURCE + \".2.min.js\", this._clientWebInstrumentationSrc);\r\n        }\r\n        return replacedSnippet;\r\n    };\r\n    // Do not use string replace here, because double quote should be kept.\r\n    // we want to transfer all values of config to the web snippet in the following way:\r\n    // cfg: {\r\n    //      config1: \"config1 string value\",\r\n    //      config2: true,\r\n    //      config3: 1,\r\n    //      ...\r\n    //}});\r\n    WebSnippet.prototype._getClientWebInstrumentationConfigStr = function (config) {\r\n        var configStr = \"\";\r\n        try {\r\n            if (config != undefined && config.length > 0) {\r\n                config.forEach(function (item) {\r\n                    var key = item.name;\r\n                    if (key === undefined)\r\n                        return;\r\n                    var val = item.value;\r\n                    var entry = \"\";\r\n                    // NOTE: users should convert object/function to string themselves\r\n                    // Type \"function\" and \"object\" will be skipped!\r\n                    switch (typeof val) {\r\n                        case \"function\":\r\n                            break;\r\n                        case \"object\":\r\n                            break;\r\n                        case \"string\":\r\n                            entry = \" \" + key + \": \\\"\" + val + \"\\\",\\r\\n\";\r\n                            configStr += entry;\r\n                            break;\r\n                        default:\r\n                            entry = \" \" + key + \": \" + val + \",\\r\\n\";\r\n                            configStr += entry;\r\n                            break;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (e) {\r\n            // if has any errors here, web Instrumentation will be disabled.\r\n            this._isEnabled = false;\r\n            Logging.info(\"Parse client web instrumentation error. Web Instrumentation is disabled\");\r\n        }\r\n        return configStr;\r\n    };\r\n    WebSnippet.prototype._initialize = function () {\r\n        this._isInitialized = true;\r\n        var originalHttpServer = http.createServer;\r\n        var originalHttpsServer = https.createServer;\r\n        var isEnabled = this._isEnabled;\r\n        http.createServer = function (requestListener) {\r\n            var originalRequestListener = requestListener;\r\n            if (originalRequestListener) {\r\n                requestListener = function (request, response) {\r\n                    // Patch response write method\r\n                    var originalResponseWrite = response.write;\r\n                    var isGetRequest = request.method == \"GET\";\r\n                    response.write = function wrap(a, b, c) {\r\n                        //only patch GET request\r\n                        try {\r\n                            if (isEnabled && isGetRequest) {\r\n                                var headers = snippetInjectionHelper.getContentEncodingFromHeaders(response);\r\n                                var writeBufferType = undefined;\r\n                                if (typeof b === \"string\") {\r\n                                    writeBufferType = b;\r\n                                }\r\n                                if (headers === null || headers === undefined) {\r\n                                    if (WebSnippet.INSTANCE.ValidateInjection(response, a)) {\r\n                                        arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, undefined, writeBufferType);\r\n                                    }\r\n                                }\r\n                                else if (headers.length) {\r\n                                    var encodeType = headers[0];\r\n                                    arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, encodeType);\r\n                                }\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            Logging.warn(\"Inject snippet error: \" + err);\r\n                        }\r\n                        return originalResponseWrite.apply(response, arguments);\r\n                    };\r\n                    // Patch response end method for cases when HTML is added there\r\n                    var originalResponseEnd = response.end;\r\n                    response.end = function wrap(a, b, c) {\r\n                        if (isEnabled && isGetRequest) {\r\n                            try {\r\n                                if (isEnabled && isGetRequest) {\r\n                                    var headers = snippetInjectionHelper.getContentEncodingFromHeaders(response);\r\n                                    var endBufferType = undefined;\r\n                                    if (typeof b === \"string\") {\r\n                                        endBufferType = b;\r\n                                    }\r\n                                    if (headers === null || headers === undefined) {\r\n                                        if (WebSnippet.INSTANCE.ValidateInjection(response, a)) {\r\n                                            arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, undefined, endBufferType);\r\n                                        }\r\n                                    }\r\n                                    else if (headers.length) {\r\n                                        var encodeType = headers[0];\r\n                                        arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, encodeType);\r\n                                    }\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                Logging.warn(\"Inject snipet error: \" + err);\r\n                            }\r\n                        }\r\n                        return originalResponseEnd.apply(response, arguments);\r\n                    };\r\n                    return originalRequestListener(request, response);\r\n                };\r\n            }\r\n            return originalHttpServer(requestListener);\r\n        };\r\n        https.createServer = function (options, httpsRequestListener) {\r\n            var originalHttpsRequestListener = httpsRequestListener;\r\n            if (originalHttpsRequestListener) {\r\n                httpsRequestListener = function (req, res) {\r\n                    var isGetHttpsRequest = req.method == \"GET\";\r\n                    var originalHttpsResponseWrite = res.write;\r\n                    var originalHttpsResponseEnd = res.end;\r\n                    res.write = function wrap(a, b, c) {\r\n                        try {\r\n                            if (isEnabled && isGetHttpsRequest) {\r\n                                var headers = snippetInjectionHelper.getContentEncodingFromHeaders(res);\r\n                                var writeBufferType = undefined;\r\n                                if (typeof b === \"string\") {\r\n                                    writeBufferType = b;\r\n                                }\r\n                                if (headers === null || headers === undefined) {\r\n                                    if (WebSnippet.INSTANCE.ValidateInjection(res, a)) {\r\n                                        arguments[0] = this.InjectWebSnippet(res, a, undefined, writeBufferType);\r\n                                    }\r\n                                }\r\n                                else if (headers.length) {\r\n                                    var encodeType = headers[0];\r\n                                    arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(res, a, encodeType);\r\n                                }\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            Logging.warn(\"Inject snippet error: \" + err);\r\n                        }\r\n                        return originalHttpsResponseWrite.apply(res, arguments);\r\n                    };\r\n                    res.end = function wrap(a, b, c) {\r\n                        try {\r\n                            if (isEnabled && isGetHttpsRequest) {\r\n                                var headers = snippetInjectionHelper.getContentEncodingFromHeaders(res);\r\n                                var endBufferType = undefined;\r\n                                if (typeof b === \"string\") {\r\n                                    endBufferType = b;\r\n                                }\r\n                                if (headers === null || headers === undefined) {\r\n                                    if (WebSnippet.INSTANCE.ValidateInjection(res, a)) {\r\n                                        arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(res, a, undefined, endBufferType);\r\n                                    }\r\n                                }\r\n                                else if (headers.length) {\r\n                                    var encodeType = headers[0];\r\n                                    arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(res, a, encodeType);\r\n                                }\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            Logging.warn(\"Inject snippet error: \" + err);\r\n                        }\r\n                        return originalHttpsResponseEnd.apply(res, arguments);\r\n                    };\r\n                    return originalHttpsRequestListener(req, res);\r\n                };\r\n                return originalHttpsServer(options, httpsRequestListener);\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * Validate response and try to inject Web snippet\r\n     */\r\n    WebSnippet.prototype.ValidateInjection = function (response, input) {\r\n        try {\r\n            if (!response || !input || response.statusCode != 200)\r\n                return false;\r\n            var isContentHtml = snippetInjectionHelper.isContentTypeHeaderHtml(response);\r\n            if (!isContentHtml)\r\n                return false;\r\n            var inputStr = input.slice().toString();\r\n            if (inputStr.indexOf(\"<head>\") >= 0 && inputStr.indexOf(\"</head>\") >= 0) {\r\n                // Check if snippet not already present looking for AI Web SDK URL\r\n                if (inputStr.indexOf(WebSnippet._aiUrl) < 0 && inputStr.indexOf(WebSnippet._aiDeprecatedUrl) < 0) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        catch (err) {\r\n            Logging.info(\"validate injections error: \" + err);\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Inject Web snippet\r\n     */\r\n    WebSnippet.prototype.InjectWebSnippet = function (response, input, encodeType, bufferEncodeType) {\r\n        try {\r\n            var isCompressedBuffer = !!encodeType;\r\n            if (!isCompressedBuffer) {\r\n                var html = input.toString();\r\n                var index = html.indexOf(\"</head>\");\r\n                if (index < 0)\r\n                    return input;\r\n                var newHtml = snippetInjectionHelper.insertSnippetByIndex(index, html, WebSnippet._snippet);\r\n                if (typeof input === \"string\") {\r\n                    response.removeHeader(\"Content-Length\");\r\n                    input = newHtml;\r\n                    response.setHeader(\"Content-Length\", Buffer.byteLength(input));\r\n                }\r\n                else if (Buffer.isBuffer(input)) {\r\n                    var bufferType = bufferEncodeType ? bufferEncodeType : \"utf8\";\r\n                    var isValidBufferType = snippetInjectionHelper.isBufferType(input, bufferType);\r\n                    if (isValidBufferType) {\r\n                        response.removeHeader(\"Content-Length\");\r\n                        var encodedString = Buffer.from(newHtml).toString(bufferType);\r\n                        input = Buffer.from(encodedString, bufferType);\r\n                        response.setHeader(\"Content-Length\", input.length);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                response.removeHeader(\"Content-Length\");\r\n                input = this._getInjectedCompressBuffer(response, input, encodeType);\r\n                response.setHeader(\"Content-Length\", input.length);\r\n            }\r\n        }\r\n        catch (ex) {\r\n            Logging.warn(\"Failed to inject web snippet and change content-lenght headers. Exception:\" + ex);\r\n        }\r\n        return input;\r\n    };\r\n    //***********************\r\n    // should NOT use sync functions here. But currently cannot get async functions to work\r\n    // because reponse.write return boolean\r\n    // and also this function do not support partial compression as well\r\n    // need more investigation\r\n    WebSnippet.prototype._getInjectedCompressBuffer = function (response, input, encodeType) {\r\n        try {\r\n            switch (encodeType) {\r\n                case snippetInjectionHelper.contentEncodingMethod.GZIP:\r\n                    var gunzipBuffer = zlib.gunzipSync(input);\r\n                    if (this.ValidateInjection(response, gunzipBuffer)) {\r\n                        var injectedGunzipBuffer = this.InjectWebSnippet(response, gunzipBuffer);\r\n                        input = zlib.gzipSync(injectedGunzipBuffer);\r\n                    }\r\n                    break;\r\n                case snippetInjectionHelper.contentEncodingMethod.DEFLATE:\r\n                    var inflateBuffer = zlib.inflateSync(input);\r\n                    if (this.ValidateInjection(response, inflateBuffer)) {\r\n                        var injectedInflateBuffer = this.InjectWebSnippet(response, inflateBuffer);\r\n                        input = zlib.deflateSync(injectedInflateBuffer);\r\n                    }\r\n                    break;\r\n                case snippetInjectionHelper.contentEncodingMethod.BR:\r\n                    var BrotliDecompressSync = snippetInjectionHelper.getBrotliDecompressSync(zlib);\r\n                    var BrotliCompressSync = snippetInjectionHelper.getBrotliCompressSync(zlib);\r\n                    if (BrotliDecompressSync && BrotliCompressSync) {\r\n                        var decompressBuffer = BrotliDecompressSync(input);\r\n                        if (this.ValidateInjection(response, decompressBuffer)) {\r\n                            var injectedDecompressBuffer = this.InjectWebSnippet(response, decompressBuffer);\r\n                            input = BrotliCompressSync(injectedDecompressBuffer);\r\n                        }\r\n                        break;\r\n                    }\r\n            }\r\n        }\r\n        catch (err) {\r\n            Logging.info(\"get web injection compress buffer error: \" + err);\r\n        }\r\n        return input;\r\n    };\r\n    WebSnippet.prototype.dispose = function () {\r\n        WebSnippet.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    return WebSnippet;\r\n}());\r\nmodule.exports = WebSnippet;\r\n//# sourceMappingURL=WebSnippet.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parseEventHubSpan = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar api_1 = require(\"@opentelemetry/api\");\r\nvar core_1 = require(\"@opentelemetry/core\");\r\nvar semantic_conventions_1 = require(\"@opentelemetry/semantic-conventions\");\r\nvar Constants_1 = require(\"../../../Declarations/Constants\");\r\n/**\r\n * Average span.links[].attributes.enqueuedTime\r\n */\r\nvar getTimeSinceEnqueued = function (span) {\r\n    var countEnqueueDiffs = 0;\r\n    var sumEnqueueDiffs = 0;\r\n    var startTimeMs = core_1.hrTimeToMilliseconds(span.startTime);\r\n    span.links.forEach(function (_a) {\r\n        var attributes = _a.attributes;\r\n        var enqueuedTime = attributes === null || attributes === void 0 ? void 0 : attributes[Constants_1.ENQUEUED_TIME];\r\n        if (enqueuedTime) {\r\n            countEnqueueDiffs += 1;\r\n            sumEnqueueDiffs += startTimeMs - (parseFloat(enqueuedTime.toString()) || 0);\r\n        }\r\n    });\r\n    return Math.max(sumEnqueueDiffs / (countEnqueueDiffs || 1), 0);\r\n};\r\n/**\r\n * Implementation of Mapping to Azure Monitor\r\n *\r\n * https://gist.github.com/lmolkova/e4215c0f44a49ef824983382762e6b92#file-z_azure_monitor_exporter_mapping-md\r\n */\r\nvar parseEventHubSpan = function (span, telemetry) {\r\n    var _a;\r\n    var namespace = span.attributes[Constants_1.AzNamespace];\r\n    var peerAddress = (span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_NAME] ||\r\n        span.attributes[\"peer.address\"] ||\r\n        \"unknown\").replace(/\\/$/g, \"\"); // remove trailing \"/\"\r\n    var messageBusDestination = (span.attributes[Constants_1.MessageBusDestination] || \"unknown\");\r\n    switch (span.kind) {\r\n        case api_1.SpanKind.CLIENT:\r\n            telemetry.dependencyTypeName = namespace;\r\n            telemetry.target = peerAddress + \"/\" + messageBusDestination;\r\n            break;\r\n        case api_1.SpanKind.PRODUCER:\r\n            telemetry.dependencyTypeName = Constants_1.DependencyTypeName.QueueMessage + \" | \" + namespace;\r\n            telemetry.target = peerAddress + \"/\" + messageBusDestination;\r\n            break;\r\n        case api_1.SpanKind.CONSUMER:\r\n            telemetry.source = peerAddress + \"/\" + messageBusDestination;\r\n            telemetry.measurements = __assign(__assign({}, telemetry.measurements), (_a = {}, _a[Constants_1.TIME_SINCE_ENQUEUED] = getTimeSinceEnqueued(span), _a));\r\n            break;\r\n        default: // no op\r\n    }\r\n};\r\nexports.parseEventHubSpan = parseEventHubSpan;\r\n//# sourceMappingURL=EventHub.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.spanToTelemetryContract = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar url_1 = require(\"url\");\r\nvar api_1 = require(\"@opentelemetry/api\");\r\nvar semantic_conventions_1 = require(\"@opentelemetry/semantic-conventions\");\r\nvar Constants = __importStar(require(\"../../Declarations/Constants\"));\r\nvar EventHub_1 = require(\"./Azure/EventHub\");\r\nvar Util = require(\"../../Library/Util\");\r\nfunction createPropertiesFromSpan(span) {\r\n    var properties = {};\r\n    for (var _i = 0, _a = Object.keys(span.attributes); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        if (!(key.startsWith(\"http.\") ||\r\n            key.startsWith(\"rpc.\") ||\r\n            key.startsWith(\"db.\") ||\r\n            key.startsWith(\"peer.\") ||\r\n            key.startsWith(\"net.\"))) {\r\n            properties[key] = span.attributes[key];\r\n        }\r\n    }\r\n    var links = span.links.map(function (link) { return ({\r\n        operation_Id: link.context.traceId,\r\n        id: link.context.spanId\r\n    }); });\r\n    if (links.length > 0) {\r\n        properties[\"_MS.links\"] = Util.stringify(links);\r\n    }\r\n    return properties;\r\n}\r\nfunction isSqlDB(dbSystem) {\r\n    return (dbSystem === semantic_conventions_1.DbSystemValues.DB2 ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.DERBY ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.MARIADB ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.MSSQL ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.ORACLE ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.SQLITE ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.OTHER_SQL ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.HSQLDB ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.H2);\r\n}\r\nfunction getUrl(span) {\r\n    var httpMethod = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_METHOD];\r\n    if (httpMethod) {\r\n        var httpUrl = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_URL];\r\n        if (httpUrl) {\r\n            return String(httpUrl);\r\n        }\r\n        else {\r\n            var httpScheme = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_SCHEME];\r\n            var httpTarget = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_TARGET];\r\n            if (httpScheme && httpTarget) {\r\n                var httpHost = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_HOST];\r\n                if (httpHost) {\r\n                    return httpScheme + \"://\" + httpHost + httpTarget;\r\n                }\r\n                else {\r\n                    var netPeerPort = span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_PORT];\r\n                    if (netPeerPort) {\r\n                        var netPeerName = span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_NAME];\r\n                        if (netPeerName) {\r\n                            return httpScheme + \"://\" + netPeerName + \":\" + netPeerPort + httpTarget;\r\n                        }\r\n                        else {\r\n                            var netPeerIp = span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_IP];\r\n                            if (netPeerIp) {\r\n                                return httpScheme + \"://\" + netPeerIp + \":\" + netPeerPort + httpTarget;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\nfunction getDependencyTarget(span) {\r\n    var peerService = span.attributes[semantic_conventions_1.SemanticAttributes.PEER_SERVICE];\r\n    var httpHost = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_HOST];\r\n    var httpUrl = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_URL];\r\n    var netPeerName = span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_NAME];\r\n    var netPeerIp = span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_IP];\r\n    if (peerService) {\r\n        return String(peerService);\r\n    }\r\n    else if (httpHost) {\r\n        return String(httpHost);\r\n    }\r\n    else if (httpUrl) {\r\n        return String(httpUrl);\r\n    }\r\n    else if (netPeerName) {\r\n        return String(netPeerName);\r\n    }\r\n    else if (netPeerIp) {\r\n        return String(netPeerIp);\r\n    }\r\n    return \"\";\r\n}\r\nfunction createDependencyData(span) {\r\n    var remoteDependency = {\r\n        name: span.name,\r\n        success: span.status.code != api_1.SpanStatusCode.ERROR,\r\n        resultCode: \"0\",\r\n        duration: 0,\r\n        data: \"\",\r\n        dependencyTypeName: \"\"\r\n    };\r\n    if (span.kind === api_1.SpanKind.PRODUCER) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.QueueMessage;\r\n    }\r\n    if (span.kind === api_1.SpanKind.INTERNAL && span.parentSpanId) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.InProc;\r\n    }\r\n    var httpMethod = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_METHOD];\r\n    var dbSystem = span.attributes[semantic_conventions_1.SemanticAttributes.DB_SYSTEM];\r\n    var rpcSystem = span.attributes[semantic_conventions_1.SemanticAttributes.RPC_SYSTEM];\r\n    // HTTP Dependency\r\n    if (httpMethod) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.Http;\r\n        var httpUrl = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_URL];\r\n        if (httpUrl) {\r\n            var pathName = \"\";\r\n            try {\r\n                var dependencyUrl = new url_1.URL(String(httpUrl));\r\n                pathName = dependencyUrl.pathname;\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n            remoteDependency.name = httpMethod + \" \" + pathName;\r\n        }\r\n        remoteDependency.data = getUrl(span);\r\n        var httpStatusCode = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_STATUS_CODE];\r\n        if (httpStatusCode) {\r\n            remoteDependency.resultCode = String(httpStatusCode);\r\n        }\r\n        var target = getDependencyTarget(span);\r\n        if (target) {\r\n            try {\r\n                // Remove default port\r\n                var portRegex = new RegExp(/(https?)(:\\/\\/.*)(:\\d+)(\\S*)/);\r\n                var res = portRegex.exec(target);\r\n                if (res != null) {\r\n                    var protocol = res[1];\r\n                    var port = res[3];\r\n                    if ((protocol == \"https\" && port == \":443\") || (protocol == \"http\" && port == \":80\")) {\r\n                        // Drop port\r\n                        target = res[1] + res[2] + res[4];\r\n                    }\r\n                }\r\n            }\r\n            catch (error) {\r\n                // Ignore error\r\n            }\r\n            remoteDependency.target = \"\" + target;\r\n        }\r\n    }\r\n    // DB Dependency\r\n    else if (dbSystem) {\r\n        // TODO: Remove special logic when Azure UX supports OpenTelemetry dbSystem\r\n        if (String(dbSystem) === semantic_conventions_1.DbSystemValues.MYSQL) {\r\n            remoteDependency.dependencyTypeName = \"mysql\";\r\n        }\r\n        else if (String(dbSystem) === semantic_conventions_1.DbSystemValues.POSTGRESQL) {\r\n            remoteDependency.dependencyTypeName = \"postgresql\";\r\n        }\r\n        else if (String(dbSystem) === semantic_conventions_1.DbSystemValues.MONGODB) {\r\n            remoteDependency.dependencyTypeName = \"mongodb\";\r\n        }\r\n        else if (String(dbSystem) === semantic_conventions_1.DbSystemValues.REDIS) {\r\n            remoteDependency.dependencyTypeName = \"redis\";\r\n        }\r\n        else if (isSqlDB(String(dbSystem))) {\r\n            remoteDependency.dependencyTypeName = \"SQL\";\r\n        }\r\n        else {\r\n            remoteDependency.dependencyTypeName = String(dbSystem);\r\n        }\r\n        var dbStatement = span.attributes[semantic_conventions_1.SemanticAttributes.DB_STATEMENT];\r\n        var dbOperation = span.attributes[semantic_conventions_1.SemanticAttributes.DB_OPERATION];\r\n        if (dbStatement) {\r\n            remoteDependency.data = String(dbStatement);\r\n        }\r\n        else if (dbOperation) {\r\n            remoteDependency.data = String(dbOperation);\r\n        }\r\n        var target = getDependencyTarget(span);\r\n        var dbName = span.attributes[semantic_conventions_1.SemanticAttributes.DB_NAME];\r\n        if (target) {\r\n            remoteDependency.target = dbName ? target + \"|\" + dbName : \"\" + target;\r\n        }\r\n        else {\r\n            remoteDependency.target = dbName ? \"\" + dbName : \"\" + dbSystem;\r\n        }\r\n    }\r\n    // grpc Dependency\r\n    else if (rpcSystem) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.Grpc;\r\n        var grpcStatusCode = span.attributes[semantic_conventions_1.SemanticAttributes.RPC_GRPC_STATUS_CODE];\r\n        if (grpcStatusCode) {\r\n            remoteDependency.resultCode = String(grpcStatusCode);\r\n        }\r\n        var target = getDependencyTarget(span);\r\n        if (target) {\r\n            remoteDependency.target = \"\" + target;\r\n        }\r\n        else if (rpcSystem) {\r\n            remoteDependency.target = String(rpcSystem);\r\n        }\r\n    }\r\n    return remoteDependency;\r\n}\r\nfunction createRequestData(span) {\r\n    var requestData = {\r\n        name: span.name,\r\n        success: span.status.code != api_1.SpanStatusCode.ERROR,\r\n        resultCode: \"0\",\r\n        duration: 0,\r\n        url: \"\",\r\n        source: undefined\r\n    };\r\n    var httpMethod = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_METHOD];\r\n    var grpcStatusCode = span.attributes[semantic_conventions_1.SemanticAttributes.RPC_GRPC_STATUS_CODE];\r\n    if (httpMethod) {\r\n        // Try to get request name for server spans\r\n        if (span.kind == api_1.SpanKind.SERVER) {\r\n            var httpRoute = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_ROUTE];\r\n            var httpUrl = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_URL];\r\n            if (httpRoute) {\r\n                requestData.name = httpMethod + \" \" + httpRoute;\r\n            }\r\n            else if (httpUrl) {\r\n                try {\r\n                    var url = new url_1.URL(String(httpUrl));\r\n                    requestData.name = httpMethod + \" \" + url.pathname;\r\n                }\r\n                catch (ex) {\r\n                    // Ignore error\r\n                }\r\n            }\r\n        }\r\n        requestData.url = getUrl(span);\r\n        var httpStatusCode = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_STATUS_CODE];\r\n        if (httpStatusCode) {\r\n            requestData.resultCode = String(httpStatusCode);\r\n        }\r\n    }\r\n    else if (grpcStatusCode) {\r\n        requestData.resultCode = String(grpcStatusCode);\r\n    }\r\n    return requestData;\r\n}\r\nfunction spanToTelemetryContract(span) {\r\n    var telemetry;\r\n    switch (span.kind) {\r\n        case api_1.SpanKind.CLIENT:\r\n        case api_1.SpanKind.PRODUCER:\r\n        case api_1.SpanKind.INTERNAL:\r\n            telemetry = createDependencyData(span);\r\n            break;\r\n        case api_1.SpanKind.SERVER:\r\n        case api_1.SpanKind.CONSUMER:\r\n            telemetry = createRequestData(span);\r\n            break;\r\n    }\r\n    var spanContext = span.spanContext ? span.spanContext() : span.context(); // context is available in OT API <v0.19.0\r\n    var id = \"\" + spanContext.spanId;\r\n    var duration = Math.round(span.duration[0] * 1e3 + span.duration[1] / 1e6);\r\n    telemetry.id = id;\r\n    telemetry.duration = duration;\r\n    telemetry.properties = createPropertiesFromSpan(span);\r\n    // Azure SDK\r\n    if (span.attributes[Constants.AzNamespace]) {\r\n        if (span.kind === api_1.SpanKind.INTERNAL) {\r\n            telemetry.dependencyTypeName = Constants.DependencyTypeName.InProc + \" | \" + span.attributes[Constants.AzNamespace];\r\n        }\r\n        if (span.attributes[Constants.AzNamespace] === Constants.MicrosoftEventHub) {\r\n            EventHub_1.parseEventHubSpan(span, telemetry);\r\n        }\r\n    }\r\n    return telemetry;\r\n}\r\nexports.spanToTelemetryContract = spanToTelemetryContract;\r\n//# sourceMappingURL=SpanParser.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.subscriber = void 0;\r\nvar api_1 = require(\"@opentelemetry/api\");\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar SpanParser = __importStar(require(\"./SpanParser\"));\r\nvar AsyncHooksScopeManager_1 = require(\"../AsyncHooksScopeManager\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    try {\r\n        var span_1 = event.data;\r\n        var telemetry_1 = SpanParser.spanToTelemetryContract(span_1);\r\n        AsyncHooksScopeManager_1.AsyncScopeManager.with(span_1, function () {\r\n            clients.forEach(function (client) {\r\n                if (span_1.kind === api_1.SpanKind.SERVER || span_1.kind === api_1.SpanKind.CONSUMER) {\r\n                    client.trackRequest(telemetry_1);\r\n                }\r\n                else if (span_1.kind === api_1.SpanKind.CLIENT || span_1.kind === api_1.SpanKind.INTERNAL || span_1.kind === api_1.SpanKind.PRODUCER) {\r\n                    client.trackDependency(telemetry_1);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    catch (err) {\r\n        { /** ignore errors */ }\r\n    }\r\n};\r\nexports.subscriber = subscriber;\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"azure-coretracing\", exports.subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.AZURE_CORE_TRACING);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"azure-coretracing\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=azure-coretracing.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.dispose = exports.enable = void 0;\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\r\nvar bunyanToAILevelMap = {\r\n    10: Contracts_1.SeverityLevel.Verbose,\r\n    20: Contracts_1.SeverityLevel.Verbose,\r\n    30: Contracts_1.SeverityLevel.Information,\r\n    40: Contracts_1.SeverityLevel.Warning,\r\n    50: Contracts_1.SeverityLevel.Error,\r\n    60: Contracts_1.SeverityLevel.Critical\r\n};\r\nvar subscriber = function (event) {\r\n    var message = event.data.result;\r\n    var AIlevel = bunyanToAILevelMap[event.data.level];\r\n    clients.forEach(function (client) {\r\n        try {\r\n            // Try to parse message as Bunyan log is JSON\r\n            var log = JSON.parse(message);\r\n            if (log.err) {\r\n                var bunyanError = new Error(log.err.message);\r\n                bunyanError.name = log.err.name;\r\n                bunyanError.stack = log.err.stack;\r\n                if (client.config.enableLoggerErrorToTrace) {\r\n                    client.trackTrace({ message: message, severity: AIlevel });\r\n                    return;\r\n                }\r\n                client.trackException({ exception: bunyanError });\r\n                return;\r\n            }\r\n        }\r\n        catch (err) {\r\n            // Ignore error\r\n        }\r\n        client.trackTrace({ message: message, severity: AIlevel });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.BUNYAN);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\nfunction dispose() {\r\n    diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\r\n    clients = [];\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.dispose = exports.enable = void 0;\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    var message = event.data.message;\r\n    clients.forEach(function (client) {\r\n        if (message instanceof Error && !client.config.enableLoggerErrorToTrace) {\r\n            client.trackException({ exception: message });\r\n        }\r\n        else if (message instanceof Error) {\r\n            // If logging errors as traces return the error as a string and mark severity as error\r\n            client.trackTrace({ message: message.toString(), severity: (event.data.stderr ? Contracts_1.SeverityLevel.Error : Contracts_1.SeverityLevel.Information) });\r\n        }\r\n        else {\r\n            // Message can have a trailing newline\r\n            if (message.lastIndexOf(\"\\n\") == message.length - 1) {\r\n                message = message.substring(0, message.length - 1);\r\n            }\r\n            client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\r\n        }\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.CONSOLE);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\nfunction dispose() {\r\n    diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\r\n    clients = [];\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.registerContextPreservation = exports.IsInitialized = void 0;\r\nvar Logging = require(\"../../Library/Logging\");\r\nvar JsonConfig_1 = require(\"../../Library/JsonConfig\");\r\nexports.IsInitialized = !JsonConfig_1.JsonConfig.getInstance().noDiagnosticChannel;\r\nvar TAG = \"DiagnosticChannel\";\r\nif (exports.IsInitialized) {\r\n    var publishers = require(\"diagnostic-channel-publishers\");\r\n    var individualOptOuts = JsonConfig_1.JsonConfig.getInstance().noPatchModules;\r\n    var unpatchedModules = individualOptOuts.split(\",\");\r\n    var modules = {\r\n        bunyan: publishers.bunyan,\r\n        console: publishers.console,\r\n        mongodb: publishers.mongodb,\r\n        mongodbCore: publishers.mongodbCore,\r\n        mysql: publishers.mysql,\r\n        redis: publishers.redis,\r\n        pg: publishers.pg,\r\n        pgPool: publishers.pgPool,\r\n        winston: publishers.winston,\r\n        azuresdk: publishers.azuresdk\r\n    };\r\n    for (var mod in modules) {\r\n        if (unpatchedModules.indexOf(mod) === -1) {\r\n            modules[mod].enable();\r\n            Logging.info(TAG, \"Subscribed to \" + mod + \" events\");\r\n        }\r\n    }\r\n    if (unpatchedModules.length > 0) {\r\n        Logging.info(TAG, \"Some modules will not be patched\", unpatchedModules);\r\n    }\r\n}\r\nelse {\r\n    Logging.info(TAG, \"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set\");\r\n}\r\nfunction registerContextPreservation(cb) {\r\n    if (!exports.IsInitialized) {\r\n        return;\r\n    }\r\n    var diagChannel = require(\"diagnostic-channel\");\r\n    diagChannel.channel.addContextPreservation(cb);\r\n}\r\nexports.registerContextPreservation = registerContextPreservation;\r\n//# sourceMappingURL=initialization.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.subscriber = void 0;\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    if (event.data.event.commandName === \"ismaster\") {\r\n        // suppress noisy ismaster commands\r\n        return;\r\n    }\r\n    clients.forEach(function (client) {\r\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\r\n        client.trackDependency({\r\n            target: dbName,\r\n            data: event.data.event.commandName,\r\n            name: event.data.event.commandName,\r\n            duration: event.data.event.duration,\r\n            success: event.data.succeeded,\r\n            /* TODO: transmit result code from mongo */\r\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\r\n            time: event.data.startedData.time,\r\n            dependencyTypeName: \"mongodb\"\r\n        });\r\n    });\r\n};\r\nexports.subscriber = subscriber;\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.MONGODB);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.subscriber = void 0;\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var queryObj = event.data.query || {};\r\n        var sqlString = queryObj.sql || \"Unknown query\";\r\n        var success = !event.data.err;\r\n        var connection = queryObj._connection || {};\r\n        var connectionConfig = connection.config || {};\r\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\r\n        client.trackDependency({\r\n            target: dbName,\r\n            data: sqlString,\r\n            name: sqlString,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            /* TODO: transmit result code from mysql */\r\n            resultCode: success ? \"0\" : \"1\",\r\n            time: event.data.time,\r\n            dependencyTypeName: \"mysql\"\r\n        });\r\n    });\r\n};\r\nexports.subscriber = subscriber;\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.MYSQL);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.subscriber = void 0;\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var q = event.data.query;\r\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\r\n        var success = !event.data.error;\r\n        var conn = event.data.database.host + \":\" + event.data.database.port;\r\n        client.trackDependency({\r\n            target: conn,\r\n            data: sql,\r\n            name: sql,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            resultCode: success ? \"0\" : \"1\",\r\n            time: event.data.time,\r\n            dependencyTypeName: \"postgres\"\r\n        });\r\n    });\r\n};\r\nexports.subscriber = subscriber;\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.POSTGRES);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.subscriber = void 0;\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        if (event.data.commandObj.command === \"info\") {\r\n            // We don't want to report 'info', it's irrelevant\r\n            return;\r\n        }\r\n        client.trackDependency({\r\n            target: event.data.address,\r\n            name: event.data.commandObj.command,\r\n            data: event.data.commandObj.command,\r\n            duration: event.data.duration,\r\n            success: !event.data.err,\r\n            /* TODO: transmit result code from redis */\r\n            resultCode: event.data.err ? \"1\" : \"0\",\r\n            time: event.data.time,\r\n            dependencyTypeName: \"redis\"\r\n        });\r\n    });\r\n};\r\nexports.subscriber = subscriber;\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.REDIS);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.dispose = exports.enable = void 0;\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar winstonToAILevelMap = {\r\n    syslog: function (og) {\r\n        var map = {\r\n            emerg: Contracts_1.SeverityLevel.Critical,\r\n            alert: Contracts_1.SeverityLevel.Critical,\r\n            crit: Contracts_1.SeverityLevel.Critical,\r\n            error: Contracts_1.SeverityLevel.Error,\r\n            warning: Contracts_1.SeverityLevel.Warning,\r\n            notice: Contracts_1.SeverityLevel.Information,\r\n            info: Contracts_1.SeverityLevel.Information,\r\n            debug: Contracts_1.SeverityLevel.Verbose\r\n        };\r\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\r\n    },\r\n    npm: function (og) {\r\n        var map = {\r\n            error: Contracts_1.SeverityLevel.Error,\r\n            warn: Contracts_1.SeverityLevel.Warning,\r\n            info: Contracts_1.SeverityLevel.Information,\r\n            verbose: Contracts_1.SeverityLevel.Verbose,\r\n            debug: Contracts_1.SeverityLevel.Verbose,\r\n            silly: Contracts_1.SeverityLevel.Verbose\r\n        };\r\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\r\n    },\r\n    unknown: function (og) {\r\n        return Contracts_1.SeverityLevel.Information;\r\n    }\r\n};\r\nvar subscriber = function (event) {\r\n    var message = event.data.message;\r\n    var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\r\n    clients.forEach(function (client) {\r\n        if (message instanceof Error && !client.config.enableLoggerErrorToTrace) {\r\n            client.trackException({\r\n                exception: message,\r\n                properties: event.data.meta\r\n            });\r\n        }\r\n        else if (message instanceof Error) {\r\n            client.trackTrace({\r\n                message: message.toString(),\r\n                severity: AIlevel,\r\n                properties: event.data.meta\r\n            });\r\n        }\r\n        else {\r\n            client.trackTrace({\r\n                message: message,\r\n                severity: AIlevel,\r\n                properties: event.data.meta\r\n            });\r\n        }\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.WINSTON);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\nfunction dispose() {\r\n    diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\r\n    clients = [];\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WEB_INSTRUMENTATION_DEPRECATED_SOURCE = exports.WEB_INSTRUMENTATION_DEFAULT_SOURCE = exports.TIME_SINCE_ENQUEUED = exports.ENQUEUED_TIME = exports.MessageBusDestination = exports.MicrosoftEventHub = exports.AzNamespace = exports.AttachTypePrefix = exports.HttpRequestCookieNames = exports.StatsbeatNetworkCategory = exports.StatsbeatFeatureType = exports.StatsbeatInstrumentation = exports.StatsbeatFeature = exports.StatsbeatCounter = exports.StatsbeatAttach = exports.StatsbeatResourceProvider = exports.StatsbeatTelemetryName = exports.HeartBeatMetricName = exports.DependencyTypeName = exports.TelemetryTypeStringToQuickPulseDocumentType = exports.TelemetryTypeStringToQuickPulseType = exports.QuickPulseType = exports.QuickPulseDocumentType = exports.PerformanceToQuickPulseCounter = exports.MetricId = exports.PerformanceCounter = exports.QuickPulseCounter = exports.DEFAULT_LIVEMETRICS_HOST = exports.DEFAULT_LIVEMETRICS_ENDPOINT = exports.DEFAULT_BREEZE_ENDPOINT = exports.APPLICATION_INSIGHTS_SDK_VERSION = void 0;\r\nexports.APPLICATION_INSIGHTS_SDK_VERSION = \"2.9.5\";\r\nexports.DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\r\nexports.DEFAULT_LIVEMETRICS_ENDPOINT = \"https://rt.services.visualstudio.com\";\r\nexports.DEFAULT_LIVEMETRICS_HOST = \"rt.services.visualstudio.com\";\r\nvar QuickPulseCounter;\r\n(function (QuickPulseCounter) {\r\n    // Memory\r\n    QuickPulseCounter[\"COMMITTED_BYTES\"] = \"\\\\Memory\\\\Committed Bytes\";\r\n    // CPU\r\n    QuickPulseCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\r\n    // Request\r\n    QuickPulseCounter[\"REQUEST_RATE\"] = \"\\\\ApplicationInsights\\\\Requests/Sec\";\r\n    QuickPulseCounter[\"REQUEST_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Requests Failed/Sec\";\r\n    QuickPulseCounter[\"REQUEST_DURATION\"] = \"\\\\ApplicationInsights\\\\Request Duration\";\r\n    // Dependency\r\n    QuickPulseCounter[\"DEPENDENCY_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls/Sec\";\r\n    QuickPulseCounter[\"DEPENDENCY_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls Failed/Sec\";\r\n    QuickPulseCounter[\"DEPENDENCY_DURATION\"] = \"\\\\ApplicationInsights\\\\Dependency Call Duration\";\r\n    // Exception\r\n    QuickPulseCounter[\"EXCEPTION_RATE\"] = \"\\\\ApplicationInsights\\\\Exceptions/Sec\";\r\n})(QuickPulseCounter = exports.QuickPulseCounter || (exports.QuickPulseCounter = {}));\r\nvar PerformanceCounter;\r\n(function (PerformanceCounter) {\r\n    // Memory\r\n    PerformanceCounter[\"PRIVATE_BYTES\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\";\r\n    PerformanceCounter[\"AVAILABLE_BYTES\"] = \"\\\\Memory\\\\Available Bytes\";\r\n    // CPU\r\n    PerformanceCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\r\n    PerformanceCounter[\"PROCESS_TIME\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\";\r\n    // Requests\r\n    PerformanceCounter[\"REQUEST_RATE\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\";\r\n    PerformanceCounter[\"REQUEST_DURATION\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\";\r\n})(PerformanceCounter = exports.PerformanceCounter || (exports.PerformanceCounter = {}));\r\nvar MetricId;\r\n(function (MetricId) {\r\n    MetricId[\"REQUESTS_DURATION\"] = \"requests/duration\";\r\n    MetricId[\"DEPENDENCIES_DURATION\"] = \"dependencies/duration\";\r\n    MetricId[\"EXCEPTIONS_COUNT\"] = \"exceptions/count\";\r\n    MetricId[\"TRACES_COUNT\"] = \"traces/count\";\r\n})(MetricId = exports.MetricId || (exports.MetricId = {}));\r\n/**\r\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\r\n */\r\nexports.PerformanceToQuickPulseCounter = (_a = {},\r\n    _a[PerformanceCounter.PROCESSOR_TIME] = QuickPulseCounter.PROCESSOR_TIME,\r\n    _a[PerformanceCounter.REQUEST_RATE] = QuickPulseCounter.REQUEST_RATE,\r\n    _a[PerformanceCounter.REQUEST_DURATION] = QuickPulseCounter.REQUEST_DURATION,\r\n    // Remap quick pulse only counters\r\n    _a[QuickPulseCounter.COMMITTED_BYTES] = QuickPulseCounter.COMMITTED_BYTES,\r\n    _a[QuickPulseCounter.REQUEST_FAILURE_RATE] = QuickPulseCounter.REQUEST_FAILURE_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_RATE] = QuickPulseCounter.DEPENDENCY_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_FAILURE_RATE] = QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_DURATION] = QuickPulseCounter.DEPENDENCY_DURATION,\r\n    _a[QuickPulseCounter.EXCEPTION_RATE] = QuickPulseCounter.EXCEPTION_RATE,\r\n    _a);\r\nexports.QuickPulseDocumentType = {\r\n    Event: \"Event\",\r\n    Exception: \"Exception\",\r\n    Trace: \"Trace\",\r\n    Metric: \"Metric\",\r\n    Request: \"Request\",\r\n    Dependency: \"RemoteDependency\",\r\n    Availability: \"Availability\",\r\n    PageView: \"PageView\"\r\n};\r\nexports.QuickPulseType = {\r\n    Event: \"EventTelemetryDocument\",\r\n    Exception: \"ExceptionTelemetryDocument\",\r\n    Trace: \"TraceTelemetryDocument\",\r\n    Metric: \"MetricTelemetryDocument\",\r\n    Request: \"RequestTelemetryDocument\",\r\n    Dependency: \"DependencyTelemetryDocument\",\r\n    Availability: \"AvailabilityTelemetryDocument\",\r\n    PageView: \"PageViewTelemetryDocument\"\r\n};\r\nexports.TelemetryTypeStringToQuickPulseType = {\r\n    EventData: exports.QuickPulseType.Event,\r\n    ExceptionData: exports.QuickPulseType.Exception,\r\n    MessageData: exports.QuickPulseType.Trace,\r\n    MetricData: exports.QuickPulseType.Metric,\r\n    RequestData: exports.QuickPulseType.Request,\r\n    RemoteDependencyData: exports.QuickPulseType.Dependency,\r\n    AvailabilityData: exports.QuickPulseType.Availability,\r\n    PageViewData: exports.QuickPulseType.PageView\r\n};\r\nexports.TelemetryTypeStringToQuickPulseDocumentType = {\r\n    EventData: exports.QuickPulseDocumentType.Event,\r\n    ExceptionData: exports.QuickPulseDocumentType.Exception,\r\n    MessageData: exports.QuickPulseDocumentType.Trace,\r\n    MetricData: exports.QuickPulseDocumentType.Metric,\r\n    RequestData: exports.QuickPulseDocumentType.Request,\r\n    RemoteDependencyData: exports.QuickPulseDocumentType.Dependency,\r\n    AvailabilityData: exports.QuickPulseDocumentType.Availability,\r\n    PageViewData: exports.QuickPulseDocumentType.PageView\r\n};\r\nexports.DependencyTypeName = {\r\n    Grpc: \"GRPC\",\r\n    Http: \"HTTP\",\r\n    InProc: \"InProc\",\r\n    Sql: \"SQL\",\r\n    QueueMessage: \"Queue Message\"\r\n};\r\nexports.HeartBeatMetricName = \"HeartbeatState\";\r\nexports.StatsbeatTelemetryName = \"Statsbeat\";\r\nexports.StatsbeatResourceProvider = {\r\n    appsvc: \"appsvc\",\r\n    aks: \"aks\",\r\n    functions: \"functions\",\r\n    vm: \"vm\",\r\n    unknown: \"unknown\"\r\n};\r\nexports.StatsbeatAttach = {\r\n    codeless: \"IntegratedAuto\",\r\n    sdk: \"Manual\"\r\n};\r\nexports.StatsbeatCounter = {\r\n    REQUEST_SUCCESS: \"Request_Success_Count\",\r\n    REQUEST_FAILURE: \"Request_Failure_Count\",\r\n    REQUEST_DURATION: \"Request_Duration\",\r\n    RETRY_COUNT: \"Retry_Count\",\r\n    THROTTLE_COUNT: \"Throttle_Count\",\r\n    EXCEPTION_COUNT: \"Exception_Count\",\r\n    ATTACH: \"Attach\",\r\n    FEATURE: \"Feature\"\r\n};\r\nvar StatsbeatFeature;\r\n(function (StatsbeatFeature) {\r\n    StatsbeatFeature[StatsbeatFeature[\"NONE\"] = 0] = \"NONE\";\r\n    StatsbeatFeature[StatsbeatFeature[\"DISK_RETRY\"] = 1] = \"DISK_RETRY\";\r\n    StatsbeatFeature[StatsbeatFeature[\"AAD_HANDLING\"] = 2] = \"AAD_HANDLING\";\r\n    StatsbeatFeature[StatsbeatFeature[\"BROWSER_SDK_LOADER\"] = 4] = \"BROWSER_SDK_LOADER\";\r\n    StatsbeatFeature[StatsbeatFeature[\"LIVE_METRICS\"] = 16] = \"LIVE_METRICS\";\r\n    StatsbeatFeature[StatsbeatFeature[\"NATIVE_METRICS\"] = 8192] = \"NATIVE_METRICS\";\r\n})(StatsbeatFeature = exports.StatsbeatFeature || (exports.StatsbeatFeature = {}));\r\nvar StatsbeatInstrumentation;\r\n(function (StatsbeatInstrumentation) {\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"NONE\"] = 0] = \"NONE\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"AZURE_CORE_TRACING\"] = 1] = \"AZURE_CORE_TRACING\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"MONGODB\"] = 2] = \"MONGODB\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"MYSQL\"] = 4] = \"MYSQL\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"REDIS\"] = 8] = \"REDIS\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"POSTGRES\"] = 16] = \"POSTGRES\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"BUNYAN\"] = 32] = \"BUNYAN\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"WINSTON\"] = 64] = \"WINSTON\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"CONSOLE\"] = 128] = \"CONSOLE\";\r\n})(StatsbeatInstrumentation = exports.StatsbeatInstrumentation || (exports.StatsbeatInstrumentation = {}));\r\nvar StatsbeatFeatureType;\r\n(function (StatsbeatFeatureType) {\r\n    StatsbeatFeatureType[StatsbeatFeatureType[\"Feature\"] = 0] = \"Feature\";\r\n    StatsbeatFeatureType[StatsbeatFeatureType[\"Instrumentation\"] = 1] = \"Instrumentation\";\r\n})(StatsbeatFeatureType = exports.StatsbeatFeatureType || (exports.StatsbeatFeatureType = {}));\r\nvar StatsbeatNetworkCategory;\r\n(function (StatsbeatNetworkCategory) {\r\n    StatsbeatNetworkCategory[StatsbeatNetworkCategory[\"Breeze\"] = 0] = \"Breeze\";\r\n    StatsbeatNetworkCategory[StatsbeatNetworkCategory[\"Quickpulse\"] = 1] = \"Quickpulse\";\r\n})(StatsbeatNetworkCategory = exports.StatsbeatNetworkCategory || (exports.StatsbeatNetworkCategory = {}));\r\nvar HttpRequestCookieNames;\r\n(function (HttpRequestCookieNames) {\r\n    HttpRequestCookieNames[\"SESSION\"] = \"ai_session\";\r\n    HttpRequestCookieNames[\"USER\"] = \"ai_user\";\r\n    HttpRequestCookieNames[\"AUTH_USER\"] = \"ai_authUser\";\r\n})(HttpRequestCookieNames = exports.HttpRequestCookieNames || (exports.HttpRequestCookieNames = {}));\r\nvar AttachTypePrefix;\r\n(function (AttachTypePrefix) {\r\n    AttachTypePrefix[\"INTEGRATED_AUTO\"] = \"i\";\r\n    AttachTypePrefix[\"MANUAL\"] = \"m\";\r\n})(AttachTypePrefix = exports.AttachTypePrefix || (exports.AttachTypePrefix = {}));\r\n//Azure SDK Span Attributes\r\nexports.AzNamespace = \"az.namespace\";\r\nexports.MicrosoftEventHub = \"Microsoft.EventHub\";\r\nexports.MessageBusDestination = \"message_bus.destination\";\r\n/**\r\n * AI enqueued time attribute.\r\n * @internal\r\n */\r\nexports.ENQUEUED_TIME = \"enqueuedTime\";\r\n/**\r\n * AI time since enqueued attribute.\r\n * @internal\r\n */\r\nexports.TIME_SINCE_ENQUEUED = \"timeSinceEnqueued\";\r\nexports.WEB_INSTRUMENTATION_DEFAULT_SOURCE = \"https://js.monitor.azure.com/scripts/b/ai\";\r\nexports.WEB_INSTRUMENTATION_DEPRECATED_SOURCE = \"https://az416426.vo.msecnd.net/scripts/b/ai\";\r\n//# sourceMappingURL=Constants.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.domainSupportsProperties = exports.RemoteDependencyDataConstants = void 0;\r\nvar Generated_1 = require(\"./Generated\");\r\nvar RemoteDependencyDataConstants = /** @class */ (function () {\r\n    function RemoteDependencyDataConstants() {\r\n    }\r\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\r\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\r\n    return RemoteDependencyDataConstants;\r\n}());\r\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\r\nfunction domainSupportsProperties(domain) {\r\n    return \"properties\" in domain || // Do extra typechecks in case the type supports it but properties is null/undefined\r\n        domain instanceof Generated_1.EventData ||\r\n        domain instanceof Generated_1.ExceptionData ||\r\n        domain instanceof Generated_1.MessageData ||\r\n        domain instanceof Generated_1.MetricData ||\r\n        domain instanceof Generated_1.PageViewData ||\r\n        domain instanceof Generated_1.RemoteDependencyData ||\r\n        domain instanceof Generated_1.RequestData;\r\n}\r\nexports.domainSupportsProperties = domainSupportsProperties;\r\n//# sourceMappingURL=Constants.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of AvailabilityData represent the result of executing an availability test.\r\n */\r\nvar AvailabilityData = /** @class */ (function (_super) {\r\n    __extends(AvailabilityData, _super);\r\n    function AvailabilityData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return AvailabilityData;\r\n}(Domain));\r\nmodule.exports = AvailabilityData;\r\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Data struct to contain only C section with custom fields.\r\n */\r\nvar Base = /** @class */ (function () {\r\n    function Base() {\r\n    }\r\n    return Base;\r\n}());\r\nmodule.exports = Base;\r\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nvar ContextTagKeys = /** @class */ (function () {\r\n    function ContextTagKeys() {\r\n        this.applicationVersion = \"ai.application.ver\";\r\n        this.deviceId = \"ai.device.id\";\r\n        this.deviceLocale = \"ai.device.locale\";\r\n        this.deviceModel = \"ai.device.model\";\r\n        this.deviceOEMName = \"ai.device.oemName\";\r\n        this.deviceOSVersion = \"ai.device.osVersion\";\r\n        this.deviceType = \"ai.device.type\";\r\n        this.locationIp = \"ai.location.ip\";\r\n        this.operationId = \"ai.operation.id\";\r\n        this.operationName = \"ai.operation.name\";\r\n        this.operationParentId = \"ai.operation.parentId\";\r\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\r\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\r\n        this.sessionId = \"ai.session.id\";\r\n        this.sessionIsFirst = \"ai.session.isFirst\";\r\n        this.userAccountId = \"ai.user.accountId\";\r\n        this.userId = \"ai.user.id\";\r\n        this.userAuthUserId = \"ai.user.authUserId\";\r\n        this.cloudRole = \"ai.cloud.role\";\r\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\r\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\r\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\r\n        this.internalNodeName = \"ai.internal.nodeName\";\r\n    }\r\n    return ContextTagKeys;\r\n}());\r\nmodule.exports = ContextTagKeys;\r\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Base = require(\"./Base\");\r\n\"use strict\";\r\n/**\r\n * Data struct to contain both B and C sections.\r\n */\r\nvar Data = /** @class */ (function (_super) {\r\n    __extends(Data, _super);\r\n    function Data() {\r\n        return _super.call(this) || this;\r\n    }\r\n    return Data;\r\n}(Base));\r\nmodule.exports = Data;\r\n//# sourceMappingURL=Data.js.map","\"use strict\";\r\n// THIS FILE WAS AUTOGENERATED\r\nvar DataPointType = require(\"./DataPointType\");\r\n\"use strict\";\r\n/**\r\n * Metric data single measurement.\r\n */\r\nvar DataPoint = /** @class */ (function () {\r\n    function DataPoint() {\r\n        this.kind = DataPointType.Measurement;\r\n    }\r\n    return DataPoint;\r\n}());\r\nmodule.exports = DataPoint;\r\n//# sourceMappingURL=DataPoint.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Type of the metric data measurement.\r\n */\r\nvar DataPointType;\r\n(function (DataPointType) {\r\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\r\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\r\n})(DataPointType || (DataPointType = {}));\r\nmodule.exports = DataPointType;\r\n//# sourceMappingURL=DataPointType.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * The abstract common base of all domains.\r\n */\r\nvar Domain = /** @class */ (function () {\r\n    function Domain() {\r\n    }\r\n    return Domain;\r\n}());\r\nmodule.exports = Domain;\r\n//# sourceMappingURL=Domain.js.map","\"use strict\";\r\n/**\r\n * System variables for a telemetry item.\r\n */\r\nvar Envelope = /** @class */ (function () {\r\n    function Envelope() {\r\n        this.ver = 1;\r\n        this.sampleRate = 100.0;\r\n        this.tags = {};\r\n    }\r\n    return Envelope;\r\n}());\r\nmodule.exports = Envelope;\r\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\r\n */\r\nvar EventData = /** @class */ (function (_super) {\r\n    __extends(EventData, _super);\r\n    function EventData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return EventData;\r\n}(Domain));\r\nmodule.exports = EventData;\r\n//# sourceMappingURL=EventData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\r\n */\r\nvar ExceptionData = /** @class */ (function (_super) {\r\n    __extends(ExceptionData, _super);\r\n    function ExceptionData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.exceptions = [];\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return ExceptionData;\r\n}(Domain));\r\nmodule.exports = ExceptionData;\r\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\r\n/**\r\n * Exception details of the exception in a chain.\r\n */\r\nvar ExceptionDetails = /** @class */ (function () {\r\n    function ExceptionDetails() {\r\n        this.hasFullStack = true;\r\n        this.parsedStack = [];\r\n    }\r\n    return ExceptionDetails;\r\n}());\r\nmodule.exports = ExceptionDetails;\r\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\r\n */\r\nvar MessageData = /** @class */ (function (_super) {\r\n    __extends(MessageData, _super);\r\n    function MessageData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MessageData;\r\n}(Domain));\r\nmodule.exports = MessageData;\r\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\r\n */\r\nvar MetricData = /** @class */ (function (_super) {\r\n    __extends(MetricData, _super);\r\n    function MetricData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.metrics = [];\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MetricData;\r\n}(Domain));\r\nmodule.exports = MetricData;\r\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar EventData = require(\"./EventData\");\r\n\"use strict\";\r\n/**\r\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\r\n */\r\nvar PageViewData = /** @class */ (function (_super) {\r\n    __extends(PageViewData, _super);\r\n    function PageViewData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return PageViewData;\r\n}(EventData));\r\nmodule.exports = PageViewData;\r\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\r\n */\r\nvar RemoteDependencyData = /** @class */ (function (_super) {\r\n    __extends(RemoteDependencyData, _super);\r\n    function RemoteDependencyData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.success = true;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RemoteDependencyData;\r\n}(Domain));\r\nmodule.exports = RemoteDependencyData;\r\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\r\n */\r\nvar RequestData = /** @class */ (function (_super) {\r\n    __extends(RequestData, _super);\r\n    function RequestData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RequestData;\r\n}(Domain));\r\nmodule.exports = RequestData;\r\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Defines the level of severity for the event.\r\n */\r\nvar SeverityLevel;\r\n(function (SeverityLevel) {\r\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\r\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\r\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\r\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\r\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\r\n})(SeverityLevel || (SeverityLevel = {}));\r\nmodule.exports = SeverityLevel;\r\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Stack frame information.\r\n */\r\nvar StackFrame = /** @class */ (function () {\r\n    function StackFrame() {\r\n    }\r\n    return StackFrame;\r\n}());\r\nmodule.exports = StackFrame;\r\n//# sourceMappingURL=StackFrame.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AvailabilityData = require(\"./AvailabilityData\");\r\nexports.Base = require(\"./Base\");\r\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\r\nexports.Data = require(\"./Data\");\r\nexports.DataPoint = require(\"./DataPoint\");\r\nexports.DataPointType = require(\"./DataPointType\");\r\nexports.Domain = require(\"./Domain\");\r\nexports.Envelope = require(\"./Envelope\");\r\nexports.EventData = require(\"./EventData\");\r\nexports.ExceptionData = require(\"./ExceptionData\");\r\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\r\nexports.MessageData = require(\"./MessageData\");\r\nexports.MetricData = require(\"./MetricData\");\r\nexports.PageViewData = require(\"./PageViewData\");\r\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\r\nexports.RequestData = require(\"./RequestData\");\r\nexports.SeverityLevel = require(\"./SeverityLevel\");\r\nexports.StackFrame = require(\"./StackFrame\");\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=DependencyDocumentQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=DocumentQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EnvelopeQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EventDocumentQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=ExceptionDocumentQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=MessageDocumentQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=MetricQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=RequestDocumentQuickPulse.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./MetricQuickPulse\"), exports);\r\n__exportStar(require(\"./EnvelopeQuickPulse\"), exports);\r\n__exportStar(require(\"./DocumentQuickPulse\"), exports);\r\n__exportStar(require(\"./ExceptionDocumentQuickPulse\"), exports);\r\n__exportStar(require(\"./MessageDocumentQuickPulse\"), exports);\r\n__exportStar(require(\"./DependencyDocumentQuickPulse\"), exports);\r\n__exportStar(require(\"./RequestDocumentQuickPulse\"), exports);\r\n__exportStar(require(\"./EventDocumentQuickPulse\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=AvailabilityTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=DependencyTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EnvelopeTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EventTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=ExceptionTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=MetricTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=NodeHttpDependencyTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=NodeHttpRequestTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=PageViewTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=RequestTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=Telemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TelemetryType = exports.TelemetryTypeString = exports.baseTypeToTelemetryType = exports.telemetryTypeToBaseType = void 0;\r\n/**\r\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\r\n * @param type Type to convert to BaseData string\r\n */\r\nfunction telemetryTypeToBaseType(type) {\r\n    switch (type) {\r\n        case TelemetryType.Event:\r\n            return \"EventData\";\r\n        case TelemetryType.Exception:\r\n            return \"ExceptionData\";\r\n        case TelemetryType.Trace:\r\n            return \"MessageData\";\r\n        case TelemetryType.Metric:\r\n            return \"MetricData\";\r\n        case TelemetryType.Request:\r\n            return \"RequestData\";\r\n        case TelemetryType.Dependency:\r\n            return \"RemoteDependencyData\";\r\n        case TelemetryType.Availability:\r\n            return \"AvailabilityData\";\r\n        case TelemetryType.PageView:\r\n            return \"PageViewData\";\r\n    }\r\n    return undefined;\r\n}\r\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\r\n/**\r\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\r\n * @param baseType BaseData string to convert to TelemetryType\r\n */\r\nfunction baseTypeToTelemetryType(baseType) {\r\n    switch (baseType) {\r\n        case \"EventData\":\r\n            return TelemetryType.Event;\r\n        case \"ExceptionData\":\r\n            return TelemetryType.Exception;\r\n        case \"MessageData\":\r\n            return TelemetryType.Trace;\r\n        case \"MetricData\":\r\n            return TelemetryType.Metric;\r\n        case \"RequestData\":\r\n            return TelemetryType.Request;\r\n        case \"RemoteDependencyData\":\r\n            return TelemetryType.Dependency;\r\n        case \"AvailabilityData\":\r\n            return TelemetryType.Availability;\r\n        case \"PageViewData\":\r\n            return TelemetryType.PageView;\r\n    }\r\n    return undefined;\r\n}\r\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\r\nexports.TelemetryTypeString = {\r\n    Event: \"EventData\",\r\n    Exception: \"ExceptionData\",\r\n    Trace: \"MessageData\",\r\n    Metric: \"MetricData\",\r\n    Request: \"RequestData\",\r\n    Dependency: \"RemoteDependencyData\",\r\n    Availability: \"AvailabilityData\",\r\n    PageView: \"PageViewData\"\r\n};\r\n/**\r\n * Telemetry types supported by this SDK\r\n */\r\nvar TelemetryType;\r\n(function (TelemetryType) {\r\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\r\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\r\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\r\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\r\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\r\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\r\n    TelemetryType[TelemetryType[\"Availability\"] = 6] = \"Availability\";\r\n    TelemetryType[TelemetryType[\"PageView\"] = 7] = \"PageView\";\r\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\r\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=TraceTelemetry.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./DependencyTelemetry\"), exports);\r\n__exportStar(require(\"./EventTelemetry\"), exports);\r\n__exportStar(require(\"./ExceptionTelemetry\"), exports);\r\n__exportStar(require(\"./MetricTelemetry\"), exports);\r\n__exportStar(require(\"./RequestTelemetry\"), exports);\r\n__exportStar(require(\"./TraceTelemetry\"), exports);\r\n__exportStar(require(\"./Telemetry\"), exports);\r\n__exportStar(require(\"./NodeHttpDependencyTelemetry\"), exports);\r\n__exportStar(require(\"./NodeHttpRequestTelemetry\"), exports);\r\n__exportStar(require(\"./AvailabilityTelemetry\"), exports);\r\n__exportStar(require(\"./PageViewTelemetry\"), exports);\r\n__exportStar(require(\"./EnvelopeTelemetry\"), exports);\r\n__exportStar(require(\"./TelemetryType\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./Constants\"), exports);\r\n__exportStar(require(\"./Generated\"), exports);\r\n__exportStar(require(\"./TelemetryTypes\"), exports);\r\n__exportStar(require(\"./QuickPulseTypes\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AggregatedMetricCounter = void 0;\r\nvar AggregatedMetricCounter = /** @class */ (function () {\r\n    function AggregatedMetricCounter(dimensions) {\r\n        this.dimensions = dimensions;\r\n        this.totalCount = 0;\r\n        this.lastTotalCount = 0;\r\n        this.intervalExecutionTime = 0;\r\n        this.lastTime = +new Date;\r\n        this.lastIntervalExecutionTime = 0;\r\n    }\r\n    return AggregatedMetricCounter;\r\n}());\r\nexports.AggregatedMetricCounter = AggregatedMetricCounter;\r\n//# sourceMappingURL=AggregatedMetricCounters.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PreaggregatedMetricPropertyNames = void 0;\r\n// Names expected in Breeze side for dimensions\r\nexports.PreaggregatedMetricPropertyNames = {\r\n    cloudRoleInstance: \"cloud/roleInstance\",\r\n    cloudRoleName: \"cloud/roleName\",\r\n    operationSynthetic: \"operation/synthetic\",\r\n    requestSuccess: \"Request.Success\",\r\n    requestResultCode: \"request/resultCode\",\r\n    dependencyType: \"Dependency.Type\",\r\n    dependencyTarget: \"dependency/target\",\r\n    dependencySuccess: \"Dependency.Success\",\r\n    dependencyResultCode: \"dependency/resultCode\",\r\n    traceSeverityLevel: \"trace/severityLevel\"\r\n};\r\n//# sourceMappingURL=AggregatedMetricDimensions.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar azureCore = require(\"@azure/core-rest-pipeline\");\r\nvar applicationInsightsResource = \"https://monitor.azure.com//.default\";\r\nfunction emptySendRequest(_request) {\r\n    return null;\r\n}\r\nvar AuthorizationHandler = /** @class */ (function () {\r\n    function AuthorizationHandler(credential, aadAudience) {\r\n        var scopes = aadAudience ? [aadAudience] : [applicationInsightsResource];\r\n        this._azureTokenPolicy = azureCore.bearerTokenAuthenticationPolicy({ credential: credential, scopes: scopes });\r\n    }\r\n    /**\r\n    * Applies the Bearer token to the request through the Authorization header.\r\n    */\r\n    AuthorizationHandler.prototype.addAuthorizationHeader = function (requestOptions) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authHeaderName, webResource;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        authHeaderName = \"authorization\";\r\n                        webResource = azureCore.createPipelineRequest({ url: \"https://\" });\r\n                        return [4 /*yield*/, this._azureTokenPolicy.sendRequest(webResource, emptySendRequest)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        requestOptions.headers[authHeaderName] = webResource.headers.get(authHeaderName);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return AuthorizationHandler;\r\n}());\r\nmodule.exports = AuthorizationHandler;\r\n//# sourceMappingURL=AuthorizationHandler.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AzureVirtualMachine = void 0;\r\nvar Logging = require(\"./Logging\");\r\nvar Util = require(\"./Util\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar AIMS_URI = \"http://169.254.169.254/metadata/instance/compute\";\r\nvar AIMS_API_VERSION = \"api-version=2017-12-01\";\r\nvar AIMS_FORMAT = \"format=json\";\r\nvar ConnectionErrorMessage = \"UNREACH\"; // EHOSTUNREACH, ENETUNREACH\r\nvar AzureVirtualMachine = /** @class */ (function () {\r\n    function AzureVirtualMachine() {\r\n    }\r\n    AzureVirtualMachine.getAzureComputeMetadata = function (config, callback) {\r\n        var _a;\r\n        var _this = this;\r\n        var vmInfo = {};\r\n        var metadataRequestUrl = AIMS_URI + \"?\" + AIMS_API_VERSION + \"&\" + AIMS_FORMAT;\r\n        var requestOptions = (_a = {\r\n                method: \"GET\"\r\n            },\r\n            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\r\n            _a.headers = {\r\n                \"Metadata\": \"True\"\r\n            },\r\n            _a);\r\n        var req = Util.makeRequest(config, metadataRequestUrl, requestOptions, function (res) {\r\n            if (res.statusCode === 200) {\r\n                // Success; VM\r\n                vmInfo.isVM = true;\r\n                var virtualMachineData_1 = \"\";\r\n                res.on(\"data\", function (data) {\r\n                    virtualMachineData_1 += data;\r\n                });\r\n                res.on(\"end\", function () {\r\n                    try {\r\n                        var data = JSON.parse(virtualMachineData_1);\r\n                        vmInfo.id = data[\"vmId\"] || \"\";\r\n                        vmInfo.subscriptionId = data[\"subscriptionId\"] || \"\";\r\n                        vmInfo.osType = data[\"osType\"] || \"\";\r\n                    }\r\n                    catch (error) {\r\n                        // Failed to parse JSON\r\n                        Logging.info(AzureVirtualMachine.TAG, error);\r\n                    }\r\n                    callback(vmInfo);\r\n                });\r\n            }\r\n            else {\r\n                callback(vmInfo);\r\n            }\r\n        }, false, false);\r\n        if (req) {\r\n            setTimeout(function () {\r\n                _this._requestTimedOut = true;\r\n                req.abort();\r\n            }, AzureVirtualMachine.HTTP_TIMEOUT);\r\n            req.on(\"error\", function (error) {\r\n                // Unable to contact endpoint.\r\n                // Do nothing for now.\r\n                if (_this._requestTimedOut) {\r\n                    if (error) {\r\n                        error.name = \"telemetry timeout\";\r\n                        error.message = \"telemetry request timed out\";\r\n                    }\r\n                }\r\n                if (error && error.message && error.message.indexOf(ConnectionErrorMessage) > -1) {\r\n                    vmInfo.isVM = false; // confirm it's not in VM\r\n                }\r\n                else {\r\n                    // Only log when is not determined if VM or not to avoid noise outside of Azure VMs\r\n                    Logging.info(AzureVirtualMachine.TAG, error);\r\n                }\r\n                callback(vmInfo);\r\n            });\r\n            req.end();\r\n        }\r\n    };\r\n    AzureVirtualMachine.HTTP_TIMEOUT = 2500; // 2.5 seconds\r\n    AzureVirtualMachine.TAG = \"AzureVirtualMachine\";\r\n    return AzureVirtualMachine;\r\n}());\r\nexports.AzureVirtualMachine = AzureVirtualMachine;\r\n//# sourceMappingURL=AzureVirtualMachine.js.map","\"use strict\";\r\nvar Logging = require(\"./Logging\");\r\nvar Util = require(\"./Util\");\r\nvar Channel = /** @class */ (function () {\r\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\r\n        this._buffer = [];\r\n        this._lastSend = 0;\r\n        this._isDisabled = isDisabled;\r\n        this._getBatchSize = getBatchSize;\r\n        this._getBatchIntervalMs = getBatchIntervalMs;\r\n        this._sender = sender;\r\n    }\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occurred while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\r\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\r\n    };\r\n    /**\r\n     * Add a telemetry item to the send buffer\r\n     */\r\n    Channel.prototype.send = function (envelope) {\r\n        var _this = this;\r\n        // if master off switch is set, don't send any data\r\n        if (this._isDisabled()) {\r\n            // Do not send/save data\r\n            return;\r\n        }\r\n        // validate input\r\n        if (!envelope) {\r\n            Logging.warn(\"Cannot send null/undefined telemetry\");\r\n            return;\r\n        }\r\n        // enqueue the payload\r\n        this._buffer.push(envelope);\r\n        // flush if we would exceed the max-size limit by adding this item\r\n        if (this._buffer.length >= this._getBatchSize()) {\r\n            this.triggerSend(false);\r\n            return;\r\n        }\r\n        // ensure an invocation timeout is set if anything is in the buffer\r\n        if (!this._timeoutHandle && this._buffer.length > 0) {\r\n            this._timeoutHandle = setTimeout(function () {\r\n                _this._timeoutHandle = null;\r\n                _this.triggerSend(false);\r\n            }, this._getBatchIntervalMs());\r\n        }\r\n    };\r\n    /**\r\n     * Immediately send buffered data\r\n     */\r\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\r\n        var bufferIsEmpty = this._buffer.length < 1;\r\n        if (!bufferIsEmpty) {\r\n            // invoke send\r\n            if (isNodeCrashing || Util.isNodeExit) {\r\n                this._sender.saveOnCrash(this._buffer);\r\n                if (typeof callback === \"function\") {\r\n                    callback(\"data saved on crash\");\r\n                }\r\n            }\r\n            else {\r\n                this._sender.send(this._buffer, callback);\r\n            }\r\n        }\r\n        // update lastSend time to enable throttling\r\n        this._lastSend = +new Date;\r\n        // clear buffer\r\n        this._buffer = [];\r\n        clearTimeout(this._timeoutHandle);\r\n        this._timeoutHandle = null;\r\n        if (bufferIsEmpty && typeof callback === \"function\") {\r\n            callback(\"no data to send\");\r\n        }\r\n    };\r\n    return Channel;\r\n}());\r\nmodule.exports = Channel;\r\n//# sourceMappingURL=Channel.js.map","\"use strict\";\r\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\r\nvar ConnectionStringParser = require(\"./ConnectionStringParser\");\r\nvar Logging = require(\"./Logging\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar url = require(\"url\");\r\nvar JsonConfig_1 = require(\"./JsonConfig\");\r\nvar Config = /** @class */ (function () {\r\n    function Config(setupString) {\r\n        this._endpointBase = Constants.DEFAULT_BREEZE_ENDPOINT;\r\n        // Load config values from env variables and JSON if available\r\n        this._mergeConfig();\r\n        var connectionStringEnv = this._connectionString;\r\n        var csCode = ConnectionStringParser.parse(setupString);\r\n        var csEnv = ConnectionStringParser.parse(connectionStringEnv);\r\n        var iKeyCode = !csCode.instrumentationkey && Object.keys(csCode).length > 0\r\n            ? null // CS was valid but instrumentation key was not provided, null and grab from env var\r\n            : setupString; // CS was invalid, so it must be an ikey\r\n        var instrumentationKeyEnv = this._instrumentationKey;\r\n        this.instrumentationKey = csCode.instrumentationkey || iKeyCode /* === instrumentationKey */ || csEnv.instrumentationkey || instrumentationKeyEnv;\r\n        var endpoint = \"\" + (this.endpointUrl || csCode.ingestionendpoint || csEnv.ingestionendpoint || this._endpointBase);\r\n        if (endpoint.endsWith(\"/\")) {\r\n            // Remove extra '/' if present\r\n            endpoint = endpoint.slice(0, -1);\r\n        }\r\n        this.endpointUrl = endpoint + \"/v2.1/track\";\r\n        this.maxBatchSize = this.maxBatchSize || 250;\r\n        this.maxBatchIntervalMs = this.maxBatchIntervalMs || 15000;\r\n        this.disableAppInsights = this.disableAppInsights || false;\r\n        this.samplingPercentage = this.samplingPercentage || 100;\r\n        this.correlationIdRetryIntervalMs = this.correlationIdRetryIntervalMs || 30 * 1000;\r\n        this.enableWebInstrumentation = this.enableWebInstrumentation || this.enableAutoWebSnippetInjection || false;\r\n        this.webInstrumentationConfig = this.webInstrumentationConfig || null;\r\n        this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n        this.correlationHeaderExcludedDomains =\r\n            this.correlationHeaderExcludedDomains ||\r\n                [\r\n                    \"*.core.windows.net\",\r\n                    \"*.core.chinacloudapi.cn\",\r\n                    \"*.core.cloudapi.de\",\r\n                    \"*.core.usgovcloudapi.net\",\r\n                    \"*.core.microsoft.scloud\",\r\n                    \"*.core.eaglex.ic.gov\"\r\n                ];\r\n        this.ignoreLegacyHeaders = this.ignoreLegacyHeaders || false;\r\n        this.profileQueryEndpoint = csCode.ingestionendpoint || csEnv.ingestionendpoint || process.env[Config.ENV_profileQueryEndpoint] || this._endpointBase;\r\n        this.quickPulseHost = this.quickPulseHost || csCode.liveendpoint || csEnv.liveendpoint || process.env[Config.ENV_quickPulseHost] || Constants.DEFAULT_LIVEMETRICS_HOST;\r\n        this.webInstrumentationConnectionString = this.webInstrumentationConnectionString || this._webInstrumentationConnectionString || \"\";\r\n        this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n        // Parse quickPulseHost if it starts with http(s)://\r\n        if (this.quickPulseHost.match(/^https?:\\/\\//)) {\r\n            this.quickPulseHost = new url.URL(this.quickPulseHost).host;\r\n        }\r\n        this.aadAudience = csCode.aadaudience || csEnv.aadaudience;\r\n    }\r\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\r\n        get: function () {\r\n            return this._profileQueryEndpoint;\r\n        },\r\n        set: function (endpoint) {\r\n            this._profileQueryEndpoint = endpoint;\r\n            this.correlationId = CorrelationIdManager.correlationIdPrefix;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"instrumentationKey\", {\r\n        get: function () {\r\n            return this._instrumentationKey;\r\n        },\r\n        set: function (iKey) {\r\n            if (!Config._validateInstrumentationKey(iKey)) {\r\n                Logging.warn(\"An invalid instrumentation key was provided. There may be resulting telemetry loss\", this.instrumentationKey);\r\n            }\r\n            this._instrumentationKey = iKey;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"webSnippetConnectionString\", {\r\n        get: function () {\r\n            return this._webInstrumentationConnectionString;\r\n        },\r\n        set: function (connectionString) {\r\n            this._webInstrumentationConnectionString = connectionString;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"webInstrumentationConnectionString\", {\r\n        get: function () {\r\n            return this._webInstrumentationConnectionString;\r\n        },\r\n        set: function (connectionString) {\r\n            this._webInstrumentationConnectionString = connectionString;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Config.prototype._mergeConfig = function () {\r\n        var jsonConfig = JsonConfig_1.JsonConfig.getInstance();\r\n        this._connectionString = jsonConfig.connectionString;\r\n        this._instrumentationKey = jsonConfig.instrumentationKey;\r\n        this.correlationHeaderExcludedDomains = jsonConfig.correlationHeaderExcludedDomains;\r\n        this.correlationIdRetryIntervalMs = jsonConfig.correlationIdRetryIntervalMs;\r\n        this.disableAllExtendedMetrics = jsonConfig.disableAllExtendedMetrics;\r\n        this.disableAppInsights = jsonConfig.disableAppInsights;\r\n        this.disableStatsbeat = jsonConfig.disableStatsbeat;\r\n        this.distributedTracingMode = jsonConfig.distributedTracingMode;\r\n        this.enableAutoCollectConsole = jsonConfig.enableAutoCollectConsole;\r\n        this.enableLoggerErrorToTrace = jsonConfig.enableLoggerErrorToTrace;\r\n        this.enableAutoCollectDependencies = jsonConfig.enableAutoCollectDependencies;\r\n        this.enableAutoCollectIncomingRequestAzureFunctions = jsonConfig.enableAutoCollectIncomingRequestAzureFunctions;\r\n        this.enableAutoCollectExceptions = jsonConfig.enableAutoCollectExceptions;\r\n        this.enableAutoCollectExtendedMetrics = jsonConfig.enableAutoCollectExtendedMetrics;\r\n        this.enableAutoCollectExternalLoggers = jsonConfig.enableAutoCollectExternalLoggers;\r\n        this.enableAutoCollectHeartbeat = jsonConfig.enableAutoCollectHeartbeat;\r\n        this.enableAutoCollectPerformance = jsonConfig.enableAutoCollectPerformance;\r\n        this.enableAutoCollectPreAggregatedMetrics = jsonConfig.enableAutoCollectPreAggregatedMetrics;\r\n        this.enableAutoCollectRequests = jsonConfig.enableAutoCollectRequests;\r\n        this.enableAutoDependencyCorrelation = jsonConfig.enableAutoDependencyCorrelation;\r\n        this.enableInternalDebugLogging = jsonConfig.enableInternalDebugLogging;\r\n        this.enableInternalWarningLogging = jsonConfig.enableInternalWarningLogging;\r\n        this.enableResendInterval = jsonConfig.enableResendInterval;\r\n        this.enableMaxBytesOnDisk = jsonConfig.enableMaxBytesOnDisk;\r\n        this.enableSendLiveMetrics = jsonConfig.enableSendLiveMetrics;\r\n        this.enableUseAsyncHooks = jsonConfig.enableUseAsyncHooks;\r\n        this.enableUseDiskRetryCaching = jsonConfig.enableUseDiskRetryCaching;\r\n        this.endpointUrl = jsonConfig.endpointUrl;\r\n        this.extendedMetricDisablers = jsonConfig.extendedMetricDisablers;\r\n        this.ignoreLegacyHeaders = jsonConfig.ignoreLegacyHeaders;\r\n        this.maxBatchIntervalMs = jsonConfig.maxBatchIntervalMs;\r\n        this.maxBatchSize = jsonConfig.maxBatchSize;\r\n        this.proxyHttpUrl = jsonConfig.proxyHttpUrl;\r\n        this.proxyHttpsUrl = jsonConfig.proxyHttpsUrl;\r\n        this.quickPulseHost = jsonConfig.quickPulseHost;\r\n        this.samplingPercentage = jsonConfig.samplingPercentage;\r\n        this.enableWebInstrumentation = jsonConfig.enableWebInstrumentation;\r\n        this._webInstrumentationConnectionString = jsonConfig.webInstrumentationConnectionString;\r\n        this.webInstrumentationConfig = jsonConfig.webInstrumentationConfig;\r\n        this.webInstrumentationSrc = jsonConfig.webInstrumentationSrc;\r\n    };\r\n    /**\r\n    * Validate UUID Format\r\n    * Specs taken from breeze repo\r\n    * The definition of a VALID instrumentation key is as follows:\r\n    * Not none\r\n    * Not empty\r\n    * Every character is a hex character [0-9a-f]\r\n    * 32 characters are separated into 5 sections via 4 dashes\r\n    * First section has 8 characters\r\n    * Second section has 4 characters\r\n    * Third section has 4 characters\r\n    * Fourth section has 4 characters\r\n    * Fifth section has 12 characters\r\n    */\r\n    Config._validateInstrumentationKey = function (iKey) {\r\n        var UUID_Regex = \"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$\";\r\n        var regexp = new RegExp(UUID_Regex);\r\n        return regexp.test(iKey);\r\n    };\r\n    Config.ENV_azurePrefix = \"APPSETTING_\"; // Azure adds this prefix to all environment variables\r\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\"; // This key is provided in the readme\r\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\r\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\r\n    Config.ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\r\n    return Config;\r\n}());\r\nmodule.exports = Config;\r\n//# sourceMappingURL=Config.js.map","\"use strict\";\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar ConnectionStringParser = /** @class */ (function () {\r\n    function ConnectionStringParser() {\r\n    }\r\n    ConnectionStringParser.parse = function (connectionString) {\r\n        if (!connectionString) {\r\n            return {};\r\n        }\r\n        var kvPairs = connectionString.split(ConnectionStringParser._FIELDS_SEPARATOR);\r\n        var result = kvPairs.reduce(function (fields, kv) {\r\n            var kvParts = kv.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);\r\n            if (kvParts.length === 2) { // only save fields with valid formats\r\n                var key = kvParts[0].toLowerCase();\r\n                var value = kvParts[1];\r\n                fields[key] = value;\r\n            }\r\n            return fields;\r\n        }, {});\r\n        if (Object.keys(result).length > 0) {\r\n            // this is a valid connection string, so parse the results\r\n            if (result.endpointsuffix) {\r\n                // use endpoint suffix where overrides are not provided\r\n                var locationPrefix = result.location ? result.location + \".\" : \"\";\r\n                result.ingestionendpoint = result.ingestionendpoint || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\r\n                result.liveendpoint = result.liveendpoint || (\"https://\" + locationPrefix + \"live.\" + result.endpointsuffix);\r\n            }\r\n            // apply the default endpoints\r\n            result.ingestionendpoint = result.ingestionendpoint || Constants.DEFAULT_BREEZE_ENDPOINT;\r\n            result.liveendpoint = result.liveendpoint || Constants.DEFAULT_LIVEMETRICS_ENDPOINT;\r\n        }\r\n        return result;\r\n    };\r\n    ConnectionStringParser.isIkeyValid = function (iKey) {\r\n        if (!iKey || iKey == \"\")\r\n            return false;\r\n        var UUID_Regex = \"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$\";\r\n        var regexp = new RegExp(UUID_Regex);\r\n        return regexp.test(iKey);\r\n    };\r\n    ConnectionStringParser._FIELDS_SEPARATOR = \";\";\r\n    ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR = \"=\";\r\n    return ConnectionStringParser;\r\n}());\r\nmodule.exports = ConnectionStringParser;\r\n//# sourceMappingURL=ConnectionStringParser.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar os = require(\"os\");\r\nvar fs = require(\"fs\");\r\nvar path = require(\"path\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Constants_1 = require(\"../Declarations/Constants\");\r\nvar Logging = require(\"./Logging\");\r\nvar PrefixHelpers = __importStar(require(\"./PrefixHelper\"));\r\nvar Constants = __importStar(require(\"../Declarations/Constants\"));\r\nvar Context = /** @class */ (function () {\r\n    function Context(packageJsonPath) {\r\n        this.keys = new Contracts.ContextTagKeys();\r\n        this.tags = {};\r\n        this._loadApplicationContext(packageJsonPath);\r\n        this._loadDeviceContext();\r\n        this._loadInternalContext();\r\n    }\r\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\r\n        try {\r\n            packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\r\n            if (!Context.appVersion[packageJsonPath]) {\r\n                Context.appVersion[packageJsonPath] = \"unknown\";\r\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\r\n                if (packageJson && typeof packageJson.version === \"string\") {\r\n                    Context.appVersion[packageJsonPath] = packageJson.version;\r\n                }\r\n            }\r\n            this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\r\n        }\r\n        catch (exception) {\r\n            Logging.info(\"Failed to read app version: \", exception);\r\n        }\r\n    };\r\n    Context.prototype._loadDeviceContext = function () {\r\n        var cloudRoleInstance = os && os.hostname();\r\n        var cloudRole = Context.DefaultRoleName;\r\n        // Try to get more accurate roleName and instance when running in Azure\r\n        if (process.env.WEBSITE_SITE_NAME) { // Azure Web apps and Functions\r\n            cloudRole = process.env.WEBSITE_SITE_NAME;\r\n        }\r\n        if (process.env.WEBSITE_INSTANCE_ID) {\r\n            cloudRoleInstance = process.env.WEBSITE_INSTANCE_ID;\r\n        }\r\n        this.tags[this.keys.deviceId] = \"\";\r\n        this.tags[this.keys.cloudRoleInstance] = cloudRoleInstance;\r\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\r\n        this.tags[this.keys.cloudRole] = cloudRole;\r\n        // not yet supported tags\r\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\r\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\r\n    };\r\n    Context.prototype._loadInternalContext = function () {\r\n        // If Context is already set in the bootstrap, don't set it here\r\n        if (!Context.sdkPrefix) {\r\n            this.tags[this.keys.internalSdkVersion] = \"\" + PrefixHelpers.getResourceProvider() + PrefixHelpers.getOsPrefix() + Constants.AttachTypePrefix.MANUAL + \"_node:\" + Context.sdkVersion;\r\n        }\r\n    };\r\n    Context.DefaultRoleName = \"Web\";\r\n    Context.appVersion = {};\r\n    Context.sdkVersion = Constants_1.APPLICATION_INSIGHTS_SDK_VERSION;\r\n    Context.sdkPrefix = null;\r\n    return Context;\r\n}());\r\nmodule.exports = Context;\r\n//# sourceMappingURL=Context.js.map","\"use strict\";\r\nvar Util = require(\"./Util\");\r\nvar CorrelationIdManager = /** @class */ (function () {\r\n    function CorrelationIdManager() {\r\n    }\r\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\r\n        // No Op, App ID Exchange not required in SDK anymore\r\n    };\r\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\r\n        // No Op, App ID Exchange not required in SDK anymore\r\n    };\r\n    /**\r\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\r\n     * @param parentId\r\n     */\r\n    CorrelationIdManager.generateRequestId = function (parentId) {\r\n        if (parentId) {\r\n            parentId = parentId[0] == \"|\" ? parentId : \"|\" + parentId;\r\n            if (parentId[parentId.length - 1] !== \".\") {\r\n                parentId += \".\";\r\n            }\r\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\r\n            return CorrelationIdManager.appendSuffix(parentId, suffix, \"_\");\r\n        }\r\n        else {\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n    };\r\n    /**\r\n     * Given a hierarchical identifier of the form |X.*\r\n     * return the root identifier X\r\n     * @param id\r\n     */\r\n    CorrelationIdManager.getRootId = function (id) {\r\n        var endIndex = id.indexOf(\".\");\r\n        if (endIndex < 0) {\r\n            endIndex = id.length;\r\n        }\r\n        var startIndex = id[0] === \"|\" ? 1 : 0;\r\n        return id.substring(startIndex, endIndex);\r\n    };\r\n    CorrelationIdManager.generateRootId = function () {\r\n        return \"|\" + Util.w3cTraceId() + \".\";\r\n    };\r\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\r\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\r\n            return parentId + suffix + delimiter;\r\n        }\r\n        // Combined identifier would be too long, so we must truncate it.\r\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\r\n        // overflow delimiter '#'\r\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\r\n        if (parentId.length > trimPosition) {\r\n            for (; trimPosition > 1; --trimPosition) {\r\n                var c = parentId[trimPosition - 1];\r\n                if (c === \".\" || c === \"_\") {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (trimPosition <= 1) {\r\n            // parentId is not a valid ID\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n        suffix = Util.randomu32().toString(16);\r\n        while (suffix.length < 8) {\r\n            suffix = \"0\" + suffix;\r\n        }\r\n        return parentId.substring(0, trimPosition) + suffix + \"#\";\r\n    };\r\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\r\n    CorrelationIdManager.w3cEnabled = true;\r\n    CorrelationIdManager.HTTP_TIMEOUT = 2500; // 2.5 seconds\r\n    CorrelationIdManager.requestIdMaxLength = 1024;\r\n    CorrelationIdManager.currentRootId = Util.randomu32();\r\n    return CorrelationIdManager;\r\n}());\r\nmodule.exports = CorrelationIdManager;\r\n//# sourceMappingURL=CorrelationIdManager.js.map","\"use strict\";\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"./Util\");\r\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\r\nvar Logging = require(\"./Logging\");\r\n/**\r\n * Manages the logic of creating envelopes from Telemetry objects\r\n */\r\nvar EnvelopeFactory = /** @class */ (function () {\r\n    function EnvelopeFactory() {\r\n    }\r\n    /**\r\n     * Creates envelope ready to be sent by Channel\r\n     * @param telemetry Telemetry data\r\n     * @param telemetryType Type of telemetry\r\n     * @param commonProperties Bag of custom common properties to be added to the envelope\r\n     * @param context Client context\r\n     * @param config Client configuration\r\n     */\r\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\r\n        var data = null;\r\n        switch (telemetryType) {\r\n            case Contracts.TelemetryType.Trace:\r\n                data = EnvelopeFactory.createTraceData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Dependency:\r\n                data = EnvelopeFactory.createDependencyData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Event:\r\n                data = EnvelopeFactory.createEventData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Exception:\r\n                data = EnvelopeFactory.createExceptionData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Request:\r\n                data = EnvelopeFactory.createRequestData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Metric:\r\n                data = EnvelopeFactory.createMetricData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Availability:\r\n                data = EnvelopeFactory.createAvailabilityData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.PageView:\r\n                data = EnvelopeFactory.createPageViewData(telemetry);\r\n                break;\r\n        }\r\n        if (data && data.baseData) {\r\n            if (Contracts.domainSupportsProperties(data.baseData)) { // Do instanceof check. TS will automatically cast and allow the properties property\r\n                if (commonProperties) {\r\n                    // if no properties are specified just add the common ones\r\n                    if (!data.baseData.properties) {\r\n                        data.baseData.properties = commonProperties;\r\n                    }\r\n                    else {\r\n                        // otherwise, check each of the common ones\r\n                        for (var name in commonProperties) {\r\n                            // only override if the property `name` has not been set on this item\r\n                            if (!data.baseData.properties[name]) {\r\n                                data.baseData.properties[name] = commonProperties[name];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                EnvelopeFactory.addAzureFunctionsCorrelationProperties(data.baseData.properties);\r\n                if (data.baseData.properties) {\r\n                    // sanitize properties\r\n                    data.baseData.properties = Util.validateStringMap(data.baseData.properties);\r\n                }\r\n            }\r\n        }\r\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\r\n        var envelope = new Contracts.Envelope();\r\n        envelope.data = data;\r\n        envelope.iKey = iKey;\r\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\r\n        envelope.name =\r\n            \"Microsoft.ApplicationInsights.\" +\r\n                iKey.replace(/-/g, \"\") +\r\n                \".\" +\r\n                data.baseType.substr(0, data.baseType.length - 4);\r\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\r\n        envelope.time = (new Date()).toISOString();\r\n        envelope.ver = 1;\r\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\r\n        // Exclude metrics from sampling by default\r\n        if (telemetryType === Contracts.TelemetryType.Metric) {\r\n            envelope.sampleRate = 100;\r\n        }\r\n        return envelope;\r\n    };\r\n    EnvelopeFactory.addAzureFunctionsCorrelationProperties = function (properties) {\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        if (correlationContext && correlationContext.customProperties && correlationContext.customProperties[\"getProperty\"] instanceof Function) {\r\n            properties = properties || {}; // Initialize properties if not present\r\n            var property = correlationContext.customProperties.getProperty(\"InvocationId\");\r\n            if (property) {\r\n                properties[\"InvocationId\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"ProcessId\");\r\n            if (property) {\r\n                properties[\"ProcessId\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"LogLevel\");\r\n            if (property) {\r\n                properties[\"LogLevel\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"Category\");\r\n            if (property) {\r\n                properties[\"Category\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"HostInstanceId\");\r\n            if (property) {\r\n                properties[\"HostInstanceId\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"AzFuncLiveLogsSessionId\");\r\n            if (property) {\r\n                properties[\"AzFuncLiveLogsSessionId\"] = property;\r\n            }\r\n        }\r\n    };\r\n    EnvelopeFactory.truncateProperties = function (telemetry) {\r\n        if (telemetry.properties) {\r\n            try {\r\n                var properties = {};\r\n                var propertiesKeys = Object.keys(telemetry.properties);\r\n                var propertiesValues = Object.values(telemetry.properties);\r\n                for (var i = 0; i < propertiesKeys.length; i++) {\r\n                    if (propertiesKeys[i].length <= 150) {\r\n                        if (!Util.isDate(propertiesValues[i])) {\r\n                            if (propertiesValues[i] == null) {\r\n                                propertiesValues[i] = \"\";\r\n                            }\r\n                            if (typeof (propertiesValues[i]) === \"object\") {\r\n                                propertiesValues[i] = Util.stringify(propertiesValues[i]);\r\n                            }\r\n                            properties[propertiesKeys[i]] = String(propertiesValues[i]).substring(0, 8192);\r\n                        }\r\n                        properties[propertiesKeys[i]] = propertiesValues[i];\r\n                    }\r\n                }\r\n                return properties;\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Failed to properly truncate telemetry properties: \", error);\r\n            }\r\n        }\r\n    };\r\n    EnvelopeFactory.createTraceData = function (telemetry) {\r\n        var _a;\r\n        var trace = new Contracts.MessageData();\r\n        trace.message = (_a = telemetry.message) === null || _a === void 0 ? void 0 : _a.substring(0, 32768);\r\n        trace.properties = this.truncateProperties(telemetry);\r\n        if (!isNaN(telemetry.severity)) {\r\n            trace.severityLevel = telemetry.severity;\r\n        }\r\n        else {\r\n            trace.severityLevel = Contracts.SeverityLevel.Information;\r\n        }\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\r\n        data.baseData = trace;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createDependencyData = function (telemetry) {\r\n        var _a, _b, _c;\r\n        var remoteDependency = new Contracts.RemoteDependencyData();\r\n        remoteDependency.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 1024);\r\n        remoteDependency.data = (_b = telemetry.data) === null || _b === void 0 ? void 0 : _b.substring(0, 8192);\r\n        remoteDependency.target = (_c = telemetry.target) === null || _c === void 0 ? void 0 : _c.substring(0, 1024);\r\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\r\n        remoteDependency.success = telemetry.success;\r\n        remoteDependency.type = telemetry.dependencyTypeName;\r\n        remoteDependency.properties = this.truncateProperties(telemetry);\r\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode.toString() : \"0\");\r\n        if (telemetry.id) {\r\n            remoteDependency.id = telemetry.id;\r\n        }\r\n        else {\r\n            remoteDependency.id = Util.w3cTraceId();\r\n        }\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\r\n        data.baseData = remoteDependency;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createEventData = function (telemetry) {\r\n        var _a;\r\n        var event = new Contracts.EventData();\r\n        event.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 512);\r\n        event.properties = this.truncateProperties(telemetry);\r\n        event.measurements = telemetry.measurements;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\r\n        data.baseData = event;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createExceptionData = function (telemetry) {\r\n        var _a, _b;\r\n        var exception = new Contracts.ExceptionData();\r\n        exception.properties = this.truncateProperties(telemetry);\r\n        if (!isNaN(telemetry.severity)) {\r\n            exception.severityLevel = telemetry.severity;\r\n        }\r\n        else {\r\n            exception.severityLevel = Contracts.SeverityLevel.Error;\r\n        }\r\n        exception.measurements = telemetry.measurements;\r\n        exception.exceptions = [];\r\n        var stack = telemetry.exception[\"stack\"];\r\n        var exceptionDetails = new Contracts.ExceptionDetails();\r\n        exceptionDetails.message = (_a = telemetry.exception.message) === null || _a === void 0 ? void 0 : _a.substring(0, 32768);\r\n        exceptionDetails.typeName = (_b = telemetry.exception.name) === null || _b === void 0 ? void 0 : _b.substring(0, 1024);\r\n        exceptionDetails.parsedStack = this.parseStack(stack);\r\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\r\n        exception.exceptions.push(exceptionDetails);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\r\n        data.baseData = exception;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createRequestData = function (telemetry) {\r\n        var _a, _b, _c, _d;\r\n        var requestData = new Contracts.RequestData();\r\n        if (telemetry.id) {\r\n            requestData.id = telemetry.id;\r\n        }\r\n        else {\r\n            requestData.id = Util.w3cTraceId();\r\n        }\r\n        requestData.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 1024);\r\n        requestData.url = (_b = telemetry.url) === null || _b === void 0 ? void 0 : _b.substring(0, 2048);\r\n        requestData.source = (_c = telemetry.source) === null || _c === void 0 ? void 0 : _c.substring(0, 1024);\r\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        requestData.responseCode = (_d = (telemetry.resultCode ? telemetry.resultCode.toString() : \"0\")) === null || _d === void 0 ? void 0 : _d.substring(0, 1024);\r\n        requestData.success = telemetry.success;\r\n        requestData.properties = this.truncateProperties(telemetry);\r\n        requestData.measurements = telemetry.measurements;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\r\n        data.baseData = requestData;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createMetricData = function (telemetry) {\r\n        var _a;\r\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\r\n        metrics.metrics = [];\r\n        var metric = new Contracts.DataPoint();\r\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\r\n        metric.kind = Contracts.DataPointType.Aggregation;\r\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\r\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\r\n        metric.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 1024);\r\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\r\n        metric.value = telemetry.value;\r\n        metric.ns = telemetry.namespace;\r\n        metrics.metrics.push(metric);\r\n        metrics.properties = this.truncateProperties(telemetry);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\r\n        data.baseData = metrics;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createAvailabilityData = function (telemetry) {\r\n        var _a, _b;\r\n        var availabilityData = new Contracts.AvailabilityData();\r\n        if (telemetry.id) {\r\n            availabilityData.id = telemetry.id;\r\n        }\r\n        else {\r\n            availabilityData.id = Util.w3cTraceId();\r\n        }\r\n        availabilityData.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 1024);\r\n        availabilityData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        availabilityData.success = telemetry.success;\r\n        availabilityData.runLocation = telemetry.runLocation;\r\n        availabilityData.message = (_b = telemetry.message) === null || _b === void 0 ? void 0 : _b.substring(0, 8192);\r\n        availabilityData.measurements = telemetry.measurements;\r\n        availabilityData.properties = this.truncateProperties(telemetry);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Availability);\r\n        data.baseData = availabilityData;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createPageViewData = function (telemetry) {\r\n        var _a, _b;\r\n        var pageViewData = new Contracts.PageViewData();\r\n        pageViewData.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 1024);\r\n        pageViewData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        pageViewData.url = (_b = telemetry.url) === null || _b === void 0 ? void 0 : _b.substring(0, 2048);\r\n        pageViewData.measurements = telemetry.measurements;\r\n        pageViewData.properties = this.truncateProperties(telemetry);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.PageView);\r\n        data.baseData = pageViewData;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        // Make a copy of context tags so we don't alter the actual object\r\n        // Also perform tag overriding\r\n        var newTags = {};\r\n        if (context && context.tags) {\r\n            for (var key in context.tags) {\r\n                newTags[key] = context.tags[key];\r\n            }\r\n        }\r\n        if (tagOverrides) {\r\n            for (var key in tagOverrides) {\r\n                newTags[key] = tagOverrides[key];\r\n            }\r\n        }\r\n        // Fill in internally-populated values if not already set\r\n        if (correlationContext) {\r\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\r\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\r\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\r\n        }\r\n        return newTags;\r\n    };\r\n    EnvelopeFactory.parseStack = function (stack) {\r\n        var parsedStack = undefined;\r\n        if (typeof stack === \"string\") {\r\n            var frames = stack.split(\"\\n\");\r\n            parsedStack = [];\r\n            var level = 0;\r\n            var totalSizeInBytes = 0;\r\n            for (var i = 0; i <= frames.length; i++) {\r\n                var frame = frames[i];\r\n                if (_StackFrame.regex.test(frame)) {\r\n                    var parsedFrame = new _StackFrame(frames[i], level++);\r\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\r\n                    parsedStack.push(parsedFrame);\r\n                }\r\n            }\r\n            // DP Constraint - exception parsed stack must be < 32KB\r\n            // remove frames from the middle to meet the threshold\r\n            var exceptionParsedStackThreshold = 32 * 1024;\r\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\r\n                var left = 0;\r\n                var right = parsedStack.length - 1;\r\n                var size = 0;\r\n                var acceptedLeft = left;\r\n                var acceptedRight = right;\r\n                while (left < right) {\r\n                    // check size\r\n                    var lSize = parsedStack[left].sizeInBytes;\r\n                    var rSize = parsedStack[right].sizeInBytes;\r\n                    size += lSize + rSize;\r\n                    if (size > exceptionParsedStackThreshold) {\r\n                        // remove extra frames from the middle\r\n                        var howMany = acceptedRight - acceptedLeft + 1;\r\n                        parsedStack.splice(acceptedLeft, howMany);\r\n                        break;\r\n                    }\r\n                    // update pointers\r\n                    acceptedLeft = left;\r\n                    acceptedRight = right;\r\n                    left++;\r\n                    right--;\r\n                }\r\n            }\r\n        }\r\n        return parsedStack;\r\n    };\r\n    return EnvelopeFactory;\r\n}());\r\nvar _StackFrame = /** @class */ (function () {\r\n    function _StackFrame(frame, level) {\r\n        this.sizeInBytes = 0;\r\n        this.level = level;\r\n        this.method = \"<no_method>\";\r\n        this.assembly = Util.trim(frame);\r\n        var matches = frame.match(_StackFrame.regex);\r\n        if (matches && matches.length >= 5) {\r\n            this.method = Util.trim(matches[2]) || this.method;\r\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\r\n            this.line = parseInt(matches[5]) || 0;\r\n        }\r\n        this.sizeInBytes += this.method.length;\r\n        this.sizeInBytes += this.fileName.length;\r\n        this.sizeInBytes += this.assembly.length;\r\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\r\n        this.sizeInBytes += _StackFrame.baseSize;\r\n        this.sizeInBytes += this.level.toString().length;\r\n        this.sizeInBytes += this.line.toString().length;\r\n    }\r\n    // regex to match stack frames from ie/chrome/ff\r\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\r\n    _StackFrame.regex = /^(\\s+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\n]+):(\\d+):(\\d+)(\\)?)$/;\r\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\r\n    return _StackFrame;\r\n}());\r\nmodule.exports = EnvelopeFactory;\r\n//# sourceMappingURL=EnvelopeFactory.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FileAccessControl = void 0;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar child_process = require(\"child_process\");\r\nvar Logging = require(\"./Logging\");\r\nvar FileAccessControl = /** @class */ (function () {\r\n    function FileAccessControl() {\r\n    }\r\n    // Check if file access control could be enabled\r\n    FileAccessControl.checkFileProtection = function () {\r\n        if (!FileAccessControl.OS_PROVIDES_FILE_PROTECTION && !FileAccessControl.OS_FILE_PROTECTION_CHECKED) {\r\n            FileAccessControl.OS_FILE_PROTECTION_CHECKED = true;\r\n            // Node's chmod levels do not appropriately restrict file access on Windows\r\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\r\n            // access to the temporary directory used for disk retry mode.\r\n            if (FileAccessControl.USE_ICACLS) {\r\n                // This should be async - but it's currently safer to have this synchronous\r\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\r\n                try {\r\n                    FileAccessControl.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(FileAccessControl.ICACLS_PATH);\r\n                }\r\n                catch (e) {\r\n                    // Ignore errors\r\n                }\r\n                if (!FileAccessControl.OS_PROVIDES_FILE_PROTECTION) {\r\n                    Logging.warn(FileAccessControl.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\r\n                }\r\n            }\r\n            else {\r\n                // chmod works everywhere else\r\n                FileAccessControl.OS_PROVIDES_FILE_PROTECTION = true;\r\n            }\r\n        }\r\n    };\r\n    FileAccessControl.applyACLRules = function (directory) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var identity, ex_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!FileAccessControl.USE_ICACLS) return [3 /*break*/, 7];\r\n                        if (!(FileAccessControl.ACLED_DIRECTORIES[directory] === undefined)) return [3 /*break*/, 6];\r\n                        // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\r\n                        // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\r\n                        // This is better than the alternative of potentially infinitely spawned processes\r\n                        FileAccessControl.ACLED_DIRECTORIES[directory] = false;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 4, , 5]);\r\n                        return [4 /*yield*/, this._getACLIdentity()];\r\n                    case 2:\r\n                        identity = _a.sent();\r\n                        return [4 /*yield*/, this._runICACLS(this._getACLArguments(directory, identity))];\r\n                    case 3:\r\n                        _a.sent();\r\n                        FileAccessControl.ACLED_DIRECTORIES[directory] = true;\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        ex_1 = _a.sent();\r\n                        FileAccessControl.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\r\n                        throw ex_1;\r\n                    case 5: return [3 /*break*/, 7];\r\n                    case 6:\r\n                        if (!FileAccessControl.ACLED_DIRECTORIES[directory]) {\r\n                            throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\r\n                        }\r\n                        _a.label = 7;\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FileAccessControl.applyACLRulesSync = function (directory) {\r\n        if (FileAccessControl.USE_ICACLS) {\r\n            // For performance, only run ACL rules if we haven't already during this session\r\n            if (FileAccessControl.ACLED_DIRECTORIES[directory] === undefined) {\r\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\r\n                FileAccessControl.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\r\n                return;\r\n            }\r\n            else if (!FileAccessControl.ACLED_DIRECTORIES[directory]) { // falsy but not undefined\r\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\r\n            }\r\n        }\r\n    };\r\n    FileAccessControl._runICACLS = function (args) {\r\n        return new Promise(function (resolve, reject) {\r\n            var aclProc = child_process.spawn(FileAccessControl.ICACLS_PATH, args, { windowsHide: true });\r\n            aclProc.on(\"error\", function (e) { return reject(e); });\r\n            aclProc.on(\"close\", function (code, signal) {\r\n                if (code === 0) {\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject(new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FileAccessControl._runICACLSSync = function (args) {\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var aclProc = child_process.spawnSync(FileAccessControl.ICACLS_PATH, args, { windowsHide: true });\r\n            if (aclProc.error) {\r\n                throw aclProc.error;\r\n            }\r\n            else if (aclProc.status !== 0) {\r\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\r\n        }\r\n    };\r\n    FileAccessControl._getACLIdentity = function () {\r\n        return new Promise(function (resolve, reject) {\r\n            if (FileAccessControl.ACL_IDENTITY) {\r\n                resolve(FileAccessControl.ACL_IDENTITY);\r\n            }\r\n            var psProc = child_process.spawn(FileAccessControl.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\r\n                windowsHide: true,\r\n                stdio: [\"ignore\", \"pipe\", \"pipe\"] // Needed to prevent hanging on Win 7\r\n            });\r\n            var data = \"\";\r\n            psProc.stdout.on(\"data\", function (d) { return data += d; });\r\n            psProc.on(\"error\", function (e) { return reject(e); });\r\n            psProc.on(\"close\", function (code, signal) {\r\n                FileAccessControl.ACL_IDENTITY = data && data.trim();\r\n                if (code === 0) {\r\n                    resolve(FileAccessControl.ACL_IDENTITY);\r\n                }\r\n                else {\r\n                    reject(new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"));\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FileAccessControl._getACLIdentitySync = function () {\r\n        if (FileAccessControl.ACL_IDENTITY) {\r\n            return FileAccessControl.ACL_IDENTITY;\r\n        }\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var psProc = child_process.spawnSync(FileAccessControl.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\r\n                windowsHide: true,\r\n                stdio: [\"ignore\", \"pipe\", \"pipe\"] // Needed to prevent hanging on Win 7\r\n            });\r\n            if (psProc.error) {\r\n                throw psProc.error;\r\n            }\r\n            else if (psProc.status !== 0) {\r\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\r\n            }\r\n            FileAccessControl.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\r\n            return FileAccessControl.ACL_IDENTITY;\r\n        }\r\n        else {\r\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\r\n        }\r\n    };\r\n    FileAccessControl._getACLArguments = function (directory, identity) {\r\n        return [directory,\r\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\r\n            \"/grant\", identity + \":(OI)(CI)F\", // Full permission for current user\r\n            \"/inheritance:r\"]; // Remove all inherited permissions\r\n    };\r\n    FileAccessControl.TAG = \"FileAccessControl\";\r\n    FileAccessControl.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\r\n    FileAccessControl.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\r\n    FileAccessControl.ACLED_DIRECTORIES = {};\r\n    FileAccessControl.ACL_IDENTITY = null;\r\n    FileAccessControl.OS_FILE_PROTECTION_CHECKED = false;\r\n    FileAccessControl.OS_PROVIDES_FILE_PROTECTION = false;\r\n    FileAccessControl.USE_ICACLS = os.type() === \"Windows_NT\";\r\n    return FileAccessControl;\r\n}());\r\nexports.FileAccessControl = FileAccessControl;\r\n//# sourceMappingURL=FileAccessControl.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getShallowFileSize = exports.getShallowDirectorySizeSync = exports.getShallowDirectorySize = exports.confirmDirExists = exports.unlinkAsync = exports.readdirAsync = exports.readFileAsync = exports.writeFileAsync = exports.appendFileAsync = exports.accessAsync = exports.mkdirAsync = exports.lstatAsync = exports.statAsync = void 0;\r\nvar fs = __importStar(require(\"fs\"));\r\nvar path = require(\"path\");\r\nvar util_1 = require(\"util\");\r\nvar Logging = require(\"./Logging\");\r\nexports.statAsync = util_1.promisify(fs.stat);\r\nexports.lstatAsync = util_1.promisify(fs.lstat);\r\nexports.mkdirAsync = util_1.promisify(fs.mkdir);\r\nexports.accessAsync = util_1.promisify(fs.access);\r\nexports.appendFileAsync = util_1.promisify(fs.appendFile);\r\nexports.writeFileAsync = util_1.promisify(fs.writeFile);\r\nexports.readFileAsync = util_1.promisify(fs.readFile);\r\nexports.readdirAsync = util_1.promisify(fs.readdir);\r\nexports.unlinkAsync = util_1.promisify(fs.unlink);\r\n/**\r\n * Validate directory exists.\r\n */\r\nvar confirmDirExists = function (directory) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var stats, err_1, mkdirErr_1;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                _a.trys.push([0, 2, , 7]);\r\n                return [4 /*yield*/, exports.lstatAsync(directory)];\r\n            case 1:\r\n                stats = _a.sent();\r\n                if (!stats.isDirectory()) {\r\n                    throw new Error(\"Path existed but was not a directory\");\r\n                }\r\n                return [3 /*break*/, 7];\r\n            case 2:\r\n                err_1 = _a.sent();\r\n                if (!(err_1 && err_1.code === \"ENOENT\")) return [3 /*break*/, 6];\r\n                _a.label = 3;\r\n            case 3:\r\n                _a.trys.push([3, 5, , 6]);\r\n                return [4 /*yield*/, exports.mkdirAsync(directory)];\r\n            case 4:\r\n                _a.sent();\r\n                return [3 /*break*/, 6];\r\n            case 5:\r\n                mkdirErr_1 = _a.sent();\r\n                if (mkdirErr_1 && mkdirErr_1.code !== \"EEXIST\") {\r\n                    // Handle race condition by ignoring EEXIST\r\n                    throw mkdirErr_1;\r\n                }\r\n                return [3 /*break*/, 6];\r\n            case 6: return [3 /*break*/, 7];\r\n            case 7: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nexports.confirmDirExists = confirmDirExists;\r\n/**\r\n * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\r\n */\r\nvar getShallowDirectorySize = function (directory) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var totalSize, files, _i, files_1, file, fileStats, _a;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0:\r\n                totalSize = 0;\r\n                _b.label = 1;\r\n            case 1:\r\n                _b.trys.push([1, 7, , 8]);\r\n                return [4 /*yield*/, exports.readdirAsync(directory)];\r\n            case 2:\r\n                files = _b.sent();\r\n                _i = 0, files_1 = files;\r\n                _b.label = 3;\r\n            case 3:\r\n                if (!(_i < files_1.length)) return [3 /*break*/, 6];\r\n                file = files_1[_i];\r\n                return [4 /*yield*/, exports.statAsync(path.join(directory, file))];\r\n            case 4:\r\n                fileStats = _b.sent();\r\n                if (fileStats.isFile()) {\r\n                    totalSize += fileStats.size;\r\n                }\r\n                _b.label = 5;\r\n            case 5:\r\n                _i++;\r\n                return [3 /*break*/, 3];\r\n            case 6: return [3 /*break*/, 8];\r\n            case 7:\r\n                _a = _b.sent();\r\n                Logging.warn(\"Failed to get directory size for \" + directory);\r\n                return [3 /*break*/, 8];\r\n            case 8: return [2 /*return*/, totalSize];\r\n        }\r\n    });\r\n}); };\r\nexports.getShallowDirectorySize = getShallowDirectorySize;\r\n/**\r\n* Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\r\n*/\r\nvar getShallowDirectorySizeSync = function (directory) {\r\n    var totalSize = 0;\r\n    try {\r\n        var files = fs.readdirSync(directory);\r\n        for (var i = 0; i < files.length; i++) {\r\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\r\n        }\r\n    }\r\n    catch (_a) {\r\n        Logging.warn(\"Failed to get directory size synchronously for \" + directory);\r\n    }\r\n    return totalSize;\r\n};\r\nexports.getShallowDirectorySizeSync = getShallowDirectorySizeSync;\r\n/**\r\n* Computes the size (in bytes) of a file asynchronously. Returns -1 if the file does not exist.\r\n*/\r\nvar getShallowFileSize = function (filePath) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var fileStats, _a;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0:\r\n                _b.trys.push([0, 2, , 3]);\r\n                return [4 /*yield*/, exports.statAsync(filePath)];\r\n            case 1:\r\n                fileStats = _b.sent();\r\n                if (fileStats.isFile()) {\r\n                    return [2 /*return*/, fileStats.size];\r\n                }\r\n                return [3 /*break*/, 3];\r\n            case 2:\r\n                _a = _b.sent();\r\n                Logging.warn(\"Failed to get file size for \" + filePath);\r\n                return [2 /*return*/, -1];\r\n            case 3: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nexports.getShallowFileSize = getShallowFileSize;\r\n//# sourceMappingURL=FileSystemHelper.js.map","\"use strict\";\r\n// NOTE: These types are the only parts of \"@azure/functions\" referenced/exported from the \"applicationinsights\" package\r\n// This is done so that the \"applicationinsights\" package does not need a direct dependency on \"@azure/functions\"\r\n// These types should be compatible with both functions model v3 and model v4\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=Functions.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar FileSystemHelper = require(\"./FileSystemHelper\");\r\nvar InternalAzureLogger = /** @class */ (function () {\r\n    function InternalAzureLogger() {\r\n        var _this = this;\r\n        this.TAG = \"Logger\";\r\n        this._cleanupTimeOut = 60 * 30 * 1000; // 30 minutes;\r\n        this._tempDir = \"\";\r\n        this._logFileName = \"\";\r\n        this._fileFullPath = \"\";\r\n        this._backUpNameFormat = \"\";\r\n        this._logToFile = false;\r\n        this._logToConsole = true;\r\n        var logDestination = process.env.APPLICATIONINSIGHTS_LOG_DESTINATION; // destination can be one of file, console or file+console\r\n        if (logDestination == \"file+console\") {\r\n            this._logToFile = true;\r\n        }\r\n        if (logDestination == \"file\") {\r\n            this._logToFile = true;\r\n            this._logToConsole = false;\r\n        }\r\n        this.maxSizeBytes = 50000;\r\n        this.maxHistory = 1;\r\n        this._logFileName = \"applicationinsights.log\";\r\n        // If custom path not provided use temp folder, /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        var logFilePath = process.env.APPLICATIONINSIGHTS_LOGDIR;\r\n        if (!logFilePath) {\r\n            this._tempDir = path.join(os.tmpdir(), \"appInsights-node\");\r\n        }\r\n        else {\r\n            if (path.isAbsolute(logFilePath)) {\r\n                this._tempDir = logFilePath;\r\n            }\r\n            else {\r\n                this._tempDir = path.join(process.cwd(), logFilePath);\r\n            }\r\n        }\r\n        this._fileFullPath = path.join(this._tempDir, this._logFileName);\r\n        this._backUpNameFormat = \".\" + this._logFileName; // {currentime}.applicationinsights.log\r\n        if (this._logToFile) {\r\n            if (!InternalAzureLogger._fileCleanupTimer) {\r\n                InternalAzureLogger._fileCleanupTimer = setInterval(function () { _this._fileCleanupTask(); }, this._cleanupTimeOut);\r\n                InternalAzureLogger._fileCleanupTimer.unref();\r\n            }\r\n        }\r\n    }\r\n    InternalAzureLogger.prototype.info = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        var args = message ? __spreadArrays([message], optionalParams) : optionalParams;\r\n        if (this._logToFile) {\r\n            this._storeToDisk(args);\r\n        }\r\n        if (this._logToConsole) {\r\n            console.info.apply(console, args);\r\n        }\r\n    };\r\n    InternalAzureLogger.prototype.warning = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        var args = message ? __spreadArrays([message], optionalParams) : optionalParams;\r\n        if (this._logToFile) {\r\n            this._storeToDisk(args);\r\n        }\r\n        if (this._logToConsole) {\r\n            console.warn.apply(console, args);\r\n        }\r\n    };\r\n    InternalAzureLogger.getInstance = function () {\r\n        if (!InternalAzureLogger._instance) {\r\n            InternalAzureLogger._instance = new InternalAzureLogger();\r\n        }\r\n        return InternalAzureLogger._instance;\r\n    };\r\n    InternalAzureLogger.prototype._storeToDisk = function (args) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data, err_1, appendError_1, err_2, size, err_3;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        data = args + \"\\r\\n\";\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, FileSystemHelper.confirmDirExists(this._tempDir)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        err_1 = _a.sent();\r\n                        console.log(this.TAG, \"Failed to create directory for log file: \" + (err_1 && err_1.message));\r\n                        return [2 /*return*/];\r\n                    case 4:\r\n                        _a.trys.push([4, 6, , 11]);\r\n                        return [4 /*yield*/, FileSystemHelper.accessAsync(this._fileFullPath, fs.constants.F_OK)];\r\n                    case 5:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 11];\r\n                    case 6:\r\n                        appendError_1 = _a.sent();\r\n                        _a.label = 7;\r\n                    case 7:\r\n                        _a.trys.push([7, 9, , 10]);\r\n                        return [4 /*yield*/, FileSystemHelper.appendFileAsync(this._fileFullPath, data)];\r\n                    case 8:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                    case 9:\r\n                        err_2 = _a.sent();\r\n                        console.log(this.TAG, \"Failed to put log into file: \" + (appendError_1 && appendError_1.message));\r\n                        return [2 /*return*/];\r\n                    case 10: return [3 /*break*/, 11];\r\n                    case 11:\r\n                        _a.trys.push([11, 17, , 18]);\r\n                        return [4 /*yield*/, FileSystemHelper.getShallowFileSize(this._fileFullPath)];\r\n                    case 12:\r\n                        size = _a.sent();\r\n                        if (!(size > this.maxSizeBytes)) return [3 /*break*/, 14];\r\n                        return [4 /*yield*/, this._createBackupFile(data)];\r\n                    case 13:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 16];\r\n                    case 14: return [4 /*yield*/, FileSystemHelper.appendFileAsync(this._fileFullPath, data)];\r\n                    case 15:\r\n                        _a.sent();\r\n                        _a.label = 16;\r\n                    case 16: return [3 /*break*/, 18];\r\n                    case 17:\r\n                        err_3 = _a.sent();\r\n                        console.log(this.TAG, \"Failed to create backup file: \" + (err_3 && err_3.message));\r\n                        return [3 /*break*/, 18];\r\n                    case 18: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    InternalAzureLogger.prototype._createBackupFile = function (data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var buffer, backupPath, err_4;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 3, 4, 5]);\r\n                        return [4 /*yield*/, FileSystemHelper.readFileAsync(this._fileFullPath)];\r\n                    case 1:\r\n                        buffer = _a.sent();\r\n                        backupPath = path.join(this._tempDir, new Date().getTime() + \".\" + this._logFileName);\r\n                        return [4 /*yield*/, FileSystemHelper.writeFileAsync(backupPath, buffer)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 3:\r\n                        err_4 = _a.sent();\r\n                        console.log(\"Failed to generate backup log file\", err_4);\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        // Store logs\r\n                        FileSystemHelper.writeFileAsync(this._fileFullPath, data);\r\n                        return [7 /*endfinally*/];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    InternalAzureLogger.prototype._fileCleanupTask = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var files, totalFiles, i, pathToDelete, err_5;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 6, , 7]);\r\n                        return [4 /*yield*/, FileSystemHelper.readdirAsync(this._tempDir)];\r\n                    case 1:\r\n                        files = _a.sent();\r\n                        // Filter only backup files\r\n                        files = files.filter(function (f) { return path.basename(f).indexOf(_this._backUpNameFormat) > -1; });\r\n                        // Sort by creation date\r\n                        files.sort(function (a, b) {\r\n                            // Check expiration\r\n                            var aCreationDate = new Date(parseInt(a.split(_this._backUpNameFormat)[0]));\r\n                            var bCreationDate = new Date(parseInt(b.split(_this._backUpNameFormat)[0]));\r\n                            if (aCreationDate < bCreationDate) {\r\n                                return -1;\r\n                            }\r\n                            if (aCreationDate >= bCreationDate) {\r\n                                return 1;\r\n                            }\r\n                        });\r\n                        totalFiles = files.length;\r\n                        i = 0;\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        if (!(i < totalFiles - this.maxHistory)) return [3 /*break*/, 5];\r\n                        pathToDelete = path.join(this._tempDir, files[i]);\r\n                        return [4 /*yield*/, FileSystemHelper.unlinkAsync(pathToDelete)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        _a.label = 4;\r\n                    case 4:\r\n                        i++;\r\n                        return [3 /*break*/, 2];\r\n                    case 5: return [3 /*break*/, 7];\r\n                    case 6:\r\n                        err_5 = _a.sent();\r\n                        console.log(this.TAG, \"Failed to cleanup log files: \" + (err_5 && err_5.message));\r\n                        return [3 /*break*/, 7];\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    InternalAzureLogger._fileCleanupTimer = null;\r\n    return InternalAzureLogger;\r\n}());\r\nmodule.exports = InternalAzureLogger;\r\n//# sourceMappingURL=InternalAzureLogger.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.JsonConfig = void 0;\r\nvar fs = require(\"fs\");\r\nvar path = require(\"path\");\r\nvar Logging = require(\"./Logging\");\r\nvar applicationinsights_json_1 = __importDefault(require(\"../applicationinsights.json\"));\r\nvar ENV_CONFIGURATION_FILE = \"APPLICATIONINSIGHTS_CONFIGURATION_FILE\";\r\n// Azure Connection String\r\nvar ENV_connectionString = \"APPLICATIONINSIGHTS_CONNECTION_STRING\";\r\n// Instrumentation Key\r\nvar ENV_azurePrefix = \"APPSETTING_\"; // Azure adds this prefix to all environment variables\r\nvar ENV_instrumentationKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\r\nvar ENV_legacyInstrumentationKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\r\n// Native Metrics Opt Outs\r\nvar ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\r\nvar ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\";\r\nvar ENV_http_proxy = \"http_proxy\";\r\nvar ENV_https_proxy = \"https_proxy\";\r\nvar ENV_noDiagnosticChannel = \"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\";\r\nvar ENV_noStatsbeat = \"APPLICATION_INSIGHTS_NO_STATSBEAT\";\r\nvar ENV_noHttpAgentKeepAlive = \"APPLICATION_INSIGHTS_NO_HTTP_AGENT_KEEP_ALIVE\";\r\nvar ENV_noPatchModules = \"APPLICATION_INSIGHTS_NO_PATCH_MODULES\";\r\nvar ENV_webInstrumentationEnable = \"APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_ENABLED\";\r\nvar ENV_webInstrumentation_connectionString = \"APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_CONNECTION_STRING\";\r\nvar ENV_webInstrumentation_source = \"APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_SOURCE\";\r\n// Old web instrumentation env variables are to be deprecated\r\n// Those env variables will NOT be exposed in doc after version 2.3.5\r\nvar ENV_webSnippetEnable = \"APPLICATIONINSIGHTS_WEB_SNIPPET_ENABLED\";\r\nvar ENV_webSnippet_connectionString = \"APPLICATIONINSIGHTS_WEB_SNIPPET_CONNECTION_STRING\";\r\nvar JsonConfig = /** @class */ (function () {\r\n    function JsonConfig() {\r\n        // Load env variables first\r\n        this.connectionString = process.env[ENV_connectionString];\r\n        this.instrumentationKey = process.env[ENV_instrumentationKey]\r\n            || process.env[ENV_azurePrefix + ENV_instrumentationKey]\r\n            || process.env[ENV_legacyInstrumentationKey]\r\n            || process.env[ENV_azurePrefix + ENV_legacyInstrumentationKey];\r\n        if (!this.connectionString && this.instrumentationKey) {\r\n            Logging.warn(\"APPINSIGHTS_INSTRUMENTATIONKEY is in path of deprecation, please use APPLICATIONINSIGHTS_CONNECTION_STRING env variable to setup the SDK.\");\r\n        }\r\n        this.disableAllExtendedMetrics = !!process.env[ENV_nativeMetricsDisableAll];\r\n        this.extendedMetricDisablers = process.env[ENV_nativeMetricsDisablers];\r\n        this.proxyHttpUrl = process.env[ENV_http_proxy];\r\n        this.proxyHttpsUrl = process.env[ENV_https_proxy];\r\n        this.noDiagnosticChannel = !!process.env[ENV_noDiagnosticChannel];\r\n        this.disableStatsbeat = !!process.env[ENV_noStatsbeat];\r\n        this.noHttpAgentKeepAlive = !!process.env[ENV_noHttpAgentKeepAlive];\r\n        this.noPatchModules = process.env[ENV_noPatchModules] || \"\";\r\n        this.enableWebInstrumentation = !!process.env[ENV_webInstrumentationEnable] || !!process.env[ENV_webSnippetEnable];\r\n        this.webInstrumentationSrc = process.env[ENV_webInstrumentation_source] || \"\";\r\n        this.webInstrumentationConnectionString = process.env[ENV_webInstrumentation_connectionString] || process.env[ENV_webSnippet_connectionString] || \"\";\r\n        this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n        this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n        this._loadJsonFile();\r\n    }\r\n    JsonConfig.getInstance = function () {\r\n        if (!JsonConfig._instance) {\r\n            JsonConfig._instance = new JsonConfig();\r\n        }\r\n        return JsonConfig._instance;\r\n    };\r\n    JsonConfig.prototype._loadJsonFile = function () {\r\n        var jsonString = \"\";\r\n        var contentJsonConfig = process.env[\"APPLICATIONINSIGHTS_CONFIGURATION_CONTENT\"];\r\n        // JSON string added directly in env variable\r\n        if (contentJsonConfig) {\r\n            jsonString = contentJsonConfig;\r\n        }\r\n        // JSON file\r\n        else {\r\n            var configFileName = \"applicationinsights.json\";\r\n            var rootPath = path.join(__dirname, \"../../\"); // Root of applicationinsights folder (__dirname = ../out/Library)\r\n            this._tempDir = path.join(rootPath, configFileName); // default\r\n            var configFile = process.env[ENV_CONFIGURATION_FILE];\r\n            if (configFile) {\r\n                if (path.isAbsolute(configFile)) {\r\n                    this._tempDir = configFile;\r\n                }\r\n                else {\r\n                    this._tempDir = path.join(rootPath, configFile); // Relative path to applicationinsights folder\r\n                }\r\n                try {\r\n                    jsonString = fs.readFileSync(this._tempDir, \"utf8\");\r\n                }\r\n                catch (err) {\r\n                    Logging.warn(\"Failed to read JSON config file: \", err);\r\n                }\r\n            }\r\n            else {\r\n                jsonString = JSON.stringify(applicationinsights_json_1.default);\r\n            }\r\n        }\r\n        try {\r\n            var jsonConfig = JSON.parse(jsonString);\r\n            if (jsonConfig.disableStatsbeat != undefined) {\r\n                this.disableStatsbeat = jsonConfig.disableStatsbeat;\r\n            }\r\n            if (jsonConfig.disableAllExtendedMetrics != undefined) {\r\n                this.disableAllExtendedMetrics = jsonConfig.disableStatsbeat;\r\n            }\r\n            if (jsonConfig.noDiagnosticChannel != undefined) {\r\n                this.noDiagnosticChannel = jsonConfig.noDiagnosticChannel;\r\n            }\r\n            if (jsonConfig.noHttpAgentKeepAlive != undefined) {\r\n                this.noHttpAgentKeepAlive = jsonConfig.noHttpAgentKeepAlive;\r\n            }\r\n            if (jsonConfig.connectionString != undefined) {\r\n                this.connectionString = jsonConfig.connectionString;\r\n            }\r\n            if (jsonConfig.extendedMetricDisablers != undefined) {\r\n                this.extendedMetricDisablers = jsonConfig.extendedMetricDisablers;\r\n            }\r\n            if (jsonConfig.noDiagnosticChannel != undefined) {\r\n                this.noDiagnosticChannel = jsonConfig.noDiagnosticChannel;\r\n            }\r\n            if (jsonConfig.proxyHttpUrl != undefined) {\r\n                this.proxyHttpUrl = jsonConfig.proxyHttpUrl;\r\n            }\r\n            if (jsonConfig.proxyHttpsUrl != undefined) {\r\n                this.proxyHttpsUrl = jsonConfig.proxyHttpsUrl;\r\n            }\r\n            if (jsonConfig.proxyHttpsUrl != undefined) {\r\n                this.proxyHttpsUrl = jsonConfig.proxyHttpsUrl;\r\n            }\r\n            if (jsonConfig.noPatchModules != undefined) {\r\n                this.noPatchModules = jsonConfig.noPatchModules;\r\n            }\r\n            if (jsonConfig.enableAutoWebSnippetInjection != undefined) {\r\n                this.enableWebInstrumentation = jsonConfig.enableAutoWebSnippetInjection;\r\n                this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n            }\r\n            if (jsonConfig.enableWebInstrumentation != undefined) {\r\n                this.enableWebInstrumentation = jsonConfig.enableWebInstrumentation;\r\n                this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n            }\r\n            if (jsonConfig.webSnippetConnectionString != undefined) {\r\n                this.webInstrumentationConnectionString = jsonConfig.webSnippetConnectionString;\r\n                this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n            }\r\n            if (jsonConfig.webInstrumentationConnectionString != undefined) {\r\n                this.webInstrumentationConnectionString = jsonConfig.webInstrumentationConnectionString;\r\n                this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n            }\r\n            if (jsonConfig.webInstrumentationConfig != undefined) {\r\n                this.webInstrumentationConfig = jsonConfig.webInstrumentationConfig;\r\n            }\r\n            if (jsonConfig.webInstrumentationSrc != undefined) {\r\n                this.webInstrumentationSrc = jsonConfig.webInstrumentationSrc;\r\n            }\r\n            if (jsonConfig.enableLoggerErrorToTrace != undefined) {\r\n                this.enableLoggerErrorToTrace = jsonConfig.enableLoggerErrorToTrace;\r\n            }\r\n            this.endpointUrl = jsonConfig.endpointUrl;\r\n            this.maxBatchSize = jsonConfig.maxBatchSize;\r\n            this.maxBatchIntervalMs = jsonConfig.maxBatchIntervalMs;\r\n            this.disableAppInsights = jsonConfig.disableAppInsights;\r\n            this.samplingPercentage = jsonConfig.samplingPercentage;\r\n            this.correlationIdRetryIntervalMs = jsonConfig.correlationIdRetryIntervalMs;\r\n            this.correlationHeaderExcludedDomains = jsonConfig.correlationHeaderExcludedDomains;\r\n            this.ignoreLegacyHeaders = jsonConfig.ignoreLegacyHeaders;\r\n            this.distributedTracingMode = jsonConfig.distributedTracingMode;\r\n            this.enableAutoCollectExternalLoggers = jsonConfig.enableAutoCollectExternalLoggers;\r\n            this.enableAutoCollectConsole = jsonConfig.enableAutoCollectConsole;\r\n            this.enableLoggerErrorToTrace = jsonConfig.enableLoggerErrorToTrace;\r\n            this.enableAutoCollectExceptions = jsonConfig.enableAutoCollectExceptions;\r\n            this.enableAutoCollectPerformance = jsonConfig.enableAutoCollectPerformance;\r\n            this.enableAutoCollectExtendedMetrics = jsonConfig.enableAutoCollectExtendedMetrics;\r\n            this.enableAutoCollectPreAggregatedMetrics = jsonConfig.enableAutoCollectPreAggregatedMetrics;\r\n            this.enableAutoCollectHeartbeat = jsonConfig.enableAutoCollectHeartbeat;\r\n            this.enableAutoCollectRequests = jsonConfig.enableAutoCollectRequests;\r\n            this.enableAutoCollectDependencies = jsonConfig.enableAutoCollectDependencies;\r\n            this.enableAutoDependencyCorrelation = jsonConfig.enableAutoDependencyCorrelation;\r\n            this.enableAutoCollectIncomingRequestAzureFunctions = jsonConfig.enableAutoCollectIncomingRequestAzureFunctions;\r\n            this.enableUseAsyncHooks = jsonConfig.enableUseAsyncHooks;\r\n            this.enableUseDiskRetryCaching = jsonConfig.enableUseDiskRetryCaching;\r\n            this.enableResendInterval = jsonConfig.enableResendInterval;\r\n            this.enableMaxBytesOnDisk = jsonConfig.enableMaxBytesOnDisk;\r\n            this.enableInternalDebugLogging = jsonConfig.enableInternalDebugLogging;\r\n            this.enableInternalWarningLogging = jsonConfig.enableInternalWarningLogging;\r\n            this.enableSendLiveMetrics = jsonConfig.enableSendLiveMetrics;\r\n            this.quickPulseHost = jsonConfig.quickPulseHost;\r\n        }\r\n        catch (err) {\r\n            Logging.warn(\"Invalid JSON config file: \", err);\r\n        }\r\n    };\r\n    return JsonConfig;\r\n}());\r\nexports.JsonConfig = JsonConfig;\r\n//# sourceMappingURL=JsonConfig.js.map","\"use strict\";\r\nvar InternalAzureLogger = require(\"./InternalAzureLogger\");\r\nvar ENV_enableDebugLogging = \"APPLICATION_INSIGHTS_ENABLE_DEBUG_LOGS\";\r\nvar ENV_disableWarningLogging = \"APPLICATION_INSIGHTS_DISABLE_WARNING_LOGS\";\r\nvar Logging = /** @class */ (function () {\r\n    function Logging() {\r\n    }\r\n    Logging.info = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (this.enableDebug) {\r\n            InternalAzureLogger.getInstance().info(this.TAG + message, optionalParams);\r\n        }\r\n    };\r\n    Logging.warn = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (!this.disableWarnings) {\r\n            InternalAzureLogger.getInstance().warning(this.TAG + message, optionalParams);\r\n        }\r\n    };\r\n    Logging.enableDebug = (process.env[ENV_enableDebugLogging]) ? true : false;\r\n    Logging.disableWarnings = (process.env[ENV_disableWarningLogging]) ? true : false;\r\n    Logging.TAG = \"ApplicationInsights:\";\r\n    return Logging;\r\n}());\r\nmodule.exports = Logging;\r\n//# sourceMappingURL=Logging.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar TelemetryClient = require(\"./TelemetryClient\");\r\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\r\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\r\nvar Logging = require(\"./Logging\");\r\n/**\r\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\r\n * in addition to Node-specific helper functions.\r\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\r\n * In most cases, `appInsights.defaultClient` should be used instead.\r\n */\r\nvar NodeClient = /** @class */ (function (_super) {\r\n    __extends(NodeClient, _super);\r\n    function NodeClient() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waiting for request completion\r\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\r\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\r\n     * @param telemetry Object encapsulating incoming request, response and duration information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\r\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\r\n            ServerRequestTracking.trackRequestSync(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\r\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\r\n     * @param telemetry Object encapsulating incoming request and response information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\r\n        if (telemetry.duration || telemetry.error) {\r\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\r\n        }\r\n        if (telemetry && telemetry.request && telemetry.response) {\r\n            ServerRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\r\n     * the specified headers and will log the telemetry when outgoing request is complete\r\n     * @param telemetry Object encapsulating outgoing request information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\r\n        if (telemetry && telemetry.request) {\r\n            ClientRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\r\n        }\r\n    };\r\n    return NodeClient;\r\n}(TelemetryClient));\r\nmodule.exports = NodeClient;\r\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getResourceProvider = exports.getOsPrefix = exports.isFunctionApp = exports.isWebApp = exports.isLinux = exports.isWindows = void 0;\r\nvar isWindows = function () {\r\n    return process.platform === \"win32\";\r\n};\r\nexports.isWindows = isWindows;\r\nvar isLinux = function () {\r\n    return process.platform === \"linux\";\r\n};\r\nexports.isLinux = isLinux;\r\nvar isWebApp = function () {\r\n    return (process.env.WEBSITE_SITE_NAME && !process.env.FUNCTIONS_WORKER_RUNTIME) ? true : false;\r\n};\r\nexports.isWebApp = isWebApp;\r\nvar isFunctionApp = function () {\r\n    return process.env.FUNCTIONS_WORKER_RUNTIME ? true : false;\r\n};\r\nexports.isFunctionApp = isFunctionApp;\r\n/**\r\n * Get prefix for OS\r\n * Windows system: \"w\"\r\n * Linux system: \"l\"\r\n * non-Windows and non-Linux system: \"u\" (unknown)\r\n */\r\nvar getOsPrefix = function () {\r\n    return exports.isWindows() ? \"w\" : exports.isLinux() ? \"l\" : \"u\";\r\n};\r\nexports.getOsPrefix = getOsPrefix;\r\n/**\r\n * TODO: add vm resource provider\r\n * Get prefix resource provider, vm will considered as \"unknown RP\"\r\n * Web App: \"a\"\r\n * Function App: \"f\"\r\n * non-Web and non-Function APP: \"u\" (unknown)\r\n */\r\nvar getResourceProvider = function () {\r\n    return exports.isWebApp() ? \"a\" : exports.isFunctionApp() ? \"f\" : \"u\";\r\n};\r\nexports.getResourceProvider = getResourceProvider;\r\n//# sourceMappingURL=PrefixHelper.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar os = require(\"os\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar StreamId = Util.w3cTraceId(); // Create a guid\r\nvar QuickPulseEnvelopeFactory = /** @class */ (function () {\r\n    function QuickPulseEnvelopeFactory() {\r\n    }\r\n    QuickPulseEnvelopeFactory.createQuickPulseEnvelope = function (metrics, documents, config, context) {\r\n        var machineName = (os && typeof os.hostname === \"function\"\r\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\r\n        var instance = (context.tags\r\n            && context.keys\r\n            && context.keys.cloudRoleInstance\r\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\r\n        var roleName = (context.tags\r\n            && context.keys\r\n            && context.keys.cloudRole\r\n            && context.tags[context.keys.cloudRole]) || null;\r\n        var envelope = {\r\n            Documents: documents.length > 0 ? documents : null,\r\n            InstrumentationKey: config.instrumentationKey || \"\",\r\n            Metrics: metrics.length > 0 ? metrics : null,\r\n            InvariantVersion: 1,\r\n            Timestamp: \"/Date(\" + Date.now() + \")/\",\r\n            Version: context.tags[context.keys.internalSdkVersion],\r\n            StreamId: StreamId,\r\n            MachineName: machineName,\r\n            Instance: instance,\r\n            RoleName: roleName\r\n        };\r\n        return envelope;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseMetric = function (telemetry) {\r\n        var data;\r\n        data = {\r\n            Name: telemetry.name,\r\n            Value: telemetry.value,\r\n            Weight: telemetry.count || 1\r\n        };\r\n        return data;\r\n    };\r\n    QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument = function (envelope) {\r\n        switch (envelope.data.baseType) {\r\n            case Contracts.TelemetryTypeString.Event:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Exception:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Trace:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Dependency:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Request:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\r\n        }\r\n        return null;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseEventDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var name = envelope.data.baseData.name;\r\n        var eventDocument = __assign(__assign({}, document), { Name: name });\r\n        return eventDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseTraceDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var severityLevel = envelope.data.baseData.severityLevel || 0;\r\n        var traceDocument = __assign(__assign({}, document), { Message: envelope.data.baseData.message, SeverityLevel: Contracts.SeverityLevel[severityLevel] });\r\n        return traceDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var exceptionDetails = envelope.data.baseData.exceptions;\r\n        var exception = \"\";\r\n        var exceptionMessage = \"\";\r\n        var exceptionType = \"\";\r\n        // Try to fill exception information from first error only\r\n        if (exceptionDetails && exceptionDetails.length > 0) {\r\n            // Try to grab the stack from parsedStack or stack\r\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\r\n                exceptionDetails[0].parsedStack.forEach(function (err) {\r\n                    exception += err.assembly + \"\\n\";\r\n                });\r\n            }\r\n            else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\r\n                exception = exceptionDetails[0].stack;\r\n            }\r\n            exceptionMessage = exceptionDetails[0].message;\r\n            exceptionType = exceptionDetails[0].typeName;\r\n        }\r\n        var exceptionDocument = __assign(__assign({}, document), { Exception: exception, ExceptionMessage: exceptionMessage, ExceptionType: exceptionType });\r\n        return exceptionDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseRequestDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var baseData = envelope.data.baseData;\r\n        var requestDocument = __assign(__assign({}, document), { Name: baseData.name, Success: baseData.success, Duration: baseData.duration, ResponseCode: baseData.responseCode, OperationName: baseData.name // TODO: is this correct?\r\n         });\r\n        return requestDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var baseData = envelope.data.baseData;\r\n        var dependencyDocument = __assign(__assign({}, document), { Name: baseData.name, Target: baseData.target, Success: baseData.success, Duration: baseData.duration, ResultCode: baseData.resultCode, CommandName: baseData.data, OperationName: document.OperationId, DependencyTypeName: baseData.type });\r\n        return dependencyDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseDocument = function (envelope) {\r\n        var documentType;\r\n        var __type;\r\n        var operationId, properties;\r\n        if (envelope.data.baseType) {\r\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType];\r\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType];\r\n        }\r\n        else {\r\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\r\n            // valid baseType values\r\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\r\n        }\r\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\r\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\r\n        var document = {\r\n            DocumentType: documentType,\r\n            __type: __type,\r\n            OperationId: operationId,\r\n            Version: \"1.0\",\r\n            Properties: properties\r\n        };\r\n        return document;\r\n    };\r\n    QuickPulseEnvelopeFactory.aggregateProperties = function (envelope) {\r\n        var properties = [];\r\n        // Collect measurements\r\n        var meas = (envelope.data.baseData).measurements || {};\r\n        for (var key in meas) {\r\n            if (meas.hasOwnProperty(key)) {\r\n                var value = meas[key];\r\n                var property = { key: key, value: value };\r\n                properties.push(property);\r\n            }\r\n        }\r\n        // Collect properties\r\n        var props = (envelope.data.baseData).properties || {};\r\n        for (var key in props) {\r\n            if (props.hasOwnProperty(key)) {\r\n                var value = props[key];\r\n                var property = { key: key, value: value };\r\n                properties.push(property);\r\n            }\r\n        }\r\n        return properties;\r\n    };\r\n    QuickPulseEnvelopeFactory.keys = new Contracts.ContextTagKeys();\r\n    return QuickPulseEnvelopeFactory;\r\n}());\r\nmodule.exports = QuickPulseEnvelopeFactory;\r\n//# sourceMappingURL=QuickPulseEnvelopeFactory.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar https = require(\"https\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar Logging = require(\"./Logging\");\r\nvar QuickPulseUtil = require(\"./QuickPulseUtil\");\r\nvar Util = require(\"./Util\");\r\nvar url = require(\"url\");\r\nvar QuickPulseConfig = {\r\n    method: \"POST\",\r\n    time: \"x-ms-qps-transmission-time\",\r\n    pollingIntervalHint: \"x-ms-qps-service-polling-interval-hint\",\r\n    endpointRedirect: \"x-ms-qps-service-endpoint-redirect-v2\",\r\n    instanceName: \"x-ms-qps-instance-name\",\r\n    streamId: \"x-ms-qps-stream-id\",\r\n    machineName: \"x-ms-qps-machine-name\",\r\n    roleName: \"x-ms-qps-role-name\",\r\n    streamid: \"x-ms-qps-stream-id\",\r\n    invariantVersion: \"x-ms-qps-invariant-version\",\r\n    subscribed: \"x-ms-qps-subscribed\"\r\n};\r\nvar QuickPulseSender = /** @class */ (function () {\r\n    function QuickPulseSender(config, getAuthorizationHandler) {\r\n        this._config = config;\r\n        this._consecutiveErrors = 0;\r\n        this._getAuthorizationHandler = getAuthorizationHandler;\r\n    }\r\n    QuickPulseSender.prototype.ping = function (envelope, redirectedHostEndpoint, done) {\r\n        var pingHeaders = [\r\n            { name: QuickPulseConfig.streamId, value: envelope.StreamId },\r\n            { name: QuickPulseConfig.machineName, value: envelope.MachineName },\r\n            { name: QuickPulseConfig.roleName, value: envelope.RoleName },\r\n            { name: QuickPulseConfig.instanceName, value: envelope.Instance },\r\n            { name: QuickPulseConfig.invariantVersion, value: envelope.InvariantVersion.toString() }\r\n        ];\r\n        this._submitData(envelope, redirectedHostEndpoint, done, \"ping\", pingHeaders);\r\n    };\r\n    QuickPulseSender.prototype.post = function (envelope, redirectedHostEndpoint, done) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: \r\n                    // Important: When POSTing data, envelope must be an array\r\n                    return [4 /*yield*/, this._submitData([envelope], redirectedHostEndpoint, done, \"post\")];\r\n                    case 1:\r\n                        // Important: When POSTing data, envelope must be an array\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    QuickPulseSender.prototype._submitData = function (envelope, redirectedHostEndpoint, done, postOrPing, additionalHeaders) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var payload, options, authHandler, authError_1, notice, req;\r\n            var _a, _b;\r\n            var _this = this;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        payload = Util.stringify(envelope);\r\n                        options = (_a = {},\r\n                            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\r\n                            _a.host = (redirectedHostEndpoint && redirectedHostEndpoint.length > 0) ? redirectedHostEndpoint : this._config.quickPulseHost,\r\n                            _a.method = QuickPulseConfig.method,\r\n                            _a.path = \"/QuickPulseService.svc/\" + postOrPing + \"?ikey=\" + this._config.instrumentationKey,\r\n                            _a.headers = (_b = {\r\n                                    \"Expect\": \"100-continue\"\r\n                                },\r\n                                _b[QuickPulseConfig.time] = QuickPulseUtil.getTransmissionTime(),\r\n                                _b[\"Content-Type\"] = \"application\\/json\",\r\n                                _b[\"Content-Length\"] = Buffer.byteLength(payload),\r\n                                _b),\r\n                            _a);\r\n                        if (additionalHeaders && additionalHeaders.length > 0) {\r\n                            additionalHeaders.forEach(function (header) { return options.headers[header.name] = header.value; });\r\n                        }\r\n                        if (!(postOrPing === \"post\")) return [3 /*break*/, 4];\r\n                        authHandler = this._getAuthorizationHandler ? this._getAuthorizationHandler(this._config) : null;\r\n                        if (!authHandler) return [3 /*break*/, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        // Add bearer token\r\n                        return [4 /*yield*/, authHandler.addAuthorizationHeader(options)];\r\n                    case 2:\r\n                        // Add bearer token\r\n                        _c.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        authError_1 = _c.sent();\r\n                        notice = \"Failed to get AAD bearer token for the Application. Error:\";\r\n                        Logging.info(QuickPulseSender.TAG, notice, authError_1);\r\n                        // Do not send request to Quickpulse if auth fails, data will be dropped\r\n                        return [2 /*return*/];\r\n                    case 4:\r\n                        // HTTPS only\r\n                        if (this._config.httpsAgent) {\r\n                            options.agent = this._config.httpsAgent;\r\n                        }\r\n                        else {\r\n                            options.agent = Util.tlsRestrictedAgent;\r\n                        }\r\n                        req = https.request(options, function (res) {\r\n                            if (res.statusCode == 200) {\r\n                                var shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\r\n                                var redirectHeader = null;\r\n                                try {\r\n                                    redirectHeader = res.headers[QuickPulseConfig.endpointRedirect] ? new url.URL(res.headers[QuickPulseConfig.endpointRedirect].toString()).host : null;\r\n                                }\r\n                                catch (error) {\r\n                                    _this._onError(\"Failed to parse redirect header from QuickPulse: \" + Util.dumpObj(error));\r\n                                }\r\n                                var pollingIntervalHint = res.headers[QuickPulseConfig.pollingIntervalHint] ? parseInt(res.headers[QuickPulseConfig.pollingIntervalHint].toString()) : null;\r\n                                _this._consecutiveErrors = 0;\r\n                                done(shouldPOSTData, res, redirectHeader, pollingIntervalHint);\r\n                            }\r\n                            else {\r\n                                _this._onError(\"StatusCode:\" + res.statusCode + \" StatusMessage:\" + res.statusMessage);\r\n                                done();\r\n                            }\r\n                        });\r\n                        req.on(\"error\", function (error) {\r\n                            _this._onError(error);\r\n                            done();\r\n                        });\r\n                        req.write(payload);\r\n                        req.end();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    QuickPulseSender.prototype._onError = function (error) {\r\n        // Unable to contact qps endpoint.\r\n        // Do nothing for now.\r\n        this._consecutiveErrors++;\r\n        // LOG every error, but WARN instead when X number of consecutive errors occur\r\n        var notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\r\n        if (this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\r\n            notice = \"Live Metrics endpoint could not be reached \" + this._consecutiveErrors + \" consecutive times. Most recent error:\";\r\n            Logging.warn(QuickPulseSender.TAG, notice, error);\r\n        }\r\n        else {\r\n            // Potentially transient error, do not change the ping/post state yet.\r\n            Logging.info(QuickPulseSender.TAG, notice, error);\r\n        }\r\n    };\r\n    QuickPulseSender.TAG = \"QuickPulseSender\";\r\n    QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN = 25;\r\n    return QuickPulseSender;\r\n}());\r\nmodule.exports = QuickPulseSender;\r\n//# sourceMappingURL=QuickPulseSender.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar Logging = require(\"./Logging\");\r\nvar QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\r\nvar QuickPulseSender = require(\"./QuickPulseSender\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Context = require(\"./Context\");\r\n/** State Container for sending to the QuickPulse Service */\r\nvar QuickPulseStateManager = /** @class */ (function () {\r\n    function QuickPulseStateManager(config, context, getAuthorizationHandler, client) {\r\n        this._isCollectingData = false;\r\n        this._lastSuccessTime = Date.now();\r\n        this._lastSendSucceeded = true;\r\n        this._metrics = {};\r\n        this._documents = [];\r\n        this._collectors = [];\r\n        this._redirectedHost = null;\r\n        this._pollingIntervalHint = -1;\r\n        this.config = config;\r\n        this.context = context || new Context();\r\n        this._sender = new QuickPulseSender(this.config, getAuthorizationHandler);\r\n        this._isEnabled = false;\r\n        this._statsbeat = client === null || client === void 0 ? void 0 : client.getStatsbeat();\r\n    }\r\n    /**\r\n     *\r\n     * @param collector\r\n     */\r\n    QuickPulseStateManager.prototype.addCollector = function (collector) {\r\n        this._collectors.push(collector);\r\n    };\r\n    /**\r\n     * Override of TelemetryClient.trackMetric\r\n     */\r\n    QuickPulseStateManager.prototype.trackMetric = function (telemetry) {\r\n        this._addMetric(telemetry);\r\n    };\r\n    /**\r\n     * Add a document to the current buffer\r\n     * @param envelope\r\n     */\r\n    QuickPulseStateManager.prototype.addDocument = function (envelope) {\r\n        // Only add documents in buffer when Live Metrics is collecting data\r\n        if (this._isCollectingData) {\r\n            var document_1 = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\r\n            if (document_1) {\r\n                this._documents.push(document_1);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Enable or disable communication with QuickPulseService\r\n     * @param isEnabled\r\n     */\r\n    QuickPulseStateManager.prototype.enable = function (isEnabled) {\r\n        if (isEnabled && !this._isEnabled) {\r\n            this._isEnabled = true;\r\n            this._goQuickPulse();\r\n            if (this._statsbeat) {\r\n                this._statsbeat.addFeature(Constants.StatsbeatFeature.LIVE_METRICS);\r\n            }\r\n        }\r\n        else if (!isEnabled && this._isEnabled) {\r\n            this._isEnabled = false;\r\n            clearTimeout(this._handle);\r\n            this._handle = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Enable or disable all collectors in this instance\r\n     * @param enable\r\n     */\r\n    QuickPulseStateManager.prototype.enableCollectors = function (enable) {\r\n        this._collectors.forEach(function (collector) {\r\n            collector.enable(enable);\r\n        });\r\n    };\r\n    /**\r\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\r\n     * @param telemetry\r\n     */\r\n    QuickPulseStateManager.prototype._addMetric = function (telemetry) {\r\n        var value = telemetry.value;\r\n        var count = telemetry.count || 1;\r\n        var name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\r\n        if (name) {\r\n            if (this._metrics[name]) {\r\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\r\n                this._metrics[name].Weight += count;\r\n            }\r\n            else {\r\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\r\n                this._metrics[name].Name = name;\r\n                this._metrics[name].Weight = 1;\r\n            }\r\n        }\r\n    };\r\n    QuickPulseStateManager.prototype._resetQuickPulseBuffer = function () {\r\n        delete this._metrics;\r\n        this._metrics = {};\r\n        this._documents.length = 0;\r\n    };\r\n    QuickPulseStateManager.prototype._goQuickPulse = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var metrics, envelope, pingInterval, currentTimeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metrics = Object.keys(this._metrics).map(function (k) { return _this._metrics[k]; });\r\n                        envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\r\n                        // Clear this document, metric buffer\r\n                        this._resetQuickPulseBuffer();\r\n                        if (!this._isCollectingData) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this._post(envelope)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        this._ping(envelope);\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        pingInterval = this._pollingIntervalHint > 0 ? this._pollingIntervalHint : QuickPulseStateManager.PING_INTERVAL;\r\n                        currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : pingInterval;\r\n                        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\r\n                            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\r\n                            this._isCollectingData = false;\r\n                            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\r\n                        }\r\n                        else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\r\n                            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\r\n                            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\r\n                        }\r\n                        this._lastSendSucceeded = null;\r\n                        this._handle = setTimeout(this._goQuickPulse.bind(this), currentTimeout);\r\n                        this._handle.unref(); // Don't block apps from terminating\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    QuickPulseStateManager.prototype._ping = function (envelope) {\r\n        this._sender.ping(envelope, this._redirectedHost, this._quickPulseDone.bind(this));\r\n    };\r\n    QuickPulseStateManager.prototype._post = function (envelope) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this._sender.post(envelope, this._redirectedHost, this._quickPulseDone.bind(this))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\r\n     */\r\n    QuickPulseStateManager.prototype._quickPulseDone = function (shouldPOST, res, redirectedHost, pollingIntervalHint) {\r\n        if (shouldPOST != undefined) {\r\n            if (this._isCollectingData !== shouldPOST) {\r\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\r\n                this.enableCollectors(shouldPOST);\r\n            }\r\n            this._isCollectingData = shouldPOST;\r\n            if (redirectedHost && redirectedHost.length > 0) {\r\n                this._redirectedHost = redirectedHost;\r\n                Logging.info(\"Redirecting endpoint to: \", redirectedHost);\r\n            }\r\n            if (pollingIntervalHint && pollingIntervalHint > 0) {\r\n                this._pollingIntervalHint = pollingIntervalHint;\r\n            }\r\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\r\n                this._lastSuccessTime = Date.now();\r\n                this._lastSendSucceeded = true;\r\n            }\r\n            else {\r\n                this._lastSendSucceeded = false;\r\n            }\r\n        }\r\n        else {\r\n            // Received an error, keep the state as is\r\n            this._lastSendSucceeded = false;\r\n        }\r\n    };\r\n    QuickPulseStateManager.MAX_POST_WAIT_TIME = 20000;\r\n    QuickPulseStateManager.MAX_PING_WAIT_TIME = 60000;\r\n    QuickPulseStateManager.FALLBACK_INTERVAL = 60000;\r\n    QuickPulseStateManager.PING_INTERVAL = 5000;\r\n    QuickPulseStateManager.POST_INTERVAL = 1000;\r\n    return QuickPulseStateManager;\r\n}());\r\nmodule.exports = QuickPulseStateManager;\r\n//# sourceMappingURL=QuickPulseStateManager.js.map","\"use strict\";\r\n/**\r\n * @description UTC time the request was made. Expressed as the number of 100-nanosecond intervals that have elapsed since 12:00:00 midnight on January 1, 0001. This is used for clock skew calculations, so the value can never be stale (cached).\r\n *\r\n * @example\r\n * 8/5/2020 10:15:00 PM UTC => 637322625000000000\r\n * 8/5/2020 10:15:01 PM UTC => 637322625010000000\r\n *\r\n * @returns {number}\r\n */\r\nvar getTransmissionTime = function () {\r\n    return (Date.now() + 62135596800000) * 10000;\r\n};\r\nmodule.exports = { getTransmissionTime: getTransmissionTime };\r\n//# sourceMappingURL=QuickPulseUtil.js.map","\"use strict\";\r\nmodule.exports = {\r\n    /**\r\n     * Request-Context header\r\n     */\r\n    requestContextHeader: \"request-context\",\r\n    /**\r\n     * Source instrumentation header that is added by an application while making http\r\n     * requests and retrieved by the other application when processing incoming requests.\r\n     */\r\n    requestContextSourceKey: \"appId\",\r\n    /**\r\n     * Target instrumentation header that is added to the response and retrieved by the\r\n     * calling application when processing incoming responses.\r\n     */\r\n    requestContextTargetKey: \"appId\",\r\n    /**\r\n     * Request-Id header\r\n     */\r\n    requestIdHeader: \"request-id\",\r\n    /**\r\n     * Legacy Header containing the id of the immediate caller\r\n     */\r\n    parentIdHeader: \"x-ms-request-id\",\r\n    /**\r\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\r\n     * across transactions\r\n     */\r\n    rootIdHeader: \"x-ms-request-root-id\",\r\n    /**\r\n     * Correlation-Context header\r\n     *\r\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\r\n     */\r\n    correlationContextHeader: \"correlation-context\",\r\n    /**\r\n     * W3C distributed tracing protocol header\r\n     */\r\n    traceparentHeader: \"traceparent\",\r\n    /**\r\n     * W3C distributed tracing protocol state header\r\n     */\r\n    traceStateHeader: \"tracestate\"\r\n};\r\n//# sourceMappingURL=RequestResponseHeaders.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar zlib = require(\"zlib\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar FileSystemHelper = require(\"./FileSystemHelper\");\r\nvar Util = require(\"./Util\");\r\nvar url_1 = require(\"url\");\r\nvar Logging = require(\"./Logging\");\r\nvar FileAccessControl_1 = require(\"./FileAccessControl\");\r\nvar legacyThrottleStatusCode = 439; //  - Too many requests and refresh cache\r\nvar throttleStatusCode = 402; // Monthly Quota Exceeded (new SDK)\r\nvar RESPONSE_CODES_INDICATING_REACHED_BREEZE = [200, 206, 402, 408, 429, 439, 500];\r\nvar INVALID_IKEY = \"Invalid instrumentation key\";\r\nvar Sender = /** @class */ (function () {\r\n    function Sender(config, getAuthorizationHandler, onSuccess, onError, statsbeat, isStatsbeatSender, shutdownStatsbeat) {\r\n        this._redirectedHost = null;\r\n        this._config = config;\r\n        this._onSuccess = onSuccess;\r\n        this._onError = onError;\r\n        this._statsbeat = statsbeat;\r\n        this._enableDiskRetryMode = false;\r\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\r\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\r\n        this._numConsecutiveFailures = 0;\r\n        this._numConsecutiveRedirects = 0;\r\n        this._resendTimer = null;\r\n        this._getAuthorizationHandler = getAuthorizationHandler;\r\n        this._fileCleanupTimer = null;\r\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        this._tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        this._isStatsbeatSender = isStatsbeatSender || false;\r\n        this._shutdownStatsbeat = shutdownStatsbeat;\r\n        this._failedToIngestCounter = 0;\r\n        this._statsbeatHasReachedIngestionAtLeastOnce = false;\r\n    }\r\n    /**\r\n    * Enable or disable offline mode\r\n    */\r\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\r\n        var _this = this;\r\n        if (value) {\r\n            FileAccessControl_1.FileAccessControl.checkFileProtection(); // Only check file protection when disk retry is enabled\r\n        }\r\n        this._enableDiskRetryMode = FileAccessControl_1.FileAccessControl.OS_PROVIDES_FILE_PROTECTION && value;\r\n        if (typeof resendInterval === \"number\" && resendInterval >= 0) {\r\n            this._resendInterval = Math.floor(resendInterval);\r\n        }\r\n        if (typeof maxBytesOnDisk === \"number\" && maxBytesOnDisk >= 0) {\r\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\r\n        }\r\n        if (value && !FileAccessControl_1.FileAccessControl.OS_PROVIDES_FILE_PROTECTION) {\r\n            this._enableDiskRetryMode = false;\r\n            this._logWarn(\"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\r\n        }\r\n        if (this._enableDiskRetryMode) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.addFeature(Constants.StatsbeatFeature.DISK_RETRY);\r\n            }\r\n            // Starts file cleanup task\r\n            if (!this._fileCleanupTimer) {\r\n                this._fileCleanupTimer = setTimeout(function () { _this._fileCleanupTask(); }, Sender.CLEANUP_TIMEOUT);\r\n                this._fileCleanupTimer.unref();\r\n            }\r\n        }\r\n        else {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.removeFeature(Constants.StatsbeatFeature.DISK_RETRY);\r\n            }\r\n            if (this._fileCleanupTimer) {\r\n                clearTimeout(this._fileCleanupTimer);\r\n            }\r\n        }\r\n    };\r\n    Sender.prototype.send = function (envelopes, callback) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var endpointUrl, endpointHost, options, authHandler, authError_1, errorMsg, batch_1, payload_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!envelopes) return [3 /*break*/, 5];\r\n                        endpointUrl = this._redirectedHost || this._config.endpointUrl;\r\n                        endpointHost = new url_1.URL(endpointUrl).hostname;\r\n                        options = {\r\n                            method: \"POST\",\r\n                            withCredentials: false,\r\n                            headers: {\r\n                                \"Content-Type\": \"application/x-json-stream\"\r\n                            }\r\n                        };\r\n                        authHandler = this._getAuthorizationHandler ? this._getAuthorizationHandler(this._config) : null;\r\n                        if (!authHandler) return [3 /*break*/, 4];\r\n                        if (this._statsbeat) {\r\n                            this._statsbeat.addFeature(Constants.StatsbeatFeature.AAD_HANDLING);\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        // Add bearer token\r\n                        return [4 /*yield*/, authHandler.addAuthorizationHeader(options)];\r\n                    case 2:\r\n                        // Add bearer token\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        authError_1 = _a.sent();\r\n                        errorMsg = \"Failed to get AAD bearer token for the Application.\";\r\n                        if (this._enableDiskRetryMode) {\r\n                            errorMsg += \"This batch of telemetry items will be retried. \";\r\n                            this._storeToDisk(envelopes);\r\n                        }\r\n                        errorMsg += \"Error:\" + authError_1.toString();\r\n                        this._logWarn(errorMsg);\r\n                        if (typeof callback === \"function\") {\r\n                            callback(errorMsg);\r\n                        }\r\n                        return [2 /*return*/]; // If AAD auth fails do not send to Breeze\r\n                    case 4:\r\n                        batch_1 = \"\";\r\n                        envelopes.forEach(function (envelope) {\r\n                            var payload = Util.stringify(envelope);\r\n                            if (typeof payload !== \"string\") {\r\n                                return;\r\n                            }\r\n                            batch_1 += payload + \"\\n\";\r\n                        });\r\n                        // Remove last \\n\r\n                        if (batch_1.length > 0) {\r\n                            batch_1 = batch_1.substring(0, batch_1.length - 1);\r\n                        }\r\n                        payload_1 = Buffer.from ? Buffer.from(batch_1) : new Buffer(batch_1);\r\n                        zlib.gzip(payload_1, function (err, buffer) {\r\n                            var dataToSend = buffer;\r\n                            if (err) {\r\n                                _this._logWarn(Util.dumpObj(err));\r\n                                dataToSend = payload_1; // something went wrong so send without gzip\r\n                                options.headers[\"Content-Length\"] = payload_1.length.toString();\r\n                            }\r\n                            else {\r\n                                options.headers[\"Content-Encoding\"] = \"gzip\";\r\n                                options.headers[\"Content-Length\"] = buffer.length.toString();\r\n                            }\r\n                            _this._logInfo(Util.dumpObj(options));\r\n                            // Ensure this request is not captured by auto-collection.\r\n                            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\r\n                            var startTime = +new Date();\r\n                            var requestCallback = function (res) {\r\n                                res.setEncoding(\"utf-8\");\r\n                                //returns empty if the data is accepted\r\n                                var responseString = \"\";\r\n                                res.on(\"data\", function (data) {\r\n                                    responseString += data;\r\n                                });\r\n                                res.on(\"end\", function () {\r\n                                    var _a;\r\n                                    var endTime = +new Date();\r\n                                    var duration = endTime - startTime;\r\n                                    _this._numConsecutiveFailures = 0;\r\n                                    if (responseString.includes(INVALID_IKEY) && res.statusCode === 400) {\r\n                                        Logging.warn(\"Instrumentation key was invalid, please check the iKey\");\r\n                                        (_a = _this._shutdownStatsbeat) === null || _a === void 0 ? void 0 : _a.call(_this);\r\n                                    }\r\n                                    // Handling of Statsbeat instance sending data, should turn it off if is not able to reach ingestion endpoint\r\n                                    if (_this._isStatsbeatSender && !_this._statsbeatHasReachedIngestionAtLeastOnce) {\r\n                                        if (RESPONSE_CODES_INDICATING_REACHED_BREEZE.includes(res.statusCode)) {\r\n                                            _this._statsbeatHasReachedIngestionAtLeastOnce = true;\r\n                                        }\r\n                                        else {\r\n                                            _this._statsbeatFailedToIngest();\r\n                                        }\r\n                                    }\r\n                                    if (_this._statsbeat) {\r\n                                        if (res.statusCode == throttleStatusCode || res.statusCode == legacyThrottleStatusCode) { // Throttle\r\n                                            _this._statsbeat.countThrottle(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, res.statusCode);\r\n                                        }\r\n                                        else {\r\n                                            _this._statsbeat.countRequest(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, duration, res.statusCode === 200, res.statusCode);\r\n                                        }\r\n                                    }\r\n                                    if (_this._enableDiskRetryMode) {\r\n                                        // try to send any cached events if the user is back online\r\n                                        if (res.statusCode === 200) {\r\n                                            if (!_this._resendTimer) {\r\n                                                _this._resendTimer = setTimeout(function () {\r\n                                                    _this._resendTimer = null;\r\n                                                    _this._sendFirstFileOnDisk();\r\n                                                }, _this._resendInterval);\r\n                                                _this._resendTimer.unref();\r\n                                            }\r\n                                        }\r\n                                        else if (_this._isRetriable(res.statusCode)) {\r\n                                            try {\r\n                                                if (_this._statsbeat) {\r\n                                                    _this._statsbeat.countRetry(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, res.statusCode);\r\n                                                }\r\n                                                var breezeResponse = JSON.parse(responseString);\r\n                                                var filteredEnvelopes_1 = [];\r\n                                                if (breezeResponse.errors) {\r\n                                                    breezeResponse.errors.forEach(function (error) {\r\n                                                        // Only retry errors if 429, 500 or 503 response codes\r\n                                                        if (error.statusCode == 429 || error.statusCode == 500 || error.statusCode == 503) {\r\n                                                            filteredEnvelopes_1.push(envelopes[error.index]);\r\n                                                        }\r\n                                                    });\r\n                                                    if (filteredEnvelopes_1.length > 0) {\r\n                                                        _this._storeToDisk(filteredEnvelopes_1);\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            catch (ex) {\r\n                                                _this._storeToDisk(envelopes); // Retriable status code with not valid Breeze response\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    // Redirect handling\r\n                                    if (res.statusCode === 307 || // Temporary Redirect\r\n                                        res.statusCode === 308) { // Permanent Redirect\r\n                                        _this._numConsecutiveRedirects++;\r\n                                        // To prevent circular redirects\r\n                                        if (_this._numConsecutiveRedirects < 10) {\r\n                                            // Try to get redirect header\r\n                                            var locationHeader = res.headers[\"location\"] ? res.headers[\"location\"].toString() : null;\r\n                                            if (locationHeader) {\r\n                                                _this._redirectedHost = locationHeader;\r\n                                                // Send to redirect endpoint as HTTPs library doesn't handle redirect automatically\r\n                                                _this.send(envelopes, callback);\r\n                                            }\r\n                                        }\r\n                                        else {\r\n                                            var circularRedirectError = { name: \"Circular Redirect\", message: \"Error sending telemetry because of circular redirects.\" };\r\n                                            if (_this._statsbeat) {\r\n                                                _this._statsbeat.countException(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, circularRedirectError);\r\n                                            }\r\n                                            if (typeof callback === \"function\") {\r\n                                                callback(\"Error sending telemetry because of circular redirects.\");\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        _this._numConsecutiveRedirects = 0;\r\n                                        if (typeof callback === \"function\") {\r\n                                            callback(responseString);\r\n                                        }\r\n                                        _this._logInfo(responseString);\r\n                                        if (typeof _this._onSuccess === \"function\") {\r\n                                            _this._onSuccess(responseString);\r\n                                        }\r\n                                    }\r\n                                });\r\n                            };\r\n                            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\r\n                            // Needed as of Node.js v13 default timeouts on HTTP requests are no longer default\r\n                            // Timeout should trigger the request on error function to run\r\n                            req.setTimeout(Sender.HTTP_TIMEOUT, function () {\r\n                                _this._requestTimedOut = true;\r\n                                req.abort();\r\n                            });\r\n                            req.on(\"error\", function (error) {\r\n                                if (_this._isStatsbeatSender && !_this._statsbeatHasReachedIngestionAtLeastOnce) {\r\n                                    _this._statsbeatFailedToIngest();\r\n                                }\r\n                                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\r\n                                _this._numConsecutiveFailures++;\r\n                                if (_this._statsbeat) {\r\n                                    _this._statsbeat.countException(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, error);\r\n                                }\r\n                                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\r\n                                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\r\n                                // Continue informing on each failure if verbose logging is being used\r\n                                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\r\n                                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\r\n                                    if (_this._enableDiskRetryMode) {\r\n                                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\r\n                                    }\r\n                                    _this._logWarn(notice, Util.dumpObj(error));\r\n                                }\r\n                                else {\r\n                                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\r\n                                    _this._logInfo(notice, Util.dumpObj(error));\r\n                                }\r\n                                _this._onErrorHelper(error);\r\n                                if (typeof callback === \"function\") {\r\n                                    if (error) {\r\n                                        // If the error type is a timeout we want to provide more meaningful output\r\n                                        if (_this._requestTimedOut) {\r\n                                            error.name = \"telemetry timeout\";\r\n                                            error.message = \"telemetry request timed out\";\r\n                                        }\r\n                                        callback(Util.dumpObj(error));\r\n                                    }\r\n                                    else {\r\n                                        callback(\"Error sending telemetry\");\r\n                                    }\r\n                                }\r\n                                if (_this._enableDiskRetryMode) {\r\n                                    _this._storeToDisk(envelopes);\r\n                                }\r\n                            });\r\n                            req.write(dataToSend);\r\n                            req.end();\r\n                        });\r\n                        _a.label = 5;\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Sender.prototype.saveOnCrash = function (envelopes) {\r\n        if (this._enableDiskRetryMode) {\r\n            this._storeToDiskSync(Util.stringify(envelopes));\r\n        }\r\n    };\r\n    Sender.prototype._isRetriable = function (statusCode) {\r\n        return (statusCode === 206 || // Partial Accept\r\n            statusCode === 401 || // Unauthorized\r\n            statusCode === 403 || // Forbidden\r\n            statusCode === 408 || // Timeout\r\n            statusCode === 429 || // Too many requests\r\n            statusCode === 500 || // Server Error\r\n            statusCode === 502 || // Bad Gateway\r\n            statusCode === 503 || // Server Unavailable\r\n            statusCode === 504 // Gateway Timeout\r\n        );\r\n    };\r\n    Sender.prototype._logInfo = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (!this._isStatsbeatSender) {\r\n            Logging.info(Sender.TAG, message, optionalParams);\r\n        }\r\n    };\r\n    Sender.prototype._logWarn = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (!this._isStatsbeatSender) {\r\n            Logging.warn(Sender.TAG, message, optionalParams);\r\n        }\r\n    };\r\n    Sender.prototype._statsbeatFailedToIngest = function () {\r\n        if (this._shutdownStatsbeat) { // Check if callback is available\r\n            this._failedToIngestCounter++;\r\n            if (this._failedToIngestCounter >= 3) {\r\n                this._shutdownStatsbeat();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Stores the payload as a json file on disk in the temp directory\r\n     */\r\n    Sender.prototype._storeToDisk = function (envelopes) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var ex_1, ex_2, size, ex_3, fileName, fileFullPath, ex_4;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        this._logInfo(\"Checking existence of data storage directory: \" + this._tempDir);\r\n                        return [4 /*yield*/, FileSystemHelper.confirmDirExists(this._tempDir)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        ex_1 = _a.sent();\r\n                        this._logWarn(\"Failed to create folder to put telemetry: \" + Util.dumpObj(ex_1));\r\n                        this._onErrorHelper(ex_1);\r\n                        return [2 /*return*/];\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 6]);\r\n                        return [4 /*yield*/, FileAccessControl_1.FileAccessControl.applyACLRules(this._tempDir)];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        ex_2 = _a.sent();\r\n                        this._logWarn(\"Failed to apply file access control to folder: \" + Util.dumpObj(ex_2));\r\n                        this._onErrorHelper(ex_2);\r\n                        return [2 /*return*/];\r\n                    case 6:\r\n                        _a.trys.push([6, 8, , 9]);\r\n                        return [4 /*yield*/, FileSystemHelper.getShallowDirectorySize(this._tempDir)];\r\n                    case 7:\r\n                        size = _a.sent();\r\n                        if (size > this._maxBytesOnDisk) {\r\n                            this._logWarn(\"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\r\n                            return [2 /*return*/];\r\n                        }\r\n                        return [3 /*break*/, 9];\r\n                    case 8:\r\n                        ex_3 = _a.sent();\r\n                        this._logWarn(\"Failed to read directory for retriable telemetry: \" + Util.dumpObj(ex_3));\r\n                        this._onErrorHelper(ex_3);\r\n                        return [2 /*return*/];\r\n                    case 9:\r\n                        _a.trys.push([9, 11, , 12]);\r\n                        fileName = new Date().getTime() + \".ai.json\";\r\n                        fileFullPath = path.join(this._tempDir, fileName);\r\n                        // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\r\n                        // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\r\n                        this._logInfo(\"saving data to disk at: \" + fileFullPath);\r\n                        return [4 /*yield*/, FileSystemHelper.writeFileAsync(fileFullPath, Util.stringify(envelopes), { mode: 384 })];\r\n                    case 10:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 12];\r\n                    case 11:\r\n                        ex_4 = _a.sent();\r\n                        this._logWarn(\"Failed to persist telemetry to disk: \" + Util.dumpObj(ex_4));\r\n                        this._onErrorHelper(ex_4);\r\n                        return [2 /*return*/];\r\n                    case 12: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Stores the payload as a json file on disk using sync file operations\r\n     * this is used when storing data before crashes\r\n     */\r\n    Sender.prototype._storeToDiskSync = function (payload) {\r\n        try {\r\n            this._logInfo(\"Checking existence of data storage directory: \" + this._tempDir);\r\n            if (!fs.existsSync(this._tempDir)) {\r\n                fs.mkdirSync(this._tempDir);\r\n            }\r\n            // Make sure permissions are valid\r\n            FileAccessControl_1.FileAccessControl.applyACLRulesSync(this._tempDir);\r\n            var dirSize = FileSystemHelper.getShallowDirectorySizeSync(this._tempDir);\r\n            if (dirSize > this._maxBytesOnDisk) {\r\n                this._logInfo(\"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\r\n                return;\r\n            }\r\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\r\n            //would require an external dependency\r\n            var fileName = new Date().getTime() + \".ai.json\";\r\n            var fileFullPath = path.join(this._tempDir, fileName);\r\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\r\n            this._logInfo(\"saving data before crash to disk at: \" + fileFullPath);\r\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\r\n        }\r\n        catch (error) {\r\n            this._logWarn(\"Error while saving data to disk: \" + Util.dumpObj(error));\r\n            this._onErrorHelper(error);\r\n        }\r\n    };\r\n    /**\r\n     * Check for temp telemetry files\r\n     * reads the first file if exist, deletes it and tries to send its load\r\n     */\r\n    Sender.prototype._sendFirstFileOnDisk = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var files, firstFile, filePath, buffer, envelopes, err_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 6, , 7]);\r\n                        return [4 /*yield*/, FileSystemHelper.readdirAsync(this._tempDir)];\r\n                    case 1:\r\n                        files = _a.sent();\r\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\r\n                        if (!(files.length > 0)) return [3 /*break*/, 5];\r\n                        firstFile = files[0];\r\n                        filePath = path.join(this._tempDir, firstFile);\r\n                        return [4 /*yield*/, FileSystemHelper.readFileAsync(filePath)];\r\n                    case 2:\r\n                        buffer = _a.sent();\r\n                        // delete the file first to prevent double sending\r\n                        return [4 /*yield*/, FileSystemHelper.unlinkAsync(filePath)];\r\n                    case 3:\r\n                        // delete the file first to prevent double sending\r\n                        _a.sent();\r\n                        envelopes = JSON.parse(buffer.toString());\r\n                        return [4 /*yield*/, this.send(envelopes)];\r\n                    case 4:\r\n                        _a.sent();\r\n                        _a.label = 5;\r\n                    case 5: return [3 /*break*/, 7];\r\n                    case 6:\r\n                        err_1 = _a.sent();\r\n                        this._onErrorHelper(err_1);\r\n                        return [3 /*break*/, 7];\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Sender.prototype._onErrorHelper = function (error) {\r\n        if (typeof this._onError === \"function\") {\r\n            this._onError(error);\r\n        }\r\n    };\r\n    Sender.prototype._fileCleanupTask = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var files, i, fileCreationDate, expired, filePath, err_2;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 6, , 7]);\r\n                        return [4 /*yield*/, FileSystemHelper.readdirAsync(this._tempDir)];\r\n                    case 1:\r\n                        files = _a.sent();\r\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\r\n                        if (!(files.length > 0)) return [3 /*break*/, 5];\r\n                        i = 0;\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        if (!(i < files.length)) return [3 /*break*/, 5];\r\n                        fileCreationDate = new Date(parseInt(files[i].split(\".ai.json\")[0]));\r\n                        expired = new Date(+(new Date()) - Sender.FILE_RETEMPTION_PERIOD) > fileCreationDate;\r\n                        if (!expired) return [3 /*break*/, 4];\r\n                        filePath = path.join(this._tempDir, files[i]);\r\n                        return [4 /*yield*/, FileSystemHelper.unlinkAsync(filePath).catch(function (err) {\r\n                                _this._onErrorHelper(err);\r\n                            })];\r\n                    case 3:\r\n                        _a.sent();\r\n                        _a.label = 4;\r\n                    case 4:\r\n                        i++;\r\n                        return [3 /*break*/, 2];\r\n                    case 5: return [3 /*break*/, 7];\r\n                    case 6:\r\n                        err_2 = _a.sent();\r\n                        if (err_2.code != \"ENOENT\") {\r\n                            this._onErrorHelper(err_2);\r\n                        }\r\n                        return [3 /*break*/, 7];\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Sender.TAG = \"Sender\";\r\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throttling from the service side\r\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000; // 1 minute\r\n    Sender.MAX_BYTES_ON_DISK = 50 * 1024 * 1024; // 50 mb\r\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\r\n    Sender.CLEANUP_TIMEOUT = 60 * 60 * 1000; // 1 hour\r\n    Sender.FILE_RETEMPTION_PERIOD = 7 * 24 * 60 * 60 * 1000; // 7 days\r\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\r\n    Sender.HTTP_TIMEOUT = 20000; // 20 seconds\r\n    return Sender;\r\n}());\r\nmodule.exports = Sender;\r\n//# sourceMappingURL=Sender.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isContentTypeHeaderHtml = exports.insertSnippetByIndex = exports.getContentEncodingFromHeaders = exports.isSupportedContentEncoding = exports.findBufferEncodingType = exports.isBufferType = exports.getBrotliDecompressSync = exports.getBrotliDecompressAsync = exports.getBrotliCompressSync = exports.getBrotliCompressAsync = exports.inflateAsync = exports.deflateAsync = exports.gunzipAsync = exports.gzipAsync = exports.isBrotliSupperted = exports.bufferEncodingTypes = exports.contentEncodingMethod = void 0;\r\nvar zlib = require(\"zlib\");\r\nvar util_1 = require(\"util\");\r\n// currently support the following encoding types\r\nvar contentEncodingMethod;\r\n(function (contentEncodingMethod) {\r\n    contentEncodingMethod[\"GZIP\"] = \"gzip\";\r\n    contentEncodingMethod[\"DEFLATE\"] = \"deflate\";\r\n    contentEncodingMethod[\"BR\"] = \"br\";\r\n})(contentEncodingMethod = exports.contentEncodingMethod || (exports.contentEncodingMethod = {}));\r\n//current supported encoding types\r\nexports.bufferEncodingTypes = [\"utf8\", \"utf16le\", \"latin1\", \"base64\", \"hex\", \"ascii\", \"binary\", \"ucs2\"];\r\n//for node version under 10, Brotli compression is not supported.\r\nvar isBrotliSupperted = function () {\r\n    var majVer = process.versions.node.split(\".\")[0];\r\n    return parseInt(majVer) >= 10;\r\n};\r\nexports.isBrotliSupperted = isBrotliSupperted;\r\nexports.gzipAsync = util_1.promisify(zlib.gzip);\r\nexports.gunzipAsync = util_1.promisify(zlib.gunzip);\r\nexports.deflateAsync = util_1.promisify(zlib.deflate);\r\nexports.inflateAsync = util_1.promisify(zlib.inflate);\r\nvar getBrotliCompressAsync = function (zlibObject) {\r\n    var isMajorVer = exports.isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliCompress === \"function\") {\r\n        return util_1.promisify(zlibObject.brotliCompress);\r\n    }\r\n    return null;\r\n};\r\nexports.getBrotliCompressAsync = getBrotliCompressAsync;\r\nvar getBrotliCompressSync = function (zlibObject) {\r\n    var isMajorVer = exports.isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliCompressSync === \"function\") {\r\n        return zlibObject.brotliCompressSync;\r\n    }\r\n    return null;\r\n};\r\nexports.getBrotliCompressSync = getBrotliCompressSync;\r\nvar getBrotliDecompressAsync = function (zlibObject) {\r\n    var isMajorVer = exports.isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliDecompress === \"function\") {\r\n        return util_1.promisify(zlibObject.brotliDecompress);\r\n    }\r\n    return null;\r\n};\r\nexports.getBrotliDecompressAsync = getBrotliDecompressAsync;\r\nvar getBrotliDecompressSync = function (zlibObject) {\r\n    var isMajorVer = exports.isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliDecompressSync === \"function\") {\r\n        return zlibObject.brotliDecompressSync;\r\n    }\r\n    return null;\r\n};\r\nexports.getBrotliDecompressSync = getBrotliDecompressSync;\r\nvar isBufferType = function (buffer, type) {\r\n    var encodingType = type ? type : \"utf8\";\r\n    var result = false;\r\n    if (Buffer.isEncoding(encodingType)) {\r\n        var newBuffer = Buffer.from(buffer.toString(encodingType), encodingType);\r\n        result = newBuffer.toJSON().data.toString() === buffer.toJSON().data.toString();\r\n    }\r\n    return result;\r\n};\r\nexports.isBufferType = isBufferType;\r\nvar findBufferEncodingType = function (buffer) {\r\n    var bufferType = null;\r\n    for (var key in exports.bufferEncodingTypes) {\r\n        var type = exports.bufferEncodingTypes[key];\r\n        if (Buffer.isEncoding(type) && exports.isBufferType(buffer, type)) {\r\n            bufferType = type;\r\n            break;\r\n        }\r\n    }\r\n    return bufferType;\r\n};\r\nexports.findBufferEncodingType = findBufferEncodingType;\r\nvar isSupportedContentEncoding = function (encodingMethod) {\r\n    var encodingType = null;\r\n    switch (encodingMethod) {\r\n        case \"gzip\":\r\n            encodingType = contentEncodingMethod.GZIP;\r\n            break;\r\n        case \"br\":\r\n            encodingType = contentEncodingMethod.BR;\r\n            break;\r\n        case \"deflate\":\r\n            encodingType = contentEncodingMethod.DEFLATE;\r\n            break;\r\n        default:\r\n    }\r\n    return encodingType;\r\n};\r\nexports.isSupportedContentEncoding = isSupportedContentEncoding;\r\n// mutiple content-encoding is not supported\r\n// for mutiple content-encoding, this method will return any empty array\r\nvar getContentEncodingFromHeaders = function (response) {\r\n    var headers = [];\r\n    var contentEncodingHeaders = response.getHeader(\"Content-Encoding\");\r\n    if (!contentEncodingHeaders)\r\n        return null;\r\n    if (typeof contentEncodingHeaders === \"string\") {\r\n        var supportedContentEncoding = exports.isSupportedContentEncoding(contentEncodingHeaders);\r\n        if (supportedContentEncoding) {\r\n            headers.push(supportedContentEncoding);\r\n        }\r\n    }\r\n    return headers;\r\n};\r\nexports.getContentEncodingFromHeaders = getContentEncodingFromHeaders;\r\nvar insertSnippetByIndex = function (index, html, snippet) {\r\n    if (index < 0)\r\n        return null;\r\n    var newHtml = null;\r\n    var subStart = html.substring(0, index);\r\n    var subEnd = html.substring(index);\r\n    newHtml = subStart + \"<script type=\\\"text/javascript\\\">\" + snippet + \"</script>\" + subEnd;\r\n    return newHtml;\r\n};\r\nexports.insertSnippetByIndex = insertSnippetByIndex;\r\nvar isContentTypeHeaderHtml = function (response) {\r\n    var isHtml = false;\r\n    var contentType = response.getHeader(\"Content-Type\");\r\n    if (contentType) {\r\n        if (typeof contentType === \"string\") {\r\n            isHtml = contentType.indexOf(\"html\") >= 0;\r\n        }\r\n        else {\r\n            isHtml = contentType.toString().indexOf(\"html\") >= 0;\r\n        }\r\n    }\r\n    return isHtml;\r\n};\r\nexports.isContentTypeHeaderHtml = isContentTypeHeaderHtml;\r\n//# sourceMappingURL=SnippetInjectionHelper.js.map","\"use strict\";\r\nvar url = require(\"url\");\r\nvar Config = require(\"./Config\");\r\nvar AuthorizationHandler = require(\"./AuthorizationHandler\");\r\nvar Context = require(\"./Context\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Channel = require(\"./Channel\");\r\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\r\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\r\nvar Statsbeat = require(\"../AutoCollection/Statsbeat\");\r\nvar Sender = require(\"./Sender\");\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\r\n/**\r\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\r\n * and manually trigger immediate sending (flushing)\r\n */\r\nvar TelemetryClient = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new client of the client\r\n     * @param setupString the Connection String or Instrumentation Key to use (read from environment variable if not specified)\r\n     */\r\n    function TelemetryClient(setupString) {\r\n        this._telemetryProcessors = [];\r\n        var config = new Config(setupString);\r\n        this.config = config;\r\n        if (!this.config.instrumentationKey || this.config.instrumentationKey == \"\") {\r\n            throw new Error(\"Instrumentation key not found, please provide a connection string before starting Application Insights SDK.\");\r\n        }\r\n        this.context = new Context();\r\n        this.commonProperties = {};\r\n        this.authorizationHandler = null;\r\n        if (!this.config.disableStatsbeat) {\r\n            this._statsbeat = new Statsbeat(this.config, this.context);\r\n            this._statsbeat.enable(true);\r\n        }\r\n        var sender = new Sender(this.config, this.getAuthorizationHandler, null, null, this._statsbeat);\r\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\r\n    }\r\n    /**\r\n     * Log information about availability of an application\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackAvailability = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Availability);\r\n    };\r\n    /**\r\n     * Log a page view\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackPageView = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.PageView);\r\n    };\r\n    /**\r\n     * Log a trace message\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Trace);\r\n    };\r\n    /**\r\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\r\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\r\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Metric);\r\n    };\r\n    /**\r\n     * Log an exception\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackException = function (telemetry) {\r\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\r\n            telemetry.exception = new Error(telemetry.exception.toString());\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Exception);\r\n    };\r\n    /**\r\n     * Log a user action or other occurrence.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Event);\r\n    };\r\n    /**\r\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\r\n     * that aren't automatically captured or if you've disabled automatic request collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Request);\r\n    };\r\n    /**\r\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\r\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking option\r\n     * */\r\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\r\n        if (telemetry && !telemetry.target && telemetry.data) {\r\n            // url.parse().host returns null for non-urls,\r\n            // making this essentially a no-op in those cases\r\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\r\n            // url.parse() is deprecated, update to use WHATWG URL API instead\r\n            try {\r\n                telemetry.target = new url.URL(telemetry.data).host;\r\n            }\r\n            catch (error) {\r\n                // set target as null to be compliant with previous behavior\r\n                telemetry.target = null;\r\n                Logging.warn(TelemetryClient.TAG, \"The URL object is failed to create.\", error);\r\n            }\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\r\n    };\r\n    /**\r\n     * Immediately send all queued telemetry.\r\n     * @param options Flush options, including indicator whether app is crashing and callback\r\n     */\r\n    TelemetryClient.prototype.flush = function (options) {\r\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\r\n    };\r\n    /**\r\n     * Generic track method for all telemetry types\r\n     * @param data the telemetry to send\r\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\r\n     */\r\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\r\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\r\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\r\n            // Set time on the envelope if it was set on the telemetry item\r\n            if (telemetry.time) {\r\n                envelope.time = telemetry.time.toISOString();\r\n            }\r\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\r\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\r\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\r\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\r\n            TelemetryProcessors.preAggregatedMetricsTelemetryProcessor(envelope, this.context);\r\n            if (accepted) {\r\n                TelemetryProcessors.performanceMetricsTelemetryProcessor(envelope, this.quickPulseClient);\r\n                this.channel.send(envelope);\r\n            }\r\n        }\r\n        else {\r\n            Logging.warn(TelemetryClient.TAG, \"track() requires telemetry object and telemetryType to be specified.\");\r\n        }\r\n    };\r\n    /**\r\n     *  @deprecated The method should not be called, Azure Properties will be added always when available\r\n     * Automatically populate telemetry properties like RoleName when running in Azure\r\n     *\r\n      * @param value if true properties will be populated\r\n     */\r\n    TelemetryClient.prototype.setAutoPopulateAzureProperties = function (value) {\r\n        // NO-OP\r\n    };\r\n    /**\r\n     * Get Authorization handler\r\n     */\r\n    TelemetryClient.prototype.getAuthorizationHandler = function (config) {\r\n        if (config && config.aadTokenCredential) {\r\n            if (!this.authorizationHandler) {\r\n                Logging.info(TelemetryClient.TAG, \"Adding authorization handler\");\r\n                this.authorizationHandler = new AuthorizationHandler(config.aadTokenCredential, config.aadAudience);\r\n            }\r\n            return this.authorizationHandler;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\r\n     * before telemetry item is pushed for sending and in the order they were added.\r\n     *\r\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\r\n     */\r\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\r\n        this._telemetryProcessors.push(telemetryProcessor);\r\n    };\r\n    /*\r\n     * Removes all telemetry processors\r\n     */\r\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\r\n        this._telemetryProcessors = [];\r\n    };\r\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\r\n        var accepted = true;\r\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\r\n        if (telemetryProcessorsCount === 0) {\r\n            return accepted;\r\n        }\r\n        contextObjects = contextObjects || {};\r\n        contextObjects[\"correlationContext\"] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\r\n            try {\r\n                var processor = this._telemetryProcessors[i];\r\n                if (processor) {\r\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\r\n                        accepted = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            catch (error) {\r\n                accepted = true;\r\n                Logging.warn(TelemetryClient.TAG, \"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\r\n            }\r\n        }\r\n        // Sanitize tags and properties after running telemetry processors\r\n        if (accepted) {\r\n            if (envelope && envelope.tags) {\r\n                envelope.tags = Util.validateStringMap(envelope.tags);\r\n            }\r\n            if (envelope && envelope.data && envelope.data.baseData && envelope.data.baseData.properties) {\r\n                envelope.data.baseData.properties = Util.validateStringMap(envelope.data.baseData.properties);\r\n            }\r\n        }\r\n        return accepted;\r\n    };\r\n    /*\r\n     * Get Statsbeat instance\r\n     */\r\n    TelemetryClient.prototype.getStatsbeat = function () {\r\n        return this._statsbeat;\r\n    };\r\n    TelemetryClient.TAG = \"TelemetryClient\";\r\n    return TelemetryClient;\r\n}());\r\nmodule.exports = TelemetryClient;\r\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\r\nvar Util = require(\"./Util\");\r\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\r\n/**\r\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\r\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\r\n * https://www.w3.org/TR/trace-context/#traceparent-field\r\n */\r\nvar Traceparent = /** @class */ (function () {\r\n    function Traceparent(traceparent, parentId) {\r\n        this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\r\n        this.version = Traceparent.DEFAULT_VERSION;\r\n        if (traceparent && typeof traceparent === \"string\") { // traceparent constructor\r\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\r\n            if (traceparent.split(\",\").length > 1) { // If more than 1 traceparent is present, discard both\r\n                this.traceId = Util.w3cTraceId();\r\n                this.spanId = Util.w3cTraceId().substr(0, 16);\r\n            }\r\n            else {\r\n                var traceparentArr = traceparent.trim().split(\"-\");\r\n                var len = traceparentArr.length;\r\n                if (len >= 4) { // traceparent must contain at least 4 fields\r\n                    this.version = traceparentArr[0];\r\n                    this.traceId = traceparentArr[1];\r\n                    this.spanId = traceparentArr[2];\r\n                    this.traceFlag = traceparentArr[3];\r\n                }\r\n                else { // Discard traceparent if a field is missing\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                // Version validation\r\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                if (this.version === \"00\" && len !== 4) { // 0x00 (and perhaps future versions) require exactly 4 fields. This strict check will need to be updated on each spec release\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                if (this.version === \"ff\") { // 0xff is forbidden, generate new traceparent\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                }\r\n                // TraceFlag validation\r\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\r\n                    this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Validate TraceId, regenerate new traceid if invalid\r\n                if (!Traceparent.isValidTraceId(this.traceId)) {\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Validate Span Id, discard entire traceparent if invalid\r\n                if (!Traceparent.isValidSpanId(this.spanId)) {\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Save backCompat parentId\r\n                this.parentId = this.getBackCompatRequestId();\r\n            }\r\n        }\r\n        else if (parentId) { // backcompat constructor\r\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\r\n            this.parentId = parentId.slice(); // copy\r\n            var operationId = CorrelationIdManager.getRootId(parentId);\r\n            if (!Traceparent.isValidTraceId(operationId)) {\r\n                this.legacyRootId = operationId;\r\n                operationId = Util.w3cTraceId();\r\n            }\r\n            if (parentId.indexOf(\"|\") !== -1) {\r\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\r\n            }\r\n            this.traceId = operationId;\r\n            this.spanId = parentId;\r\n        }\r\n        else {\r\n            // Fallback default constructor\r\n            // if request does not contain any correlation headers, see case p2\r\n            this.traceId = Util.w3cTraceId();\r\n            this.spanId = Util.w3cTraceId().substr(0, 16);\r\n        }\r\n    }\r\n    Traceparent.isValidTraceId = function (id) {\r\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\r\n    };\r\n    Traceparent.isValidSpanId = function (id) {\r\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\r\n    };\r\n    Traceparent.formatOpenTelemetryTraceFlags = function (traceFlags) {\r\n        var formattedFlags = (\"0\" + traceFlags.toString(16));\r\n        return formattedFlags.substring(formattedFlags.length - 2);\r\n    };\r\n    Traceparent.prototype.getBackCompatRequestId = function () {\r\n        return \"|\" + this.traceId + \".\" + this.spanId + \".\";\r\n    };\r\n    Traceparent.prototype.toString = function () {\r\n        return this.version + \"-\" + this.traceId + \"-\" + this.spanId + \"-\" + this.traceFlag;\r\n    };\r\n    Traceparent.prototype.updateSpanId = function () {\r\n        this.spanId = Util.w3cTraceId().substr(0, 16);\r\n    };\r\n    Traceparent.DEFAULT_TRACE_FLAG = \"01\";\r\n    Traceparent.DEFAULT_VERSION = \"00\";\r\n    return Traceparent;\r\n}());\r\nmodule.exports = Traceparent;\r\n//# sourceMappingURL=Traceparent.js.map","\"use strict\";\r\n/**\r\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\r\n * is documented at https://www.w3.org/TR/trace-context/#header-value\r\n * @class Tracestate\r\n */\r\nvar Tracestate = /** @class */ (function () {\r\n    // if true, performs strict tracestate header checking, else just passes it along\r\n    function Tracestate(id) {\r\n        this.fieldmap = [];\r\n        if (!id) {\r\n            return;\r\n        }\r\n        this.fieldmap = this.parseHeader(id);\r\n    }\r\n    Tracestate.prototype.toString = function () {\r\n        var fieldarr = this.fieldmap;\r\n        if (!fieldarr || fieldarr.length == 0) {\r\n            return null;\r\n        }\r\n        return fieldarr.join(\", \");\r\n    };\r\n    Tracestate.validateKeyChars = function (key) {\r\n        var keyParts = key.split(\"@\");\r\n        if (keyParts.length == 2) {\r\n            // Parse for tenant@vendor format\r\n            var tenant = keyParts[0].trim();\r\n            var vendor = keyParts[1].trim();\r\n            var tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\r\n            var vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\r\n            return tenantValid && vendorValid;\r\n        }\r\n        else if (keyParts.length == 1) {\r\n            // Parse for standard key format\r\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\r\n        }\r\n        return false;\r\n    };\r\n    Tracestate.prototype.parseHeader = function (id) {\r\n        var res = [];\r\n        var keydeduper = {};\r\n        var parts = id.split(\",\");\r\n        if (parts.length > 32)\r\n            return null;\r\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\r\n            var rawPart = parts_1[_i];\r\n            var part = rawPart.trim(); // trim out whitespace\r\n            if (part.length === 0) {\r\n                continue; // Discard empty pairs, but keep the rest of this tracestate\r\n            }\r\n            var pair = part.split(\"=\");\r\n            // pair should contain exactly one \"=\"\r\n            if (pair.length !== 2) {\r\n                return null; // invalid pair: discard entire tracestate\r\n            }\r\n            // Validate length and charset of this key\r\n            if (!Tracestate.validateKeyChars(pair[0])) {\r\n                return null;\r\n            }\r\n            // Assert uniqueness of this key\r\n            if (keydeduper[pair[0]]) {\r\n                return null; // duplicate key: discard entire tracestate\r\n            }\r\n            else {\r\n                keydeduper[pair[0]] = true;\r\n            }\r\n            // All checks passed -- add this part\r\n            res.push(part);\r\n        }\r\n        return res;\r\n    };\r\n    Tracestate.strict = true;\r\n    return Tracestate;\r\n}());\r\nmodule.exports = Tracestate;\r\n//# sourceMappingURL=Tracestate.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar url = require(\"url\");\r\nvar constants = require(\"constants\");\r\nvar Logging = require(\"./Logging\");\r\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\r\nvar JsonConfig_1 = require(\"./JsonConfig\");\r\nvar Util = /** @class */ (function () {\r\n    function Util() {\r\n        Util._addCloseHandler();\r\n    }\r\n    /**\r\n     * helper method to access userId and sessionId cookie\r\n     */\r\n    Util.getCookie = function (name, cookie) {\r\n        var value = \"\";\r\n        if (name && name.length && typeof cookie === \"string\") {\r\n            var cookieName = name + \"=\";\r\n            var cookies = cookie.split(\";\");\r\n            for (var i = 0; i < cookies.length; i++) {\r\n                var cookie = cookies[i];\r\n                cookie = Util.trim(cookie);\r\n                if (cookie && cookie.indexOf(cookieName) === 0) {\r\n                    value = cookie.substring(cookieName.length, cookies[i].length);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\r\n     */\r\n    Util.trim = function (str) {\r\n        if (typeof str === \"string\") {\r\n            return str.replace(/^\\s+|\\s+$/g, \"\");\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n    };\r\n    /**\r\n     * Convert an array of int32 to Base64 (no '==' at the end).\r\n     * MSB first.\r\n     */\r\n    Util.int32ArrayToBase64 = function (array) {\r\n        var toChar = function (v, i) {\r\n            return String.fromCharCode((v >> i) & 0xFF);\r\n        };\r\n        var int32AsString = function (v) {\r\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\r\n        };\r\n        var x = array.map(int32AsString).join(\"\");\r\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\r\n        var s = b.toString(\"base64\");\r\n        return s.substr(0, s.indexOf(\"=\"));\r\n    };\r\n    /**\r\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\r\n     */\r\n    Util.random32 = function () {\r\n        return (0x100000000 * Math.random()) | 0;\r\n    };\r\n    /**\r\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\r\n     */\r\n    Util.randomu32 = function () {\r\n        return Util.random32() + 0x80000000;\r\n    };\r\n    /**\r\n     * generate W3C-compatible trace id\r\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\r\n     */\r\n    Util.w3cTraceId = function () {\r\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\r\n        var oct = \"\", tmp;\r\n        for (var a = 0; a < 4; a++) {\r\n            tmp = Util.random32();\r\n            oct +=\r\n                hexValues[tmp & 0xF] +\r\n                    hexValues[tmp >> 4 & 0xF] +\r\n                    hexValues[tmp >> 8 & 0xF] +\r\n                    hexValues[tmp >> 12 & 0xF] +\r\n                    hexValues[tmp >> 16 & 0xF] +\r\n                    hexValues[tmp >> 20 & 0xF] +\r\n                    hexValues[tmp >> 24 & 0xF] +\r\n                    hexValues[tmp >> 28 & 0xF];\r\n        }\r\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\r\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\r\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\r\n    };\r\n    Util.w3cSpanId = function () {\r\n        return Util.w3cTraceId().substring(16);\r\n    };\r\n    Util.isValidW3CId = function (id) {\r\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Array\r\n     */\r\n    Util.isArray = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Error\r\n     */\r\n    Util.isError = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Error]\";\r\n    };\r\n    Util.isPrimitive = function (input) {\r\n        var propType = typeof input;\r\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Date\r\n     */\r\n    Util.isDate = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\r\n    };\r\n    /**\r\n     * Convert ms to c# time span format\r\n     */\r\n    Util.msToTimeSpan = function (totalms) {\r\n        if (isNaN(totalms) || totalms < 0) {\r\n            totalms = 0;\r\n        }\r\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\r\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\r\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\r\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\r\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\r\n        min = min.length < 2 ? \"0\" + min : min;\r\n        hour = hour.length < 2 ? \"0\" + hour : hour;\r\n        var daysText = days > 0 ? days + \".\" : \"\";\r\n        return daysText + hour + \":\" + min + \":\" + sec;\r\n    };\r\n    /**\r\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\r\n     * Simplify a generic Node Error into a simpler map for customDimensions\r\n     * Custom errors can still implement toJSON to override this functionality\r\n     */\r\n    Util.extractError = function (err) {\r\n        // Error is often subclassed so may have code OR id properties:\r\n        // https://nodejs.org/api/errors.html#errors_error_code\r\n        var looseError = err;\r\n        return {\r\n            message: err.message,\r\n            code: looseError.code || looseError.id || \"\"\r\n        };\r\n    };\r\n    /**\r\n     * Manually call toJSON if available to pre-convert the value.\r\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\r\n     * This avoids double escaping of quotes for Date objects, for example.\r\n     */\r\n    Util.extractObject = function (origProperty) {\r\n        if (origProperty instanceof Error) {\r\n            return Util.extractError(origProperty);\r\n        }\r\n        if (typeof origProperty.toJSON === \"function\") {\r\n            return origProperty.toJSON();\r\n        }\r\n        return origProperty;\r\n    };\r\n    /**\r\n     * Validate that an object is of type { [key: string]: string }\r\n     */\r\n    Util.validateStringMap = function (obj) {\r\n        if (typeof obj !== \"object\") {\r\n            Logging.info(\"Invalid properties dropped from payload\");\r\n            return;\r\n        }\r\n        var map = {};\r\n        for (var field in obj) {\r\n            var property = \"\";\r\n            var origProperty = obj[field];\r\n            var propType = typeof origProperty;\r\n            if (Util.isPrimitive(origProperty)) {\r\n                property = origProperty.toString();\r\n            }\r\n            else if (origProperty === null || propType === \"undefined\") {\r\n                property = \"\";\r\n            }\r\n            else if (propType === \"function\") {\r\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\r\n                continue;\r\n            }\r\n            else {\r\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\r\n                try {\r\n                    if (Util.isPrimitive(stringTarget)) {\r\n                        property = stringTarget;\r\n                    }\r\n                    else {\r\n                        property = JSON.stringify(stringTarget);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\r\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\r\n                }\r\n            }\r\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\r\n        }\r\n        return map;\r\n    };\r\n    /**\r\n     * Checks if a request url is not on a excluded domain list\r\n     * and if it is safe to add correlation headers\r\n     */\r\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\r\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\r\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\r\n            return true;\r\n        }\r\n        for (var i = 0; i < excludedDomains.length; i++) {\r\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\r\n            try {\r\n                if (regex.test(new url.URL(requestUrl).hostname)) {\r\n                    return false;\r\n                }\r\n            }\r\n            catch (ex) {\r\n                // Ignore errors\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Util.getCorrelationContextTarget = function (response, key) {\r\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\r\n        if (contextHeaders) {\r\n            var keyValues = contextHeaders.split(\",\");\r\n            for (var i = 0; i < keyValues.length; ++i) {\r\n                var keyValue = keyValues[i].split(\"=\");\r\n                if (keyValue.length == 2 && keyValue[0] == key) {\r\n                    return keyValue[1];\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Generate request\r\n     *\r\n     * Proxify the request creation to handle proxy http\r\n     *\r\n     * @param {string} requestUrl url endpoint\r\n     * @param {Object} requestOptions Request option\r\n     * @param {Function} requestCallback callback on request\r\n     * @param {boolean} useProxy Use proxy URL from config\r\n     * @param {boolean} useAgent Set Http Agent in request\r\n     * @returns {http.ClientRequest} request object\r\n     */\r\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback, useProxy, useAgent) {\r\n        if (useProxy === void 0) { useProxy = true; }\r\n        if (useAgent === void 0) { useAgent = true; }\r\n        if (requestUrl && requestUrl.indexOf(\"//\") === 0) {\r\n            requestUrl = \"https:\" + requestUrl;\r\n        }\r\n        var requestUrlParsed = new url.URL(requestUrl);\r\n        var options = __assign(__assign({}, requestOptions), { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\r\n        var proxyUrl = undefined;\r\n        if (useProxy) {\r\n            if (requestUrlParsed.protocol === \"https:\") {\r\n                proxyUrl = config.proxyHttpsUrl || undefined;\r\n            }\r\n            if (requestUrlParsed.protocol === \"http:\") {\r\n                proxyUrl = config.proxyHttpUrl || undefined;\r\n            }\r\n            if (proxyUrl) {\r\n                if (proxyUrl.indexOf(\"//\") === 0) {\r\n                    proxyUrl = \"http:\" + proxyUrl;\r\n                }\r\n                try {\r\n                    var proxyUrlParsed = new url.URL(proxyUrl);\r\n                    // https is not supported at the moment\r\n                    if (proxyUrlParsed.protocol === \"https:\") {\r\n                        Logging.info(\"Proxies that use HTTPS are not supported\");\r\n                        proxyUrl = undefined;\r\n                    }\r\n                    else {\r\n                        options = __assign(__assign({}, options), { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign(__assign({}, options.headers), { Host: requestUrlParsed.hostname }) });\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    Logging.warn(\"Wrong proxy URL provided\");\r\n                }\r\n            }\r\n        }\r\n        var isHttps = requestUrlParsed.protocol === \"https:\" && !proxyUrl;\r\n        if (useAgent) {\r\n            if (isHttps && config.httpsAgent !== undefined) {\r\n                options.agent = config.httpsAgent;\r\n            }\r\n            else if (!isHttps && config.httpAgent !== undefined) {\r\n                options.agent = config.httpAgent;\r\n            }\r\n            else if (isHttps) {\r\n                // HTTPS without a passed in agent. Use one that enforces our TLS rules\r\n                options.agent = Util._useKeepAlive ? Util.keepAliveAgent : Util.tlsRestrictedAgent;\r\n            }\r\n        }\r\n        if (isHttps) {\r\n            return https.request(options, requestCallback);\r\n        }\r\n        else {\r\n            return http.request(options, requestCallback);\r\n        }\r\n    };\r\n    /**\r\n     * Parse standard <string | string[] | number> request-context header\r\n     */\r\n    Util.safeIncludeCorrelationHeader = function (client, request, correlationHeader) {\r\n        var header; // attempt to cast correlationHeader to string\r\n        if (typeof correlationHeader === \"string\") {\r\n            header = correlationHeader;\r\n        }\r\n        else if (correlationHeader instanceof Array) { // string[]\r\n            header = correlationHeader.join(\",\");\r\n        }\r\n        else if (correlationHeader && typeof correlationHeader.toString === \"function\") {\r\n            // best effort attempt: requires well-defined toString\r\n            try {\r\n                header = correlationHeader.toString();\r\n            }\r\n            catch (err) {\r\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\r\n            }\r\n        }\r\n        if (header) {\r\n            Util.addCorrelationIdHeaderFromString(client, request, header);\r\n        }\r\n        else {\r\n            request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n        }\r\n    };\r\n    /**\r\n     * Returns string representation of an object suitable for diagnostics logging.\r\n     */\r\n    Util.dumpObj = function (object) {\r\n        if (object) {\r\n            try {\r\n                var objectTypeDump = Object[\"prototype\"].toString.call(object);\r\n                var propertyValueDump = \"\";\r\n                if (objectTypeDump === \"[object Error]\") {\r\n                    propertyValueDump = \"{ stack: '\" + object.stack + \"', message: '\" + object.message + \"', name: '\" + object.name + \"'\";\r\n                }\r\n                else {\r\n                    propertyValueDump = this.stringify(object);\r\n                }\r\n                return objectTypeDump + propertyValueDump;\r\n            }\r\n            catch (ex) {\r\n                return object.toString();\r\n            }\r\n        }\r\n    };\r\n    Util.stringify = function (payload) {\r\n        try {\r\n            return JSON.stringify(payload);\r\n        }\r\n        catch (error) {\r\n            Logging.warn(\"Failed to serialize payload\", error, payload);\r\n        }\r\n    };\r\n    Util.addCorrelationIdHeaderFromString = function (client, response, correlationHeader) {\r\n        var components = correlationHeader.split(\",\");\r\n        var key = RequestResponseHeaders.requestContextSourceKey + \"=\";\r\n        var found = components.some(function (value) { return value.substring(0, key.length) === key; });\r\n        if (!found) {\r\n            response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n        }\r\n    };\r\n    Util._addCloseHandler = function () {\r\n        if (!Util._listenerAttached) {\r\n            process.on(\"exit\", function () {\r\n                Util.isNodeExit = true;\r\n                Util._useKeepAlive = false;\r\n            });\r\n            Util._listenerAttached = true;\r\n        }\r\n    };\r\n    Util._useKeepAlive = !JsonConfig_1.JsonConfig.getInstance().noHttpAgentKeepAlive;\r\n    Util._listenerAttached = false;\r\n    Util.MAX_PROPERTY_LENGTH = 8192;\r\n    Util.keepAliveAgent = new https.Agent({\r\n        keepAlive: true,\r\n        maxSockets: 25,\r\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\r\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\r\n    });\r\n    Util.tlsRestrictedAgent = new https.Agent({\r\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\r\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\r\n    });\r\n    Util.isNodeExit = false;\r\n    return Util;\r\n}());\r\nmodule.exports = Util;\r\n//# sourceMappingURL=Util.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.azureRoleEnvironmentTelemetryProcessor = void 0;\r\n/**\r\n *  @deprecated The method should not be called, Azure Properties will be added always when available\r\n *  A telemetry processor that handles Azure specific variables.\r\n */\r\nfunction azureRoleEnvironmentTelemetryProcessor(envelope, context) {\r\n    // NO-OP\r\n}\r\nexports.azureRoleEnvironmentTelemetryProcessor = azureRoleEnvironmentTelemetryProcessor;\r\n//# sourceMappingURL=AzureRoleEnvironmentTelemetryInitializer.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.performanceMetricsTelemetryProcessor = void 0;\r\nvar AutoCollectPerformance = require(\"../AutoCollection/Performance\");\r\nvar TelemetryType = __importStar(require(\"../Declarations/Contracts\"));\r\nfunction performanceMetricsTelemetryProcessor(envelope, client) {\r\n    // If live metrics is enabled, forward all telemetry there\r\n    if (client) {\r\n        client.addDocument(envelope);\r\n    }\r\n    // Increment rate counters (for standard metrics and live metrics)\r\n    switch (envelope.data.baseType) {\r\n        case TelemetryType.TelemetryTypeString.Exception:\r\n            AutoCollectPerformance.countException();\r\n            break;\r\n        case TelemetryType.TelemetryTypeString.Request:\r\n            var requestData = envelope.data.baseData;\r\n            AutoCollectPerformance.countRequest(requestData.duration, requestData.success);\r\n            break;\r\n        case TelemetryType.TelemetryTypeString.Dependency:\r\n            var remoteDependencyData = envelope.data.baseData;\r\n            AutoCollectPerformance.countDependency(remoteDependencyData.duration, remoteDependencyData.success);\r\n            break;\r\n    }\r\n    return true;\r\n}\r\nexports.performanceMetricsTelemetryProcessor = performanceMetricsTelemetryProcessor;\r\n//# sourceMappingURL=PerformanceMetricsTelemetryProcessor.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.preAggregatedMetricsTelemetryProcessor = void 0;\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar AutoCollecPreAggregatedMetrics = require(\"../AutoCollection/PreAggregatedMetrics\");\r\nvar TelemetryType = __importStar(require(\"../Declarations/Contracts\"));\r\nfunction preAggregatedMetricsTelemetryProcessor(envelope, context) {\r\n    if (AutoCollecPreAggregatedMetrics.isEnabled()) {\r\n        // Increment rate counters\r\n        switch (envelope.data.baseType) {\r\n            case TelemetryType.TelemetryTypeString.Exception:\r\n                var exceptionData = envelope.data.baseData;\r\n                exceptionData.properties = __assign(__assign({}, exceptionData.properties), { \"_MS.ProcessedByMetricExtractors\": \"(Name:'Exceptions', Ver:'1.1')\" });\r\n                var exceptionDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole]\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countException(exceptionDimensions);\r\n                break;\r\n            case TelemetryType.TelemetryTypeString.Trace:\r\n                var traceData = envelope.data.baseData;\r\n                traceData.properties = __assign(__assign({}, traceData.properties), { \"_MS.ProcessedByMetricExtractors\": \"(Name:'Traces', Ver:'1.1')\" });\r\n                var traceDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole],\r\n                    traceSeverityLevel: Contracts.SeverityLevel[traceData.severity]\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countTrace(traceDimensions);\r\n                break;\r\n            case TelemetryType.TelemetryTypeString.Request:\r\n                var requestData = envelope.data.baseData;\r\n                requestData.properties = __assign(__assign({}, requestData.properties), { \"_MS.ProcessedByMetricExtractors\": \"(Name:'Requests', Ver:'1.1')\" });\r\n                var requestDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole],\r\n                    operationSynthetic: envelope.tags[context.keys.operationSyntheticSource],\r\n                    requestSuccess: requestData.success,\r\n                    requestResultCode: requestData.responseCode\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countRequest(requestData.duration, requestDimensions);\r\n                break;\r\n            case TelemetryType.TelemetryTypeString.Dependency:\r\n                var remoteDependencyData = envelope.data.baseData;\r\n                remoteDependencyData.properties = __assign(__assign({}, remoteDependencyData.properties), { \"_MS.ProcessedByMetricExtractors\": \"(Name:'Dependencies', Ver:'1.1')\" });\r\n                var dependencyDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole],\r\n                    operationSynthetic: envelope.tags[context.keys.operationSyntheticSource],\r\n                    dependencySuccess: remoteDependencyData.success,\r\n                    dependencyType: remoteDependencyData.type,\r\n                    dependencyTarget: remoteDependencyData.target,\r\n                    dependencyResultCode: remoteDependencyData.resultCode\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countDependency(remoteDependencyData.duration, dependencyDimensions);\r\n                break;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexports.preAggregatedMetricsTelemetryProcessor = preAggregatedMetricsTelemetryProcessor;\r\n//# sourceMappingURL=PreAggregatedMetricsTelemetryProcessor.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getSamplingHashCode = exports.samplingTelemetryProcessor = void 0;\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\n/**\r\n *  A telemetry processor that handles sampling.\r\n */\r\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\r\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\r\n    var isSampledIn = false;\r\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\r\n        return true;\r\n    }\r\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\r\n        // Exclude MetricData telemetry from sampling\r\n        return true;\r\n    }\r\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\r\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\r\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\r\n    }\r\n    else {\r\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\r\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\r\n    }\r\n    return isSampledIn;\r\n}\r\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\r\n/** Ported from AI .NET SDK */\r\nfunction getSamplingHashCode(input) {\r\n    var csharpMin = -2147483648;\r\n    var csharpMax = 2147483647;\r\n    var hash = 5381;\r\n    if (!input) {\r\n        return 0;\r\n    }\r\n    while (input.length < 8) {\r\n        input = input + input;\r\n    }\r\n    for (var i = 0; i < input.length; i++) {\r\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\r\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\r\n    }\r\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\r\n    return (hash / csharpMax) * 100;\r\n}\r\nexports.getSamplingHashCode = getSamplingHashCode;\r\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./AzureRoleEnvironmentTelemetryInitializer\"), exports);\r\n__exportStar(require(\"./SamplingTelemetryProcessor\"), exports);\r\n__exportStar(require(\"./PerformanceMetricsTelemetryProcessor\"), exports);\r\n__exportStar(require(\"./PreAggregatedMetricsTelemetryProcessor\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.dispose = exports.Configuration = exports.wrapWithCorrelationContext = exports.startOperation = exports.getCorrelationContext = exports.start = exports.setup = exports.liveMetricsClient = exports.defaultClient = exports.DistributedTracingModes = void 0;\r\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\r\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\r\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\r\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\r\nvar AutoCollecPreAggregatedMetrics = require(\"./AutoCollection/PreAggregatedMetrics\");\r\nvar HeartBeat = require(\"./AutoCollection/HeartBeat\");\r\nvar WebSnippet = require(\"./AutoCollection/WebSnippet\");\r\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\r\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\r\nvar CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\r\nvar Logging = require(\"./Library/Logging\");\r\nvar QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\r\nvar NativePerformance_1 = require(\"./AutoCollection/NativePerformance\");\r\nvar AzureFunctionsHook_1 = require(\"./AutoCollection/AzureFunctionsHook\");\r\n// We export these imports so that SDK users may use these classes directly.\r\n// They're exposed using \"export import\" so that types are passed along as expected\r\nexports.TelemetryClient = require(\"./Library/NodeClient\");\r\nexports.Contracts = require(\"./Declarations/Contracts\");\r\nexports.azureFunctionsTypes = require(\"./Library/Functions\");\r\nvar DistributedTracingModes;\r\n(function (DistributedTracingModes) {\r\n    /**\r\n     * Send Application Insights correlation headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\r\n    /**\r\n     * (Default) Send both W3C Trace Context headers and back-compatibility Application Insights headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\r\n})(DistributedTracingModes = exports.DistributedTracingModes || (exports.DistributedTracingModes = {}));\r\nvar _console;\r\nvar _exceptions;\r\nvar _performance;\r\nvar _preAggregatedMetrics;\r\nvar _heartbeat;\r\nvar _webSnippet;\r\nvar _nativePerformance;\r\nvar _serverRequests;\r\nvar _clientRequests;\r\nvar _azureFunctions;\r\nvar _isStarted = false;\r\nvar _performanceLiveMetrics;\r\n/**\r\n * Initializes the default client. Should be called after setting\r\n * configuration options.\r\n *\r\n * @param setupString the Connection String or Instrumentation Key to use. Optional, if\r\n * this is not specified, the value will be read from the environment\r\n * variable APPLICATIONINSIGHTS_CONNECTION_STRING.\r\n * @returns {Configuration} the configuration class to initialize\r\n * and start the SDK.\r\n */\r\nfunction setup(setupString) {\r\n    if (!exports.defaultClient) {\r\n        exports.defaultClient = new exports.TelemetryClient(setupString);\r\n        _console = new AutoCollectConsole(exports.defaultClient);\r\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\r\n        _performance = new AutoCollectPerformance(exports.defaultClient);\r\n        _preAggregatedMetrics = new AutoCollecPreAggregatedMetrics(exports.defaultClient);\r\n        _heartbeat = new HeartBeat(exports.defaultClient);\r\n        _webSnippet = new WebSnippet(exports.defaultClient);\r\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\r\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\r\n        if (!_nativePerformance) {\r\n            _nativePerformance = new NativePerformance_1.AutoCollectNativePerformance(exports.defaultClient);\r\n        }\r\n        _azureFunctions = new AzureFunctionsHook_1.AzureFunctionsHook(exports.defaultClient);\r\n    }\r\n    else {\r\n        Logging.info(\"The default client is already setup\");\r\n    }\r\n    return Configuration;\r\n}\r\nexports.setup = setup;\r\nfunction _setDefaultConfig() {\r\n    if (exports.defaultClient) {\r\n        // Add default config values if no config values are not provided before start\r\n        if (exports.defaultClient.config.enableAutoCollectExternalLoggers == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectExternalLoggers = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectConsole == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectConsole = false;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectExceptions == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectExceptions = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectPerformance == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectPerformance = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectPreAggregatedMetrics == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectPreAggregatedMetrics = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectHeartbeat == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectHeartbeat = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectRequests == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectRequests = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectDependencies == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectDependencies = true;\r\n        }\r\n        if (exports.defaultClient.config.enableUseDiskRetryCaching == undefined) {\r\n            exports.defaultClient.config.enableUseDiskRetryCaching = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoDependencyCorrelation == undefined) {\r\n            exports.defaultClient.config.enableAutoDependencyCorrelation = true;\r\n        }\r\n        if (exports.defaultClient.config.enableSendLiveMetrics == undefined) {\r\n            exports.defaultClient.config.enableSendLiveMetrics = false;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectExtendedMetrics == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectExtendedMetrics = true;\r\n        }\r\n        if (exports.defaultClient.config.enableWebInstrumentation == undefined) {\r\n            exports.defaultClient.config.enableWebInstrumentation = false;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions = false;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Starts automatic collection of telemetry. Prior to calling start no\r\n * telemetry will be *automatically* collected, though manual collection\r\n * is enabled.\r\n * @returns {ApplicationInsights} this class\r\n */\r\nfunction start() {\r\n    if (!!exports.defaultClient) {\r\n        _isStarted = true;\r\n        _setDefaultConfig();\r\n        _console.enable(exports.defaultClient.config.enableAutoCollectExternalLoggers, exports.defaultClient.config.enableAutoCollectConsole);\r\n        _exceptions.enable(exports.defaultClient.config.enableAutoCollectExceptions);\r\n        _performance.enable(exports.defaultClient.config.enableAutoCollectPerformance);\r\n        _preAggregatedMetrics.enable(exports.defaultClient.config.enableAutoCollectPreAggregatedMetrics);\r\n        _heartbeat.enable(exports.defaultClient.config.enableAutoCollectHeartbeat);\r\n        _serverRequests.useAutoCorrelation(exports.defaultClient.config.enableAutoDependencyCorrelation, exports.defaultClient.config.enableUseAsyncHooks);\r\n        _serverRequests.enable(exports.defaultClient.config.enableAutoCollectRequests);\r\n        _clientRequests.enable(exports.defaultClient.config.enableAutoCollectDependencies);\r\n        _webSnippet.enable(exports.defaultClient.config.enableWebInstrumentation, exports.defaultClient.config.webInstrumentationConnectionString);\r\n        if (exports.defaultClient.config.enableSendLiveMetrics) {\r\n            // Initialize Live metrics in case config was provided in telemetryClient config, double initialization check is part of liveMetrics client\r\n            if (!exports.liveMetricsClient) {\r\n                // No qps client exists. Create one and prepare it to be enabled at .start()\r\n                exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config, exports.defaultClient.context, exports.defaultClient.getAuthorizationHandler, exports.defaultClient);\r\n                _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\r\n                exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\r\n                exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\r\n            }\r\n            exports.liveMetricsClient.enable(exports.defaultClient.config.enableSendLiveMetrics);\r\n        }\r\n        _azureFunctions.enable(exports.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions);\r\n        var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(exports.defaultClient.config.enableAutoCollectExtendedMetrics, exports.defaultClient.config);\r\n        _nativePerformance.enable(exports.defaultClient.config.enableAutoCollectExtendedMetrics, extendedMetricsConfig.disabledMetrics);\r\n        if (exports.defaultClient && exports.defaultClient.channel) {\r\n            exports.defaultClient.channel.setUseDiskRetryCaching(exports.defaultClient.config.enableUseDiskRetryCaching, exports.defaultClient.config.enableResendInterval, exports.defaultClient.config.enableMaxBytesOnDisk);\r\n        }\r\n    }\r\n    else {\r\n        Logging.warn(\"Start cannot be called before setup\");\r\n    }\r\n    return Configuration;\r\n}\r\nexports.start = start;\r\n/**\r\n * Returns an object that is shared across all code handling a given request.\r\n * This can be used similarly to thread-local storage in other languages.\r\n * Properties set on this object will be available to telemetry processors.\r\n *\r\n * Do not store sensitive information here.\r\n * Custom properties set on this object can be exposed in a future SDK\r\n * release via outgoing HTTP headers.\r\n * This is to allow for correlating data cross-component.\r\n *\r\n * This method will return null if automatic dependency correlation is disabled.\r\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\r\n */\r\nfunction getCorrelationContext() {\r\n    return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\r\n}\r\nexports.getCorrelationContext = getCorrelationContext;\r\nfunction startOperation(context, request) {\r\n    return CorrelationContextManager.CorrelationContextManager.startOperation(context, request);\r\n}\r\nexports.startOperation = startOperation;\r\n/**\r\n * Returns a function that will get the same correlation context within its\r\n * function body as the code executing this function.\r\n * Use this method if automatic dependency correlation is not propagating\r\n * correctly to an asynchronous callback.\r\n */\r\nfunction wrapWithCorrelationContext(fn, context) {\r\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn, context);\r\n}\r\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\r\n/**\r\n * The active configuration for global SDK behaviors, such as autocollection.\r\n */\r\nvar Configuration = /** @class */ (function () {\r\n    function Configuration() {\r\n    }\r\n    /**\r\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\r\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\r\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\r\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\r\n     * services. Default=AI\r\n    */\r\n    Configuration.setDistributedTracingMode = function (value) {\r\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\r\n     * @param value if true logger activity will be sent to Application Insights\r\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\r\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectExternalLoggers = value;\r\n            exports.defaultClient.config.enableAutoCollectConsole = collectConsoleLog;\r\n            if (_isStarted) {\r\n                _console.enable(value, collectConsoleLog);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of exception tracking (enabled by default)\r\n     * @param value if true uncaught exceptions will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectExceptions = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectExceptions = value;\r\n            if (_isStarted) {\r\n                _exceptions.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of performance tracking (enabled by default)\r\n     * @param value if true performance counters will be collected every second and sent to Application Insights\r\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectPerformance = function (value, collectExtendedMetrics) {\r\n        if (collectExtendedMetrics === void 0) { collectExtendedMetrics = true; }\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectPerformance = value;\r\n            var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics, exports.defaultClient.config);\r\n            exports.defaultClient.config.enableAutoCollectExtendedMetrics = extendedMetricsConfig.isEnabled;\r\n            if (_isStarted) {\r\n                _performance.enable(value);\r\n                _nativePerformance.enable(exports.defaultClient.config.enableAutoCollectExtendedMetrics, extendedMetricsConfig.disabledMetrics);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of pre aggregated metrics tracking (enabled by default)\r\n     * @param value if true pre aggregated metrics will be collected every minute and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectPreAggregatedMetrics = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectPreAggregatedMetrics = value;\r\n            if (_isStarted) {\r\n                _preAggregatedMetrics.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of request tracking (enabled by default)\r\n     * @param value if true HeartBeat metric data will be collected every 15 mintues and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectHeartbeat = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectHeartbeat = value;\r\n            if (_isStarted) {\r\n                _heartbeat.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of Web snippet injection, this config is NOT exposed in documentation after version 2.3.5\r\n     * @deprecated, please use enableWebInstrumentation instead.\r\n     * @param value if true Web snippet will be tried to be injected in server response\r\n     * @param webSnippetConnectionString if provided, web snippet injection will use this ConnectionString. Default to use the connectionString in Node.js app initialization\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.enableAutoWebSnippetInjection = function (value, webSnippetConnectionString) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableWebInstrumentation = value;\r\n            exports.defaultClient.config.webInstrumentationConnectionString = webSnippetConnectionString;\r\n            if (_isStarted) {\r\n                _webSnippet.enable(exports.defaultClient.config.enableAutoWebSnippetInjection, exports.defaultClient.config.webSnippetConnectionString);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of Web snippet injection\r\n     * @param value if true Web snippet will be tried to be injected in server response\r\n     * @param webSnippetConnectionString if provided, web snippet injection will use this ConnectionString. Default to use the connectionString in Node.js app initialization\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.enableWebInstrumentation = function (value, webSnippetConnectionString) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableWebInstrumentation = value;\r\n            exports.defaultClient.config.webInstrumentationConnectionString = webSnippetConnectionString;\r\n            if (_isStarted) {\r\n                _webSnippet.enable(exports.defaultClient.config.enableWebInstrumentation, exports.defaultClient.config.webInstrumentationConnectionString);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of request tracking (enabled by default)\r\n     * @param value if true requests will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectRequests = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectRequests = value;\r\n            if (_isStarted) {\r\n                _serverRequests.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of dependency tracking (enabled by default)\r\n     * @param value if true dependencies will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectDependencies = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectDependencies = value;\r\n            if (_isStarted) {\r\n                _clientRequests.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of automatic dependency correlation (enabled by default)\r\n     * @param value if true dependencies will be correlated with requests\r\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoDependencyCorrelation = function (value, useAsyncHooks) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoDependencyCorrelation = value;\r\n            exports.defaultClient.config.enableUseAsyncHooks = useAsyncHooks;\r\n            if (_isStarted) {\r\n                _serverRequests.useAutoCorrelation(value, useAsyncHooks);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\r\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occured while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableUseDiskRetryCaching = value;\r\n            exports.defaultClient.config.enableResendInterval = resendInterval;\r\n            exports.defaultClient.config.enableMaxBytesOnDisk = maxBytesOnDisk;\r\n            if (exports.defaultClient.channel) {\r\n                exports.defaultClient.channel.setUseDiskRetryCaching(exports.defaultClient.config.enableUseDiskRetryCaching, exports.defaultClient.config.enableResendInterval, exports.defaultClient.config.enableMaxBytesOnDisk);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enables debug and warning logging for AppInsights itself.\r\n     * @param enableDebugLogging if true, enables debug logging\r\n     * @param enableWarningLogging if true, enables warning logging\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\r\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\r\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\r\n        Logging.enableDebug = enableDebugLogging;\r\n        Logging.disableWarnings = !enableWarningLogging;\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enable automatic incoming request tracking when using Azure Functions\r\n     * @param value if true auto collection of incoming requests will be enabled\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectIncomingRequestAzureFunctions = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions = value;\r\n            if (_isStarted) {\r\n                _azureFunctions.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enables communication with Application Insights Live Metrics.\r\n     * @param enable if true, enables communication with the live metrics service\r\n     */\r\n    Configuration.setSendLiveMetrics = function (enable) {\r\n        if (enable === void 0) { enable = false; }\r\n        if (!exports.defaultClient) {\r\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\r\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\r\n            return Configuration;\r\n        }\r\n        if (!exports.liveMetricsClient && enable) {\r\n            // No qps client exists. Create one and prepare it to be enabled at .start()\r\n            exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config, exports.defaultClient.context, exports.defaultClient.getAuthorizationHandler, exports.defaultClient);\r\n            _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\r\n            exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\r\n            exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\r\n        }\r\n        else if (exports.liveMetricsClient) {\r\n            // qps client already exists; enable/disable it\r\n            exports.liveMetricsClient.enable(enable);\r\n        }\r\n        exports.defaultClient.config.enableSendLiveMetrics = enable;\r\n        return Configuration;\r\n    };\r\n    // Convenience shortcut to ApplicationInsights.start\r\n    Configuration.start = start;\r\n    return Configuration;\r\n}());\r\nexports.Configuration = Configuration;\r\n/**\r\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\r\n*/\r\nfunction dispose() {\r\n    CorrelationIdManager.w3cEnabled = true; // reset to default\r\n    exports.defaultClient = null;\r\n    _isStarted = false;\r\n    if (_console) {\r\n        _console.dispose();\r\n    }\r\n    if (_exceptions) {\r\n        _exceptions.dispose();\r\n    }\r\n    if (_performance) {\r\n        _performance.dispose();\r\n    }\r\n    if (_preAggregatedMetrics) {\r\n        _preAggregatedMetrics.dispose();\r\n    }\r\n    if (_heartbeat) {\r\n        _heartbeat.dispose();\r\n    }\r\n    if (_webSnippet) {\r\n        _webSnippet.dispose();\r\n    }\r\n    if (_nativePerformance) {\r\n        _nativePerformance.dispose();\r\n    }\r\n    if (_serverRequests) {\r\n        _serverRequests.dispose();\r\n    }\r\n    if (_clientRequests) {\r\n        _clientRequests.dispose();\r\n    }\r\n    if (exports.liveMetricsClient) {\r\n        exports.liveMetricsClient.enable(false);\r\n        exports.liveMetricsClient = undefined;\r\n    }\r\n    if (_azureFunctions) {\r\n        _azureFunctions.dispose();\r\n    }\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=applicationinsights.js.map","'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};","'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}","'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n","'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n","'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n","'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n","var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n","'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\nvar MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar safeRe = exports.safeRe = []\nvar src = exports.src = []\nvar R = 0\n\nvar LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nvar safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nfunction makeSafeRe (value) {\n  for (var i = 0; i < safeRegexReplacements.length; i++) {\n    var token = safeRegexReplacements[i][0]\n    var max = safeRegexReplacements[i][1]\n    value = value\n      .split(token + '*').join(token + '{0,' + max + '}')\n      .split(token + '+').join(token + '{1,' + max + '}')\n  }\n  return value\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '\\\\d+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-]' + LETTERDASHNUMBER + '*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = LETTERDASHNUMBER + '+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nsafeRe[TILDETRIM] = new RegExp(makeSafeRe(src[TILDETRIM]), 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nsafeRe[CARETTRIM] = new RegExp(makeSafeRe(src[CARETTRIM]), 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nsafeRe[COMPARATORTRIM] = new RegExp(makeSafeRe(src[COMPARATORTRIM]), 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n\n    // Replace all greedy whitespace to prevent regex dos issues. These regex are\n    // used internally via the safeRe object since all inputs in this library get\n    // normalized first to trim and collapse all extra whitespace. The original\n    // regexes are exported for userland consumption and lower level usage. A\n    // future breaking change could export the safer regex only with a note that\n    // all input should have extra whitespace removed.\n    safeRe[i] = new RegExp(makeSafeRe(src[i]))\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? safeRe[LOOSE] : safeRe[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? safeRe[LOOSE] : safeRe[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  comp = comp.trim().split(/\\s+/).join(' ')\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First reduce all whitespace as much as possible so we do not have to rely\n  // on potentially slow regexes like \\s*. This is then stored and used for\n  // future error messages as well.\n  this.raw = range\n    .trim()\n    .split(/\\s+/)\n    .join(' ')\n\n  // First, split based on boolean or ||\n  this.set = this.raw.split('||').map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + this.raw)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? safeRe[HYPHENRANGELOOSE] : safeRe[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(safeRe[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, safeRe[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(safeRe[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(safeRe[CARETTRIM], caretTrimReplace)\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n  var compRe = loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? safeRe[TILDELOOSE] : safeRe[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? safeRe[CARETLOOSE] : safeRe[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? safeRe[XRANGELOOSE] : safeRe[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(safeRe[STAR], '')\n}\n\n// This function is passed to string.replace(safeRe[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(safeRe[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n","/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n","'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\nvar MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar safeRe = exports.safeRe = []\nvar src = exports.src = []\nvar R = 0\n\nvar LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nvar safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nfunction makeSafeRe (value) {\n  for (var i = 0; i < safeRegexReplacements.length; i++) {\n    var token = safeRegexReplacements[i][0]\n    var max = safeRegexReplacements[i][1]\n    value = value\n      .split(token + '*').join(token + '{0,' + max + '}')\n      .split(token + '+').join(token + '{1,' + max + '}')\n  }\n  return value\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '\\\\d+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-]' + LETTERDASHNUMBER + '*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = LETTERDASHNUMBER + '+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nsafeRe[TILDETRIM] = new RegExp(makeSafeRe(src[TILDETRIM]), 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nsafeRe[CARETTRIM] = new RegExp(makeSafeRe(src[CARETTRIM]), 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nsafeRe[COMPARATORTRIM] = new RegExp(makeSafeRe(src[COMPARATORTRIM]), 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n\n    // Replace all greedy whitespace to prevent regex dos issues. These regex are\n    // used internally via the safeRe object since all inputs in this library get\n    // normalized first to trim and collapse all extra whitespace. The original\n    // regexes are exported for userland consumption and lower level usage. A\n    // future breaking change could export the safer regex only with a note that\n    // all input should have extra whitespace removed.\n    safeRe[i] = new RegExp(makeSafeRe(src[i]))\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? safeRe[LOOSE] : safeRe[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? safeRe[LOOSE] : safeRe[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  comp = comp.trim().split(/\\s+/).join(' ')\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First reduce all whitespace as much as possible so we do not have to rely\n  // on potentially slow regexes like \\s*. This is then stored and used for\n  // future error messages as well.\n  this.raw = range\n    .trim()\n    .split(/\\s+/)\n    .join(' ')\n\n  // First, split based on boolean or ||\n  this.set = this.raw.split('||').map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + this.raw)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? safeRe[HYPHENRANGELOOSE] : safeRe[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(safeRe[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, safeRe[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(safeRe[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(safeRe[CARETTRIM], caretTrimReplace)\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n  var compRe = loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? safeRe[TILDELOOSE] : safeRe[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? safeRe[CARETLOOSE] : safeRe[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? safeRe[XRANGELOOSE] : safeRe[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(safeRe[STAR], '')\n}\n\n// This function is passed to string.replace(safeRe[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(safeRe[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.azureCoreTracing = exports.AzureMonitorSymbol = void 0;\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\r\nvar publisherName = \"azure-coretracing\";\r\nvar isPatched = false;\r\n/**\r\n * By default, @azure/core-tracing default tracer is a NoopTracer.\r\n * This patching changes the default tracer to a patched BasicTracer\r\n * which emits ended spans as diag-channel events.\r\n *\r\n * The @opentelemetry/tracing package must be installed to use these patches\r\n * https://www.npmjs.com/package/@opentelemetry/tracing\r\n * @param coreTracing\r\n */\r\nvar azureCoreTracingPatchFunction = function (coreTracing) {\r\n    if (isPatched) {\r\n        // tracer is already cached -- noop\r\n        return coreTracing;\r\n    }\r\n    try {\r\n        var tracing = require(\"@opentelemetry/sdk-trace-base\");\r\n        var api = require(\"@opentelemetry/api\");\r\n        var defaultProvider = new tracing.BasicTracerProvider();\r\n        var defaultTracer = defaultProvider.getTracer(\"applicationinsights tracer\");\r\n        // Patch Azure SDK setTracer, @azure/core-tracing <= 1.0.0-preview.12\r\n        if (coreTracing.setTracer) {\r\n            var setTracerOriginal_1 = coreTracing.setTracer;\r\n            coreTracing.setTracer = function (tracer) {\r\n                // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\r\n                // set while the span is constructed\r\n                var startSpanOriginal = tracer.startSpan;\r\n                tracer.startSpan = function (name, options, context) {\r\n                    var span = startSpanOriginal.call(this, name, options, context);\r\n                    var originalEnd = span.end;\r\n                    span.end = function () {\r\n                        var result = originalEnd.apply(this, arguments);\r\n                        diagnostic_channel_1.channel.publish(publisherName, span);\r\n                        return result;\r\n                    };\r\n                    return span;\r\n                };\r\n                tracer[exports.AzureMonitorSymbol] = true;\r\n                setTracerOriginal_1.call(this, tracer);\r\n            };\r\n            api.trace.getSpan(api.context.active()); // seed OpenTelemetryScopeManagerWrapper with \"active\" symbol\r\n            coreTracing.setTracer(defaultTracer);\r\n        }\r\n        else { // Patch OpenTelemetry setGlobalTracerProvider  @azure/core-tracing > 1.0.0-preview.13\r\n            var setGlobalTracerProviderOriginal_1 = api.trace.setGlobalTracerProvider;\r\n            api.trace.setGlobalTracerProvider = function (tracerProvider) {\r\n                var getTracerOriginal = tracerProvider.getTracer;\r\n                tracerProvider.getTracer = function (tracerName, version) {\r\n                    var tracer = getTracerOriginal.call(this, tracerName, version);\r\n                    if (!tracer[exports.AzureMonitorSymbol]) { // Avoid patching multiple times\r\n                        var startSpanOriginal_1 = tracer.startSpan;\r\n                        tracer.startSpan = function (spanName, options, context) {\r\n                            var span = startSpanOriginal_1.call(this, spanName, options, context);\r\n                            var originalEnd = span.end;\r\n                            span.end = function () {\r\n                                var result = originalEnd.apply(this, arguments);\r\n                                diagnostic_channel_1.channel.publish(publisherName, span);\r\n                                return result;\r\n                            };\r\n                            return span;\r\n                        };\r\n                        tracer[exports.AzureMonitorSymbol] = true;\r\n                    }\r\n                    return tracer;\r\n                };\r\n                return setGlobalTracerProviderOriginal_1.call(this, tracerProvider);\r\n            };\r\n            defaultProvider.register();\r\n            api.trace.getSpan(api.context.active()); // seed OpenTelemetryScopeManagerWrapper with \"active\" symbol\r\n            // Register Azure SDK instrumentation\r\n            var openTelemetryInstr = require(\"@opentelemetry/instrumentation\");\r\n            var azureSdkInstr = require(\"@azure/opentelemetry-instrumentation-azure-sdk\");\r\n            openTelemetryInstr.registerInstrumentations({\r\n                instrumentations: [\r\n                    azureSdkInstr.createAzureSdkInstrumentation()\r\n                ]\r\n            });\r\n        }\r\n        isPatched = true;\r\n    }\r\n    catch (e) { /* squash errors */ }\r\n    return coreTracing;\r\n};\r\nexports.azureCoreTracing = {\r\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\r\n    patch: azureCoreTracingPatchFunction,\r\n    publisherName: publisherName\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=azure-coretracing.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.bunyan = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar bunyanPatchFunction = function (originalBunyan) {\r\n    var originalEmit = originalBunyan.prototype._emit;\r\n    originalBunyan.prototype._emit = function (rec, noemit) {\r\n        var ret = originalEmit.apply(this, arguments);\r\n        if (!noemit) {\r\n            var str = ret;\r\n            if (!str) {\r\n                str = originalEmit.call(this, rec, true);\r\n            }\r\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\r\n        }\r\n        return ret;\r\n    };\r\n    return originalBunyan;\r\n};\r\nexports.bunyan = {\r\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\r\n    patch: bunyanPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=bunyan.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.console = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar stream_1 = require(\"stream\");\r\nvar consolePatchFunction = function (originalConsole) {\r\n    var aiLoggingOutStream = new stream_1.Writable();\r\n    var aiLoggingErrStream = new stream_1.Writable();\r\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\r\n    // We create a version which publishes to the channel and also to stdout/stderr\r\n    aiLoggingOutStream.write = function (chunk) {\r\n        if (!chunk) {\r\n            return true;\r\n        }\r\n        var message = chunk.toString();\r\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\r\n        return true;\r\n    };\r\n    aiLoggingErrStream.write = function (chunk) {\r\n        if (!chunk) {\r\n            return true;\r\n        }\r\n        var message = chunk.toString();\r\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\r\n        return true;\r\n    };\r\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\r\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\r\n    var _loop_1 = function (method) {\r\n        var originalMethod = originalConsole[method];\r\n        if (originalMethod) {\r\n            originalConsole[method] = function () {\r\n                if (aiLoggingConsole[method]) {\r\n                    try {\r\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\r\n                    }\r\n                    catch (e) {\r\n                        // Ignore errors; allow the original method to throw if necessary\r\n                    }\r\n                }\r\n                return originalMethod.apply(originalConsole, arguments);\r\n            };\r\n        }\r\n    };\r\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\r\n        var method = consoleMethods_1[_i];\r\n        _loop_1(method);\r\n    }\r\n    return originalConsole;\r\n};\r\nexports.console = {\r\n    versionSpecifier: \">= 4.0.0\",\r\n    patch: consolePatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\r\n    // Force patching of console\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    require(\"console\");\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=console.pub.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.tedious = exports.pgPool = exports.pg = exports.winston = exports.redis = exports.mysql = exports.mongodb = exports.mongodbCore = exports.console = exports.bunyan = exports.azuresdk = void 0;\r\nvar azuresdk = require(\"./azure-coretracing.pub\");\r\nexports.azuresdk = azuresdk;\r\nvar bunyan = require(\"./bunyan.pub\");\r\nexports.bunyan = bunyan;\r\nvar consolePub = require(\"./console.pub\");\r\nexports.console = consolePub;\r\nvar mongodbCore = require(\"./mongodb-core.pub\");\r\nexports.mongodbCore = mongodbCore;\r\nvar mongodb = require(\"./mongodb.pub\");\r\nexports.mongodb = mongodb;\r\nvar mysql = require(\"./mysql.pub\");\r\nexports.mysql = mysql;\r\nvar pgPool = require(\"./pg-pool.pub\");\r\nexports.pgPool = pgPool;\r\nvar pg = require(\"./pg.pub\");\r\nexports.pg = pg;\r\nvar redis = require(\"./redis.pub\");\r\nexports.redis = redis;\r\nvar tedious = require(\"./tedious.pub\");\r\nexports.tedious = tedious;\r\nvar winston = require(\"./winston.pub\");\r\nexports.winston = winston;\r\nfunction enable() {\r\n    bunyan.enable();\r\n    consolePub.enable();\r\n    mongodbCore.enable();\r\n    mongodb.enable();\r\n    mysql.enable();\r\n    pg.enable();\r\n    pgPool.enable();\r\n    redis.enable();\r\n    winston.enable();\r\n    azuresdk.enable();\r\n    tedious.enable();\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.mongoCore = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar mongodbcorePatchFunction = function (originalMongoCore) {\r\n    var originalConnect = originalMongoCore.Server.prototype.connect;\r\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\r\n        var ret = originalConnect.apply(this, arguments);\r\n        // Messages sent to mongo progress through a pool\r\n        // This can result in context getting mixed between different responses\r\n        // so we wrap the callbacks to restore appropriate state\r\n        var originalWrite = this.s.pool.write;\r\n        this.s.pool.write = function contextPreservingWrite() {\r\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\r\n            if (typeof arguments[cbidx] === \"function\") {\r\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\r\n            }\r\n            return originalWrite.apply(this, arguments);\r\n        };\r\n        // Logout is a special case, it doesn't call the write function but instead\r\n        // directly calls into connection.write\r\n        var originalLogout = this.s.pool.logout;\r\n        this.s.pool.logout = function contextPreservingLogout() {\r\n            if (typeof arguments[1] === \"function\") {\r\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\r\n            }\r\n            return originalLogout.apply(this, arguments);\r\n        };\r\n        return ret;\r\n    };\r\n    return originalMongoCore;\r\n};\r\nexports.mongoCore = {\r\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\r\n    patch: mongodbcorePatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.mongo330 = exports.mongo3 = exports.mongo2 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar mongodbPatchFunction = function (originalMongo) {\r\n    var listener = originalMongo.instrument({\r\n        operationIdGenerator: {\r\n            next: function () {\r\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\r\n            }\r\n        }\r\n    });\r\n    var eventMap = {};\r\n    listener.on(\"started\", function (event) {\r\n        if (eventMap[event.requestId]) {\r\n            // Note: Mongo can generate 2 completely separate requests\r\n            // which share the same requestId, if a certain race condition is triggered.\r\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\r\n            return;\r\n        }\r\n        eventMap[event.requestId] = __assign(__assign({}, event), { time: new Date() });\r\n    });\r\n    listener.on(\"succeeded\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event.operationId === \"function\") {\r\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\r\n        }\r\n        else {\r\n            // fallback -- correlation will not work here\r\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\r\n        }\r\n    });\r\n    listener.on(\"failed\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event.operationId === \"function\") {\r\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\r\n        }\r\n        else {\r\n            // fallback -- correlation will not work here\r\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\r\n        }\r\n    });\r\n    return originalMongo;\r\n};\r\nvar mongodb3PatchFunction = function (originalMongo) {\r\n    var listener = originalMongo.instrument();\r\n    var eventMap = {};\r\n    var contextMap = {};\r\n    listener.on(\"started\", function (event) {\r\n        if (eventMap[event.requestId]) {\r\n            // Note: Mongo can generate 2 completely separate requests\r\n            // which share the same requestId, if a certain race condition is triggered.\r\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\r\n            return;\r\n        }\r\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\r\n        eventMap[event.requestId] = __assign(__assign({}, event), { time: new Date() });\r\n    });\r\n    listener.on(\"succeeded\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    listener.on(\"failed\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    return originalMongo;\r\n};\r\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\r\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\r\nvar mongodbcorePatchFunction = function (originalMongo) {\r\n    var originalConnect = originalMongo.Server.prototype.connect;\r\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\r\n        var ret = originalConnect.apply(this, arguments);\r\n        // Messages sent to mongo progress through a pool\r\n        // This can result in context getting mixed between different responses\r\n        // so we wrap the callbacks to restore appropriate state\r\n        var originalWrite = this.s.coreTopology.s.pool.write;\r\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\r\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\r\n            if (typeof arguments[cbidx] === \"function\") {\r\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\r\n            }\r\n            return originalWrite.apply(this, arguments);\r\n        };\r\n        // Logout is a special case, it doesn't call the write function but instead\r\n        // directly calls into connection.write\r\n        var originalLogout = this.s.coreTopology.s.pool.logout;\r\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\r\n            if (typeof arguments[1] === \"function\") {\r\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\r\n            }\r\n            return originalLogout.apply(this, arguments);\r\n        };\r\n        return ret;\r\n    };\r\n    return originalMongo;\r\n};\r\nvar mongodb330PatchFunction = function (originalMongo) {\r\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\r\n    var listener = originalMongo.instrument();\r\n    var eventMap = {};\r\n    var contextMap = {};\r\n    listener.on(\"started\", function (event) {\r\n        if (eventMap[event.requestId]) {\r\n            // Note: Mongo can generate 2 completely separate requests\r\n            // which share the same requestId, if a certain race condition is triggered.\r\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\r\n            return;\r\n        }\r\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\r\n        eventMap[event.requestId] = event;\r\n    });\r\n    listener.on(\"succeeded\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    listener.on(\"failed\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    return originalMongo;\r\n};\r\nexports.mongo2 = {\r\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\r\n    patch: mongodbPatchFunction\r\n};\r\nexports.mongo3 = {\r\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\r\n    patch: mongodb3PatchFunction\r\n};\r\nexports.mongo330 = {\r\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\r\n    patch: mongodb330PatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.mysql = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar path = require(\"path\");\r\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\r\n    // The `name` passed in here is for debugging purposes,\r\n    // to help distinguish which object is being patched.\r\n    var patchObjectFunction = function (obj, name) {\r\n        return function (func, cbWrapper) {\r\n            var originalFunc = obj[func];\r\n            if (originalFunc) {\r\n                obj[func] = function mysqlContextPreserver() {\r\n                    // Find the callback, if there is one\r\n                    var cbidx = arguments.length - 1;\r\n                    for (var i = arguments.length - 1; i >= 0; --i) {\r\n                        if (typeof arguments[i] === \"function\") {\r\n                            cbidx = i;\r\n                            break;\r\n                        }\r\n                        else if (typeof arguments[i] !== \"undefined\") {\r\n                            break;\r\n                        }\r\n                    }\r\n                    var cb = arguments[cbidx];\r\n                    var resultContainer = { result: null, startTime: null, startDate: null };\r\n                    if (typeof cb === \"function\") {\r\n                        // Preserve context on the callback.\r\n                        // If this is one of the functions that we want to track,\r\n                        // then wrap the callback with the tracking wrapper\r\n                        if (cbWrapper) {\r\n                            resultContainer.startTime = process.hrtime();\r\n                            resultContainer.startDate = new Date();\r\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\r\n                        }\r\n                        else {\r\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\r\n                        }\r\n                    }\r\n                    var result = originalFunc.apply(this, arguments);\r\n                    resultContainer.result = result;\r\n                    return result;\r\n                };\r\n            }\r\n        };\r\n    };\r\n    var patchClassMemberFunction = function (classObject, name) {\r\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\r\n    };\r\n    var connectionCallbackFunctions = [\r\n        \"connect\", \"changeUser\",\r\n        \"ping\", \"statistics\", \"end\"\r\n    ];\r\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\r\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\r\n    // Connection.createQuery is a static method\r\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\r\n        return function (err) {\r\n            var hrDuration = process.hrtime(resultContainer.startTime);\r\n            /* tslint:disable-next-line:no-bitwise */\r\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\r\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\r\n            cb.apply(this, arguments);\r\n        };\r\n    });\r\n    var poolCallbackFunctions = [\r\n        \"_enqueueCallback\"\r\n    ];\r\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\r\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\r\n    return originalMysql;\r\n};\r\nexports.mysql = {\r\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\r\n    patch: mysqlPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mysql.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.postgresPool1 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nfunction postgresPool1PatchFunction(originalPgPool) {\r\n    var originalConnect = originalPgPool.prototype.connect;\r\n    originalPgPool.prototype.connect = function connect(callback) {\r\n        if (callback) {\r\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\r\n        }\r\n        return originalConnect.apply(this, arguments);\r\n    };\r\n    return originalPgPool;\r\n}\r\nexports.postgresPool1 = {\r\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\r\n    patch: postgresPool1PatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.postgres = exports.postgres6 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar events_1 = require(\"events\");\r\nvar publisherName = \"postgres\";\r\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\r\n    var originalClientQuery = originalPg.Client.prototype.query;\r\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\r\n    // wherever the callback is passed, find it, save it, and remove it from the call\r\n    // to the the original .query() function\r\n    originalPg.Client.prototype.query = function query(config, values, callback) {\r\n        var data = {\r\n            query: {},\r\n            database: {\r\n                host: this.connectionParameters.host,\r\n                port: this.connectionParameters.port\r\n            },\r\n            result: null,\r\n            error: null,\r\n            duration: 0,\r\n            time: new Date()\r\n        };\r\n        var start = process.hrtime();\r\n        var queryResult;\r\n        function patchCallback(cb) {\r\n            if (cb && cb[diagnosticOriginalFunc]) {\r\n                cb = cb[diagnosticOriginalFunc];\r\n            }\r\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\r\n                var end = process.hrtime(start);\r\n                data.result = res && { rowCount: res.rowCount, command: res.command };\r\n                data.error = err;\r\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\r\n                diagnostic_channel_1.channel.publish(publisherName, data);\r\n                // emulate weird internal behavior in pg@6\r\n                // on success, the callback is called *before* query events are emitted\r\n                // on failure, the callback is called *instead of* the query emitting events\r\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\r\n                // since we are always inserting ourselves as a callback, we have to restore the original\r\n                // behavior if the user didn't provide one themselves\r\n                if (err) {\r\n                    if (cb) {\r\n                        return cb.apply(this, arguments);\r\n                    }\r\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\r\n                        queryResult.emit(\"error\", err);\r\n                    }\r\n                }\r\n                else if (cb) {\r\n                    cb.apply(this, arguments);\r\n                }\r\n            });\r\n            try {\r\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\r\n                return trackingCallback;\r\n            }\r\n            catch (e) {\r\n                // this should never happen, but bailout in case it does\r\n                return cb;\r\n            }\r\n        }\r\n        // this function takes too many variations of arguments.\r\n        // this patches any provided callback or creates a new callback if one wasn't provided.\r\n        // since the callback is always called (if provided) in addition to always having a Promisified\r\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\r\n        try {\r\n            if (typeof config === \"string\") {\r\n                if (values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config,\r\n                        args: values\r\n                    };\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else {\r\n                    data.query.text = config;\r\n                    // pg v6 will, for some reason, accept both\r\n                    // client.query(\"...\", undefined, () => {...})\r\n                    // **and**\r\n                    // client.query(\"...\", () => {...});\r\n                    // Internally, precedence is given to the callback argument\r\n                    if (callback) {\r\n                        callback = patchCallback(callback);\r\n                    }\r\n                    else {\r\n                        values = patchCallback(values);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (typeof config.name === \"string\") {\r\n                    data.query.plan = config.name;\r\n                }\r\n                else if (config.values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config.text,\r\n                        args: config.values\r\n                    };\r\n                }\r\n                else {\r\n                    data.query.text = config.text;\r\n                }\r\n                if (callback) {\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else if (values) {\r\n                    values = patchCallback(values);\r\n                }\r\n                else {\r\n                    config.callback = patchCallback(config.callback);\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // if our logic here throws, bail out and just let pg do its thing\r\n            return originalClientQuery.apply(this, arguments);\r\n        }\r\n        arguments[0] = config;\r\n        arguments[1] = values;\r\n        arguments[2] = callback;\r\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\r\n        queryResult = originalClientQuery.apply(this, arguments);\r\n        return queryResult;\r\n    };\r\n    return originalPg;\r\n}\r\nfunction postgresLatestPatchFunction(originalPg, originalPgPath) {\r\n    var originalClientQuery = originalPg.Client.prototype.query;\r\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\r\n    // wherever the callback is passed, find it, save it, and remove it from the call\r\n    // to the the original .query() function\r\n    originalPg.Client.prototype.query = function query(config, values, callback) {\r\n        var _this = this;\r\n        var _a, _b;\r\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\r\n        var data = {\r\n            query: {},\r\n            database: {\r\n                host: this.connectionParameters.host,\r\n                port: this.connectionParameters.port\r\n            },\r\n            result: null,\r\n            error: null,\r\n            duration: 0,\r\n            time: new Date()\r\n        };\r\n        var queryResult;\r\n        var start = process.hrtime();\r\n        function patchCallback(cb) {\r\n            if (cb && cb[diagnosticOriginalFunc]) {\r\n                cb = cb[diagnosticOriginalFunc];\r\n            }\r\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\r\n                var end = process.hrtime(start);\r\n                data.result = res && { rowCount: res.rowCount, command: res.command };\r\n                data.error = err;\r\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\r\n                diagnostic_channel_1.channel.publish(publisherName, data);\r\n                if (err) {\r\n                    if (cb) {\r\n                        return cb.apply(this, arguments);\r\n                    }\r\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\r\n                        queryResult.emit(\"error\", err);\r\n                    }\r\n                }\r\n                else if (cb) {\r\n                    cb.apply(this, arguments);\r\n                }\r\n            });\r\n            try {\r\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\r\n                return trackingCallback;\r\n            }\r\n            catch (e) {\r\n                // this should never happen, but bailout in case it does\r\n                return cb;\r\n            }\r\n        }\r\n        // Only try to wrap the callback if it is a function. We want to keep the same\r\n        // behavior of returning a promise only if no callback is provided. Wrapping\r\n        // a nonfunction makes it a function and pg will interpret it as a callback\r\n        try {\r\n            if (typeof config === \"string\") {\r\n                if (values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config,\r\n                        args: values\r\n                    };\r\n                    callbackProvided = typeof callback === \"function\";\r\n                    callback = callbackProvided ? patchCallback(callback) : callback;\r\n                }\r\n                else {\r\n                    data.query.text = config;\r\n                    if (callback) {\r\n                        callbackProvided = typeof callback === \"function\";\r\n                        callback = callbackProvided ? patchCallback(callback) : callback;\r\n                    }\r\n                    else {\r\n                        callbackProvided = typeof values === \"function\";\r\n                        values = callbackProvided ? patchCallback(values) : values;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (typeof config.name === \"string\") {\r\n                    data.query.plan = config.name;\r\n                }\r\n                else if (config.values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config.text,\r\n                        args: config.values\r\n                    };\r\n                }\r\n                else if (config.cursor) {\r\n                    data.query.text = (_a = config.cursor) === null || _a === void 0 ? void 0 : _a.text;\r\n                }\r\n                else {\r\n                    data.query.text = config.text;\r\n                }\r\n                if (callback) {\r\n                    callbackProvided = typeof callback === \"function\";\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else if (values) {\r\n                    callbackProvided = typeof values === \"function\";\r\n                    values = callbackProvided ? patchCallback(values) : values;\r\n                }\r\n                else {\r\n                    callbackProvided = typeof config.callback === \"function\";\r\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // if our logic here throws, bail out and just let pg do its thing\r\n            return originalClientQuery.apply(this, arguments);\r\n        }\r\n        arguments[0] = config;\r\n        arguments[1] = values;\r\n        arguments[2] = callback;\r\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\r\n        try {\r\n            queryResult = originalClientQuery.apply(this, arguments);\r\n        }\r\n        catch (err) {\r\n            patchCallback()(err, undefined);\r\n            throw err;\r\n        }\r\n        if (!callbackProvided) {\r\n            if ((queryResult instanceof Promise)) {\r\n                return queryResult\r\n                    // pass resolved promise after publishing the event\r\n                    .then(function (result) {\r\n                    patchCallback()(undefined, result);\r\n                    return new _this._Promise(function (resolve, reject) {\r\n                        resolve(result);\r\n                    });\r\n                })\r\n                    // pass along rejected promise after publishing the error\r\n                    .catch(function (error) {\r\n                    patchCallback()(error, undefined);\r\n                    return new _this._Promise(function (resolve, reject) {\r\n                        reject(error);\r\n                    });\r\n                });\r\n            }\r\n            // Result could be a Cursor, QueryStream or Readable Stream\r\n            else {\r\n                var command = queryResult.text ? queryResult.text : \"\";\r\n                if (queryResult.cursor) {\r\n                    command = (_b = queryResult.cursor) === null || _b === void 0 ? void 0 : _b.text;\r\n                }\r\n                if (command) {\r\n                    var res = {\r\n                        command: command,\r\n                        rowCount: 0,\r\n                    };\r\n                    patchCallback()(undefined, res);\r\n                }\r\n            }\r\n        }\r\n        return queryResult;\r\n    };\r\n    return originalPg;\r\n}\r\nexports.postgres6 = {\r\n    versionSpecifier: \"6.*\",\r\n    patch: postgres6PatchFunction\r\n};\r\nexports.postgres = {\r\n    versionSpecifier: \">=7.* <=8.*\",\r\n    patch: postgresLatestPatchFunction,\r\n    publisherName: publisherName\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=pg.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.redis = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar redisPatchFunction = function (originalRedis) {\r\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\r\n    // Note: This is mixing together both context tracking and dependency tracking\r\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\r\n        if (commandObj) {\r\n            var cb_1 = commandObj.callback;\r\n            if (!cb_1 || !cb_1.pubsubBound) {\r\n                var address_1 = this.address;\r\n                var startTime_1 = process.hrtime();\r\n                var startDate_1 = new Date();\r\n                // Note: augmenting the callback on internal_send_command is correct for context\r\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\r\n                // which higher levels expect in some cases\r\n                // However, the only other option is to intercept every individual command.\r\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\r\n                    var hrDuration = process.hrtime(startTime_1);\r\n                    /* tslint:disable-next-line:no-bitwise */\r\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\r\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\r\n                    if (typeof cb_1 === \"function\") {\r\n                        cb_1.apply(this, arguments);\r\n                    }\r\n                });\r\n                commandObj.callback.pubsubBound = true;\r\n            }\r\n        }\r\n        return originalSend.call(this, commandObj);\r\n    };\r\n    return originalRedis;\r\n};\r\nexports.redis = {\r\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\r\n    patch: redisPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.tedious = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar tediousPatchFunction = function (originalTedious) {\r\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\r\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\r\n        function getPatchedCallback(origCallback) {\r\n            var start = process.hrtime();\r\n            var data = {\r\n                query: {},\r\n                database: {\r\n                    host: null,\r\n                    port: null\r\n                },\r\n                result: null,\r\n                error: null,\r\n                duration: 0\r\n            };\r\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\r\n                var end = process.hrtime(start);\r\n                data = __assign(__assign({}, data), { database: {\r\n                        host: this.connection.config.server,\r\n                        port: this.connection.config.options.port\r\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\r\n                        text: this.parametersByName.statement.value\r\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\r\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\r\n                origCallback.call(this, err, rowCount, rows);\r\n            });\r\n        }\r\n        var request = arguments[0];\r\n        arguments[0].callback = getPatchedCallback(request.callback);\r\n        originalMakeRequest.apply(this, arguments);\r\n    };\r\n    return originalTedious;\r\n};\r\nexports.tedious = {\r\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\r\n    patch: tediousPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=tedious.pub.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.winston2 = exports.winston3 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\n// register a \"filter\" with each logger that publishes the data about to be logged\r\nvar winston2PatchFunction = function (originalWinston) {\r\n    var originalLog = originalWinston.Logger.prototype.log;\r\n    var curLevels;\r\n    var loggingFilter = function (level, message, meta) {\r\n        var levelKind;\r\n        if (curLevels === originalWinston.config.npm.levels) {\r\n            levelKind = \"npm\";\r\n        }\r\n        else if (curLevels === originalWinston.config.syslog.levels) {\r\n            levelKind = \"syslog\";\r\n        }\r\n        else {\r\n            levelKind = \"unknown\";\r\n        }\r\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\r\n        return message;\r\n    };\r\n    // whenever someone logs, ensure our filter comes last\r\n    originalWinston.Logger.prototype.log = function log() {\r\n        curLevels = this.levels;\r\n        if (!this.filters || this.filters.length === 0) {\r\n            this.filters = [loggingFilter];\r\n        }\r\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\r\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\r\n            this.filters.push(loggingFilter);\r\n        }\r\n        return originalLog.apply(this, arguments);\r\n    };\r\n    return originalWinston;\r\n};\r\nvar winston3PatchFunction = function (originalWinston) {\r\n    var mapLevelToKind = function (winston, level) {\r\n        var levelKind;\r\n        if (winston.config.npm.levels[level] != null) {\r\n            levelKind = \"npm\";\r\n        }\r\n        else if (winston.config.syslog.levels[level] != null) {\r\n            levelKind = \"syslog\";\r\n        }\r\n        else {\r\n            levelKind = \"unknown\";\r\n        }\r\n        return levelKind;\r\n    };\r\n    var AppInsightsTransport = /** @class */ (function (_super) {\r\n        __extends(AppInsightsTransport, _super);\r\n        function AppInsightsTransport(winston, opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this.winston = winston;\r\n            return _this;\r\n        }\r\n        AppInsightsTransport.prototype.log = function (info, callback) {\r\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\r\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\r\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\r\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\r\n            var levelKind = mapLevelToKind(this.winston, level);\r\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\r\n            for (var key in splat) {\r\n                if (splat.hasOwnProperty(key)) {\r\n                    meta[key] = splat[key];\r\n                }\r\n            }\r\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\r\n            callback();\r\n        };\r\n        return AppInsightsTransport;\r\n    }(originalWinston.Transport));\r\n    // Helper function which returns either set level or highest level\r\n    function getLogLevel(opts) {\r\n        var _a;\r\n        // Check whether a level has been provided\r\n        if (opts === null || opts === void 0 ? void 0 : opts.level) {\r\n            return opts.level;\r\n        }\r\n        // Grab highest sev logging level in case of custom logging levels\r\n        var levels = (_a = opts === null || opts === void 0 ? void 0 : opts.levels) !== null && _a !== void 0 ? _a : originalWinston.config.npm.levels;\r\n        var lastLevel;\r\n        for (var level in levels) {\r\n            if (levels.hasOwnProperty(level)) {\r\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\r\n            }\r\n        }\r\n        return lastLevel;\r\n    }\r\n    // Patch this function\r\n    function patchedConfigure(opts) {\r\n        this.add(new AppInsightsTransport(originalWinston, { level: getLogLevel(opts) }));\r\n    }\r\n    var origCreate = originalWinston.createLogger;\r\n    originalWinston.createLogger = function patchedCreate(opts) {\r\n        // Add custom app insights transport to the end\r\n        // Remark: Configure is not available until after createLogger()\r\n        // and the Logger prototype is not exported in winston 3.x, so\r\n        // patch both createLogger and configure. Could also call configure\r\n        // again after createLogger, but that would cause configure to be called\r\n        // twice per create.\r\n        var result = origCreate.call(this, opts);\r\n        result.add(new AppInsightsTransport(originalWinston, { level: getLogLevel(opts) }));\r\n        var origConfigure = result.configure;\r\n        result.configure = function () {\r\n            origConfigure.apply(this, arguments);\r\n            patchedConfigure.apply(this, arguments);\r\n        };\r\n        return result;\r\n    };\r\n    var origRootConfigure = originalWinston.configure;\r\n    originalWinston.configure = function () {\r\n        origRootConfigure.apply(this, arguments);\r\n        patchedConfigure.apply(this, arguments);\r\n    };\r\n    originalWinston.add(new AppInsightsTransport(originalWinston));\r\n    return originalWinston;\r\n};\r\nexports.winston3 = {\r\n    versionSpecifier: \"3.x\",\r\n    patch: winston3PatchFunction\r\n};\r\nexports.winston2 = {\r\n    versionSpecifier: \"2.x\",\r\n    patch: winston2PatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=winston.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 6614;\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 8844;\nmodule.exports = webpackEmptyContext;","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.channel = exports.ContextPreservingEventEmitter = exports.trueFilter = exports.makePatchingRequire = void 0;\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nObject.defineProperty(exports, \"makePatchingRequire\", { enumerable: true, get: function () { return patchRequire_2.makePatchingRequire; } });\r\nvar trueFilter = function (publishing) { return true; };\r\nexports.trueFilter = trueFilter;\r\nvar ContextPreservingEventEmitter = /** @class */ (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.modulesPatched = [];\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter, patchCallback) {\r\n        if (filter === void 0) { filter = exports.trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter, patchCallback: patchCallback });\r\n        var patched = this.checkIfModuleIsAlreadyPatched(name);\r\n        if (patched && patchCallback) {\r\n            patchCallback(patched.name, patched.version);\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = exports.trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addPatchedModule = function (name, version) {\r\n        for (var _i = 0, _a = this.modulesPatched; _i < _a.length; _i++) {\r\n            var module_1 = _a[_i];\r\n            if (module_1.name === name) {\r\n                return;\r\n            }\r\n        }\r\n        // If new patch notify listeners\r\n        this.modulesPatched.push({ name: name, version: version });\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            listeners.forEach(function (listener) {\r\n                if (listener.patchCallback) {\r\n                    listener.patchCallback(name, version);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.checkIfModuleIsAlreadyPatched = function (name) {\r\n        for (var _i = 0, _a = this.modulesPatched; _i < _a.length; _i++) {\r\n            var module_2 = _a[_i];\r\n            if (module_2.name === name) {\r\n                return module_2;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nexports.ContextPreservingEventEmitter = ContextPreservingEventEmitter;\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.makePatchingRequire = void 0;\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\nvar channel_1 = require(\"./channel\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                    if (channel_1.channel) {\r\n                        var name_1 = modulePatcher.publisherName || moduleId;\r\n                        channel_1.channel.addPatchedModule(name_1, moduleVersion);\r\n                    }\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (util.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity > read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function(boundary) {\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdirsSync = require('../mkdirs').mkdirsSync\nconst utimesMillisSync = require('../util/utimes').utimesMillisSync\nconst stat = require('../util/stat')\n\nfunction copySync (src, dest, opts) {\n  if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  opts = opts || {}\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    process.emitWarning(\n      'Using the preserveTimestamps option in 32-bit node is not recommended;\\n\\n' +\n      '\\tsee https://github.com/jprichardson/node-fs-extra/issues/269',\n      'Warning', 'fs-extra-WARN0002'\n    )\n  }\n\n  const { srcStat, destStat } = stat.checkPathsSync(src, dest, 'copy', opts)\n  stat.checkParentPathsSync(src, srcStat, dest, 'copy')\n  if (opts.filter && !opts.filter(src, dest)) return\n  const destParent = path.dirname(dest)\n  if (!fs.existsSync(destParent)) mkdirsSync(destParent)\n  return getStats(destStat, src, dest, opts)\n}\n\nfunction getStats (destStat, src, dest, opts) {\n  const statSync = opts.dereference ? fs.statSync : fs.lstatSync\n  const srcStat = statSync(src)\n\n  if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts)\n  else if (srcStat.isFile() ||\n           srcStat.isCharacterDevice() ||\n           srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts)\n  else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts)\n  else if (srcStat.isSocket()) throw new Error(`Cannot copy a socket file: ${src}`)\n  else if (srcStat.isFIFO()) throw new Error(`Cannot copy a FIFO pipe: ${src}`)\n  throw new Error(`Unknown file: ${src}`)\n}\n\nfunction onFile (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts)\n  return mayCopyFile(srcStat, src, dest, opts)\n}\n\nfunction mayCopyFile (srcStat, src, dest, opts) {\n  if (opts.overwrite) {\n    fs.unlinkSync(dest)\n    return copyFile(srcStat, src, dest, opts)\n  } else if (opts.errorOnExist) {\n    throw new Error(`'${dest}' already exists`)\n  }\n}\n\nfunction copyFile (srcStat, src, dest, opts) {\n  fs.copyFileSync(src, dest)\n  if (opts.preserveTimestamps) handleTimestamps(srcStat.mode, src, dest)\n  return setDestMode(dest, srcStat.mode)\n}\n\nfunction handleTimestamps (srcMode, src, dest) {\n  // Make sure the file is writable before setting the timestamp\n  // otherwise open fails with EPERM when invoked with 'r+'\n  // (through utimes call)\n  if (fileIsNotWritable(srcMode)) makeFileWritable(dest, srcMode)\n  return setDestTimestamps(src, dest)\n}\n\nfunction fileIsNotWritable (srcMode) {\n  return (srcMode & 0o200) === 0\n}\n\nfunction makeFileWritable (dest, srcMode) {\n  return setDestMode(dest, srcMode | 0o200)\n}\n\nfunction setDestMode (dest, srcMode) {\n  return fs.chmodSync(dest, srcMode)\n}\n\nfunction setDestTimestamps (src, dest) {\n  // The initial srcStat.atime cannot be trusted\n  // because it is modified by the read(2) system call\n  // (See https://nodejs.org/api/fs.html#fs_stat_time_values)\n  const updatedSrcStat = fs.statSync(src)\n  return utimesMillisSync(dest, updatedSrcStat.atime, updatedSrcStat.mtime)\n}\n\nfunction onDir (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return mkDirAndCopy(srcStat.mode, src, dest, opts)\n  return copyDir(src, dest, opts)\n}\n\nfunction mkDirAndCopy (srcMode, src, dest, opts) {\n  fs.mkdirSync(dest)\n  copyDir(src, dest, opts)\n  return setDestMode(dest, srcMode)\n}\n\nfunction copyDir (src, dest, opts) {\n  fs.readdirSync(src).forEach(item => copyDirItem(item, src, dest, opts))\n}\n\nfunction copyDirItem (item, src, dest, opts) {\n  const srcItem = path.join(src, item)\n  const destItem = path.join(dest, item)\n  if (opts.filter && !opts.filter(srcItem, destItem)) return\n  const { destStat } = stat.checkPathsSync(srcItem, destItem, 'copy', opts)\n  return getStats(destStat, srcItem, destItem, opts)\n}\n\nfunction onLink (destStat, src, dest, opts) {\n  let resolvedSrc = fs.readlinkSync(src)\n  if (opts.dereference) {\n    resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n  }\n\n  if (!destStat) {\n    return fs.symlinkSync(resolvedSrc, dest)\n  } else {\n    let resolvedDest\n    try {\n      resolvedDest = fs.readlinkSync(dest)\n    } catch (err) {\n      // dest exists and is a regular file or directory,\n      // Windows may throw UNKNOWN error. If dest already exists,\n      // fs throws error anyway, so no need to guard against it here.\n      if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlinkSync(resolvedSrc, dest)\n      throw err\n    }\n    if (opts.dereference) {\n      resolvedDest = path.resolve(process.cwd(), resolvedDest)\n    }\n    if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n      throw new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`)\n    }\n\n    // prevent copy if src is a subdir of dest since unlinking\n    // dest in this case would result in removing src contents\n    // and therefore a broken symlink would be created.\n    if (stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n      throw new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`)\n    }\n    return copyLink(resolvedSrc, dest)\n  }\n}\n\nfunction copyLink (resolvedSrc, dest) {\n  fs.unlinkSync(dest)\n  return fs.symlinkSync(resolvedSrc, dest)\n}\n\nmodule.exports = copySync\n","'use strict'\n\nconst fs = require('../fs')\nconst path = require('path')\nconst { mkdirs } = require('../mkdirs')\nconst { pathExists } = require('../path-exists')\nconst { utimesMillis } = require('../util/utimes')\nconst stat = require('../util/stat')\n\nasync function copy (src, dest, opts = {}) {\n  if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    process.emitWarning(\n      'Using the preserveTimestamps option in 32-bit node is not recommended;\\n\\n' +\n      '\\tsee https://github.com/jprichardson/node-fs-extra/issues/269',\n      'Warning', 'fs-extra-WARN0001'\n    )\n  }\n\n  const { srcStat, destStat } = await stat.checkPaths(src, dest, 'copy', opts)\n\n  await stat.checkParentPaths(src, srcStat, dest, 'copy')\n\n  const include = await runFilter(src, dest, opts)\n\n  if (!include) return\n\n  // check if the parent of dest exists, and create it if it doesn't exist\n  const destParent = path.dirname(dest)\n  const dirExists = await pathExists(destParent)\n  if (!dirExists) {\n    await mkdirs(destParent)\n  }\n\n  await getStatsAndPerformCopy(destStat, src, dest, opts)\n}\n\nasync function runFilter (src, dest, opts) {\n  if (!opts.filter) return true\n  return opts.filter(src, dest)\n}\n\nasync function getStatsAndPerformCopy (destStat, src, dest, opts) {\n  const statFn = opts.dereference ? fs.stat : fs.lstat\n  const srcStat = await statFn(src)\n\n  if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts)\n\n  if (\n    srcStat.isFile() ||\n    srcStat.isCharacterDevice() ||\n    srcStat.isBlockDevice()\n  ) return onFile(srcStat, destStat, src, dest, opts)\n\n  if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts)\n  if (srcStat.isSocket()) throw new Error(`Cannot copy a socket file: ${src}`)\n  if (srcStat.isFIFO()) throw new Error(`Cannot copy a FIFO pipe: ${src}`)\n  throw new Error(`Unknown file: ${src}`)\n}\n\nasync function onFile (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts)\n\n  if (opts.overwrite) {\n    await fs.unlink(dest)\n    return copyFile(srcStat, src, dest, opts)\n  }\n  if (opts.errorOnExist) {\n    throw new Error(`'${dest}' already exists`)\n  }\n}\n\nasync function copyFile (srcStat, src, dest, opts) {\n  await fs.copyFile(src, dest)\n  if (opts.preserveTimestamps) {\n    // Make sure the file is writable before setting the timestamp\n    // otherwise open fails with EPERM when invoked with 'r+'\n    // (through utimes call)\n    if (fileIsNotWritable(srcStat.mode)) {\n      await makeFileWritable(dest, srcStat.mode)\n    }\n\n    // Set timestamps and mode correspondingly\n\n    // Note that The initial srcStat.atime cannot be trusted\n    // because it is modified by the read(2) system call\n    // (See https://nodejs.org/api/fs.html#fs_stat_time_values)\n    const updatedSrcStat = await fs.stat(src)\n    await utimesMillis(dest, updatedSrcStat.atime, updatedSrcStat.mtime)\n  }\n\n  return fs.chmod(dest, srcStat.mode)\n}\n\nfunction fileIsNotWritable (srcMode) {\n  return (srcMode & 0o200) === 0\n}\n\nfunction makeFileWritable (dest, srcMode) {\n  return fs.chmod(dest, srcMode | 0o200)\n}\n\nasync function onDir (srcStat, destStat, src, dest, opts) {\n  // the dest directory might not exist, create it\n  if (!destStat) {\n    await fs.mkdir(dest)\n  }\n\n  const items = await fs.readdir(src)\n\n  // loop through the files in the current directory to copy everything\n  await Promise.all(items.map(async item => {\n    const srcItem = path.join(src, item)\n    const destItem = path.join(dest, item)\n\n    // skip the item if it is matches by the filter function\n    const include = await runFilter(srcItem, destItem, opts)\n    if (!include) return\n\n    const { destStat } = await stat.checkPaths(srcItem, destItem, 'copy', opts)\n\n    // If the item is a copyable file, `getStatsAndPerformCopy` will copy it\n    // If the item is a directory, `getStatsAndPerformCopy` will call `onDir` recursively\n    return getStatsAndPerformCopy(destStat, srcItem, destItem, opts)\n  }))\n\n  if (!destStat) {\n    await fs.chmod(dest, srcStat.mode)\n  }\n}\n\nasync function onLink (destStat, src, dest, opts) {\n  let resolvedSrc = await fs.readlink(src)\n  if (opts.dereference) {\n    resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n  }\n  if (!destStat) {\n    return fs.symlink(resolvedSrc, dest)\n  }\n\n  let resolvedDest = null\n  try {\n    resolvedDest = await fs.readlink(dest)\n  } catch (e) {\n    // dest exists and is a regular file or directory,\n    // Windows may throw UNKNOWN error. If dest already exists,\n    // fs throws error anyway, so no need to guard against it here.\n    if (e.code === 'EINVAL' || e.code === 'UNKNOWN') return fs.symlink(resolvedSrc, dest)\n    throw e\n  }\n  if (opts.dereference) {\n    resolvedDest = path.resolve(process.cwd(), resolvedDest)\n  }\n  if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n    throw new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`)\n  }\n\n  // do not copy if src is a subdir of dest since unlinking\n  // dest in this case would result in removing src contents\n  // and therefore a broken symlink would be created.\n  if (stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n    throw new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`)\n  }\n\n  // copy the link\n  await fs.unlink(dest)\n  return fs.symlink(resolvedSrc, dest)\n}\n\nmodule.exports = copy\n","'use strict'\n\nconst u = require('universalify').fromPromise\nmodule.exports = {\n  copy: u(require('./copy')),\n  copySync: require('./copy-sync')\n}\n","'use strict'\n\nconst u = require('universalify').fromPromise\nconst fs = require('../fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst remove = require('../remove')\n\nconst emptyDir = u(async function emptyDir (dir) {\n  let items\n  try {\n    items = await fs.readdir(dir)\n  } catch {\n    return mkdir.mkdirs(dir)\n  }\n\n  return Promise.all(items.map(item => remove.remove(path.join(dir, item))))\n})\n\nfunction emptyDirSync (dir) {\n  let items\n  try {\n    items = fs.readdirSync(dir)\n  } catch {\n    return mkdir.mkdirsSync(dir)\n  }\n\n  items.forEach(item => {\n    item = path.join(dir, item)\n    remove.removeSync(item)\n  })\n}\n\nmodule.exports = {\n  emptyDirSync,\n  emptydirSync: emptyDirSync,\n  emptyDir,\n  emptydir: emptyDir\n}\n","'use strict'\n\nconst u = require('universalify').fromPromise\nconst path = require('path')\nconst fs = require('../fs')\nconst mkdir = require('../mkdirs')\n\nasync function createFile (file) {\n  let stats\n  try {\n    stats = await fs.stat(file)\n  } catch { }\n  if (stats && stats.isFile()) return\n\n  const dir = path.dirname(file)\n\n  let dirStats = null\n  try {\n    dirStats = await fs.stat(dir)\n  } catch (err) {\n    // if the directory doesn't exist, make it\n    if (err.code === 'ENOENT') {\n      await mkdir.mkdirs(dir)\n      await fs.writeFile(file, '')\n      return\n    } else {\n      throw err\n    }\n  }\n\n  if (dirStats.isDirectory()) {\n    await fs.writeFile(file, '')\n  } else {\n    // parent is not a directory\n    // This is just to cause an internal ENOTDIR error to be thrown\n    await fs.readdir(dir)\n  }\n}\n\nfunction createFileSync (file) {\n  let stats\n  try {\n    stats = fs.statSync(file)\n  } catch { }\n  if (stats && stats.isFile()) return\n\n  const dir = path.dirname(file)\n  try {\n    if (!fs.statSync(dir).isDirectory()) {\n      // parent is not a directory\n      // This is just to cause an internal ENOTDIR error to be thrown\n      fs.readdirSync(dir)\n    }\n  } catch (err) {\n    // If the stat call above failed because the directory doesn't exist, create it\n    if (err && err.code === 'ENOENT') mkdir.mkdirsSync(dir)\n    else throw err\n  }\n\n  fs.writeFileSync(file, '')\n}\n\nmodule.exports = {\n  createFile: u(createFile),\n  createFileSync\n}\n","'use strict'\n\nconst { createFile, createFileSync } = require('./file')\nconst { createLink, createLinkSync } = require('./link')\nconst { createSymlink, createSymlinkSync } = require('./symlink')\n\nmodule.exports = {\n  // file\n  createFile,\n  createFileSync,\n  ensureFile: createFile,\n  ensureFileSync: createFileSync,\n  // link\n  createLink,\n  createLinkSync,\n  ensureLink: createLink,\n  ensureLinkSync: createLinkSync,\n  // symlink\n  createSymlink,\n  createSymlinkSync,\n  ensureSymlink: createSymlink,\n  ensureSymlinkSync: createSymlinkSync\n}\n","'use strict'\n\nconst u = require('universalify').fromPromise\nconst path = require('path')\nconst fs = require('../fs')\nconst mkdir = require('../mkdirs')\nconst { pathExists } = require('../path-exists')\nconst { areIdentical } = require('../util/stat')\n\nasync function createLink (srcpath, dstpath) {\n  let dstStat\n  try {\n    dstStat = await fs.lstat(dstpath)\n  } catch {\n    // ignore error\n  }\n\n  let srcStat\n  try {\n    srcStat = await fs.lstat(srcpath)\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink')\n    throw err\n  }\n\n  if (dstStat && areIdentical(srcStat, dstStat)) return\n\n  const dir = path.dirname(dstpath)\n\n  const dirExists = await pathExists(dir)\n\n  if (!dirExists) {\n    await mkdir.mkdirs(dir)\n  }\n\n  await fs.link(srcpath, dstpath)\n}\n\nfunction createLinkSync (srcpath, dstpath) {\n  let dstStat\n  try {\n    dstStat = fs.lstatSync(dstpath)\n  } catch {}\n\n  try {\n    const srcStat = fs.lstatSync(srcpath)\n    if (dstStat && areIdentical(srcStat, dstStat)) return\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink')\n    throw err\n  }\n\n  const dir = path.dirname(dstpath)\n  const dirExists = fs.existsSync(dir)\n  if (dirExists) return fs.linkSync(srcpath, dstpath)\n  mkdir.mkdirsSync(dir)\n\n  return fs.linkSync(srcpath, dstpath)\n}\n\nmodule.exports = {\n  createLink: u(createLink),\n  createLinkSync\n}\n","'use strict'\n\nconst path = require('path')\nconst fs = require('../fs')\nconst { pathExists } = require('../path-exists')\n\nconst u = require('universalify').fromPromise\n\n/**\n * Function that returns two types of paths, one relative to symlink, and one\n * relative to the current working directory. Checks if path is absolute or\n * relative. If the path is relative, this function checks if the path is\n * relative to symlink or relative to current working directory. This is an\n * initiative to find a smarter `srcpath` to supply when building symlinks.\n * This allows you to determine which path to use out of one of three possible\n * types of source paths. The first is an absolute path. This is detected by\n * `path.isAbsolute()`. When an absolute path is provided, it is checked to\n * see if it exists. If it does it's used, if not an error is returned\n * (callback)/ thrown (sync). The other two options for `srcpath` are a\n * relative url. By default Node's `fs.symlink` works by creating a symlink\n * using `dstpath` and expects the `srcpath` to be relative to the newly\n * created symlink. If you provide a `srcpath` that does not exist on the file\n * system it results in a broken symlink. To minimize this, the function\n * checks to see if the 'relative to symlink' source file exists, and if it\n * does it will use it. If it does not, it checks if there's a file that\n * exists that is relative to the current working directory, if does its used.\n * This preserves the expectations of the original fs.symlink spec and adds\n * the ability to pass in `relative to current working direcotry` paths.\n */\n\nasync function symlinkPaths (srcpath, dstpath) {\n  if (path.isAbsolute(srcpath)) {\n    try {\n      await fs.lstat(srcpath)\n    } catch (err) {\n      err.message = err.message.replace('lstat', 'ensureSymlink')\n      throw err\n    }\n\n    return {\n      toCwd: srcpath,\n      toDst: srcpath\n    }\n  }\n\n  const dstdir = path.dirname(dstpath)\n  const relativeToDst = path.join(dstdir, srcpath)\n\n  const exists = await pathExists(relativeToDst)\n  if (exists) {\n    return {\n      toCwd: relativeToDst,\n      toDst: srcpath\n    }\n  }\n\n  try {\n    await fs.lstat(srcpath)\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureSymlink')\n    throw err\n  }\n\n  return {\n    toCwd: srcpath,\n    toDst: path.relative(dstdir, srcpath)\n  }\n}\n\nfunction symlinkPathsSync (srcpath, dstpath) {\n  if (path.isAbsolute(srcpath)) {\n    const exists = fs.existsSync(srcpath)\n    if (!exists) throw new Error('absolute srcpath does not exist')\n    return {\n      toCwd: srcpath,\n      toDst: srcpath\n    }\n  }\n\n  const dstdir = path.dirname(dstpath)\n  const relativeToDst = path.join(dstdir, srcpath)\n  const exists = fs.existsSync(relativeToDst)\n  if (exists) {\n    return {\n      toCwd: relativeToDst,\n      toDst: srcpath\n    }\n  }\n\n  const srcExists = fs.existsSync(srcpath)\n  if (!srcExists) throw new Error('relative srcpath does not exist')\n  return {\n    toCwd: srcpath,\n    toDst: path.relative(dstdir, srcpath)\n  }\n}\n\nmodule.exports = {\n  symlinkPaths: u(symlinkPaths),\n  symlinkPathsSync\n}\n","'use strict'\n\nconst fs = require('../fs')\nconst u = require('universalify').fromPromise\n\nasync function symlinkType (srcpath, type) {\n  if (type) return type\n\n  let stats\n  try {\n    stats = await fs.lstat(srcpath)\n  } catch {\n    return 'file'\n  }\n\n  return (stats && stats.isDirectory()) ? 'dir' : 'file'\n}\n\nfunction symlinkTypeSync (srcpath, type) {\n  if (type) return type\n\n  let stats\n  try {\n    stats = fs.lstatSync(srcpath)\n  } catch {\n    return 'file'\n  }\n  return (stats && stats.isDirectory()) ? 'dir' : 'file'\n}\n\nmodule.exports = {\n  symlinkType: u(symlinkType),\n  symlinkTypeSync\n}\n","'use strict'\n\nconst u = require('universalify').fromPromise\nconst path = require('path')\nconst fs = require('../fs')\n\nconst { mkdirs, mkdirsSync } = require('../mkdirs')\n\nconst { symlinkPaths, symlinkPathsSync } = require('./symlink-paths')\nconst { symlinkType, symlinkTypeSync } = require('./symlink-type')\n\nconst { pathExists } = require('../path-exists')\n\nconst { areIdentical } = require('../util/stat')\n\nasync function createSymlink (srcpath, dstpath, type) {\n  let stats\n  try {\n    stats = await fs.lstat(dstpath)\n  } catch { }\n\n  if (stats && stats.isSymbolicLink()) {\n    const [srcStat, dstStat] = await Promise.all([\n      fs.stat(srcpath),\n      fs.stat(dstpath)\n    ])\n\n    if (areIdentical(srcStat, dstStat)) return\n  }\n\n  const relative = await symlinkPaths(srcpath, dstpath)\n  srcpath = relative.toDst\n  const toType = await symlinkType(relative.toCwd, type)\n  const dir = path.dirname(dstpath)\n\n  if (!(await pathExists(dir))) {\n    await mkdirs(dir)\n  }\n\n  return fs.symlink(srcpath, dstpath, toType)\n}\n\nfunction createSymlinkSync (srcpath, dstpath, type) {\n  let stats\n  try {\n    stats = fs.lstatSync(dstpath)\n  } catch { }\n  if (stats && stats.isSymbolicLink()) {\n    const srcStat = fs.statSync(srcpath)\n    const dstStat = fs.statSync(dstpath)\n    if (areIdentical(srcStat, dstStat)) return\n  }\n\n  const relative = symlinkPathsSync(srcpath, dstpath)\n  srcpath = relative.toDst\n  type = symlinkTypeSync(relative.toCwd, type)\n  const dir = path.dirname(dstpath)\n  const exists = fs.existsSync(dir)\n  if (exists) return fs.symlinkSync(srcpath, dstpath, type)\n  mkdirsSync(dir)\n  return fs.symlinkSync(srcpath, dstpath, type)\n}\n\nmodule.exports = {\n  createSymlink: u(createSymlink),\n  createSymlinkSync\n}\n","'use strict'\n// This is adapted from https://github.com/normalize/mz\n// Copyright (c) 2014-2016 Jonathan Ong me@jongleberry.com and Contributors\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\n\nconst api = [\n  'access',\n  'appendFile',\n  'chmod',\n  'chown',\n  'close',\n  'copyFile',\n  'fchmod',\n  'fchown',\n  'fdatasync',\n  'fstat',\n  'fsync',\n  'ftruncate',\n  'futimes',\n  'lchmod',\n  'lchown',\n  'link',\n  'lstat',\n  'mkdir',\n  'mkdtemp',\n  'open',\n  'opendir',\n  'readdir',\n  'readFile',\n  'readlink',\n  'realpath',\n  'rename',\n  'rm',\n  'rmdir',\n  'stat',\n  'symlink',\n  'truncate',\n  'unlink',\n  'utimes',\n  'writeFile'\n].filter(key => {\n  // Some commands are not available on some systems. Ex:\n  // fs.cp was added in Node.js v16.7.0\n  // fs.lchown is not available on at least some Linux\n  return typeof fs[key] === 'function'\n})\n\n// Export cloned fs:\nObject.assign(exports, fs)\n\n// Universalify async methods:\napi.forEach(method => {\n  exports[method] = u(fs[method])\n})\n\n// We differ from mz/fs in that we still ship the old, broken, fs.exists()\n// since we are a drop-in replacement for the native module\nexports.exists = function (filename, callback) {\n  if (typeof callback === 'function') {\n    return fs.exists(filename, callback)\n  }\n  return new Promise(resolve => {\n    return fs.exists(filename, resolve)\n  })\n}\n\n// fs.read(), fs.write(), fs.readv(), & fs.writev() need special treatment due to multiple callback args\n\nexports.read = function (fd, buffer, offset, length, position, callback) {\n  if (typeof callback === 'function') {\n    return fs.read(fd, buffer, offset, length, position, callback)\n  }\n  return new Promise((resolve, reject) => {\n    fs.read(fd, buffer, offset, length, position, (err, bytesRead, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesRead, buffer })\n    })\n  })\n}\n\n// Function signature can be\n// fs.write(fd, buffer[, offset[, length[, position]]], callback)\n// OR\n// fs.write(fd, string[, position[, encoding]], callback)\n// We need to handle both cases, so we use ...args\nexports.write = function (fd, buffer, ...args) {\n  if (typeof args[args.length - 1] === 'function') {\n    return fs.write(fd, buffer, ...args)\n  }\n\n  return new Promise((resolve, reject) => {\n    fs.write(fd, buffer, ...args, (err, bytesWritten, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesWritten, buffer })\n    })\n  })\n}\n\n// Function signature is\n// s.readv(fd, buffers[, position], callback)\n// We need to handle the optional arg, so we use ...args\nexports.readv = function (fd, buffers, ...args) {\n  if (typeof args[args.length - 1] === 'function') {\n    return fs.readv(fd, buffers, ...args)\n  }\n\n  return new Promise((resolve, reject) => {\n    fs.readv(fd, buffers, ...args, (err, bytesRead, buffers) => {\n      if (err) return reject(err)\n      resolve({ bytesRead, buffers })\n    })\n  })\n}\n\n// Function signature is\n// s.writev(fd, buffers[, position], callback)\n// We need to handle the optional arg, so we use ...args\nexports.writev = function (fd, buffers, ...args) {\n  if (typeof args[args.length - 1] === 'function') {\n    return fs.writev(fd, buffers, ...args)\n  }\n\n  return new Promise((resolve, reject) => {\n    fs.writev(fd, buffers, ...args, (err, bytesWritten, buffers) => {\n      if (err) return reject(err)\n      resolve({ bytesWritten, buffers })\n    })\n  })\n}\n\n// fs.realpath.native sometimes not available if fs is monkey-patched\nif (typeof fs.realpath.native === 'function') {\n  exports.realpath.native = u(fs.realpath.native)\n} else {\n  process.emitWarning(\n    'fs.realpath.native is not a function. Is fs being monkey-patched?',\n    'Warning', 'fs-extra-WARN0003'\n  )\n}\n","'use strict'\n\nmodule.exports = {\n  // Export promiseified graceful-fs:\n  ...require('./fs'),\n  // Export extra methods:\n  ...require('./copy'),\n  ...require('./empty'),\n  ...require('./ensure'),\n  ...require('./json'),\n  ...require('./mkdirs'),\n  ...require('./move'),\n  ...require('./output-file'),\n  ...require('./path-exists'),\n  ...require('./remove')\n}\n","'use strict'\n\nconst u = require('universalify').fromPromise\nconst jsonFile = require('./jsonfile')\n\njsonFile.outputJson = u(require('./output-json'))\njsonFile.outputJsonSync = require('./output-json-sync')\n// aliases\njsonFile.outputJSON = jsonFile.outputJson\njsonFile.outputJSONSync = jsonFile.outputJsonSync\njsonFile.writeJSON = jsonFile.writeJson\njsonFile.writeJSONSync = jsonFile.writeJsonSync\njsonFile.readJSON = jsonFile.readJson\njsonFile.readJSONSync = jsonFile.readJsonSync\n\nmodule.exports = jsonFile\n","'use strict'\n\nconst jsonFile = require('jsonfile')\n\nmodule.exports = {\n  // jsonfile exports\n  readJson: jsonFile.readFile,\n  readJsonSync: jsonFile.readFileSync,\n  writeJson: jsonFile.writeFile,\n  writeJsonSync: jsonFile.writeFileSync\n}\n","'use strict'\n\nconst { stringify } = require('jsonfile/utils')\nconst { outputFileSync } = require('../output-file')\n\nfunction outputJsonSync (file, data, options) {\n  const str = stringify(data, options)\n\n  outputFileSync(file, str, options)\n}\n\nmodule.exports = outputJsonSync\n","'use strict'\n\nconst { stringify } = require('jsonfile/utils')\nconst { outputFile } = require('../output-file')\n\nasync function outputJson (file, data, options = {}) {\n  const str = stringify(data, options)\n\n  await outputFile(file, str, options)\n}\n\nmodule.exports = outputJson\n","'use strict'\nconst u = require('universalify').fromPromise\nconst { makeDir: _makeDir, makeDirSync } = require('./make-dir')\nconst makeDir = u(_makeDir)\n\nmodule.exports = {\n  mkdirs: makeDir,\n  mkdirsSync: makeDirSync,\n  // alias\n  mkdirp: makeDir,\n  mkdirpSync: makeDirSync,\n  ensureDir: makeDir,\n  ensureDirSync: makeDirSync\n}\n","'use strict'\nconst fs = require('../fs')\nconst { checkPath } = require('./utils')\n\nconst getMode = options => {\n  const defaults = { mode: 0o777 }\n  if (typeof options === 'number') return options\n  return ({ ...defaults, ...options }).mode\n}\n\nmodule.exports.makeDir = async (dir, options) => {\n  checkPath(dir)\n\n  return fs.mkdir(dir, {\n    mode: getMode(options),\n    recursive: true\n  })\n}\n\nmodule.exports.makeDirSync = (dir, options) => {\n  checkPath(dir)\n\n  return fs.mkdirSync(dir, {\n    mode: getMode(options),\n    recursive: true\n  })\n}\n","// Adapted from https://github.com/sindresorhus/make-dir\n// Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict'\nconst path = require('path')\n\n// https://github.com/nodejs/node/issues/8987\n// https://github.com/libuv/libuv/pull/1088\nmodule.exports.checkPath = function checkPath (pth) {\n  if (process.platform === 'win32') {\n    const pathHasInvalidWinCharacters = /[<>:\"|?*]/.test(pth.replace(path.parse(pth).root, ''))\n\n    if (pathHasInvalidWinCharacters) {\n      const error = new Error(`Path contains invalid characters: ${pth}`)\n      error.code = 'EINVAL'\n      throw error\n    }\n  }\n}\n","'use strict'\n\nconst u = require('universalify').fromPromise\nmodule.exports = {\n  move: u(require('./move')),\n  moveSync: require('./move-sync')\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copySync = require('../copy').copySync\nconst removeSync = require('../remove').removeSync\nconst mkdirpSync = require('../mkdirs').mkdirpSync\nconst stat = require('../util/stat')\n\nfunction moveSync (src, dest, opts) {\n  opts = opts || {}\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  const { srcStat, isChangingCase = false } = stat.checkPathsSync(src, dest, 'move', opts)\n  stat.checkParentPathsSync(src, srcStat, dest, 'move')\n  if (!isParentRoot(dest)) mkdirpSync(path.dirname(dest))\n  return doRename(src, dest, overwrite, isChangingCase)\n}\n\nfunction isParentRoot (dest) {\n  const parent = path.dirname(dest)\n  const parsedPath = path.parse(parent)\n  return parsedPath.root === parent\n}\n\nfunction doRename (src, dest, overwrite, isChangingCase) {\n  if (isChangingCase) return rename(src, dest, overwrite)\n  if (overwrite) {\n    removeSync(dest)\n    return rename(src, dest, overwrite)\n  }\n  if (fs.existsSync(dest)) throw new Error('dest already exists.')\n  return rename(src, dest, overwrite)\n}\n\nfunction rename (src, dest, overwrite) {\n  try {\n    fs.renameSync(src, dest)\n  } catch (err) {\n    if (err.code !== 'EXDEV') throw err\n    return moveAcrossDevice(src, dest, overwrite)\n  }\n}\n\nfunction moveAcrossDevice (src, dest, overwrite) {\n  const opts = {\n    overwrite,\n    errorOnExist: true,\n    preserveTimestamps: true\n  }\n  copySync(src, dest, opts)\n  return removeSync(src)\n}\n\nmodule.exports = moveSync\n","'use strict'\n\nconst fs = require('../fs')\nconst path = require('path')\nconst { copy } = require('../copy')\nconst { remove } = require('../remove')\nconst { mkdirp } = require('../mkdirs')\nconst { pathExists } = require('../path-exists')\nconst stat = require('../util/stat')\n\nasync function move (src, dest, opts = {}) {\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  const { srcStat, isChangingCase = false } = await stat.checkPaths(src, dest, 'move', opts)\n\n  await stat.checkParentPaths(src, srcStat, dest, 'move')\n\n  // If the parent of dest is not root, make sure it exists before proceeding\n  const destParent = path.dirname(dest)\n  const parsedParentPath = path.parse(destParent)\n  if (parsedParentPath.root !== destParent) {\n    await mkdirp(destParent)\n  }\n\n  return doRename(src, dest, overwrite, isChangingCase)\n}\n\nasync function doRename (src, dest, overwrite, isChangingCase) {\n  if (!isChangingCase) {\n    if (overwrite) {\n      await remove(dest)\n    } else if (await pathExists(dest)) {\n      throw new Error('dest already exists.')\n    }\n  }\n\n  try {\n    // Try w/ rename first, and try copy + remove if EXDEV\n    await fs.rename(src, dest)\n  } catch (err) {\n    if (err.code !== 'EXDEV') {\n      throw err\n    }\n    await moveAcrossDevice(src, dest, overwrite)\n  }\n}\n\nasync function moveAcrossDevice (src, dest, overwrite) {\n  const opts = {\n    overwrite,\n    errorOnExist: true,\n    preserveTimestamps: true\n  }\n\n  await copy(src, dest, opts)\n  return remove(src)\n}\n\nmodule.exports = move\n","'use strict'\n\nconst u = require('universalify').fromPromise\nconst fs = require('../fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nasync function outputFile (file, data, encoding = 'utf-8') {\n  const dir = path.dirname(file)\n\n  if (!(await pathExists(dir))) {\n    await mkdir.mkdirs(dir)\n  }\n\n  return fs.writeFile(file, data, encoding)\n}\n\nfunction outputFileSync (file, ...args) {\n  const dir = path.dirname(file)\n  if (!fs.existsSync(dir)) {\n    mkdir.mkdirsSync(dir)\n  }\n\n  fs.writeFileSync(file, ...args)\n}\n\nmodule.exports = {\n  outputFile: u(outputFile),\n  outputFileSync\n}\n","'use strict'\nconst u = require('universalify').fromPromise\nconst fs = require('../fs')\n\nfunction pathExists (path) {\n  return fs.access(path).then(() => true).catch(() => false)\n}\n\nmodule.exports = {\n  pathExists: u(pathExists),\n  pathExistsSync: fs.existsSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst u = require('universalify').fromCallback\n\nfunction remove (path, callback) {\n  fs.rm(path, { recursive: true, force: true }, callback)\n}\n\nfunction removeSync (path) {\n  fs.rmSync(path, { recursive: true, force: true })\n}\n\nmodule.exports = {\n  remove: u(remove),\n  removeSync\n}\n","'use strict'\n\nconst fs = require('../fs')\nconst path = require('path')\nconst u = require('universalify').fromPromise\n\nfunction getStats (src, dest, opts) {\n  const statFunc = opts.dereference\n    ? (file) => fs.stat(file, { bigint: true })\n    : (file) => fs.lstat(file, { bigint: true })\n  return Promise.all([\n    statFunc(src),\n    statFunc(dest).catch(err => {\n      if (err.code === 'ENOENT') return null\n      throw err\n    })\n  ]).then(([srcStat, destStat]) => ({ srcStat, destStat }))\n}\n\nfunction getStatsSync (src, dest, opts) {\n  let destStat\n  const statFunc = opts.dereference\n    ? (file) => fs.statSync(file, { bigint: true })\n    : (file) => fs.lstatSync(file, { bigint: true })\n  const srcStat = statFunc(src)\n  try {\n    destStat = statFunc(dest)\n  } catch (err) {\n    if (err.code === 'ENOENT') return { srcStat, destStat: null }\n    throw err\n  }\n  return { srcStat, destStat }\n}\n\nasync function checkPaths (src, dest, funcName, opts) {\n  const { srcStat, destStat } = await getStats(src, dest, opts)\n  if (destStat) {\n    if (areIdentical(srcStat, destStat)) {\n      const srcBaseName = path.basename(src)\n      const destBaseName = path.basename(dest)\n      if (funcName === 'move' &&\n        srcBaseName !== destBaseName &&\n        srcBaseName.toLowerCase() === destBaseName.toLowerCase()) {\n        return { srcStat, destStat, isChangingCase: true }\n      }\n      throw new Error('Source and destination must not be the same.')\n    }\n    if (srcStat.isDirectory() && !destStat.isDirectory()) {\n      throw new Error(`Cannot overwrite non-directory '${dest}' with directory '${src}'.`)\n    }\n    if (!srcStat.isDirectory() && destStat.isDirectory()) {\n      throw new Error(`Cannot overwrite directory '${dest}' with non-directory '${src}'.`)\n    }\n  }\n\n  if (srcStat.isDirectory() && isSrcSubdir(src, dest)) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n\n  return { srcStat, destStat }\n}\n\nfunction checkPathsSync (src, dest, funcName, opts) {\n  const { srcStat, destStat } = getStatsSync(src, dest, opts)\n\n  if (destStat) {\n    if (areIdentical(srcStat, destStat)) {\n      const srcBaseName = path.basename(src)\n      const destBaseName = path.basename(dest)\n      if (funcName === 'move' &&\n        srcBaseName !== destBaseName &&\n        srcBaseName.toLowerCase() === destBaseName.toLowerCase()) {\n        return { srcStat, destStat, isChangingCase: true }\n      }\n      throw new Error('Source and destination must not be the same.')\n    }\n    if (srcStat.isDirectory() && !destStat.isDirectory()) {\n      throw new Error(`Cannot overwrite non-directory '${dest}' with directory '${src}'.`)\n    }\n    if (!srcStat.isDirectory() && destStat.isDirectory()) {\n      throw new Error(`Cannot overwrite directory '${dest}' with non-directory '${src}'.`)\n    }\n  }\n\n  if (srcStat.isDirectory() && isSrcSubdir(src, dest)) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n  return { srcStat, destStat }\n}\n\n// recursively check if dest parent is a subdirectory of src.\n// It works for all file types including symlinks since it\n// checks the src and dest inodes. It starts from the deepest\n// parent and stops once it reaches the src parent or the root path.\nasync function checkParentPaths (src, srcStat, dest, funcName) {\n  const srcParent = path.resolve(path.dirname(src))\n  const destParent = path.resolve(path.dirname(dest))\n  if (destParent === srcParent || destParent === path.parse(destParent).root) return\n\n  let destStat\n  try {\n    destStat = await fs.stat(destParent, { bigint: true })\n  } catch (err) {\n    if (err.code === 'ENOENT') return\n    throw err\n  }\n\n  if (areIdentical(srcStat, destStat)) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n\n  return checkParentPaths(src, srcStat, destParent, funcName)\n}\n\nfunction checkParentPathsSync (src, srcStat, dest, funcName) {\n  const srcParent = path.resolve(path.dirname(src))\n  const destParent = path.resolve(path.dirname(dest))\n  if (destParent === srcParent || destParent === path.parse(destParent).root) return\n  let destStat\n  try {\n    destStat = fs.statSync(destParent, { bigint: true })\n  } catch (err) {\n    if (err.code === 'ENOENT') return\n    throw err\n  }\n  if (areIdentical(srcStat, destStat)) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n  return checkParentPathsSync(src, srcStat, destParent, funcName)\n}\n\nfunction areIdentical (srcStat, destStat) {\n  return destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev\n}\n\n// return true if dest is a subdir of src, otherwise false.\n// It only checks the path strings.\nfunction isSrcSubdir (src, dest) {\n  const srcArr = path.resolve(src).split(path.sep).filter(i => i)\n  const destArr = path.resolve(dest).split(path.sep).filter(i => i)\n  return srcArr.every((cur, i) => destArr[i] === cur)\n}\n\nfunction errMsg (src, dest, funcName) {\n  return `Cannot ${funcName} '${src}' to a subdirectory of itself, '${dest}'.`\n}\n\nmodule.exports = {\n  // checkPaths\n  checkPaths: u(checkPaths),\n  checkPathsSync,\n  // checkParent\n  checkParentPaths: u(checkParentPaths),\n  checkParentPathsSync,\n  // Misc\n  isSrcSubdir,\n  areIdentical\n}\n","'use strict'\n\nconst fs = require('../fs')\nconst u = require('universalify').fromPromise\n\nasync function utimesMillis (path, atime, mtime) {\n  // if (!HAS_MILLIS_RES) return fs.utimes(path, atime, mtime, callback)\n  const fd = await fs.open(path, 'r+')\n\n  let closeErr = null\n\n  try {\n    await fs.futimes(fd, atime, mtime)\n  } finally {\n    try {\n      await fs.close(fd)\n    } catch (e) {\n      closeErr = e\n    }\n  }\n\n  if (closeErr) {\n    throw closeErr\n  }\n}\n\nfunction utimesMillisSync (path, atime, mtime) {\n  const fd = fs.openSync(path, 'r+')\n  fs.futimesSync(fd, atime, mtime)\n  return fs.closeSync(fd)\n}\n\nmodule.exports = {\n  utimesMillis: u(utimesMillis),\n  utimesMillisSync\n}\n","'use strict'\n\nmodule.exports = clone\n\nvar getPrototypeOf = Object.getPrototypeOf || function (obj) {\n  return obj.__proto__\n}\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: getPrototypeOf(obj) }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n","var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          resetQueue()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      resetQueue()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb, startTime) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb, startTime) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb, startTime) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$copyFile = fs.copyFile\n  if (fs$copyFile)\n    fs.copyFile = copyFile\n  function copyFile (src, dest, flags, cb) {\n    if (typeof flags === 'function') {\n      cb = flags\n      flags = 0\n    }\n    return go$copyFile(src, dest, flags, cb)\n\n    function go$copyFile (src, dest, flags, cb, startTime) {\n      return fs$copyFile(src, dest, flags, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$copyFile, [src, dest, flags, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  var noReaddirOptionVersions = /^v[0-5]\\./\n  function readdir (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    var go$readdir = noReaddirOptionVersions.test(process.version)\n      ? function go$readdir (path, options, cb, startTime) {\n        return fs$readdir(path, fs$readdirCallback(\n          path, options, cb, startTime\n        ))\n      }\n      : function go$readdir (path, options, cb, startTime) {\n        return fs$readdir(path, options, fs$readdirCallback(\n          path, options, cb, startTime\n        ))\n      }\n\n    return go$readdir(path, options, cb)\n\n    function fs$readdirCallback (path, options, cb, startTime) {\n      return function (err, files) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([\n            go$readdir,\n            [path, options, cb],\n            err,\n            startTime || Date.now(),\n            Date.now()\n          ])\n        else {\n          if (files && files.sort)\n            files.sort()\n\n          if (typeof cb === 'function')\n            cb.call(this, err, files)\n        }\n      }\n    }\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb, startTime) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n  retry()\n}\n\n// keep track of the timeout between retry() calls\nvar retryTimer\n\n// reset the startTime and lastTime to now\n// this resets the start of the 60 second overall timeout as well as the\n// delay between attempts so that we'll retry these jobs sooner\nfunction resetQueue () {\n  var now = Date.now()\n  for (var i = 0; i < fs[gracefulQueue].length; ++i) {\n    // entries that are only a length of 2 are from an older version, don't\n    // bother modifying those since they'll be retried anyway.\n    if (fs[gracefulQueue][i].length > 2) {\n      fs[gracefulQueue][i][3] = now // startTime\n      fs[gracefulQueue][i][4] = now // lastTime\n    }\n  }\n  // call retry to make sure we're actively processing the queue\n  retry()\n}\n\nfunction retry () {\n  // clear the timer and remove it to help prevent unintended concurrency\n  clearTimeout(retryTimer)\n  retryTimer = undefined\n\n  if (fs[gracefulQueue].length === 0)\n    return\n\n  var elem = fs[gracefulQueue].shift()\n  var fn = elem[0]\n  var args = elem[1]\n  // these items may be unset if they were added by an older graceful-fs\n  var err = elem[2]\n  var startTime = elem[3]\n  var lastTime = elem[4]\n\n  // if we don't have a startTime we have no way of knowing if we've waited\n  // long enough, so go ahead and retry this item now\n  if (startTime === undefined) {\n    debug('RETRY', fn.name, args)\n    fn.apply(null, args)\n  } else if (Date.now() - startTime >= 60000) {\n    // it's been more than 60 seconds total, bail now\n    debug('TIMEOUT', fn.name, args)\n    var cb = args.pop()\n    if (typeof cb === 'function')\n      cb.call(null, err)\n  } else {\n    // the amount of time between the last attempt and right now\n    var sinceAttempt = Date.now() - lastTime\n    // the amount of time between when we first tried, and when we last tried\n    // rounded up to at least 1\n    var sinceStart = Math.max(lastTime - startTime, 1)\n    // backoff. wait longer than the total time we've been retrying, but only\n    // up to a maximum of 100ms\n    var desiredDelay = Math.min(sinceStart * 1.2, 100)\n    // it's been long enough since the last retry, do it again\n    if (sinceAttempt >= desiredDelay) {\n      debug('RETRY', fn.name, args)\n      fn.apply(null, args.concat([startTime]))\n    } else {\n      // if we can't do this job yet, push it to the end of the queue\n      // and let the next iteration check again\n      fs[gracefulQueue].push(elem)\n    }\n  }\n\n  // schedule our next run if one isn't already scheduled\n  if (retryTimer === undefined) {\n    retryTimer = setTimeout(retry, 0)\n  }\n}\n","var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n","var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (fs.chmod && !fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (fs.chown && !fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = typeof fs.rename !== 'function' ? fs.rename\n    : (function (fs$rename) {\n      function rename (from, to, cb) {\n        var start = Date.now()\n        var backoff = 0;\n        fs$rename(from, to, function CB (er) {\n          if (er\n              && (er.code === \"EACCES\" || er.code === \"EPERM\" || er.code === \"EBUSY\")\n              && Date.now() - start < 60000) {\n            setTimeout(function() {\n              fs.stat(to, function (stater, st) {\n                if (stater && stater.code === \"ENOENT\")\n                  fs$rename(from, to, CB);\n                else\n                  cb(er)\n              })\n            }, backoff)\n            if (backoff < 100)\n              backoff += 10;\n            return;\n          }\n          if (cb) cb(er)\n        })\n      }\n      if (Object.setPrototypeOf) Object.setPrototypeOf(rename, fs$rename)\n      return rename\n    })(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = typeof fs.read !== 'function' ? fs.read\n  : (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = typeof fs.readSync !== 'function' ? fs.readSync\n  : (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\") && fs.futimes) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else if (fs.futimes) {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats) {\n        if (stats.uid < 0) stats.uid += 0x100000000\n        if (stats.gid < 0) stats.gid += 0x100000000\n      }\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst net_1 = __importDefault(require(\"net\"));\nconst tls_1 = __importDefault(require(\"tls\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst assert_1 = __importDefault(require(\"assert\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst agent_base_1 = require(\"agent-base\");\nconst parse_proxy_response_1 = __importDefault(require(\"./parse-proxy-response\"));\nconst debug = debug_1.default('https-proxy-agent:agent');\n/**\n * The `HttpsProxyAgent` implements an HTTP Agent subclass that connects to\n * the specified \"HTTP(s) proxy server\" in order to proxy HTTPS requests.\n *\n * Outgoing HTTP requests are first tunneled through the proxy server using the\n * `CONNECT` HTTP request method to establish a connection to the proxy server,\n * and then the proxy server connects to the destination target and issues the\n * HTTP request from the proxy server.\n *\n * `https:` requests have their socket connection upgraded to TLS once\n * the connection to the proxy server has been established.\n *\n * @api public\n */\nclass HttpsProxyAgent extends agent_base_1.Agent {\n    constructor(_opts) {\n        let opts;\n        if (typeof _opts === 'string') {\n            opts = url_1.default.parse(_opts);\n        }\n        else {\n            opts = _opts;\n        }\n        if (!opts) {\n            throw new Error('an HTTP(S) proxy server `host` and `port` must be specified!');\n        }\n        debug('creating new HttpsProxyAgent instance: %o', opts);\n        super(opts);\n        const proxy = Object.assign({}, opts);\n        // If `true`, then connect to the proxy server over TLS.\n        // Defaults to `false`.\n        this.secureProxy = opts.secureProxy || isHTTPS(proxy.protocol);\n        // Prefer `hostname` over `host`, and set the `port` if needed.\n        proxy.host = proxy.hostname || proxy.host;\n        if (typeof proxy.port === 'string') {\n            proxy.port = parseInt(proxy.port, 10);\n        }\n        if (!proxy.port && proxy.host) {\n            proxy.port = this.secureProxy ? 443 : 80;\n        }\n        // ALPN is supported by Node.js >= v5.\n        // attempt to negotiate http/1.1 for proxy servers that support http/2\n        if (this.secureProxy && !('ALPNProtocols' in proxy)) {\n            proxy.ALPNProtocols = ['http 1.1'];\n        }\n        if (proxy.host && proxy.path) {\n            // If both a `host` and `path` are specified then it's most likely\n            // the result of a `url.parse()` call... we need to remove the\n            // `path` portion so that `net.connect()` doesn't attempt to open\n            // that as a Unix socket file.\n            delete proxy.path;\n            delete proxy.pathname;\n        }\n        this.proxy = proxy;\n    }\n    /**\n     * Called when the node-core HTTP client library is creating a\n     * new HTTP request.\n     *\n     * @api protected\n     */\n    callback(req, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { proxy, secureProxy } = this;\n            // Create a socket connection to the proxy server.\n            let socket;\n            if (secureProxy) {\n                debug('Creating `tls.Socket`: %o', proxy);\n                socket = tls_1.default.connect(proxy);\n            }\n            else {\n                debug('Creating `net.Socket`: %o', proxy);\n                socket = net_1.default.connect(proxy);\n            }\n            const headers = Object.assign({}, proxy.headers);\n            const hostname = `${opts.host}:${opts.port}`;\n            let payload = `CONNECT ${hostname} HTTP/1.1\\r\\n`;\n            // Inject the `Proxy-Authorization` header if necessary.\n            if (proxy.auth) {\n                headers['Proxy-Authorization'] = `Basic ${Buffer.from(proxy.auth).toString('base64')}`;\n            }\n            // The `Host` header should only include the port\n            // number when it is not the default port.\n            let { host, port, secureEndpoint } = opts;\n            if (!isDefaultPort(port, secureEndpoint)) {\n                host += `:${port}`;\n            }\n            headers.Host = host;\n            headers.Connection = 'close';\n            for (const name of Object.keys(headers)) {\n                payload += `${name}: ${headers[name]}\\r\\n`;\n            }\n            const proxyResponsePromise = parse_proxy_response_1.default(socket);\n            socket.write(`${payload}\\r\\n`);\n            const { statusCode, buffered } = yield proxyResponsePromise;\n            if (statusCode === 200) {\n                req.once('socket', resume);\n                if (opts.secureEndpoint) {\n                    // The proxy is connecting to a TLS server, so upgrade\n                    // this socket connection to a TLS connection.\n                    debug('Upgrading socket connection to TLS');\n                    const servername = opts.servername || opts.host;\n                    return tls_1.default.connect(Object.assign(Object.assign({}, omit(opts, 'host', 'hostname', 'path', 'port')), { socket,\n                        servername }));\n                }\n                return socket;\n            }\n            // Some other status code that's not 200... need to re-play the HTTP\n            // header \"data\" events onto the socket once the HTTP machinery is\n            // attached so that the node core `http` can parse and handle the\n            // error status code.\n            // Close the original socket, and a new \"fake\" socket is returned\n            // instead, so that the proxy doesn't get the HTTP request\n            // written to it (which may contain `Authorization` headers or other\n            // sensitive data).\n            //\n            // See: https://hackerone.com/reports/541502\n            socket.destroy();\n            const fakeSocket = new net_1.default.Socket({ writable: false });\n            fakeSocket.readable = true;\n            // Need to wait for the \"socket\" event to re-play the \"data\" events.\n            req.once('socket', (s) => {\n                debug('replaying proxy buffer for failed request');\n                assert_1.default(s.listenerCount('data') > 0);\n                // Replay the \"buffered\" Buffer onto the fake `socket`, since at\n                // this point the HTTP module machinery has been hooked up for\n                // the user.\n                s.push(buffered);\n                s.push(null);\n            });\n            return fakeSocket;\n        });\n    }\n}\nexports.default = HttpsProxyAgent;\nfunction resume(socket) {\n    socket.resume();\n}\nfunction isDefaultPort(port, secure) {\n    return Boolean((!secure && port === 80) || (secure && port === 443));\n}\nfunction isHTTPS(protocol) {\n    return typeof protocol === 'string' ? /^https:?$/i.test(protocol) : false;\n}\nfunction omit(obj, ...keys) {\n    const ret = {};\n    let key;\n    for (key in obj) {\n        if (!keys.includes(key)) {\n            ret[key] = obj[key];\n        }\n    }\n    return ret;\n}\n//# sourceMappingURL=agent.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst agent_1 = __importDefault(require(\"./agent\"));\nfunction createHttpsProxyAgent(opts) {\n    return new agent_1.default(opts);\n}\n(function (createHttpsProxyAgent) {\n    createHttpsProxyAgent.HttpsProxyAgent = agent_1.default;\n    createHttpsProxyAgent.prototype = agent_1.default.prototype;\n})(createHttpsProxyAgent || (createHttpsProxyAgent = {}));\nmodule.exports = createHttpsProxyAgent;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = debug_1.default('https-proxy-agent:parse-proxy-response');\nfunction parseProxyResponse(socket) {\n    return new Promise((resolve, reject) => {\n        // we need to buffer any HTTP traffic that happens with the proxy before we get\n        // the CONNECT response, so that if the response is anything other than an \"200\"\n        // response code, then we can re-play the \"data\" events on the socket once the\n        // HTTP parser is hooked up...\n        let buffersLength = 0;\n        const buffers = [];\n        function read() {\n            const b = socket.read();\n            if (b)\n                ondata(b);\n            else\n                socket.once('readable', read);\n        }\n        function cleanup() {\n            socket.removeListener('end', onend);\n            socket.removeListener('error', onerror);\n            socket.removeListener('close', onclose);\n            socket.removeListener('readable', read);\n        }\n        function onclose(err) {\n            debug('onclose had error %o', err);\n        }\n        function onend() {\n            debug('onend');\n        }\n        function onerror(err) {\n            cleanup();\n            debug('onerror %o', err);\n            reject(err);\n        }\n        function ondata(b) {\n            buffers.push(b);\n            buffersLength += b.length;\n            const buffered = Buffer.concat(buffers, buffersLength);\n            const endOfHeaders = buffered.indexOf('\\r\\n\\r\\n');\n            if (endOfHeaders === -1) {\n                // keep buffering\n                debug('have not received end of HTTP headers yet...');\n                read();\n                return;\n            }\n            const firstLine = buffered.toString('ascii', 0, buffered.indexOf('\\r\\n'));\n            const statusCode = +firstLine.split(' ')[1];\n            debug('got proxy server response: %o', firstLine);\n            resolve({\n                statusCode,\n                buffered\n            });\n        }\n        socket.on('error', onerror);\n        socket.on('close', onclose);\n        socket.on('end', onend);\n        read();\n    });\n}\nexports.default = parseProxyResponse;\n//# sourceMappingURL=parse-proxy-response.js.map","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec;\n\nvar UNASSIGNED = -1,\n    GB18030_CODE = -2,\n    SEQ_START  = -10,\n    NODE_START = -1000,\n    UNASSIGNED_NODE = new Array(0x100),\n    DEF_CHAR = -1;\n\nfor (var i = 0; i < 0x100; i++)\n    UNASSIGNED_NODE[i] = UNASSIGNED;\n\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec(codecOptions, iconv) {\n    this.encodingName = codecOptions.encodingName;\n    if (!codecOptions)\n        throw new Error(\"DBCS codec is called without the data.\")\n    if (!codecOptions.table)\n        throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\");\n\n    // Load tables.\n    var mappingTable = codecOptions.table();\n\n\n    // Decode tables: MBCS -> Unicode.\n\n    // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n    // Trie root is decodeTables[0].\n    // Values: >=  0 -> unicode character code. can be > 0xFFFF\n    //         == UNASSIGNED -> unknown/unassigned sequence.\n    //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n    //         <= NODE_START -> index of the next node in our trie to process next byte.\n    //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n    this.decodeTables = [];\n    this.decodeTables[0] = UNASSIGNED_NODE.slice(0); // Create root node.\n\n    // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here. \n    this.decodeTableSeq = [];\n\n    // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n    for (var i = 0; i < mappingTable.length; i++)\n        this._addDecodeChunk(mappingTable[i]);\n\n    // Load & create GB18030 tables when needed.\n    if (typeof codecOptions.gb18030 === 'function') {\n        this.gb18030 = codecOptions.gb18030(); // Load GB18030 ranges.\n\n        // Add GB18030 common decode nodes.\n        var commonThirdByteNodeIdx = this.decodeTables.length;\n        this.decodeTables.push(UNASSIGNED_NODE.slice(0));\n\n        var commonFourthByteNodeIdx = this.decodeTables.length;\n        this.decodeTables.push(UNASSIGNED_NODE.slice(0));\n\n        // Fill out the tree\n        var firstByteNode = this.decodeTables[0];\n        for (var i = 0x81; i <= 0xFE; i++) {\n            var secondByteNode = this.decodeTables[NODE_START - firstByteNode[i]];\n            for (var j = 0x30; j <= 0x39; j++) {\n                if (secondByteNode[j] === UNASSIGNED) {\n                    secondByteNode[j] = NODE_START - commonThirdByteNodeIdx;\n                } else if (secondByteNode[j] > NODE_START) {\n                    throw new Error(\"gb18030 decode tables conflict at byte 2\");\n                }\n\n                var thirdByteNode = this.decodeTables[NODE_START - secondByteNode[j]];\n                for (var k = 0x81; k <= 0xFE; k++) {\n                    if (thirdByteNode[k] === UNASSIGNED) {\n                        thirdByteNode[k] = NODE_START - commonFourthByteNodeIdx;\n                    } else if (thirdByteNode[k] === NODE_START - commonFourthByteNodeIdx) {\n                        continue;\n                    } else if (thirdByteNode[k] > NODE_START) {\n                        throw new Error(\"gb18030 decode tables conflict at byte 3\");\n                    }\n\n                    var fourthByteNode = this.decodeTables[NODE_START - thirdByteNode[k]];\n                    for (var l = 0x30; l <= 0x39; l++) {\n                        if (fourthByteNode[l] === UNASSIGNED)\n                            fourthByteNode[l] = GB18030_CODE;\n                    }\n                }\n            }\n        }\n    }\n\n    this.defaultCharUnicode = iconv.defaultCharUnicode;\n\n    \n    // Encode tables: Unicode -> DBCS.\n\n    // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n    // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n    // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n    //         == UNASSIGNED -> no conversion found. Output a default char.\n    //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n    this.encodeTable = [];\n    \n    // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n    // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n    // means end of sequence (needed when one sequence is a strict subsequence of another).\n    // Objects are kept separately from encodeTable to increase performance.\n    this.encodeTableSeq = [];\n\n    // Some chars can be decoded, but need not be encoded.\n    var skipEncodeChars = {};\n    if (codecOptions.encodeSkipVals)\n        for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n            var val = codecOptions.encodeSkipVals[i];\n            if (typeof val === 'number')\n                skipEncodeChars[val] = true;\n            else\n                for (var j = val.from; j <= val.to; j++)\n                    skipEncodeChars[j] = true;\n        }\n        \n    // Use decode trie to recursively fill out encode tables.\n    this._fillEncodeTable(0, 0, skipEncodeChars);\n\n    // Add more encoding pairs when needed.\n    if (codecOptions.encodeAdd) {\n        for (var uChar in codecOptions.encodeAdd)\n            if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar))\n                this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]);\n    }\n\n    this.defCharSB  = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0]['?'];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0);\n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder;\nDBCSCodec.prototype.decoder = DBCSDecoder;\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function(addr) {\n    var bytes = [];\n    for (; addr > 0; addr >>>= 8)\n        bytes.push(addr & 0xFF);\n    if (bytes.length == 0)\n        bytes.push(0);\n\n    var node = this.decodeTables[0];\n    for (var i = bytes.length-1; i > 0; i--) { // Traverse nodes deeper into the trie.\n        var val = node[bytes[i]];\n\n        if (val == UNASSIGNED) { // Create new node.\n            node[bytes[i]] = NODE_START - this.decodeTables.length;\n            this.decodeTables.push(node = UNASSIGNED_NODE.slice(0));\n        }\n        else if (val <= NODE_START) { // Existing node.\n            node = this.decodeTables[NODE_START - val];\n        }\n        else\n            throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16));\n    }\n    return node;\n}\n\n\nDBCSCodec.prototype._addDecodeChunk = function(chunk) {\n    // First element of chunk is the hex mbcs code where we start.\n    var curAddr = parseInt(chunk[0], 16);\n\n    // Choose the decoding node where we'll write our chars.\n    var writeTable = this._getDecodeTrieNode(curAddr);\n    curAddr = curAddr & 0xFF;\n\n    // Write all other elements of the chunk to the table.\n    for (var k = 1; k < chunk.length; k++) {\n        var part = chunk[k];\n        if (typeof part === \"string\") { // String, write as-is.\n            for (var l = 0; l < part.length;) {\n                var code = part.charCodeAt(l++);\n                if (0xD800 <= code && code < 0xDC00) { // Decode surrogate\n                    var codeTrail = part.charCodeAt(l++);\n                    if (0xDC00 <= codeTrail && codeTrail < 0xE000)\n                        writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00);\n                    else\n                        throw new Error(\"Incorrect surrogate pair in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n                }\n                else if (0x0FF0 < code && code <= 0x0FFF) { // Character sequence (our own encoding used)\n                    var len = 0xFFF - code + 2;\n                    var seq = [];\n                    for (var m = 0; m < len; m++)\n                        seq.push(part.charCodeAt(l++)); // Simple variation: don't support surrogates or subsequences in seq.\n\n                    writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length;\n                    this.decodeTableSeq.push(seq);\n                }\n                else\n                    writeTable[curAddr++] = code; // Basic char\n            }\n        } \n        else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n            var charCode = writeTable[curAddr - 1] + 1;\n            for (var l = 0; l < part; l++)\n                writeTable[curAddr++] = charCode++;\n        }\n        else\n            throw new Error(\"Incorrect type '\" + typeof part + \"' given in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n    }\n    if (curAddr > 0xFF)\n        throw new Error(\"Incorrect chunk in \"  + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr);\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function(uCode) {\n    var high = uCode >> 8; // This could be > 0xFF because of astral characters.\n    if (this.encodeTable[high] === undefined)\n        this.encodeTable[high] = UNASSIGNED_NODE.slice(0); // Create bucket on demand.\n    return this.encodeTable[high];\n}\n\nDBCSCodec.prototype._setEncodeChar = function(uCode, dbcsCode) {\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n    if (bucket[low] <= SEQ_START)\n        this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR] = dbcsCode; // There's already a sequence, set a single-char subsequence of it.\n    else if (bucket[low] == UNASSIGNED)\n        bucket[low] = dbcsCode;\n}\n\nDBCSCodec.prototype._setEncodeSequence = function(seq, dbcsCode) {\n    \n    // Get the root of character tree according to first character of the sequence.\n    var uCode = seq[0];\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n\n    var node;\n    if (bucket[low] <= SEQ_START) {\n        // There's already a sequence with  - use it.\n        node = this.encodeTableSeq[SEQ_START-bucket[low]];\n    }\n    else {\n        // There was no sequence object - allocate a new one.\n        node = {};\n        if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low]; // If a char was set before - make it a single-char subsequence.\n        bucket[low] = SEQ_START - this.encodeTableSeq.length;\n        this.encodeTableSeq.push(node);\n    }\n\n    // Traverse the character tree, allocating new nodes as needed.\n    for (var j = 1; j < seq.length-1; j++) {\n        var oldVal = node[uCode];\n        if (typeof oldVal === 'object')\n            node = oldVal;\n        else {\n            node = node[uCode] = {}\n            if (oldVal !== undefined)\n                node[DEF_CHAR] = oldVal\n        }\n    }\n\n    // Set the leaf to given dbcsCode.\n    uCode = seq[seq.length-1];\n    node[uCode] = dbcsCode;\n}\n\nDBCSCodec.prototype._fillEncodeTable = function(nodeIdx, prefix, skipEncodeChars) {\n    var node = this.decodeTables[nodeIdx];\n    var hasValues = false;\n    var subNodeEmpty = {};\n    for (var i = 0; i < 0x100; i++) {\n        var uCode = node[i];\n        var mbCode = prefix + i;\n        if (skipEncodeChars[mbCode])\n            continue;\n\n        if (uCode >= 0) {\n            this._setEncodeChar(uCode, mbCode);\n            hasValues = true;\n        } else if (uCode <= NODE_START) {\n            var subNodeIdx = NODE_START - uCode;\n            if (!subNodeEmpty[subNodeIdx]) {  // Skip empty subtrees (they are too large in gb18030).\n                var newPrefix = (mbCode << 8) >>> 0;  // NOTE: '>>> 0' keeps 32-bit num positive.\n                if (this._fillEncodeTable(subNodeIdx, newPrefix, skipEncodeChars))\n                    hasValues = true;\n                else\n                    subNodeEmpty[subNodeIdx] = true;\n            }\n        } else if (uCode <= SEQ_START) {\n            this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode);\n            hasValues = true;\n        }\n    }\n    return hasValues;\n}\n\n\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder(options, codec) {\n    // Encoder state\n    this.leadSurrogate = -1;\n    this.seqObj = undefined;\n    \n    // Static data\n    this.encodeTable = codec.encodeTable;\n    this.encodeTableSeq = codec.encodeTableSeq;\n    this.defaultCharSingleByte = codec.defCharSB;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSEncoder.prototype.write = function(str) {\n    var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3)),\n        leadSurrogate = this.leadSurrogate,\n        seqObj = this.seqObj, nextChar = -1,\n        i = 0, j = 0;\n\n    while (true) {\n        // 0. Get next character.\n        if (nextChar === -1) {\n            if (i == str.length) break;\n            var uCode = str.charCodeAt(i++);\n        }\n        else {\n            var uCode = nextChar;\n            nextChar = -1;    \n        }\n\n        // 1. Handle surrogates.\n        if (0xD800 <= uCode && uCode < 0xE000) { // Char is one of surrogates.\n            if (uCode < 0xDC00) { // We've got lead surrogate.\n                if (leadSurrogate === -1) {\n                    leadSurrogate = uCode;\n                    continue;\n                } else {\n                    leadSurrogate = uCode;\n                    // Double lead surrogate found.\n                    uCode = UNASSIGNED;\n                }\n            } else { // We've got trail surrogate.\n                if (leadSurrogate !== -1) {\n                    uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00);\n                    leadSurrogate = -1;\n                } else {\n                    // Incomplete surrogate pair - only trail surrogate found.\n                    uCode = UNASSIGNED;\n                }\n                \n            }\n        }\n        else if (leadSurrogate !== -1) {\n            // Incomplete surrogate pair - only lead surrogate found.\n            nextChar = uCode; uCode = UNASSIGNED; // Write an error, then current char.\n            leadSurrogate = -1;\n        }\n\n        // 2. Convert uCode character.\n        var dbcsCode = UNASSIGNED;\n        if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n            var resCode = seqObj[uCode];\n            if (typeof resCode === 'object') { // Sequence continues.\n                seqObj = resCode;\n                continue;\n\n            } else if (typeof resCode == 'number') { // Sequence finished. Write it.\n                dbcsCode = resCode;\n\n            } else if (resCode == undefined) { // Current character is not part of the sequence.\n\n                // Try default character for this sequence\n                resCode = seqObj[DEF_CHAR];\n                if (resCode !== undefined) {\n                    dbcsCode = resCode; // Found. Write it.\n                    nextChar = uCode; // Current character will be written too in the next iteration.\n\n                } else {\n                    // TODO: What if we have no default? (resCode == undefined)\n                    // Then, we should write first char of the sequence as-is and try the rest recursively.\n                    // Didn't do it for now because no encoding has this situation yet.\n                    // Currently, just skip the sequence and write current char.\n                }\n            }\n            seqObj = undefined;\n        }\n        else if (uCode >= 0) {  // Regular character\n            var subtable = this.encodeTable[uCode >> 8];\n            if (subtable !== undefined)\n                dbcsCode = subtable[uCode & 0xFF];\n            \n            if (dbcsCode <= SEQ_START) { // Sequence start\n                seqObj = this.encodeTableSeq[SEQ_START-dbcsCode];\n                continue;\n            }\n\n            if (dbcsCode == UNASSIGNED && this.gb18030) {\n                // Use GB18030 algorithm to find character(s) to write.\n                var idx = findIdx(this.gb18030.uChars, uCode);\n                if (idx != -1) {\n                    var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx]);\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600;\n                    newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260;\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10;\n                    newBuf[j++] = 0x30 + dbcsCode;\n                    continue;\n                }\n            }\n        }\n\n        // 3. Write dbcsCode character.\n        if (dbcsCode === UNASSIGNED)\n            dbcsCode = this.defaultCharSingleByte;\n        \n        if (dbcsCode < 0x100) {\n            newBuf[j++] = dbcsCode;\n        }\n        else if (dbcsCode < 0x10000) {\n            newBuf[j++] = dbcsCode >> 8;   // high byte\n            newBuf[j++] = dbcsCode & 0xFF; // low byte\n        }\n        else if (dbcsCode < 0x1000000) {\n            newBuf[j++] = dbcsCode >> 16;\n            newBuf[j++] = (dbcsCode >> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        } else {\n            newBuf[j++] = dbcsCode >>> 24;\n            newBuf[j++] = (dbcsCode >>> 16) & 0xFF;\n            newBuf[j++] = (dbcsCode >>> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        }\n    }\n\n    this.seqObj = seqObj;\n    this.leadSurrogate = leadSurrogate;\n    return newBuf.slice(0, j);\n}\n\nDBCSEncoder.prototype.end = function() {\n    if (this.leadSurrogate === -1 && this.seqObj === undefined)\n        return; // All clean. Most often case.\n\n    var newBuf = Buffer.alloc(10), j = 0;\n\n    if (this.seqObj) { // We're in the sequence.\n        var dbcsCode = this.seqObj[DEF_CHAR];\n        if (dbcsCode !== undefined) { // Write beginning of the sequence.\n            if (dbcsCode < 0x100) {\n                newBuf[j++] = dbcsCode;\n            }\n            else {\n                newBuf[j++] = dbcsCode >> 8;   // high byte\n                newBuf[j++] = dbcsCode & 0xFF; // low byte\n            }\n        } else {\n            // See todo above.\n        }\n        this.seqObj = undefined;\n    }\n\n    if (this.leadSurrogate !== -1) {\n        // Incomplete surrogate pair - only lead surrogate found.\n        newBuf[j++] = this.defaultCharSingleByte;\n        this.leadSurrogate = -1;\n    }\n    \n    return newBuf.slice(0, j);\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx;\n\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder(options, codec) {\n    // Decoder state\n    this.nodeIdx = 0;\n    this.prevBytes = [];\n\n    // Static data\n    this.decodeTables = codec.decodeTables;\n    this.decodeTableSeq = codec.decodeTableSeq;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSDecoder.prototype.write = function(buf) {\n    var newBuf = Buffer.alloc(buf.length*2),\n        nodeIdx = this.nodeIdx, \n        prevBytes = this.prevBytes, prevOffset = this.prevBytes.length,\n        seqStart = -this.prevBytes.length, // idx of the start of current parsed sequence.\n        uCode;\n\n    for (var i = 0, j = 0; i < buf.length; i++) {\n        var curByte = (i >= 0) ? buf[i] : prevBytes[i + prevOffset];\n\n        // Lookup in current trie node.\n        var uCode = this.decodeTables[nodeIdx][curByte];\n\n        if (uCode >= 0) { \n            // Normal character, just use it.\n        }\n        else if (uCode === UNASSIGNED) { // Unknown char.\n            // TODO: Callback with seq.\n            uCode = this.defaultCharUnicode.charCodeAt(0);\n            i = seqStart; // Skip one byte ('i' will be incremented by the for loop) and try to parse again.\n        }\n        else if (uCode === GB18030_CODE) {\n            if (i >= 3) {\n                var ptr = (buf[i-3]-0x81)*12600 + (buf[i-2]-0x30)*1260 + (buf[i-1]-0x81)*10 + (curByte-0x30);\n            } else {\n                var ptr = (prevBytes[i-3+prevOffset]-0x81)*12600 + \n                          (((i-2 >= 0) ? buf[i-2] : prevBytes[i-2+prevOffset])-0x30)*1260 + \n                          (((i-1 >= 0) ? buf[i-1] : prevBytes[i-1+prevOffset])-0x81)*10 + \n                          (curByte-0x30);\n            }\n            var idx = findIdx(this.gb18030.gbChars, ptr);\n            uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx];\n        }\n        else if (uCode <= NODE_START) { // Go to next trie node.\n            nodeIdx = NODE_START - uCode;\n            continue;\n        }\n        else if (uCode <= SEQ_START) { // Output a sequence of chars.\n            var seq = this.decodeTableSeq[SEQ_START - uCode];\n            for (var k = 0; k < seq.length - 1; k++) {\n                uCode = seq[k];\n                newBuf[j++] = uCode & 0xFF;\n                newBuf[j++] = uCode >> 8;\n            }\n            uCode = seq[seq.length-1];\n        }\n        else\n            throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte);\n\n        // Write the character to buffer, handling higher planes using surrogate pair.\n        if (uCode >= 0x10000) { \n            uCode -= 0x10000;\n            var uCodeLead = 0xD800 | (uCode >> 10);\n            newBuf[j++] = uCodeLead & 0xFF;\n            newBuf[j++] = uCodeLead >> 8;\n\n            uCode = 0xDC00 | (uCode & 0x3FF);\n        }\n        newBuf[j++] = uCode & 0xFF;\n        newBuf[j++] = uCode >> 8;\n\n        // Reset trie node.\n        nodeIdx = 0; seqStart = i+1;\n    }\n\n    this.nodeIdx = nodeIdx;\n    this.prevBytes = (seqStart >= 0)\n        ? Array.prototype.slice.call(buf, seqStart)\n        : prevBytes.slice(seqStart + prevOffset).concat(Array.prototype.slice.call(buf));\n\n    return newBuf.slice(0, j).toString('ucs2');\n}\n\nDBCSDecoder.prototype.end = function() {\n    var ret = '';\n\n    // Try to parse all remaining chars.\n    while (this.prevBytes.length > 0) {\n        // Skip 1 character in the buffer.\n        ret += this.defaultCharUnicode;\n        var bytesArr = this.prevBytes.slice(1);\n\n        // Parse remaining as usual.\n        this.prevBytes = [];\n        this.nodeIdx = 0;\n        if (bytesArr.length > 0)\n            ret += this.write(bytesArr);\n    }\n\n    this.prevBytes = [];\n    this.nodeIdx = 0;\n    return ret;\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx(table, val) {\n    if (table[0] > val)\n        return -1;\n\n    var l = 0, r = table.length;\n    while (l < r-1) { // always table[l] <= val < table[r]\n        var mid = l + ((r-l+1) >> 1);\n        if (table[mid] <= val)\n            l = mid;\n        else\n            r = mid;\n    }\n    return l;\n}\n\n","\"use strict\";\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n    \n    // == Japanese/ShiftJIS ====================================================\n    // All japanese encodings are based on JIS X set of standards:\n    // JIS X 0201 - Single-byte encoding of ASCII +  + Kana chars at 0xA1-0xDF.\n    // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes. \n    //              Has several variations in 1978, 1983, 1990 and 1997.\n    // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n    // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n    //              2 planes, first is superset of 0208, second - revised 0212.\n    //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n    // Byte encodings are:\n    //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n    //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n    //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n    //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n    //               0x00-0x7F       - lower part of 0201\n    //               0x8E, 0xA1-0xDF - upper part of 0201\n    //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n    //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n    //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n    //               Used as-is in ISO2022 family.\n    //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII, \n    //                0201-1976 Roman, 0208-1978, 0208-1983.\n    //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n    //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n    //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n    //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n    //\n    // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n    //\n    // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n    'shiftjis': {\n        type: '_dbcs',\n        table: function() { return require('./tables/shiftjis.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n        encodeSkipVals: [{from: 0xED40, to: 0xF940}],\n    },\n    'csshiftjis': 'shiftjis',\n    'mskanji': 'shiftjis',\n    'sjis': 'shiftjis',\n    'windows31j': 'shiftjis',\n    'ms31j': 'shiftjis',\n    'xsjis': 'shiftjis',\n    'windows932': 'shiftjis',\n    'ms932': 'shiftjis',\n    '932': 'shiftjis',\n    'cp932': 'shiftjis',\n\n    'eucjp': {\n        type: '_dbcs',\n        table: function() { return require('./tables/eucjp.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n    },\n\n    // TODO: KDDI extension to Shift_JIS\n    // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n    // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n\n    // == Chinese/GBK ==========================================================\n    // http://en.wikipedia.org/wiki/GBK\n    // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n    // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n    'gb2312': 'cp936',\n    'gb231280': 'cp936',\n    'gb23121980': 'cp936',\n    'csgb2312': 'cp936',\n    'csiso58gb231280': 'cp936',\n    'euccn': 'cp936',\n\n    // Microsoft's CP936 is a subset and approximation of GBK.\n    'windows936': 'cp936',\n    'ms936': 'cp936',\n    '936': 'cp936',\n    'cp936': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json') },\n    },\n\n    // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n    'gbk': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n    },\n    'xgbk': 'gbk',\n    'isoir58': 'gbk',\n\n    // GB18030 is an algorithmic extension of GBK.\n    // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n    // http://icu-project.org/docs/papers/gb18030.html\n    // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n    // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n    'gb18030': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n        gb18030: function() { return require('./tables/gb18030-ranges.json') },\n        encodeSkipVals: [0x80],\n        encodeAdd: {'': 0xA2E3},\n    },\n\n    'chinese': 'gb18030',\n\n\n    // == Korean ===============================================================\n    // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n    'windows949': 'cp949',\n    'ms949': 'cp949',\n    '949': 'cp949',\n    'cp949': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp949.json') },\n    },\n\n    'cseuckr': 'cp949',\n    'csksc56011987': 'cp949',\n    'euckr': 'cp949',\n    'isoir149': 'cp949',\n    'korean': 'cp949',\n    'ksc56011987': 'cp949',\n    'ksc56011989': 'cp949',\n    'ksc5601': 'cp949',\n\n\n    // == Big5/Taiwan/Hong Kong ================================================\n    // There are lots of tables for Big5 and cp950. Please see the following links for history:\n    // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n    // Variations, in roughly number of defined chars:\n    //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n    //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n    //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n    //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n    //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard. \n    //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n    //    Plus, it has 4 combining sequences.\n    //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n    //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n    //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n    //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n    //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n    //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n    //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n    //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n    // \n    // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n    // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n    'windows950': 'cp950',\n    'ms950': 'cp950',\n    '950': 'cp950',\n    'cp950': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json') },\n    },\n\n    // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n    'big5': 'big5hkscs',\n    'big5hkscs': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json').concat(require('./tables/big5-added.json')) },\n        encodeSkipVals: [\n            // Although Encoding Standard says we should avoid encoding to HKSCS area (See Step 1 of\n            // https://encoding.spec.whatwg.org/#index-big5-pointer), we still do it to increase compatibility with ICU.\n            // But if a single unicode point can be encoded both as HKSCS and regular Big5, we prefer the latter.\n            0x8e69, 0x8e6f, 0x8e7e, 0x8eab, 0x8eb4, 0x8ecd, 0x8ed0, 0x8f57, 0x8f69, 0x8f6e, 0x8fcb, 0x8ffe,\n            0x906d, 0x907a, 0x90c4, 0x90dc, 0x90f1, 0x91bf, 0x92af, 0x92b0, 0x92b1, 0x92b2, 0x92d1, 0x9447, 0x94ca,\n            0x95d9, 0x96fc, 0x9975, 0x9b76, 0x9b78, 0x9b7b, 0x9bc6, 0x9bde, 0x9bec, 0x9bf6, 0x9c42, 0x9c53, 0x9c62,\n            0x9c68, 0x9c6b, 0x9c77, 0x9cbc, 0x9cbd, 0x9cd0, 0x9d57, 0x9d5a, 0x9dc4, 0x9def, 0x9dfb, 0x9ea9, 0x9eef,\n            0x9efd, 0x9f60, 0x9fcb, 0xa077, 0xa0dc, 0xa0df, 0x8fcc, 0x92c8, 0x9644, 0x96ed,\n\n            // Step 2 of https://encoding.spec.whatwg.org/#index-big5-pointer: Use last pointer for U+2550, U+255E, U+2561, U+256A, U+5341, or U+5345\n            0xa2a4, 0xa2a5, 0xa2a7, 0xa2a6, 0xa2cc, 0xa2ce,\n        ],\n    },\n\n    'cnbig5': 'big5hkscs',\n    'csbig5': 'big5hkscs',\n    'xxbig5': 'big5hkscs',\n};\n","\"use strict\";\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n    require(\"./internal\"),\n    require(\"./utf32\"),\n    require(\"./utf16\"),\n    require(\"./utf7\"),\n    require(\"./sbcs-codec\"),\n    require(\"./sbcs-data\"),\n    require(\"./sbcs-data-generated\"),\n    require(\"./dbcs-codec\"),\n    require(\"./dbcs-data\"),\n];\n\n// Put all encoding/alias/codec definitions to single object and export it.\nfor (var i = 0; i < modules.length; i++) {\n    var module = modules[i];\n    for (var enc in module)\n        if (Object.prototype.hasOwnProperty.call(module, enc))\n            exports[enc] = module[enc];\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n    // Encodings\n    utf8:   { type: \"_internal\", bomAware: true},\n    cesu8:  { type: \"_internal\", bomAware: true},\n    unicode11utf8: \"utf8\",\n\n    ucs2:   { type: \"_internal\", bomAware: true},\n    utf16le: \"ucs2\",\n\n    binary: { type: \"_internal\" },\n    base64: { type: \"_internal\" },\n    hex:    { type: \"_internal\" },\n\n    // Codec.\n    _internal: InternalCodec,\n};\n\n//------------------------------------------------------------------------------\n\nfunction InternalCodec(codecOptions, iconv) {\n    this.enc = codecOptions.encodingName;\n    this.bomAware = codecOptions.bomAware;\n\n    if (this.enc === \"base64\")\n        this.encoder = InternalEncoderBase64;\n    else if (this.enc === \"cesu8\") {\n        this.enc = \"utf8\"; // Use utf8 for decoding.\n        this.encoder = InternalEncoderCesu8;\n\n        // Add decoder for versions of Node not supporting CESU-8\n        if (Buffer.from('eda0bdedb2a9', 'hex').toString() !== '') {\n            this.decoder = InternalDecoderCesu8;\n            this.defaultCharUnicode = iconv.defaultCharUnicode;\n        }\n    }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder;\nInternalCodec.prototype.decoder = InternalDecoder;\n\n//------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nif (!StringDecoder.prototype.end) // Node v0.8 doesn't have this method.\n    StringDecoder.prototype.end = function() {};\n\n\nfunction InternalDecoder(options, codec) {\n    this.decoder = new StringDecoder(codec.enc);\n}\n\nInternalDecoder.prototype.write = function(buf) {\n    if (!Buffer.isBuffer(buf)) {\n        buf = Buffer.from(buf);\n    }\n\n    return this.decoder.write(buf);\n}\n\nInternalDecoder.prototype.end = function() {\n    return this.decoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder(options, codec) {\n    this.enc = codec.enc;\n}\n\nInternalEncoder.prototype.write = function(str) {\n    return Buffer.from(str, this.enc);\n}\n\nInternalEncoder.prototype.end = function() {\n}\n\n\n//------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64(options, codec) {\n    this.prevStr = '';\n}\n\nInternalEncoderBase64.prototype.write = function(str) {\n    str = this.prevStr + str;\n    var completeQuads = str.length - (str.length % 4);\n    this.prevStr = str.slice(completeQuads);\n    str = str.slice(0, completeQuads);\n\n    return Buffer.from(str, \"base64\");\n}\n\nInternalEncoderBase64.prototype.end = function() {\n    return Buffer.from(this.prevStr, \"base64\");\n}\n\n\n//------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8(options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length * 3), bufIdx = 0;\n    for (var i = 0; i < str.length; i++) {\n        var charCode = str.charCodeAt(i);\n        // Naive implementation, but it works because CESU-8 is especially easy\n        // to convert from UTF-16 (which all JS strings are encoded in).\n        if (charCode < 0x80)\n            buf[bufIdx++] = charCode;\n        else if (charCode < 0x800) {\n            buf[bufIdx++] = 0xC0 + (charCode >>> 6);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n        else { // charCode will always be < 0x10000 in javascript.\n            buf[bufIdx++] = 0xE0 + (charCode >>> 12);\n            buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n    }\n    return buf.slice(0, bufIdx);\n}\n\nInternalEncoderCesu8.prototype.end = function() {\n}\n\n//------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8(options, codec) {\n    this.acc = 0;\n    this.contBytes = 0;\n    this.accBytes = 0;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n}\n\nInternalDecoderCesu8.prototype.write = function(buf) {\n    var acc = this.acc, contBytes = this.contBytes, accBytes = this.accBytes, \n        res = '';\n    for (var i = 0; i < buf.length; i++) {\n        var curByte = buf[i];\n        if ((curByte & 0xC0) !== 0x80) { // Leading byte\n            if (contBytes > 0) { // Previous code is invalid\n                res += this.defaultCharUnicode;\n                contBytes = 0;\n            }\n\n            if (curByte < 0x80) { // Single-byte code\n                res += String.fromCharCode(curByte);\n            } else if (curByte < 0xE0) { // Two-byte code\n                acc = curByte & 0x1F;\n                contBytes = 1; accBytes = 1;\n            } else if (curByte < 0xF0) { // Three-byte code\n                acc = curByte & 0x0F;\n                contBytes = 2; accBytes = 1;\n            } else { // Four or more are not supported for CESU-8.\n                res += this.defaultCharUnicode;\n            }\n        } else { // Continuation byte\n            if (contBytes > 0) { // We're waiting for it.\n                acc = (acc << 6) | (curByte & 0x3f);\n                contBytes--; accBytes++;\n                if (contBytes === 0) {\n                    // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n                    if (accBytes === 2 && acc < 0x80 && acc > 0)\n                        res += this.defaultCharUnicode;\n                    else if (accBytes === 3 && acc < 0x800)\n                        res += this.defaultCharUnicode;\n                    else\n                        // Actually add character.\n                        res += String.fromCharCode(acc);\n                }\n            } else { // Unexpected continuation byte\n                res += this.defaultCharUnicode;\n            }\n        }\n    }\n    this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes;\n    return res;\n}\n\nInternalDecoderCesu8.prototype.end = function() {\n    var res = 0;\n    if (this.contBytes > 0)\n        res += this.defaultCharUnicode;\n    return res;\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII). \n\nexports._sbcs = SBCSCodec;\nfunction SBCSCodec(codecOptions, iconv) {\n    if (!codecOptions)\n        throw new Error(\"SBCS codec is called without the data.\")\n    \n    // Prepare char buffer for decoding.\n    if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256))\n        throw new Error(\"Encoding '\"+codecOptions.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");\n    \n    if (codecOptions.chars.length === 128) {\n        var asciiString = \"\";\n        for (var i = 0; i < 128; i++)\n            asciiString += String.fromCharCode(i);\n        codecOptions.chars = asciiString + codecOptions.chars;\n    }\n\n    this.decodeBuf = Buffer.from(codecOptions.chars, 'ucs2');\n    \n    // Encoding buffer.\n    var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0));\n\n    for (var i = 0; i < codecOptions.chars.length; i++)\n        encodeBuf[codecOptions.chars.charCodeAt(i)] = i;\n\n    this.encodeBuf = encodeBuf;\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder;\nSBCSCodec.prototype.decoder = SBCSDecoder;\n\n\nfunction SBCSEncoder(options, codec) {\n    this.encodeBuf = codec.encodeBuf;\n}\n\nSBCSEncoder.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length);\n    for (var i = 0; i < str.length; i++)\n        buf[i] = this.encodeBuf[str.charCodeAt(i)];\n    \n    return buf;\n}\n\nSBCSEncoder.prototype.end = function() {\n}\n\n\nfunction SBCSDecoder(options, codec) {\n    this.decodeBuf = codec.decodeBuf;\n}\n\nSBCSDecoder.prototype.write = function(buf) {\n    // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n    var decodeBuf = this.decodeBuf;\n    var newBuf = Buffer.alloc(buf.length*2);\n    var idx1 = 0, idx2 = 0;\n    for (var i = 0; i < buf.length; i++) {\n        idx1 = buf[i]*2; idx2 = i*2;\n        newBuf[idx2] = decodeBuf[idx1];\n        newBuf[idx2+1] = decodeBuf[idx1+1];\n    }\n    return newBuf.toString('ucs2');\n}\n\nSBCSDecoder.prototype.end = function() {\n}\n","\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \")(.,-\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0003\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0003\\u0004\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0015\\u0016\\u0017\\u0018\\u001a\\u001b\\u001c\\u001d\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  }\n}","\"use strict\";\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n    // Not supported by iconv, not sure why.\n    \"10029\": \"maccenteuro\",\n    \"maccenteuro\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"808\": \"cp808\",\n    \"ibm808\": \"cp808\",\n    \"cp808\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"mik\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"cp720\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\\x80\\x81\\x84\\x86\\x8d\\x8e\\x8f\\x90\\u0651\\u0652\\u064b\\u064c\\u064d\\u064e\\u064f\\u0650\\u00a0\"\n    },\n\n    // Aliases of generated encodings.\n    \"ascii8bit\": \"ascii\",\n    \"usascii\": \"ascii\",\n    \"ansix34\": \"ascii\",\n    \"ansix341968\": \"ascii\",\n    \"ansix341986\": \"ascii\",\n    \"csascii\": \"ascii\",\n    \"cp367\": \"ascii\",\n    \"ibm367\": \"ascii\",\n    \"isoir6\": \"ascii\",\n    \"iso646us\": \"ascii\",\n    \"iso646irv\": \"ascii\",\n    \"us\": \"ascii\",\n\n    \"latin1\": \"iso88591\",\n    \"latin2\": \"iso88592\",\n    \"latin3\": \"iso88593\",\n    \"latin4\": \"iso88594\",\n    \"latin5\": \"iso88599\",\n    \"latin6\": \"iso885910\",\n    \"latin7\": \"iso885913\",\n    \"latin8\": \"iso885914\",\n    \"latin9\": \"iso885915\",\n    \"latin10\": \"iso885916\",\n\n    \"csisolatin1\": \"iso88591\",\n    \"csisolatin2\": \"iso88592\",\n    \"csisolatin3\": \"iso88593\",\n    \"csisolatin4\": \"iso88594\",\n    \"csisolatincyrillic\": \"iso88595\",\n    \"csisolatinarabic\": \"iso88596\",\n    \"csisolatingreek\" : \"iso88597\",\n    \"csisolatinhebrew\": \"iso88598\",\n    \"csisolatin5\": \"iso88599\",\n    \"csisolatin6\": \"iso885910\",\n\n    \"l1\": \"iso88591\",\n    \"l2\": \"iso88592\",\n    \"l3\": \"iso88593\",\n    \"l4\": \"iso88594\",\n    \"l5\": \"iso88599\",\n    \"l6\": \"iso885910\",\n    \"l7\": \"iso885913\",\n    \"l8\": \"iso885914\",\n    \"l9\": \"iso885915\",\n    \"l10\": \"iso885916\",\n\n    \"isoir14\": \"iso646jp\",\n    \"isoir57\": \"iso646cn\",\n    \"isoir100\": \"iso88591\",\n    \"isoir101\": \"iso88592\",\n    \"isoir109\": \"iso88593\",\n    \"isoir110\": \"iso88594\",\n    \"isoir144\": \"iso88595\",\n    \"isoir127\": \"iso88596\",\n    \"isoir126\": \"iso88597\",\n    \"isoir138\": \"iso88598\",\n    \"isoir148\": \"iso88599\",\n    \"isoir157\": \"iso885910\",\n    \"isoir166\": \"tis620\",\n    \"isoir179\": \"iso885913\",\n    \"isoir199\": \"iso885914\",\n    \"isoir203\": \"iso885915\",\n    \"isoir226\": \"iso885916\",\n\n    \"cp819\": \"iso88591\",\n    \"ibm819\": \"iso88591\",\n\n    \"cyrillic\": \"iso88595\",\n\n    \"arabic\": \"iso88596\",\n    \"arabic8\": \"iso88596\",\n    \"ecma114\": \"iso88596\",\n    \"asmo708\": \"iso88596\",\n\n    \"greek\" : \"iso88597\",\n    \"greek8\" : \"iso88597\",\n    \"ecma118\" : \"iso88597\",\n    \"elot928\" : \"iso88597\",\n\n    \"hebrew\": \"iso88598\",\n    \"hebrew8\": \"iso88598\",\n\n    \"turkish\": \"iso88599\",\n    \"turkish8\": \"iso88599\",\n\n    \"thai\": \"iso885911\",\n    \"thai8\": \"iso885911\",\n\n    \"celtic\": \"iso885914\",\n    \"celtic8\": \"iso885914\",\n    \"isoceltic\": \"iso885914\",\n\n    \"tis6200\": \"tis620\",\n    \"tis62025291\": \"tis620\",\n    \"tis62025330\": \"tis620\",\n\n    \"10000\": \"macroman\",\n    \"10006\": \"macgreek\",\n    \"10007\": \"maccyrillic\",\n    \"10079\": \"maciceland\",\n    \"10081\": \"macturkish\",\n\n    \"cspc8codepage437\": \"cp437\",\n    \"cspc775baltic\": \"cp775\",\n    \"cspc850multilingual\": \"cp850\",\n    \"cspcp852\": \"cp852\",\n    \"cspc862latinhebrew\": \"cp862\",\n    \"cpgr\": \"cp869\",\n\n    \"msee\": \"cp1250\",\n    \"mscyrl\": \"cp1251\",\n    \"msansi\": \"cp1252\",\n    \"msgreek\": \"cp1253\",\n    \"msturk\": \"cp1254\",\n    \"mshebr\": \"cp1255\",\n    \"msarab\": \"cp1256\",\n    \"winbaltrim\": \"cp1257\",\n\n    \"cp20866\": \"koi8r\",\n    \"20866\": \"koi8r\",\n    \"ibm878\": \"koi8r\",\n    \"cskoi8r\": \"koi8r\",\n\n    \"cp21866\": \"koi8u\",\n    \"21866\": \"koi8u\",\n    \"ibm1168\": \"koi8u\",\n\n    \"strk10482002\": \"rk1048\",\n\n    \"tcvn5712\": \"tcvn\",\n    \"tcvn57121\": \"tcvn\",\n\n    \"gb198880\": \"iso646cn\",\n    \"cn\": \"iso646cn\",\n\n    \"csiso14jisc6220ro\": \"iso646jp\",\n    \"jisc62201969ro\": \"iso646jp\",\n    \"jp\": \"iso646jp\",\n\n    \"cshproman8\": \"hproman8\",\n    \"r8\": \"hproman8\",\n    \"roman8\": \"hproman8\",\n    \"xroman8\": \"hproman8\",\n    \"ibm1051\": \"hproman8\",\n\n    \"mac\": \"macintosh\",\n    \"csmacintosh\": \"macintosh\",\n};\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec;\nfunction Utf16BECodec() {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder;\nUtf16BECodec.prototype.decoder = Utf16BEDecoder;\nUtf16BECodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf16BEEncoder() {\n}\n\nUtf16BEEncoder.prototype.write = function(str) {\n    var buf = Buffer.from(str, 'ucs2');\n    for (var i = 0; i < buf.length; i += 2) {\n        var tmp = buf[i]; buf[i] = buf[i+1]; buf[i+1] = tmp;\n    }\n    return buf;\n}\n\nUtf16BEEncoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf16BEDecoder() {\n    this.overflowByte = -1;\n}\n\nUtf16BEDecoder.prototype.write = function(buf) {\n    if (buf.length == 0)\n        return '';\n\n    var buf2 = Buffer.alloc(buf.length + 1),\n        i = 0, j = 0;\n\n    if (this.overflowByte !== -1) {\n        buf2[0] = buf[0];\n        buf2[1] = this.overflowByte;\n        i = 1; j = 2;\n    }\n\n    for (; i < buf.length-1; i += 2, j+= 2) {\n        buf2[j] = buf[i+1];\n        buf2[j+1] = buf[i];\n    }\n\n    this.overflowByte = (i == buf.length-1) ? buf[buf.length-1] : -1;\n\n    return buf2.slice(0, j).toString('ucs2');\n}\n\nUtf16BEDecoder.prototype.end = function() {\n    this.overflowByte = -1;\n}\n\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec;\nfunction Utf16Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder;\nUtf16Codec.prototype.decoder = Utf16Decoder;\n\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder(options, codec) {\n    options = options || {};\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n    this.encoder = codec.iconv.getEncoder('utf-16le', options);\n}\n\nUtf16Encoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n}\n\nUtf16Encoder.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n// -- Decoding\n\nfunction Utf16Decoder(options, codec) {\n    this.decoder = null;\n    this.initialBufs = [];\n    this.initialBufsLen = 0;\n\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf16Decoder.prototype.write = function(buf) {\n    if (!this.decoder) {\n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBufs.push(buf);\n        this.initialBufsLen += buf.length;\n        \n        if (this.initialBufsLen < 16) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.write(buf);\n}\n\nUtf16Decoder.prototype.end = function() {\n    if (!this.decoder) {\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        var trail = this.decoder.end();\n        if (trail)\n            resStr += trail;\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n    return this.decoder.end();\n}\n\nfunction detectEncoding(bufs, defaultEncoding) {\n    var b = [];\n    var charsProcessed = 0;\n    var asciiCharsLE = 0, asciiCharsBE = 0; // Number of ASCII chars when decoded as LE or BE.\n\n    outer_loop:\n    for (var i = 0; i < bufs.length; i++) {\n        var buf = bufs[i];\n        for (var j = 0; j < buf.length; j++) {\n            b.push(buf[j]);\n            if (b.length === 2) {\n                if (charsProcessed === 0) {\n                    // Check BOM first.\n                    if (b[0] === 0xFF && b[1] === 0xFE) return 'utf-16le';\n                    if (b[0] === 0xFE && b[1] === 0xFF) return 'utf-16be';\n                }\n\n                if (b[0] === 0 && b[1] !== 0) asciiCharsBE++;\n                if (b[0] !== 0 && b[1] === 0) asciiCharsLE++;\n\n                b.length = 0;\n                charsProcessed++;\n\n                if (charsProcessed >= 100) {\n                    break outer_loop;\n                }\n            }\n        }\n    }\n\n    // Make decisions.\n    // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n    // So, we count ASCII as if it was LE or BE, and decide from that.\n    if (asciiCharsBE > asciiCharsLE) return 'utf-16be';\n    if (asciiCharsBE < asciiCharsLE) return 'utf-16le';\n\n    // Couldn't decide (likely all zeros or not enough data).\n    return defaultEncoding || 'utf-16le';\n}\n\n\n","'use strict';\n\nvar Buffer = require('safer-buffer').Buffer;\n\n// == UTF32-LE/BE codec. ==========================================================\n\nexports._utf32 = Utf32Codec;\n\nfunction Utf32Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n    this.bomAware = true;\n    this.isLE = codecOptions.isLE;\n}\n\nexports.utf32le = { type: '_utf32', isLE: true };\nexports.utf32be = { type: '_utf32', isLE: false };\n\n// Aliases\nexports.ucs4le = 'utf32le';\nexports.ucs4be = 'utf32be';\n\nUtf32Codec.prototype.encoder = Utf32Encoder;\nUtf32Codec.prototype.decoder = Utf32Decoder;\n\n// -- Encoding\n\nfunction Utf32Encoder(options, codec) {\n    this.isLE = codec.isLE;\n    this.highSurrogate = 0;\n}\n\nUtf32Encoder.prototype.write = function(str) {\n    var src = Buffer.from(str, 'ucs2');\n    var dst = Buffer.alloc(src.length * 2);\n    var write32 = this.isLE ? dst.writeUInt32LE : dst.writeUInt32BE;\n    var offset = 0;\n\n    for (var i = 0; i < src.length; i += 2) {\n        var code = src.readUInt16LE(i);\n        var isHighSurrogate = (0xD800 <= code && code < 0xDC00);\n        var isLowSurrogate = (0xDC00 <= code && code < 0xE000);\n\n        if (this.highSurrogate) {\n            if (isHighSurrogate || !isLowSurrogate) {\n                // There shouldn't be two high surrogates in a row, nor a high surrogate which isn't followed by a low\n                // surrogate. If this happens, keep the pending high surrogate as a stand-alone semi-invalid character\n                // (technically wrong, but expected by some applications, like Windows file names).\n                write32.call(dst, this.highSurrogate, offset);\n                offset += 4;\n            }\n            else {\n                // Create 32-bit value from high and low surrogates;\n                var codepoint = (((this.highSurrogate - 0xD800) << 10) | (code - 0xDC00)) + 0x10000;\n\n                write32.call(dst, codepoint, offset);\n                offset += 4;\n                this.highSurrogate = 0;\n\n                continue;\n            }\n        }\n\n        if (isHighSurrogate)\n            this.highSurrogate = code;\n        else {\n            // Even if the current character is a low surrogate, with no previous high surrogate, we'll\n            // encode it as a semi-invalid stand-alone character for the same reasons expressed above for\n            // unpaired high surrogates.\n            write32.call(dst, code, offset);\n            offset += 4;\n            this.highSurrogate = 0;\n        }\n    }\n\n    if (offset < dst.length)\n        dst = dst.slice(0, offset);\n\n    return dst;\n};\n\nUtf32Encoder.prototype.end = function() {\n    // Treat any leftover high surrogate as a semi-valid independent character.\n    if (!this.highSurrogate)\n        return;\n\n    var buf = Buffer.alloc(4);\n\n    if (this.isLE)\n        buf.writeUInt32LE(this.highSurrogate, 0);\n    else\n        buf.writeUInt32BE(this.highSurrogate, 0);\n\n    this.highSurrogate = 0;\n\n    return buf;\n};\n\n// -- Decoding\n\nfunction Utf32Decoder(options, codec) {\n    this.isLE = codec.isLE;\n    this.badChar = codec.iconv.defaultCharUnicode.charCodeAt(0);\n    this.overflow = [];\n}\n\nUtf32Decoder.prototype.write = function(src) {\n    if (src.length === 0)\n        return '';\n\n    var i = 0;\n    var codepoint = 0;\n    var dst = Buffer.alloc(src.length + 4);\n    var offset = 0;\n    var isLE = this.isLE;\n    var overflow = this.overflow;\n    var badChar = this.badChar;\n\n    if (overflow.length > 0) {\n        for (; i < src.length && overflow.length < 4; i++)\n            overflow.push(src[i]);\n        \n        if (overflow.length === 4) {\n            // NOTE: codepoint is a signed int32 and can be negative.\n            // NOTE: We copied this block from below to help V8 optimize it (it works with array, not buffer).\n            if (isLE) {\n                codepoint = overflow[i] | (overflow[i+1] << 8) | (overflow[i+2] << 16) | (overflow[i+3] << 24);\n            } else {\n                codepoint = overflow[i+3] | (overflow[i+2] << 8) | (overflow[i+1] << 16) | (overflow[i] << 24);\n            }\n            overflow.length = 0;\n\n            offset = _writeCodepoint(dst, offset, codepoint, badChar);\n        }\n    }\n\n    // Main loop. Should be as optimized as possible.\n    for (; i < src.length - 3; i += 4) {\n        // NOTE: codepoint is a signed int32 and can be negative.\n        if (isLE) {\n            codepoint = src[i] | (src[i+1] << 8) | (src[i+2] << 16) | (src[i+3] << 24);\n        } else {\n            codepoint = src[i+3] | (src[i+2] << 8) | (src[i+1] << 16) | (src[i] << 24);\n        }\n        offset = _writeCodepoint(dst, offset, codepoint, badChar);\n    }\n\n    // Keep overflowing bytes.\n    for (; i < src.length; i++) {\n        overflow.push(src[i]);\n    }\n\n    return dst.slice(0, offset).toString('ucs2');\n};\n\nfunction _writeCodepoint(dst, offset, codepoint, badChar) {\n    // NOTE: codepoint is signed int32 and can be negative. We keep it that way to help V8 with optimizations.\n    if (codepoint < 0 || codepoint > 0x10FFFF) {\n        // Not a valid Unicode codepoint\n        codepoint = badChar;\n    } \n\n    // Ephemeral Planes: Write high surrogate.\n    if (codepoint >= 0x10000) {\n        codepoint -= 0x10000;\n\n        var high = 0xD800 | (codepoint >> 10);\n        dst[offset++] = high & 0xff;\n        dst[offset++] = high >> 8;\n\n        // Low surrogate is written below.\n        var codepoint = 0xDC00 | (codepoint & 0x3FF);\n    }\n\n    // Write BMP char or low surrogate.\n    dst[offset++] = codepoint & 0xff;\n    dst[offset++] = codepoint >> 8;\n\n    return offset;\n};\n\nUtf32Decoder.prototype.end = function() {\n    this.overflow.length = 0;\n};\n\n// == UTF-32 Auto codec =============================================================\n// Decoder chooses automatically from UTF-32LE and UTF-32BE using BOM and space-based heuristic.\n// Defaults to UTF-32LE. http://en.wikipedia.org/wiki/UTF-32\n// Encoder/decoder default can be changed: iconv.decode(buf, 'utf32', {defaultEncoding: 'utf-32be'});\n\n// Encoder prepends BOM (which can be overridden with (addBOM: false}).\n\nexports.utf32 = Utf32AutoCodec;\nexports.ucs4 = 'utf32';\n\nfunction Utf32AutoCodec(options, iconv) {\n    this.iconv = iconv;\n}\n\nUtf32AutoCodec.prototype.encoder = Utf32AutoEncoder;\nUtf32AutoCodec.prototype.decoder = Utf32AutoDecoder;\n\n// -- Encoding\n\nfunction Utf32AutoEncoder(options, codec) {\n    options = options || {};\n\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n\n    this.encoder = codec.iconv.getEncoder(options.defaultEncoding || 'utf-32le', options);\n}\n\nUtf32AutoEncoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n};\n\nUtf32AutoEncoder.prototype.end = function() {\n    return this.encoder.end();\n};\n\n// -- Decoding\n\nfunction Utf32AutoDecoder(options, codec) {\n    this.decoder = null;\n    this.initialBufs = [];\n    this.initialBufsLen = 0;\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf32AutoDecoder.prototype.write = function(buf) {\n    if (!this.decoder) { \n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBufs.push(buf);\n        this.initialBufsLen += buf.length;\n\n        if (this.initialBufsLen < 32) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.write(buf);\n};\n\nUtf32AutoDecoder.prototype.end = function() {\n    if (!this.decoder) {\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        var trail = this.decoder.end();\n        if (trail)\n            resStr += trail;\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.end();\n};\n\nfunction detectEncoding(bufs, defaultEncoding) {\n    var b = [];\n    var charsProcessed = 0;\n    var invalidLE = 0, invalidBE = 0;   // Number of invalid chars when decoded as LE or BE.\n    var bmpCharsLE = 0, bmpCharsBE = 0; // Number of BMP chars when decoded as LE or BE.\n\n    outer_loop:\n    for (var i = 0; i < bufs.length; i++) {\n        var buf = bufs[i];\n        for (var j = 0; j < buf.length; j++) {\n            b.push(buf[j]);\n            if (b.length === 4) {\n                if (charsProcessed === 0) {\n                    // Check BOM first.\n                    if (b[0] === 0xFF && b[1] === 0xFE && b[2] === 0 && b[3] === 0) {\n                        return 'utf-32le';\n                    }\n                    if (b[0] === 0 && b[1] === 0 && b[2] === 0xFE && b[3] === 0xFF) {\n                        return 'utf-32be';\n                    }\n                }\n\n                if (b[0] !== 0 || b[1] > 0x10) invalidBE++;\n                if (b[3] !== 0 || b[2] > 0x10) invalidLE++;\n\n                if (b[0] === 0 && b[1] === 0 && (b[2] !== 0 || b[3] !== 0)) bmpCharsBE++;\n                if ((b[0] !== 0 || b[1] !== 0) && b[2] === 0 && b[3] === 0) bmpCharsLE++;\n\n                b.length = 0;\n                charsProcessed++;\n\n                if (charsProcessed >= 100) {\n                    break outer_loop;\n                }\n            }\n        }\n    }\n\n    // Make decisions.\n    if (bmpCharsBE - invalidBE > bmpCharsLE - invalidLE)  return 'utf-32be';\n    if (bmpCharsBE - invalidBE < bmpCharsLE - invalidLE)  return 'utf-32le';\n\n    // Couldn't decide (likely all zeros or not enough data).\n    return defaultEncoding || 'utf-32le';\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec;\nexports.unicode11utf7 = 'utf7'; // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder;\nUtf7Codec.prototype.decoder = Utf7Decoder;\nUtf7Codec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;\n\nfunction Utf7Encoder(options, codec) {\n    this.iconv = codec.iconv;\n}\n\nUtf7Encoder.prototype.write = function(str) {\n    // Naive implementation.\n    // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n    return Buffer.from(str.replace(nonDirectChars, function(chunk) {\n        return \"+\" + (chunk === '+' ? '' : \n            this.iconv.encode(chunk, 'utf16-be').toString('base64').replace(/=+$/, '')) \n            + \"-\";\n    }.bind(this)));\n}\n\nUtf7Encoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf7Decoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64Regex = /[A-Za-z0-9\\/+]/;\nvar base64Chars = [];\nfor (var i = 0; i < 256; i++)\n    base64Chars[i] = base64Regex.test(String.fromCharCode(i));\n\nvar plusChar = '+'.charCodeAt(0), \n    minusChar = '-'.charCodeAt(0),\n    andChar = '&'.charCodeAt(0);\n\nUtf7Decoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '+'\n            if (buf[i] == plusChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64Chars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) {// \"+-\" -> \"+\"\n                    res += \"+\";\n                } else {\n                    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\");\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus is absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\");\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7Decoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\n\nexports.utf7imap = Utf7IMAPCodec;\nfunction Utf7IMAPCodec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder;\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder;\nUtf7IMAPCodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = Buffer.alloc(6);\n    this.base64AccumIdx = 0;\n}\n\nUtf7IMAPEncoder.prototype.write = function(str) {\n    var inBase64 = this.inBase64,\n        base64Accum = this.base64Accum,\n        base64AccumIdx = this.base64AccumIdx,\n        buf = Buffer.alloc(str.length*5 + 10), bufIdx = 0;\n\n    for (var i = 0; i < str.length; i++) {\n        var uChar = str.charCodeAt(i);\n        if (0x20 <= uChar && uChar <= 0x7E) { // Direct character or '&'.\n            if (inBase64) {\n                if (base64AccumIdx > 0) {\n                    bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n                    base64AccumIdx = 0;\n                }\n\n                buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n                inBase64 = false;\n            }\n\n            if (!inBase64) {\n                buf[bufIdx++] = uChar; // Write direct character\n\n                if (uChar === andChar)  // Ampersand -> '&-'\n                    buf[bufIdx++] = minusChar;\n            }\n\n        } else { // Non-direct character\n            if (!inBase64) {\n                buf[bufIdx++] = andChar; // Write '&', then go to base64 mode.\n                inBase64 = true;\n            }\n            if (inBase64) {\n                base64Accum[base64AccumIdx++] = uChar >> 8;\n                base64Accum[base64AccumIdx++] = uChar & 0xFF;\n\n                if (base64AccumIdx == base64Accum.length) {\n                    bufIdx += buf.write(base64Accum.toString('base64').replace(/\\//g, ','), bufIdx);\n                    base64AccumIdx = 0;\n                }\n            }\n        }\n    }\n\n    this.inBase64 = inBase64;\n    this.base64AccumIdx = base64AccumIdx;\n\n    return buf.slice(0, bufIdx);\n}\n\nUtf7IMAPEncoder.prototype.end = function() {\n    var buf = Buffer.alloc(10), bufIdx = 0;\n    if (this.inBase64) {\n        if (this.base64AccumIdx > 0) {\n            bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n            this.base64AccumIdx = 0;\n        }\n\n        buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n        this.inBase64 = false;\n    }\n\n    return buf.slice(0, bufIdx);\n}\n\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64IMAPChars = base64Chars.slice();\nbase64IMAPChars[','.charCodeAt(0)] = true;\n\nUtf7IMAPDecoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n    // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '&'\n            if (buf[i] == andChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n                    res += \"&\";\n                } else {\n                    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\").replace(/,/g, '/');\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus may be absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\").replace(/,/g, '/');\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7IMAPDecoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n","\"use strict\";\n\nvar BOMChar = '\\uFEFF';\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper(encoder, options) {\n    this.encoder = encoder;\n    this.addBOM = true;\n}\n\nPrependBOMWrapper.prototype.write = function(str) {\n    if (this.addBOM) {\n        str = BOMChar + str;\n        this.addBOM = false;\n    }\n\n    return this.encoder.write(str);\n}\n\nPrependBOMWrapper.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper;\nfunction StripBOMWrapper(decoder, options) {\n    this.decoder = decoder;\n    this.pass = false;\n    this.options = options || {};\n}\n\nStripBOMWrapper.prototype.write = function(buf) {\n    var res = this.decoder.write(buf);\n    if (this.pass || !res)\n        return res;\n\n    if (res[0] === BOMChar) {\n        res = res.slice(1);\n        if (typeof this.options.stripBOM === 'function')\n            this.options.stripBOM();\n    }\n\n    this.pass = true;\n    return res;\n}\n\nStripBOMWrapper.prototype.end = function() {\n    return this.decoder.end();\n}\n\n","\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\nvar bomHandling = require(\"./bom-handling\"),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = '';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = Buffer.from(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = iconv._canonicalizeEncoding(encoding);\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv._canonicalizeEncoding = function(encoding) {\n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    return (''+encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\");\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n// Streaming API\n// NOTE: Streaming API naturally depends on 'stream' module from Node.js. Unfortunately in browser environments this module can add\n// up to 100Kb to the output bundle. To avoid unnecessary code bloat, we don't enable Streaming API in browser by default.\n// If you would like to enable it explicitly, please add the following code to your app:\n// > iconv.enableStreamingAPI(require('stream'));\niconv.enableStreamingAPI = function enableStreamingAPI(stream_module) {\n    if (iconv.supportsStreams)\n        return;\n\n    // Dependency-inject stream module to create IconvLite stream classes.\n    var streams = require(\"./streams\")(stream_module);\n\n    // Not public API yet, but expose the stream classes.\n    iconv.IconvLiteEncoderStream = streams.IconvLiteEncoderStream;\n    iconv.IconvLiteDecoderStream = streams.IconvLiteDecoderStream;\n\n    // Streaming API.\n    iconv.encodeStream = function encodeStream(encoding, options) {\n        return new iconv.IconvLiteEncoderStream(iconv.getEncoder(encoding, options), options);\n    }\n\n    iconv.decodeStream = function decodeStream(encoding, options) {\n        return new iconv.IconvLiteDecoderStream(iconv.getDecoder(encoding, options), options);\n    }\n\n    iconv.supportsStreams = true;\n}\n\n// Enable Streaming API automatically if 'stream' module is available and non-empty (the majority of environments).\nvar stream_module;\ntry {\n    stream_module = require(\"stream\");\n} catch (e) {}\n\nif (stream_module && stream_module.Transform) {\n    iconv.enableStreamingAPI(stream_module);\n\n} else {\n    // In rare cases where 'stream' module is not available by default, throw a helpful exception.\n    iconv.encodeStream = iconv.decodeStream = function() {\n        throw new Error(\"iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.\");\n    };\n}\n\nif (\"\" != \"\\u0100\") {\n    console.error(\"iconv-lite warning: js files use non-utf8 encoding. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\");\n}\n","\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// NOTE: Due to 'stream' module being pretty large (~100Kb, significant in browser environments), \n// we opt to dependency-inject it instead of creating a hard dependency.\nmodule.exports = function(stream_module) {\n    var Transform = stream_module.Transform;\n\n    // == Encoder stream =======================================================\n\n    function IconvLiteEncoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n        Transform.call(this, options);\n    }\n\n    IconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteEncoderStream }\n    });\n\n    IconvLiteEncoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (typeof chunk != 'string')\n            return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype.collect = function(cb) {\n        var chunks = [];\n        this.on('error', cb);\n        this.on('data', function(chunk) { chunks.push(chunk); });\n        this.on('end', function() {\n            cb(null, Buffer.concat(chunks));\n        });\n        return this;\n    }\n\n\n    // == Decoder stream =======================================================\n\n    function IconvLiteDecoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.encoding = this.encoding = 'utf8'; // We output strings.\n        Transform.call(this, options);\n    }\n\n    IconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteDecoderStream }\n    });\n\n    IconvLiteDecoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (!Buffer.isBuffer(chunk) && !(chunk instanceof Uint8Array))\n            return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res, this.encoding);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res, this.encoding);                \n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype.collect = function(cb) {\n        var res = '';\n        this.on('error', cb);\n        this.on('data', function(chunk) { res += chunk; });\n        this.on('end', function() {\n            cb(null, res);\n        });\n        return this;\n    }\n\n    return {\n        IconvLiteEncoderStream: IconvLiteEncoderStream,\n        IconvLiteDecoderStream: IconvLiteDecoderStream,\n    };\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nexport function createScanner(text, ignoreTrivia = false) {\n    const len = text.length;\n    let pos = 0, value = '', tokenOffset = 0, token = 16 /* SyntaxKind.Unknown */, lineNumber = 0, lineStartOffset = 0, tokenLineStartOffset = 0, prevTokenLineStartOffset = 0, scanError = 0 /* ScanError.None */;\n    function scanHexDigits(count, exact) {\n        let digits = 0;\n        let value = 0;\n        while (digits < count || !exact) {\n            let ch = text.charCodeAt(pos);\n            if (ch >= 48 /* CharacterCodes._0 */ && ch <= 57 /* CharacterCodes._9 */) {\n                value = value * 16 + ch - 48 /* CharacterCodes._0 */;\n            }\n            else if (ch >= 65 /* CharacterCodes.A */ && ch <= 70 /* CharacterCodes.F */) {\n                value = value * 16 + ch - 65 /* CharacterCodes.A */ + 10;\n            }\n            else if (ch >= 97 /* CharacterCodes.a */ && ch <= 102 /* CharacterCodes.f */) {\n                value = value * 16 + ch - 97 /* CharacterCodes.a */ + 10;\n            }\n            else {\n                break;\n            }\n            pos++;\n            digits++;\n        }\n        if (digits < count) {\n            value = -1;\n        }\n        return value;\n    }\n    function setPosition(newPosition) {\n        pos = newPosition;\n        value = '';\n        tokenOffset = 0;\n        token = 16 /* SyntaxKind.Unknown */;\n        scanError = 0 /* ScanError.None */;\n    }\n    function scanNumber() {\n        let start = pos;\n        if (text.charCodeAt(pos) === 48 /* CharacterCodes._0 */) {\n            pos++;\n        }\n        else {\n            pos++;\n            while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n            }\n        }\n        if (pos < text.length && text.charCodeAt(pos) === 46 /* CharacterCodes.dot */) {\n            pos++;\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n            }\n            else {\n                scanError = 3 /* ScanError.UnexpectedEndOfNumber */;\n                return text.substring(start, pos);\n            }\n        }\n        let end = pos;\n        if (pos < text.length && (text.charCodeAt(pos) === 69 /* CharacterCodes.E */ || text.charCodeAt(pos) === 101 /* CharacterCodes.e */)) {\n            pos++;\n            if (pos < text.length && text.charCodeAt(pos) === 43 /* CharacterCodes.plus */ || text.charCodeAt(pos) === 45 /* CharacterCodes.minus */) {\n                pos++;\n            }\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n                end = pos;\n            }\n            else {\n                scanError = 3 /* ScanError.UnexpectedEndOfNumber */;\n            }\n        }\n        return text.substring(start, end);\n    }\n    function scanString() {\n        let result = '', start = pos;\n        while (true) {\n            if (pos >= len) {\n                result += text.substring(start, pos);\n                scanError = 2 /* ScanError.UnexpectedEndOfString */;\n                break;\n            }\n            const ch = text.charCodeAt(pos);\n            if (ch === 34 /* CharacterCodes.doubleQuote */) {\n                result += text.substring(start, pos);\n                pos++;\n                break;\n            }\n            if (ch === 92 /* CharacterCodes.backslash */) {\n                result += text.substring(start, pos);\n                pos++;\n                if (pos >= len) {\n                    scanError = 2 /* ScanError.UnexpectedEndOfString */;\n                    break;\n                }\n                const ch2 = text.charCodeAt(pos++);\n                switch (ch2) {\n                    case 34 /* CharacterCodes.doubleQuote */:\n                        result += '\\\"';\n                        break;\n                    case 92 /* CharacterCodes.backslash */:\n                        result += '\\\\';\n                        break;\n                    case 47 /* CharacterCodes.slash */:\n                        result += '/';\n                        break;\n                    case 98 /* CharacterCodes.b */:\n                        result += '\\b';\n                        break;\n                    case 102 /* CharacterCodes.f */:\n                        result += '\\f';\n                        break;\n                    case 110 /* CharacterCodes.n */:\n                        result += '\\n';\n                        break;\n                    case 114 /* CharacterCodes.r */:\n                        result += '\\r';\n                        break;\n                    case 116 /* CharacterCodes.t */:\n                        result += '\\t';\n                        break;\n                    case 117 /* CharacterCodes.u */:\n                        const ch3 = scanHexDigits(4, true);\n                        if (ch3 >= 0) {\n                            result += String.fromCharCode(ch3);\n                        }\n                        else {\n                            scanError = 4 /* ScanError.InvalidUnicode */;\n                        }\n                        break;\n                    default:\n                        scanError = 5 /* ScanError.InvalidEscapeCharacter */;\n                }\n                start = pos;\n                continue;\n            }\n            if (ch >= 0 && ch <= 0x1f) {\n                if (isLineBreak(ch)) {\n                    result += text.substring(start, pos);\n                    scanError = 2 /* ScanError.UnexpectedEndOfString */;\n                    break;\n                }\n                else {\n                    scanError = 6 /* ScanError.InvalidCharacter */;\n                    // mark as error but continue with string\n                }\n            }\n            pos++;\n        }\n        return result;\n    }\n    function scanNext() {\n        value = '';\n        scanError = 0 /* ScanError.None */;\n        tokenOffset = pos;\n        lineStartOffset = lineNumber;\n        prevTokenLineStartOffset = tokenLineStartOffset;\n        if (pos >= len) {\n            // at the end\n            tokenOffset = len;\n            return token = 17 /* SyntaxKind.EOF */;\n        }\n        let code = text.charCodeAt(pos);\n        // trivia: whitespace\n        if (isWhiteSpace(code)) {\n            do {\n                pos++;\n                value += String.fromCharCode(code);\n                code = text.charCodeAt(pos);\n            } while (isWhiteSpace(code));\n            return token = 15 /* SyntaxKind.Trivia */;\n        }\n        // trivia: newlines\n        if (isLineBreak(code)) {\n            pos++;\n            value += String.fromCharCode(code);\n            if (code === 13 /* CharacterCodes.carriageReturn */ && text.charCodeAt(pos) === 10 /* CharacterCodes.lineFeed */) {\n                pos++;\n                value += '\\n';\n            }\n            lineNumber++;\n            tokenLineStartOffset = pos;\n            return token = 14 /* SyntaxKind.LineBreakTrivia */;\n        }\n        switch (code) {\n            // tokens: []{}:,\n            case 123 /* CharacterCodes.openBrace */:\n                pos++;\n                return token = 1 /* SyntaxKind.OpenBraceToken */;\n            case 125 /* CharacterCodes.closeBrace */:\n                pos++;\n                return token = 2 /* SyntaxKind.CloseBraceToken */;\n            case 91 /* CharacterCodes.openBracket */:\n                pos++;\n                return token = 3 /* SyntaxKind.OpenBracketToken */;\n            case 93 /* CharacterCodes.closeBracket */:\n                pos++;\n                return token = 4 /* SyntaxKind.CloseBracketToken */;\n            case 58 /* CharacterCodes.colon */:\n                pos++;\n                return token = 6 /* SyntaxKind.ColonToken */;\n            case 44 /* CharacterCodes.comma */:\n                pos++;\n                return token = 5 /* SyntaxKind.CommaToken */;\n            // strings\n            case 34 /* CharacterCodes.doubleQuote */:\n                pos++;\n                value = scanString();\n                return token = 10 /* SyntaxKind.StringLiteral */;\n            // comments\n            case 47 /* CharacterCodes.slash */:\n                const start = pos - 1;\n                // Single-line comment\n                if (text.charCodeAt(pos + 1) === 47 /* CharacterCodes.slash */) {\n                    pos += 2;\n                    while (pos < len) {\n                        if (isLineBreak(text.charCodeAt(pos))) {\n                            break;\n                        }\n                        pos++;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 12 /* SyntaxKind.LineCommentTrivia */;\n                }\n                // Multi-line comment\n                if (text.charCodeAt(pos + 1) === 42 /* CharacterCodes.asterisk */) {\n                    pos += 2;\n                    const safeLength = len - 1; // For lookahead.\n                    let commentClosed = false;\n                    while (pos < safeLength) {\n                        const ch = text.charCodeAt(pos);\n                        if (ch === 42 /* CharacterCodes.asterisk */ && text.charCodeAt(pos + 1) === 47 /* CharacterCodes.slash */) {\n                            pos += 2;\n                            commentClosed = true;\n                            break;\n                        }\n                        pos++;\n                        if (isLineBreak(ch)) {\n                            if (ch === 13 /* CharacterCodes.carriageReturn */ && text.charCodeAt(pos) === 10 /* CharacterCodes.lineFeed */) {\n                                pos++;\n                            }\n                            lineNumber++;\n                            tokenLineStartOffset = pos;\n                        }\n                    }\n                    if (!commentClosed) {\n                        pos++;\n                        scanError = 1 /* ScanError.UnexpectedEndOfComment */;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 13 /* SyntaxKind.BlockCommentTrivia */;\n                }\n                // just a single slash\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* SyntaxKind.Unknown */;\n            // numbers\n            case 45 /* CharacterCodes.minus */:\n                value += String.fromCharCode(code);\n                pos++;\n                if (pos === len || !isDigit(text.charCodeAt(pos))) {\n                    return token = 16 /* SyntaxKind.Unknown */;\n                }\n            // found a minus, followed by a number so\n            // we fall through to proceed with scanning\n            // numbers\n            case 48 /* CharacterCodes._0 */:\n            case 49 /* CharacterCodes._1 */:\n            case 50 /* CharacterCodes._2 */:\n            case 51 /* CharacterCodes._3 */:\n            case 52 /* CharacterCodes._4 */:\n            case 53 /* CharacterCodes._5 */:\n            case 54 /* CharacterCodes._6 */:\n            case 55 /* CharacterCodes._7 */:\n            case 56 /* CharacterCodes._8 */:\n            case 57 /* CharacterCodes._9 */:\n                value += scanNumber();\n                return token = 11 /* SyntaxKind.NumericLiteral */;\n            // literals and unknown symbols\n            default:\n                // is a literal? Read the full word.\n                while (pos < len && isUnknownContentCharacter(code)) {\n                    pos++;\n                    code = text.charCodeAt(pos);\n                }\n                if (tokenOffset !== pos) {\n                    value = text.substring(tokenOffset, pos);\n                    // keywords: true, false, null\n                    switch (value) {\n                        case 'true': return token = 8 /* SyntaxKind.TrueKeyword */;\n                        case 'false': return token = 9 /* SyntaxKind.FalseKeyword */;\n                        case 'null': return token = 7 /* SyntaxKind.NullKeyword */;\n                    }\n                    return token = 16 /* SyntaxKind.Unknown */;\n                }\n                // some\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* SyntaxKind.Unknown */;\n        }\n    }\n    function isUnknownContentCharacter(code) {\n        if (isWhiteSpace(code) || isLineBreak(code)) {\n            return false;\n        }\n        switch (code) {\n            case 125 /* CharacterCodes.closeBrace */:\n            case 93 /* CharacterCodes.closeBracket */:\n            case 123 /* CharacterCodes.openBrace */:\n            case 91 /* CharacterCodes.openBracket */:\n            case 34 /* CharacterCodes.doubleQuote */:\n            case 58 /* CharacterCodes.colon */:\n            case 44 /* CharacterCodes.comma */:\n            case 47 /* CharacterCodes.slash */:\n                return false;\n        }\n        return true;\n    }\n    function scanNextNonTrivia() {\n        let result;\n        do {\n            result = scanNext();\n        } while (result >= 12 /* SyntaxKind.LineCommentTrivia */ && result <= 15 /* SyntaxKind.Trivia */);\n        return result;\n    }\n    return {\n        setPosition: setPosition,\n        getPosition: () => pos,\n        scan: ignoreTrivia ? scanNextNonTrivia : scanNext,\n        getToken: () => token,\n        getTokenValue: () => value,\n        getTokenOffset: () => tokenOffset,\n        getTokenLength: () => pos - tokenOffset,\n        getTokenStartLine: () => lineStartOffset,\n        getTokenStartCharacter: () => tokenOffset - prevTokenLineStartOffset,\n        getTokenError: () => scanError,\n    };\n}\nfunction isWhiteSpace(ch) {\n    return ch === 32 /* CharacterCodes.space */ || ch === 9 /* CharacterCodes.tab */;\n}\nfunction isLineBreak(ch) {\n    return ch === 10 /* CharacterCodes.lineFeed */ || ch === 13 /* CharacterCodes.carriageReturn */;\n}\nfunction isDigit(ch) {\n    return ch >= 48 /* CharacterCodes._0 */ && ch <= 57 /* CharacterCodes._9 */;\n}\nvar CharacterCodes;\n(function (CharacterCodes) {\n    CharacterCodes[CharacterCodes[\"lineFeed\"] = 10] = \"lineFeed\";\n    CharacterCodes[CharacterCodes[\"carriageReturn\"] = 13] = \"carriageReturn\";\n    CharacterCodes[CharacterCodes[\"space\"] = 32] = \"space\";\n    CharacterCodes[CharacterCodes[\"_0\"] = 48] = \"_0\";\n    CharacterCodes[CharacterCodes[\"_1\"] = 49] = \"_1\";\n    CharacterCodes[CharacterCodes[\"_2\"] = 50] = \"_2\";\n    CharacterCodes[CharacterCodes[\"_3\"] = 51] = \"_3\";\n    CharacterCodes[CharacterCodes[\"_4\"] = 52] = \"_4\";\n    CharacterCodes[CharacterCodes[\"_5\"] = 53] = \"_5\";\n    CharacterCodes[CharacterCodes[\"_6\"] = 54] = \"_6\";\n    CharacterCodes[CharacterCodes[\"_7\"] = 55] = \"_7\";\n    CharacterCodes[CharacterCodes[\"_8\"] = 56] = \"_8\";\n    CharacterCodes[CharacterCodes[\"_9\"] = 57] = \"_9\";\n    CharacterCodes[CharacterCodes[\"a\"] = 97] = \"a\";\n    CharacterCodes[CharacterCodes[\"b\"] = 98] = \"b\";\n    CharacterCodes[CharacterCodes[\"c\"] = 99] = \"c\";\n    CharacterCodes[CharacterCodes[\"d\"] = 100] = \"d\";\n    CharacterCodes[CharacterCodes[\"e\"] = 101] = \"e\";\n    CharacterCodes[CharacterCodes[\"f\"] = 102] = \"f\";\n    CharacterCodes[CharacterCodes[\"g\"] = 103] = \"g\";\n    CharacterCodes[CharacterCodes[\"h\"] = 104] = \"h\";\n    CharacterCodes[CharacterCodes[\"i\"] = 105] = \"i\";\n    CharacterCodes[CharacterCodes[\"j\"] = 106] = \"j\";\n    CharacterCodes[CharacterCodes[\"k\"] = 107] = \"k\";\n    CharacterCodes[CharacterCodes[\"l\"] = 108] = \"l\";\n    CharacterCodes[CharacterCodes[\"m\"] = 109] = \"m\";\n    CharacterCodes[CharacterCodes[\"n\"] = 110] = \"n\";\n    CharacterCodes[CharacterCodes[\"o\"] = 111] = \"o\";\n    CharacterCodes[CharacterCodes[\"p\"] = 112] = \"p\";\n    CharacterCodes[CharacterCodes[\"q\"] = 113] = \"q\";\n    CharacterCodes[CharacterCodes[\"r\"] = 114] = \"r\";\n    CharacterCodes[CharacterCodes[\"s\"] = 115] = \"s\";\n    CharacterCodes[CharacterCodes[\"t\"] = 116] = \"t\";\n    CharacterCodes[CharacterCodes[\"u\"] = 117] = \"u\";\n    CharacterCodes[CharacterCodes[\"v\"] = 118] = \"v\";\n    CharacterCodes[CharacterCodes[\"w\"] = 119] = \"w\";\n    CharacterCodes[CharacterCodes[\"x\"] = 120] = \"x\";\n    CharacterCodes[CharacterCodes[\"y\"] = 121] = \"y\";\n    CharacterCodes[CharacterCodes[\"z\"] = 122] = \"z\";\n    CharacterCodes[CharacterCodes[\"A\"] = 65] = \"A\";\n    CharacterCodes[CharacterCodes[\"B\"] = 66] = \"B\";\n    CharacterCodes[CharacterCodes[\"C\"] = 67] = \"C\";\n    CharacterCodes[CharacterCodes[\"D\"] = 68] = \"D\";\n    CharacterCodes[CharacterCodes[\"E\"] = 69] = \"E\";\n    CharacterCodes[CharacterCodes[\"F\"] = 70] = \"F\";\n    CharacterCodes[CharacterCodes[\"G\"] = 71] = \"G\";\n    CharacterCodes[CharacterCodes[\"H\"] = 72] = \"H\";\n    CharacterCodes[CharacterCodes[\"I\"] = 73] = \"I\";\n    CharacterCodes[CharacterCodes[\"J\"] = 74] = \"J\";\n    CharacterCodes[CharacterCodes[\"K\"] = 75] = \"K\";\n    CharacterCodes[CharacterCodes[\"L\"] = 76] = \"L\";\n    CharacterCodes[CharacterCodes[\"M\"] = 77] = \"M\";\n    CharacterCodes[CharacterCodes[\"N\"] = 78] = \"N\";\n    CharacterCodes[CharacterCodes[\"O\"] = 79] = \"O\";\n    CharacterCodes[CharacterCodes[\"P\"] = 80] = \"P\";\n    CharacterCodes[CharacterCodes[\"Q\"] = 81] = \"Q\";\n    CharacterCodes[CharacterCodes[\"R\"] = 82] = \"R\";\n    CharacterCodes[CharacterCodes[\"S\"] = 83] = \"S\";\n    CharacterCodes[CharacterCodes[\"T\"] = 84] = \"T\";\n    CharacterCodes[CharacterCodes[\"U\"] = 85] = \"U\";\n    CharacterCodes[CharacterCodes[\"V\"] = 86] = \"V\";\n    CharacterCodes[CharacterCodes[\"W\"] = 87] = \"W\";\n    CharacterCodes[CharacterCodes[\"X\"] = 88] = \"X\";\n    CharacterCodes[CharacterCodes[\"Y\"] = 89] = \"Y\";\n    CharacterCodes[CharacterCodes[\"Z\"] = 90] = \"Z\";\n    CharacterCodes[CharacterCodes[\"asterisk\"] = 42] = \"asterisk\";\n    CharacterCodes[CharacterCodes[\"backslash\"] = 92] = \"backslash\";\n    CharacterCodes[CharacterCodes[\"closeBrace\"] = 125] = \"closeBrace\";\n    CharacterCodes[CharacterCodes[\"closeBracket\"] = 93] = \"closeBracket\";\n    CharacterCodes[CharacterCodes[\"colon\"] = 58] = \"colon\";\n    CharacterCodes[CharacterCodes[\"comma\"] = 44] = \"comma\";\n    CharacterCodes[CharacterCodes[\"dot\"] = 46] = \"dot\";\n    CharacterCodes[CharacterCodes[\"doubleQuote\"] = 34] = \"doubleQuote\";\n    CharacterCodes[CharacterCodes[\"minus\"] = 45] = \"minus\";\n    CharacterCodes[CharacterCodes[\"openBrace\"] = 123] = \"openBrace\";\n    CharacterCodes[CharacterCodes[\"openBracket\"] = 91] = \"openBracket\";\n    CharacterCodes[CharacterCodes[\"plus\"] = 43] = \"plus\";\n    CharacterCodes[CharacterCodes[\"slash\"] = 47] = \"slash\";\n    CharacterCodes[CharacterCodes[\"formFeed\"] = 12] = \"formFeed\";\n    CharacterCodes[CharacterCodes[\"tab\"] = 9] = \"tab\";\n})(CharacterCodes || (CharacterCodes = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { createScanner } from './scanner';\nvar ParseOptions;\n(function (ParseOptions) {\n    ParseOptions.DEFAULT = {\n        allowTrailingComma: false\n    };\n})(ParseOptions || (ParseOptions = {}));\n/**\n * For a given offset, evaluate the location in the JSON document. Each segment in the location path is either a property name or an array index.\n */\nexport function getLocation(text, position) {\n    const segments = []; // strings or numbers\n    const earlyReturnException = new Object();\n    let previousNode = undefined;\n    const previousNodeInst = {\n        value: {},\n        offset: 0,\n        length: 0,\n        type: 'object',\n        parent: undefined\n    };\n    let isAtPropertyKey = false;\n    function setPreviousNode(value, offset, length, type) {\n        previousNodeInst.value = value;\n        previousNodeInst.offset = offset;\n        previousNodeInst.length = length;\n        previousNodeInst.type = type;\n        previousNodeInst.colonOffset = undefined;\n        previousNode = previousNodeInst;\n    }\n    try {\n        visit(text, {\n            onObjectBegin: (offset, length) => {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                isAtPropertyKey = position > offset;\n                segments.push(''); // push a placeholder (will be replaced)\n            },\n            onObjectProperty: (name, offset, length) => {\n                if (position < offset) {\n                    throw earlyReturnException;\n                }\n                setPreviousNode(name, offset, length, 'property');\n                segments[segments.length - 1] = name;\n                if (position <= offset + length) {\n                    throw earlyReturnException;\n                }\n            },\n            onObjectEnd: (offset, length) => {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.pop();\n            },\n            onArrayBegin: (offset, length) => {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.push(0);\n            },\n            onArrayEnd: (offset, length) => {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.pop();\n            },\n            onLiteralValue: (value, offset, length) => {\n                if (position < offset) {\n                    throw earlyReturnException;\n                }\n                setPreviousNode(value, offset, length, getNodeType(value));\n                if (position <= offset + length) {\n                    throw earlyReturnException;\n                }\n            },\n            onSeparator: (sep, offset, length) => {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                if (sep === ':' && previousNode && previousNode.type === 'property') {\n                    previousNode.colonOffset = offset;\n                    isAtPropertyKey = false;\n                    previousNode = undefined;\n                }\n                else if (sep === ',') {\n                    const last = segments[segments.length - 1];\n                    if (typeof last === 'number') {\n                        segments[segments.length - 1] = last + 1;\n                    }\n                    else {\n                        isAtPropertyKey = true;\n                        segments[segments.length - 1] = '';\n                    }\n                    previousNode = undefined;\n                }\n            }\n        });\n    }\n    catch (e) {\n        if (e !== earlyReturnException) {\n            throw e;\n        }\n    }\n    return {\n        path: segments,\n        previousNode,\n        isAtPropertyKey,\n        matches: (pattern) => {\n            let k = 0;\n            for (let i = 0; k < pattern.length && i < segments.length; i++) {\n                if (pattern[k] === segments[i] || pattern[k] === '*') {\n                    k++;\n                }\n                else if (pattern[k] !== '**') {\n                    return false;\n                }\n            }\n            return k === pattern.length;\n        }\n    };\n}\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore always check the errors list to find out if the input was valid.\n */\nexport function parse(text, errors = [], options = ParseOptions.DEFAULT) {\n    let currentProperty = null;\n    let currentParent = [];\n    const previousParents = [];\n    function onValue(value) {\n        if (Array.isArray(currentParent)) {\n            currentParent.push(value);\n        }\n        else if (currentProperty !== null) {\n            currentParent[currentProperty] = value;\n        }\n    }\n    const visitor = {\n        onObjectBegin: () => {\n            const object = {};\n            onValue(object);\n            previousParents.push(currentParent);\n            currentParent = object;\n            currentProperty = null;\n        },\n        onObjectProperty: (name) => {\n            currentProperty = name;\n        },\n        onObjectEnd: () => {\n            currentParent = previousParents.pop();\n        },\n        onArrayBegin: () => {\n            const array = [];\n            onValue(array);\n            previousParents.push(currentParent);\n            currentParent = array;\n            currentProperty = null;\n        },\n        onArrayEnd: () => {\n            currentParent = previousParents.pop();\n        },\n        onLiteralValue: onValue,\n        onError: (error, offset, length) => {\n            errors.push({ error, offset, length });\n        }\n    };\n    visit(text, visitor, options);\n    return currentParent[0];\n}\n/**\n * Parses the given text and returns a tree representation the JSON content. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n */\nexport function parseTree(text, errors = [], options = ParseOptions.DEFAULT) {\n    let currentParent = { type: 'array', offset: -1, length: -1, children: [], parent: undefined }; // artificial root\n    function ensurePropertyComplete(endOffset) {\n        if (currentParent.type === 'property') {\n            currentParent.length = endOffset - currentParent.offset;\n            currentParent = currentParent.parent;\n        }\n    }\n    function onValue(valueNode) {\n        currentParent.children.push(valueNode);\n        return valueNode;\n    }\n    const visitor = {\n        onObjectBegin: (offset) => {\n            currentParent = onValue({ type: 'object', offset, length: -1, parent: currentParent, children: [] });\n        },\n        onObjectProperty: (name, offset, length) => {\n            currentParent = onValue({ type: 'property', offset, length: -1, parent: currentParent, children: [] });\n            currentParent.children.push({ type: 'string', value: name, offset, length, parent: currentParent });\n        },\n        onObjectEnd: (offset, length) => {\n            ensurePropertyComplete(offset + length); // in case of a missing value for a property: make sure property is complete\n            currentParent.length = offset + length - currentParent.offset;\n            currentParent = currentParent.parent;\n            ensurePropertyComplete(offset + length);\n        },\n        onArrayBegin: (offset, length) => {\n            currentParent = onValue({ type: 'array', offset, length: -1, parent: currentParent, children: [] });\n        },\n        onArrayEnd: (offset, length) => {\n            currentParent.length = offset + length - currentParent.offset;\n            currentParent = currentParent.parent;\n            ensurePropertyComplete(offset + length);\n        },\n        onLiteralValue: (value, offset, length) => {\n            onValue({ type: getNodeType(value), offset, length, parent: currentParent, value });\n            ensurePropertyComplete(offset + length);\n        },\n        onSeparator: (sep, offset, length) => {\n            if (currentParent.type === 'property') {\n                if (sep === ':') {\n                    currentParent.colonOffset = offset;\n                }\n                else if (sep === ',') {\n                    ensurePropertyComplete(offset);\n                }\n            }\n        },\n        onError: (error, offset, length) => {\n            errors.push({ error, offset, length });\n        }\n    };\n    visit(text, visitor, options);\n    const result = currentParent.children[0];\n    if (result) {\n        delete result.parent;\n    }\n    return result;\n}\n/**\n * Finds the node at the given path in a JSON DOM.\n */\nexport function findNodeAtLocation(root, path) {\n    if (!root) {\n        return undefined;\n    }\n    let node = root;\n    for (let segment of path) {\n        if (typeof segment === 'string') {\n            if (node.type !== 'object' || !Array.isArray(node.children)) {\n                return undefined;\n            }\n            let found = false;\n            for (const propertyNode of node.children) {\n                if (Array.isArray(propertyNode.children) && propertyNode.children[0].value === segment && propertyNode.children.length === 2) {\n                    node = propertyNode.children[1];\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                return undefined;\n            }\n        }\n        else {\n            const index = segment;\n            if (node.type !== 'array' || index < 0 || !Array.isArray(node.children) || index >= node.children.length) {\n                return undefined;\n            }\n            node = node.children[index];\n        }\n    }\n    return node;\n}\n/**\n * Gets the JSON path of the given JSON DOM node\n */\nexport function getNodePath(node) {\n    if (!node.parent || !node.parent.children) {\n        return [];\n    }\n    const path = getNodePath(node.parent);\n    if (node.parent.type === 'property') {\n        const key = node.parent.children[0].value;\n        path.push(key);\n    }\n    else if (node.parent.type === 'array') {\n        const index = node.parent.children.indexOf(node);\n        if (index !== -1) {\n            path.push(index);\n        }\n    }\n    return path;\n}\n/**\n * Evaluates the JavaScript object of the given JSON DOM node\n */\nexport function getNodeValue(node) {\n    switch (node.type) {\n        case 'array':\n            return node.children.map(getNodeValue);\n        case 'object':\n            const obj = Object.create(null);\n            for (let prop of node.children) {\n                const valueNode = prop.children[1];\n                if (valueNode) {\n                    obj[prop.children[0].value] = getNodeValue(valueNode);\n                }\n            }\n            return obj;\n        case 'null':\n        case 'string':\n        case 'number':\n        case 'boolean':\n            return node.value;\n        default:\n            return undefined;\n    }\n}\nexport function contains(node, offset, includeRightBound = false) {\n    return (offset >= node.offset && offset < (node.offset + node.length)) || includeRightBound && (offset === (node.offset + node.length));\n}\n/**\n * Finds the most inner node at the given offset. If includeRightBound is set, also finds nodes that end at the given offset.\n */\nexport function findNodeAtOffset(node, offset, includeRightBound = false) {\n    if (contains(node, offset, includeRightBound)) {\n        const children = node.children;\n        if (Array.isArray(children)) {\n            for (let i = 0; i < children.length && children[i].offset <= offset; i++) {\n                const item = findNodeAtOffset(children[i], offset, includeRightBound);\n                if (item) {\n                    return item;\n                }\n            }\n        }\n        return node;\n    }\n    return undefined;\n}\n/**\n * Parses the given text and invokes the visitor functions for each object, array and literal reached.\n */\nexport function visit(text, visitor, options = ParseOptions.DEFAULT) {\n    const _scanner = createScanner(text, false);\n    // Important: Only pass copies of this to visitor functions to prevent accidental modification, and\n    // to not affect visitor functions which stored a reference to a previous JSONPath\n    const _jsonPath = [];\n    function toNoArgVisit(visitFunction) {\n        return visitFunction ? () => visitFunction(_scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()) : () => true;\n    }\n    function toNoArgVisitWithPath(visitFunction) {\n        return visitFunction ? () => visitFunction(_scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter(), () => _jsonPath.slice()) : () => true;\n    }\n    function toOneArgVisit(visitFunction) {\n        return visitFunction ? (arg) => visitFunction(arg, _scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()) : () => true;\n    }\n    function toOneArgVisitWithPath(visitFunction) {\n        return visitFunction ? (arg) => visitFunction(arg, _scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter(), () => _jsonPath.slice()) : () => true;\n    }\n    const onObjectBegin = toNoArgVisitWithPath(visitor.onObjectBegin), onObjectProperty = toOneArgVisitWithPath(visitor.onObjectProperty), onObjectEnd = toNoArgVisit(visitor.onObjectEnd), onArrayBegin = toNoArgVisitWithPath(visitor.onArrayBegin), onArrayEnd = toNoArgVisit(visitor.onArrayEnd), onLiteralValue = toOneArgVisitWithPath(visitor.onLiteralValue), onSeparator = toOneArgVisit(visitor.onSeparator), onComment = toNoArgVisit(visitor.onComment), onError = toOneArgVisit(visitor.onError);\n    const disallowComments = options && options.disallowComments;\n    const allowTrailingComma = options && options.allowTrailingComma;\n    function scanNext() {\n        while (true) {\n            const token = _scanner.scan();\n            switch (_scanner.getTokenError()) {\n                case 4 /* ScanError.InvalidUnicode */:\n                    handleError(14 /* ParseErrorCode.InvalidUnicode */);\n                    break;\n                case 5 /* ScanError.InvalidEscapeCharacter */:\n                    handleError(15 /* ParseErrorCode.InvalidEscapeCharacter */);\n                    break;\n                case 3 /* ScanError.UnexpectedEndOfNumber */:\n                    handleError(13 /* ParseErrorCode.UnexpectedEndOfNumber */);\n                    break;\n                case 1 /* ScanError.UnexpectedEndOfComment */:\n                    if (!disallowComments) {\n                        handleError(11 /* ParseErrorCode.UnexpectedEndOfComment */);\n                    }\n                    break;\n                case 2 /* ScanError.UnexpectedEndOfString */:\n                    handleError(12 /* ParseErrorCode.UnexpectedEndOfString */);\n                    break;\n                case 6 /* ScanError.InvalidCharacter */:\n                    handleError(16 /* ParseErrorCode.InvalidCharacter */);\n                    break;\n            }\n            switch (token) {\n                case 12 /* SyntaxKind.LineCommentTrivia */:\n                case 13 /* SyntaxKind.BlockCommentTrivia */:\n                    if (disallowComments) {\n                        handleError(10 /* ParseErrorCode.InvalidCommentToken */);\n                    }\n                    else {\n                        onComment();\n                    }\n                    break;\n                case 16 /* SyntaxKind.Unknown */:\n                    handleError(1 /* ParseErrorCode.InvalidSymbol */);\n                    break;\n                case 15 /* SyntaxKind.Trivia */:\n                case 14 /* SyntaxKind.LineBreakTrivia */:\n                    break;\n                default:\n                    return token;\n            }\n        }\n    }\n    function handleError(error, skipUntilAfter = [], skipUntil = []) {\n        onError(error);\n        if (skipUntilAfter.length + skipUntil.length > 0) {\n            let token = _scanner.getToken();\n            while (token !== 17 /* SyntaxKind.EOF */) {\n                if (skipUntilAfter.indexOf(token) !== -1) {\n                    scanNext();\n                    break;\n                }\n                else if (skipUntil.indexOf(token) !== -1) {\n                    break;\n                }\n                token = scanNext();\n            }\n        }\n    }\n    function parseString(isValue) {\n        const value = _scanner.getTokenValue();\n        if (isValue) {\n            onLiteralValue(value);\n        }\n        else {\n            onObjectProperty(value);\n            // add property name afterwards\n            _jsonPath.push(value);\n        }\n        scanNext();\n        return true;\n    }\n    function parseLiteral() {\n        switch (_scanner.getToken()) {\n            case 11 /* SyntaxKind.NumericLiteral */:\n                const tokenValue = _scanner.getTokenValue();\n                let value = Number(tokenValue);\n                if (isNaN(value)) {\n                    handleError(2 /* ParseErrorCode.InvalidNumberFormat */);\n                    value = 0;\n                }\n                onLiteralValue(value);\n                break;\n            case 7 /* SyntaxKind.NullKeyword */:\n                onLiteralValue(null);\n                break;\n            case 8 /* SyntaxKind.TrueKeyword */:\n                onLiteralValue(true);\n                break;\n            case 9 /* SyntaxKind.FalseKeyword */:\n                onLiteralValue(false);\n                break;\n            default:\n                return false;\n        }\n        scanNext();\n        return true;\n    }\n    function parseProperty() {\n        if (_scanner.getToken() !== 10 /* SyntaxKind.StringLiteral */) {\n            handleError(3 /* ParseErrorCode.PropertyNameExpected */, [], [2 /* SyntaxKind.CloseBraceToken */, 5 /* SyntaxKind.CommaToken */]);\n            return false;\n        }\n        parseString(false);\n        if (_scanner.getToken() === 6 /* SyntaxKind.ColonToken */) {\n            onSeparator(':');\n            scanNext(); // consume colon\n            if (!parseValue()) {\n                handleError(4 /* ParseErrorCode.ValueExpected */, [], [2 /* SyntaxKind.CloseBraceToken */, 5 /* SyntaxKind.CommaToken */]);\n            }\n        }\n        else {\n            handleError(5 /* ParseErrorCode.ColonExpected */, [], [2 /* SyntaxKind.CloseBraceToken */, 5 /* SyntaxKind.CommaToken */]);\n        }\n        _jsonPath.pop(); // remove processed property name\n        return true;\n    }\n    function parseObject() {\n        onObjectBegin();\n        scanNext(); // consume open brace\n        let needsComma = false;\n        while (_scanner.getToken() !== 2 /* SyntaxKind.CloseBraceToken */ && _scanner.getToken() !== 17 /* SyntaxKind.EOF */) {\n            if (_scanner.getToken() === 5 /* SyntaxKind.CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ParseErrorCode.ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 2 /* SyntaxKind.CloseBraceToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* ParseErrorCode.CommaExpected */, [], []);\n            }\n            if (!parseProperty()) {\n                handleError(4 /* ParseErrorCode.ValueExpected */, [], [2 /* SyntaxKind.CloseBraceToken */, 5 /* SyntaxKind.CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onObjectEnd();\n        if (_scanner.getToken() !== 2 /* SyntaxKind.CloseBraceToken */) {\n            handleError(7 /* ParseErrorCode.CloseBraceExpected */, [2 /* SyntaxKind.CloseBraceToken */], []);\n        }\n        else {\n            scanNext(); // consume close brace\n        }\n        return true;\n    }\n    function parseArray() {\n        onArrayBegin();\n        scanNext(); // consume open bracket\n        let isFirstElement = true;\n        let needsComma = false;\n        while (_scanner.getToken() !== 4 /* SyntaxKind.CloseBracketToken */ && _scanner.getToken() !== 17 /* SyntaxKind.EOF */) {\n            if (_scanner.getToken() === 5 /* SyntaxKind.CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ParseErrorCode.ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 4 /* SyntaxKind.CloseBracketToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* ParseErrorCode.CommaExpected */, [], []);\n            }\n            if (isFirstElement) {\n                _jsonPath.push(0);\n                isFirstElement = false;\n            }\n            else {\n                _jsonPath[_jsonPath.length - 1]++;\n            }\n            if (!parseValue()) {\n                handleError(4 /* ParseErrorCode.ValueExpected */, [], [4 /* SyntaxKind.CloseBracketToken */, 5 /* SyntaxKind.CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onArrayEnd();\n        if (!isFirstElement) {\n            _jsonPath.pop(); // remove array index\n        }\n        if (_scanner.getToken() !== 4 /* SyntaxKind.CloseBracketToken */) {\n            handleError(8 /* ParseErrorCode.CloseBracketExpected */, [4 /* SyntaxKind.CloseBracketToken */], []);\n        }\n        else {\n            scanNext(); // consume close bracket\n        }\n        return true;\n    }\n    function parseValue() {\n        switch (_scanner.getToken()) {\n            case 3 /* SyntaxKind.OpenBracketToken */:\n                return parseArray();\n            case 1 /* SyntaxKind.OpenBraceToken */:\n                return parseObject();\n            case 10 /* SyntaxKind.StringLiteral */:\n                return parseString(true);\n            default:\n                return parseLiteral();\n        }\n    }\n    scanNext();\n    if (_scanner.getToken() === 17 /* SyntaxKind.EOF */) {\n        if (options.allowEmptyContent) {\n            return true;\n        }\n        handleError(4 /* ParseErrorCode.ValueExpected */, [], []);\n        return false;\n    }\n    if (!parseValue()) {\n        handleError(4 /* ParseErrorCode.ValueExpected */, [], []);\n        return false;\n    }\n    if (_scanner.getToken() !== 17 /* SyntaxKind.EOF */) {\n        handleError(9 /* ParseErrorCode.EndOfFileExpected */, [], []);\n    }\n    return true;\n}\n/**\n * Takes JSON with JavaScript-style comments and remove\n * them. Optionally replaces every none-newline character\n * of comments with a replaceCharacter\n */\nexport function stripComments(text, replaceCh) {\n    let _scanner = createScanner(text), parts = [], kind, offset = 0, pos;\n    do {\n        pos = _scanner.getPosition();\n        kind = _scanner.scan();\n        switch (kind) {\n            case 12 /* SyntaxKind.LineCommentTrivia */:\n            case 13 /* SyntaxKind.BlockCommentTrivia */:\n            case 17 /* SyntaxKind.EOF */:\n                if (offset !== pos) {\n                    parts.push(text.substring(offset, pos));\n                }\n                if (replaceCh !== undefined) {\n                    parts.push(_scanner.getTokenValue().replace(/[^\\r\\n]/g, replaceCh));\n                }\n                offset = _scanner.getPosition();\n                break;\n        }\n    } while (kind !== 17 /* SyntaxKind.EOF */);\n    return parts.join('');\n}\nexport function getNodeType(value) {\n    switch (typeof value) {\n        case 'boolean': return 'boolean';\n        case 'number': return 'number';\n        case 'string': return 'string';\n        case 'object': {\n            if (!value) {\n                return 'null';\n            }\n            else if (Array.isArray(value)) {\n                return 'array';\n            }\n            return 'object';\n        }\n        default: return 'null';\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { createScanner } from './scanner';\nexport function format(documentText, range, options) {\n    let initialIndentLevel;\n    let formatText;\n    let formatTextStart;\n    let rangeStart;\n    let rangeEnd;\n    if (range) {\n        rangeStart = range.offset;\n        rangeEnd = rangeStart + range.length;\n        formatTextStart = rangeStart;\n        while (formatTextStart > 0 && !isEOL(documentText, formatTextStart - 1)) {\n            formatTextStart--;\n        }\n        let endOffset = rangeEnd;\n        while (endOffset < documentText.length && !isEOL(documentText, endOffset)) {\n            endOffset++;\n        }\n        formatText = documentText.substring(formatTextStart, endOffset);\n        initialIndentLevel = computeIndentLevel(formatText, options);\n    }\n    else {\n        formatText = documentText;\n        initialIndentLevel = 0;\n        formatTextStart = 0;\n        rangeStart = 0;\n        rangeEnd = documentText.length;\n    }\n    const eol = getEOL(options, documentText);\n    let numberLineBreaks = 0;\n    let indentLevel = 0;\n    let indentValue;\n    if (options.insertSpaces) {\n        indentValue = repeat(' ', options.tabSize || 4);\n    }\n    else {\n        indentValue = '\\t';\n    }\n    let scanner = createScanner(formatText, false);\n    let hasError = false;\n    function newLinesAndIndent() {\n        if (numberLineBreaks > 1) {\n            return repeat(eol, numberLineBreaks) + repeat(indentValue, initialIndentLevel + indentLevel);\n        }\n        else {\n            return eol + repeat(indentValue, initialIndentLevel + indentLevel);\n        }\n    }\n    function scanNext() {\n        let token = scanner.scan();\n        numberLineBreaks = 0;\n        while (token === 15 /* SyntaxKind.Trivia */ || token === 14 /* SyntaxKind.LineBreakTrivia */) {\n            if (token === 14 /* SyntaxKind.LineBreakTrivia */ && options.keepLines) {\n                numberLineBreaks += 1;\n            }\n            else if (token === 14 /* SyntaxKind.LineBreakTrivia */) {\n                numberLineBreaks = 1;\n            }\n            token = scanner.scan();\n        }\n        hasError = token === 16 /* SyntaxKind.Unknown */ || scanner.getTokenError() !== 0 /* ScanError.None */;\n        return token;\n    }\n    const editOperations = [];\n    function addEdit(text, startOffset, endOffset) {\n        if (!hasError && (!range || (startOffset < rangeEnd && endOffset > rangeStart)) && documentText.substring(startOffset, endOffset) !== text) {\n            editOperations.push({ offset: startOffset, length: endOffset - startOffset, content: text });\n        }\n    }\n    let firstToken = scanNext();\n    if (options.keepLines && numberLineBreaks > 0) {\n        addEdit(repeat(eol, numberLineBreaks), 0, 0);\n    }\n    if (firstToken !== 17 /* SyntaxKind.EOF */) {\n        let firstTokenStart = scanner.getTokenOffset() + formatTextStart;\n        let initialIndent = repeat(indentValue, initialIndentLevel);\n        addEdit(initialIndent, formatTextStart, firstTokenStart);\n    }\n    while (firstToken !== 17 /* SyntaxKind.EOF */) {\n        let firstTokenEnd = scanner.getTokenOffset() + scanner.getTokenLength() + formatTextStart;\n        let secondToken = scanNext();\n        let replaceContent = '';\n        let needsLineBreak = false;\n        while (numberLineBreaks === 0 && (secondToken === 12 /* SyntaxKind.LineCommentTrivia */ || secondToken === 13 /* SyntaxKind.BlockCommentTrivia */)) {\n            let commentTokenStart = scanner.getTokenOffset() + formatTextStart;\n            addEdit(' ', firstTokenEnd, commentTokenStart);\n            firstTokenEnd = scanner.getTokenOffset() + scanner.getTokenLength() + formatTextStart;\n            needsLineBreak = secondToken === 12 /* SyntaxKind.LineCommentTrivia */;\n            replaceContent = needsLineBreak ? newLinesAndIndent() : '';\n            secondToken = scanNext();\n        }\n        if (secondToken === 2 /* SyntaxKind.CloseBraceToken */) {\n            if (firstToken !== 1 /* SyntaxKind.OpenBraceToken */) {\n                indentLevel--;\n            }\n            ;\n            if (options.keepLines && numberLineBreaks > 0 || !options.keepLines && firstToken !== 1 /* SyntaxKind.OpenBraceToken */) {\n                replaceContent = newLinesAndIndent();\n            }\n            else if (options.keepLines) {\n                replaceContent = ' ';\n            }\n        }\n        else if (secondToken === 4 /* SyntaxKind.CloseBracketToken */) {\n            if (firstToken !== 3 /* SyntaxKind.OpenBracketToken */) {\n                indentLevel--;\n            }\n            ;\n            if (options.keepLines && numberLineBreaks > 0 || !options.keepLines && firstToken !== 3 /* SyntaxKind.OpenBracketToken */) {\n                replaceContent = newLinesAndIndent();\n            }\n            else if (options.keepLines) {\n                replaceContent = ' ';\n            }\n        }\n        else {\n            switch (firstToken) {\n                case 3 /* SyntaxKind.OpenBracketToken */:\n                case 1 /* SyntaxKind.OpenBraceToken */:\n                    indentLevel++;\n                    if (options.keepLines && numberLineBreaks > 0 || !options.keepLines) {\n                        replaceContent = newLinesAndIndent();\n                    }\n                    else {\n                        replaceContent = ' ';\n                    }\n                    break;\n                case 5 /* SyntaxKind.CommaToken */:\n                    if (options.keepLines && numberLineBreaks > 0 || !options.keepLines) {\n                        replaceContent = newLinesAndIndent();\n                    }\n                    else {\n                        replaceContent = ' ';\n                    }\n                    break;\n                case 12 /* SyntaxKind.LineCommentTrivia */:\n                    replaceContent = newLinesAndIndent();\n                    break;\n                case 13 /* SyntaxKind.BlockCommentTrivia */:\n                    if (numberLineBreaks > 0) {\n                        replaceContent = newLinesAndIndent();\n                    }\n                    else if (!needsLineBreak) {\n                        replaceContent = ' ';\n                    }\n                    break;\n                case 6 /* SyntaxKind.ColonToken */:\n                    if (options.keepLines && numberLineBreaks > 0) {\n                        replaceContent = newLinesAndIndent();\n                    }\n                    else if (!needsLineBreak) {\n                        replaceContent = ' ';\n                    }\n                    break;\n                case 10 /* SyntaxKind.StringLiteral */:\n                    if (options.keepLines && numberLineBreaks > 0) {\n                        replaceContent = newLinesAndIndent();\n                    }\n                    else if (secondToken === 6 /* SyntaxKind.ColonToken */ && !needsLineBreak) {\n                        replaceContent = '';\n                    }\n                    break;\n                case 7 /* SyntaxKind.NullKeyword */:\n                case 8 /* SyntaxKind.TrueKeyword */:\n                case 9 /* SyntaxKind.FalseKeyword */:\n                case 11 /* SyntaxKind.NumericLiteral */:\n                case 2 /* SyntaxKind.CloseBraceToken */:\n                case 4 /* SyntaxKind.CloseBracketToken */:\n                    if (options.keepLines && numberLineBreaks > 0) {\n                        replaceContent = newLinesAndIndent();\n                    }\n                    else {\n                        if ((secondToken === 12 /* SyntaxKind.LineCommentTrivia */ || secondToken === 13 /* SyntaxKind.BlockCommentTrivia */) && !needsLineBreak) {\n                            replaceContent = ' ';\n                        }\n                        else if (secondToken !== 5 /* SyntaxKind.CommaToken */ && secondToken !== 17 /* SyntaxKind.EOF */) {\n                            hasError = true;\n                        }\n                    }\n                    break;\n                case 16 /* SyntaxKind.Unknown */:\n                    hasError = true;\n                    break;\n            }\n            if (numberLineBreaks > 0 && (secondToken === 12 /* SyntaxKind.LineCommentTrivia */ || secondToken === 13 /* SyntaxKind.BlockCommentTrivia */)) {\n                replaceContent = newLinesAndIndent();\n            }\n        }\n        if (secondToken === 17 /* SyntaxKind.EOF */) {\n            if (options.keepLines && numberLineBreaks > 0) {\n                replaceContent = newLinesAndIndent();\n            }\n            else {\n                replaceContent = options.insertFinalNewline ? eol : '';\n            }\n        }\n        const secondTokenStart = scanner.getTokenOffset() + formatTextStart;\n        addEdit(replaceContent, firstTokenEnd, secondTokenStart);\n        firstToken = secondToken;\n    }\n    return editOperations;\n}\nfunction repeat(s, count) {\n    let result = '';\n    for (let i = 0; i < count; i++) {\n        result += s;\n    }\n    return result;\n}\nfunction computeIndentLevel(content, options) {\n    let i = 0;\n    let nChars = 0;\n    const tabSize = options.tabSize || 4;\n    while (i < content.length) {\n        let ch = content.charAt(i);\n        if (ch === ' ') {\n            nChars++;\n        }\n        else if (ch === '\\t') {\n            nChars += tabSize;\n        }\n        else {\n            break;\n        }\n        i++;\n    }\n    return Math.floor(nChars / tabSize);\n}\nfunction getEOL(options, text) {\n    for (let i = 0; i < text.length; i++) {\n        const ch = text.charAt(i);\n        if (ch === '\\r') {\n            if (i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                return '\\r\\n';\n            }\n            return '\\r';\n        }\n        else if (ch === '\\n') {\n            return '\\n';\n        }\n    }\n    return (options && options.eol) || '\\n';\n}\nexport function isEOL(text, offset) {\n    return '\\r\\n'.indexOf(text.charAt(offset)) !== -1;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { format, isEOL } from './format';\nimport { parseTree, findNodeAtLocation } from './parser';\nexport function removeProperty(text, path, options) {\n    return setProperty(text, path, void 0, options);\n}\nexport function setProperty(text, originalPath, value, options) {\n    const path = originalPath.slice();\n    const errors = [];\n    const root = parseTree(text, errors);\n    let parent = void 0;\n    let lastSegment = void 0;\n    while (path.length > 0) {\n        lastSegment = path.pop();\n        parent = findNodeAtLocation(root, path);\n        if (parent === void 0 && value !== void 0) {\n            if (typeof lastSegment === 'string') {\n                value = { [lastSegment]: value };\n            }\n            else {\n                value = [value];\n            }\n        }\n        else {\n            break;\n        }\n    }\n    if (!parent) {\n        // empty document\n        if (value === void 0) { // delete\n            throw new Error('Can not delete in empty document');\n        }\n        return withFormatting(text, { offset: root ? root.offset : 0, length: root ? root.length : 0, content: JSON.stringify(value) }, options);\n    }\n    else if (parent.type === 'object' && typeof lastSegment === 'string' && Array.isArray(parent.children)) {\n        const existing = findNodeAtLocation(parent, [lastSegment]);\n        if (existing !== void 0) {\n            if (value === void 0) { // delete\n                if (!existing.parent) {\n                    throw new Error('Malformed AST');\n                }\n                const propertyIndex = parent.children.indexOf(existing.parent);\n                let removeBegin;\n                let removeEnd = existing.parent.offset + existing.parent.length;\n                if (propertyIndex > 0) {\n                    // remove the comma of the previous node\n                    let previous = parent.children[propertyIndex - 1];\n                    removeBegin = previous.offset + previous.length;\n                }\n                else {\n                    removeBegin = parent.offset + 1;\n                    if (parent.children.length > 1) {\n                        // remove the comma of the next node\n                        let next = parent.children[1];\n                        removeEnd = next.offset;\n                    }\n                }\n                return withFormatting(text, { offset: removeBegin, length: removeEnd - removeBegin, content: '' }, options);\n            }\n            else {\n                // set value of existing property\n                return withFormatting(text, { offset: existing.offset, length: existing.length, content: JSON.stringify(value) }, options);\n            }\n        }\n        else {\n            if (value === void 0) { // delete\n                return []; // property does not exist, nothing to do\n            }\n            const newProperty = `${JSON.stringify(lastSegment)}: ${JSON.stringify(value)}`;\n            const index = options.getInsertionIndex ? options.getInsertionIndex(parent.children.map(p => p.children[0].value)) : parent.children.length;\n            let edit;\n            if (index > 0) {\n                let previous = parent.children[index - 1];\n                edit = { offset: previous.offset + previous.length, length: 0, content: ',' + newProperty };\n            }\n            else if (parent.children.length === 0) {\n                edit = { offset: parent.offset + 1, length: 0, content: newProperty };\n            }\n            else {\n                edit = { offset: parent.offset + 1, length: 0, content: newProperty + ',' };\n            }\n            return withFormatting(text, edit, options);\n        }\n    }\n    else if (parent.type === 'array' && typeof lastSegment === 'number' && Array.isArray(parent.children)) {\n        const insertIndex = lastSegment;\n        if (insertIndex === -1) {\n            // Insert\n            const newProperty = `${JSON.stringify(value)}`;\n            let edit;\n            if (parent.children.length === 0) {\n                edit = { offset: parent.offset + 1, length: 0, content: newProperty };\n            }\n            else {\n                const previous = parent.children[parent.children.length - 1];\n                edit = { offset: previous.offset + previous.length, length: 0, content: ',' + newProperty };\n            }\n            return withFormatting(text, edit, options);\n        }\n        else if (value === void 0 && parent.children.length >= 0) {\n            // Removal\n            const removalIndex = lastSegment;\n            const toRemove = parent.children[removalIndex];\n            let edit;\n            if (parent.children.length === 1) {\n                // only item\n                edit = { offset: parent.offset + 1, length: parent.length - 2, content: '' };\n            }\n            else if (parent.children.length - 1 === removalIndex) {\n                // last item\n                let previous = parent.children[removalIndex - 1];\n                let offset = previous.offset + previous.length;\n                let parentEndOffset = parent.offset + parent.length;\n                edit = { offset, length: parentEndOffset - 2 - offset, content: '' };\n            }\n            else {\n                edit = { offset: toRemove.offset, length: parent.children[removalIndex + 1].offset - toRemove.offset, content: '' };\n            }\n            return withFormatting(text, edit, options);\n        }\n        else if (value !== void 0) {\n            let edit;\n            const newProperty = `${JSON.stringify(value)}`;\n            if (!options.isArrayInsertion && parent.children.length > lastSegment) {\n                const toModify = parent.children[lastSegment];\n                edit = { offset: toModify.offset, length: toModify.length, content: newProperty };\n            }\n            else if (parent.children.length === 0 || lastSegment === 0) {\n                edit = { offset: parent.offset + 1, length: 0, content: parent.children.length === 0 ? newProperty : newProperty + ',' };\n            }\n            else {\n                const index = lastSegment > parent.children.length ? parent.children.length : lastSegment;\n                const previous = parent.children[index - 1];\n                edit = { offset: previous.offset + previous.length, length: 0, content: ',' + newProperty };\n            }\n            return withFormatting(text, edit, options);\n        }\n        else {\n            throw new Error(`Can not ${value === void 0 ? 'remove' : (options.isArrayInsertion ? 'insert' : 'modify')} Array index ${insertIndex} as length is not sufficient`);\n        }\n    }\n    else {\n        throw new Error(`Can not add ${typeof lastSegment !== 'number' ? 'index' : 'property'} to parent of type ${parent.type}`);\n    }\n}\nfunction withFormatting(text, edit, options) {\n    if (!options.formattingOptions) {\n        return [edit];\n    }\n    // apply the edit\n    let newText = applyEdit(text, edit);\n    // format the new text\n    let begin = edit.offset;\n    let end = edit.offset + edit.content.length;\n    if (edit.length === 0 || edit.content.length === 0) { // insert or remove\n        while (begin > 0 && !isEOL(newText, begin - 1)) {\n            begin--;\n        }\n        while (end < newText.length && !isEOL(newText, end)) {\n            end++;\n        }\n    }\n    const edits = format(newText, { offset: begin, length: end - begin }, { ...options.formattingOptions, keepLines: false });\n    // apply the formatting edits and track the begin and end offsets of the changes\n    for (let i = edits.length - 1; i >= 0; i--) {\n        const edit = edits[i];\n        newText = applyEdit(newText, edit);\n        begin = Math.min(begin, edit.offset);\n        end = Math.max(end, edit.offset + edit.length);\n        end += edit.content.length - edit.length;\n    }\n    // create a single edit with all changes\n    const editLength = text.length - (newText.length - end) - begin;\n    return [{ offset: begin, length: editLength, content: newText.substring(begin, end) }];\n}\nexport function applyEdit(text, edit) {\n    return text.substring(0, edit.offset) + edit.content + text.substring(edit.offset + edit.length);\n}\nexport function isWS(text, offset) {\n    return '\\r\\n \\t'.indexOf(text.charAt(offset)) !== -1;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as formatter from './impl/format';\nimport * as edit from './impl/edit';\nimport * as scanner from './impl/scanner';\nimport * as parser from './impl/parser';\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nexport const createScanner = scanner.createScanner;\nexport var ScanError;\n(function (ScanError) {\n    ScanError[ScanError[\"None\"] = 0] = \"None\";\n    ScanError[ScanError[\"UnexpectedEndOfComment\"] = 1] = \"UnexpectedEndOfComment\";\n    ScanError[ScanError[\"UnexpectedEndOfString\"] = 2] = \"UnexpectedEndOfString\";\n    ScanError[ScanError[\"UnexpectedEndOfNumber\"] = 3] = \"UnexpectedEndOfNumber\";\n    ScanError[ScanError[\"InvalidUnicode\"] = 4] = \"InvalidUnicode\";\n    ScanError[ScanError[\"InvalidEscapeCharacter\"] = 5] = \"InvalidEscapeCharacter\";\n    ScanError[ScanError[\"InvalidCharacter\"] = 6] = \"InvalidCharacter\";\n})(ScanError || (ScanError = {}));\nexport var SyntaxKind;\n(function (SyntaxKind) {\n    SyntaxKind[SyntaxKind[\"OpenBraceToken\"] = 1] = \"OpenBraceToken\";\n    SyntaxKind[SyntaxKind[\"CloseBraceToken\"] = 2] = \"CloseBraceToken\";\n    SyntaxKind[SyntaxKind[\"OpenBracketToken\"] = 3] = \"OpenBracketToken\";\n    SyntaxKind[SyntaxKind[\"CloseBracketToken\"] = 4] = \"CloseBracketToken\";\n    SyntaxKind[SyntaxKind[\"CommaToken\"] = 5] = \"CommaToken\";\n    SyntaxKind[SyntaxKind[\"ColonToken\"] = 6] = \"ColonToken\";\n    SyntaxKind[SyntaxKind[\"NullKeyword\"] = 7] = \"NullKeyword\";\n    SyntaxKind[SyntaxKind[\"TrueKeyword\"] = 8] = \"TrueKeyword\";\n    SyntaxKind[SyntaxKind[\"FalseKeyword\"] = 9] = \"FalseKeyword\";\n    SyntaxKind[SyntaxKind[\"StringLiteral\"] = 10] = \"StringLiteral\";\n    SyntaxKind[SyntaxKind[\"NumericLiteral\"] = 11] = \"NumericLiteral\";\n    SyntaxKind[SyntaxKind[\"LineCommentTrivia\"] = 12] = \"LineCommentTrivia\";\n    SyntaxKind[SyntaxKind[\"BlockCommentTrivia\"] = 13] = \"BlockCommentTrivia\";\n    SyntaxKind[SyntaxKind[\"LineBreakTrivia\"] = 14] = \"LineBreakTrivia\";\n    SyntaxKind[SyntaxKind[\"Trivia\"] = 15] = \"Trivia\";\n    SyntaxKind[SyntaxKind[\"Unknown\"] = 16] = \"Unknown\";\n    SyntaxKind[SyntaxKind[\"EOF\"] = 17] = \"EOF\";\n})(SyntaxKind || (SyntaxKind = {}));\n/**\n * For a given offset, evaluate the location in the JSON document. Each segment in the location path is either a property name or an array index.\n */\nexport const getLocation = parser.getLocation;\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore, always check the errors list to find out if the input was valid.\n */\nexport const parse = parser.parse;\n/**\n * Parses the given text and returns a tree representation the JSON content. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n */\nexport const parseTree = parser.parseTree;\n/**\n * Finds the node at the given path in a JSON DOM.\n */\nexport const findNodeAtLocation = parser.findNodeAtLocation;\n/**\n * Finds the innermost node at the given offset. If includeRightBound is set, also finds nodes that end at the given offset.\n */\nexport const findNodeAtOffset = parser.findNodeAtOffset;\n/**\n * Gets the JSON path of the given JSON DOM node\n */\nexport const getNodePath = parser.getNodePath;\n/**\n * Evaluates the JavaScript object of the given JSON DOM node\n */\nexport const getNodeValue = parser.getNodeValue;\n/**\n * Parses the given text and invokes the visitor functions for each object, array and literal reached.\n */\nexport const visit = parser.visit;\n/**\n * Takes JSON with JavaScript-style comments and remove\n * them. Optionally replaces every none-newline character\n * of comments with a replaceCharacter\n */\nexport const stripComments = parser.stripComments;\nexport var ParseErrorCode;\n(function (ParseErrorCode) {\n    ParseErrorCode[ParseErrorCode[\"InvalidSymbol\"] = 1] = \"InvalidSymbol\";\n    ParseErrorCode[ParseErrorCode[\"InvalidNumberFormat\"] = 2] = \"InvalidNumberFormat\";\n    ParseErrorCode[ParseErrorCode[\"PropertyNameExpected\"] = 3] = \"PropertyNameExpected\";\n    ParseErrorCode[ParseErrorCode[\"ValueExpected\"] = 4] = \"ValueExpected\";\n    ParseErrorCode[ParseErrorCode[\"ColonExpected\"] = 5] = \"ColonExpected\";\n    ParseErrorCode[ParseErrorCode[\"CommaExpected\"] = 6] = \"CommaExpected\";\n    ParseErrorCode[ParseErrorCode[\"CloseBraceExpected\"] = 7] = \"CloseBraceExpected\";\n    ParseErrorCode[ParseErrorCode[\"CloseBracketExpected\"] = 8] = \"CloseBracketExpected\";\n    ParseErrorCode[ParseErrorCode[\"EndOfFileExpected\"] = 9] = \"EndOfFileExpected\";\n    ParseErrorCode[ParseErrorCode[\"InvalidCommentToken\"] = 10] = \"InvalidCommentToken\";\n    ParseErrorCode[ParseErrorCode[\"UnexpectedEndOfComment\"] = 11] = \"UnexpectedEndOfComment\";\n    ParseErrorCode[ParseErrorCode[\"UnexpectedEndOfString\"] = 12] = \"UnexpectedEndOfString\";\n    ParseErrorCode[ParseErrorCode[\"UnexpectedEndOfNumber\"] = 13] = \"UnexpectedEndOfNumber\";\n    ParseErrorCode[ParseErrorCode[\"InvalidUnicode\"] = 14] = \"InvalidUnicode\";\n    ParseErrorCode[ParseErrorCode[\"InvalidEscapeCharacter\"] = 15] = \"InvalidEscapeCharacter\";\n    ParseErrorCode[ParseErrorCode[\"InvalidCharacter\"] = 16] = \"InvalidCharacter\";\n})(ParseErrorCode || (ParseErrorCode = {}));\nexport function printParseErrorCode(code) {\n    switch (code) {\n        case 1 /* ParseErrorCode.InvalidSymbol */: return 'InvalidSymbol';\n        case 2 /* ParseErrorCode.InvalidNumberFormat */: return 'InvalidNumberFormat';\n        case 3 /* ParseErrorCode.PropertyNameExpected */: return 'PropertyNameExpected';\n        case 4 /* ParseErrorCode.ValueExpected */: return 'ValueExpected';\n        case 5 /* ParseErrorCode.ColonExpected */: return 'ColonExpected';\n        case 6 /* ParseErrorCode.CommaExpected */: return 'CommaExpected';\n        case 7 /* ParseErrorCode.CloseBraceExpected */: return 'CloseBraceExpected';\n        case 8 /* ParseErrorCode.CloseBracketExpected */: return 'CloseBracketExpected';\n        case 9 /* ParseErrorCode.EndOfFileExpected */: return 'EndOfFileExpected';\n        case 10 /* ParseErrorCode.InvalidCommentToken */: return 'InvalidCommentToken';\n        case 11 /* ParseErrorCode.UnexpectedEndOfComment */: return 'UnexpectedEndOfComment';\n        case 12 /* ParseErrorCode.UnexpectedEndOfString */: return 'UnexpectedEndOfString';\n        case 13 /* ParseErrorCode.UnexpectedEndOfNumber */: return 'UnexpectedEndOfNumber';\n        case 14 /* ParseErrorCode.InvalidUnicode */: return 'InvalidUnicode';\n        case 15 /* ParseErrorCode.InvalidEscapeCharacter */: return 'InvalidEscapeCharacter';\n        case 16 /* ParseErrorCode.InvalidCharacter */: return 'InvalidCharacter';\n    }\n    return '<unknown ParseErrorCode>';\n}\n/**\n * Computes the edit operations needed to format a JSON document.\n *\n * @param documentText The input text\n * @param range The range to format or `undefined` to format the full content\n * @param options The formatting options\n * @returns The edit operations describing the formatting changes to the original document following the format described in {@linkcode EditResult}.\n * To apply the edit operations to the input, use {@linkcode applyEdits}.\n */\nexport function format(documentText, range, options) {\n    return formatter.format(documentText, range, options);\n}\n/**\n * Computes the edit operations needed to modify a value in the JSON document.\n *\n * @param documentText The input text\n * @param path The path of the value to change. The path represents either to the document root, a property or an array item.\n * If the path points to an non-existing property or item, it will be created.\n * @param value The new value for the specified property or item. If the value is undefined,\n * the property or item will be removed.\n * @param options Options\n * @returns The edit operations describing the changes to the original document, following the format described in {@linkcode EditResult}.\n * To apply the edit operations to the input, use {@linkcode applyEdits}.\n */\nexport function modify(text, path, value, options) {\n    return edit.setProperty(text, path, value, options);\n}\n/**\n * Applies edits to an input string.\n * @param text The input text\n * @param edits Edit operations following the format described in {@linkcode EditResult}.\n * @returns The text with the applied edits.\n * @throws An error if the edit operations are not well-formed as described in {@linkcode EditResult}.\n */\nexport function applyEdits(text, edits) {\n    let sortedEdits = edits.slice(0).sort((a, b) => {\n        const diff = a.offset - b.offset;\n        if (diff === 0) {\n            return a.length - b.length;\n        }\n        return diff;\n    });\n    let lastModifiedOffset = text.length;\n    for (let i = sortedEdits.length - 1; i >= 0; i--) {\n        let e = sortedEdits[i];\n        if (e.offset + e.length <= lastModifiedOffset) {\n            text = edit.applyEdit(text, e);\n        }\n        else {\n            throw new Error('Overlapping edit');\n        }\n        lastModifiedOffset = e.offset;\n    }\n    return text;\n}\n","let _fs\ntry {\n  _fs = require('graceful-fs')\n} catch (_) {\n  _fs = require('fs')\n}\nconst universalify = require('universalify')\nconst { stringify, stripBom } = require('./utils')\n\nasync function _readFile (file, options = {}) {\n  if (typeof options === 'string') {\n    options = { encoding: options }\n  }\n\n  const fs = options.fs || _fs\n\n  const shouldThrow = 'throws' in options ? options.throws : true\n\n  let data = await universalify.fromCallback(fs.readFile)(file, options)\n\n  data = stripBom(data)\n\n  let obj\n  try {\n    obj = JSON.parse(data, options ? options.reviver : null)\n  } catch (err) {\n    if (shouldThrow) {\n      err.message = `${file}: ${err.message}`\n      throw err\n    } else {\n      return null\n    }\n  }\n\n  return obj\n}\n\nconst readFile = universalify.fromPromise(_readFile)\n\nfunction readFileSync (file, options = {}) {\n  if (typeof options === 'string') {\n    options = { encoding: options }\n  }\n\n  const fs = options.fs || _fs\n\n  const shouldThrow = 'throws' in options ? options.throws : true\n\n  try {\n    let content = fs.readFileSync(file, options)\n    content = stripBom(content)\n    return JSON.parse(content, options.reviver)\n  } catch (err) {\n    if (shouldThrow) {\n      err.message = `${file}: ${err.message}`\n      throw err\n    } else {\n      return null\n    }\n  }\n}\n\nasync function _writeFile (file, obj, options = {}) {\n  const fs = options.fs || _fs\n\n  const str = stringify(obj, options)\n\n  await universalify.fromCallback(fs.writeFile)(file, str, options)\n}\n\nconst writeFile = universalify.fromPromise(_writeFile)\n\nfunction writeFileSync (file, obj, options = {}) {\n  const fs = options.fs || _fs\n\n  const str = stringify(obj, options)\n  // not sure if fs.writeFileSync returns anything, but just in case\n  return fs.writeFileSync(file, str, options)\n}\n\nconst jsonfile = {\n  readFile,\n  readFileSync,\n  writeFile,\n  writeFileSync\n}\n\nmodule.exports = jsonfile\n","function stringify (obj, { EOL = '\\n', finalEOL = true, replacer = null, spaces } = {}) {\n  const EOF = finalEOL ? EOL : ''\n  const str = JSON.stringify(obj, replacer, spaces)\n\n  return str.replace(/\\n/g, EOL) + EOF\n}\n\nfunction stripBom (content) {\n  // we do this because JSON.parse would convert it to a utf8 string if encoding wasn't specified\n  if (Buffer.isBuffer(content)) content = content.toString('utf8')\n  return content.replace(/^\\uFEFF/, '')\n}\n\nmodule.exports = { stringify, stripBom }\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n 